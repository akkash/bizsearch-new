var o8=Object.defineProperty;var l8=(n,t,s)=>t in n?o8(n,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[t]=s;var Uc=(n,t,s)=>l8(n,typeof t!="symbol"?t+"":t,s);function W1(n,t){for(var s=0;s<t.length;s++){const r=t[s];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(n,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function s(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=s(i);fetch(i.href,a)}})();var wte=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Iy(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function c8(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var t=n.default;if(typeof t=="function"){var s=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(s,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),s}var qb={exports:{}},ng={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n5;function d8(){if(n5)return ng;n5=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function s(r,i,a){var l=null;if(a!==void 0&&(l=""+a),i.key!==void 0&&(l=""+i.key),"key"in i){a={};for(var c in i)c!=="key"&&(a[c]=i[c])}else a=i;return i=a.ref,{$$typeof:n,type:r,key:l,ref:i!==void 0?i:null,props:a}}return ng.Fragment=t,ng.jsx=s,ng.jsxs=s,ng}var r5;function u8(){return r5||(r5=1,qb.exports=d8()),qb.exports}var e=u8(),Ub={exports:{}},Vs={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i5;function h8(){if(i5)return Vs;i5=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),y=Symbol.iterator;function x(re){return re===null||typeof re!="object"?null:(re=y&&re[y]||re["@@iterator"],typeof re=="function"?re:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,A={};function C(re,U,J){this.props=re,this.context=U,this.refs=A,this.updater=J||_}C.prototype.isReactComponent={},C.prototype.setState=function(re,U){if(typeof re!="object"&&typeof re!="function"&&re!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,re,U,"setState")},C.prototype.forceUpdate=function(re){this.updater.enqueueForceUpdate(this,re,"forceUpdate")};function P(){}P.prototype=C.prototype;function S(re,U,J){this.props=re,this.context=U,this.refs=A,this.updater=J||_}var O=S.prototype=new P;O.constructor=S,j(O,C.prototype),O.isPureReactComponent=!0;var z=Array.isArray;function V(){}var B={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function K(re,U,J){var se=J.ref;return{$$typeof:n,type:re,key:U,ref:se!==void 0?se:null,props:J}}function H(re,U){return K(re.type,U,re.props)}function $(re){return typeof re=="object"&&re!==null&&re.$$typeof===n}function W(re){var U={"=":"=0",":":"=2"};return"$"+re.replace(/[=:]/g,function(J){return U[J]})}var Q=/\/+/g;function Z(re,U){return typeof re=="object"&&re!==null&&re.key!=null?W(""+re.key):U.toString(36)}function ie(re){switch(re.status){case"fulfilled":return re.value;case"rejected":throw re.reason;default:switch(typeof re.status=="string"?re.then(V,V):(re.status="pending",re.then(function(U){re.status==="pending"&&(re.status="fulfilled",re.value=U)},function(U){re.status==="pending"&&(re.status="rejected",re.reason=U)})),re.status){case"fulfilled":return re.value;case"rejected":throw re.reason}}throw re}function q(re,U,J,se,ue){var be=typeof re;(be==="undefined"||be==="boolean")&&(re=null);var we=!1;if(re===null)we=!0;else switch(be){case"bigint":case"string":case"number":we=!0;break;case"object":switch(re.$$typeof){case n:case t:we=!0;break;case g:return we=re._init,q(we(re._payload),U,J,se,ue)}}if(we)return ue=ue(re),we=se===""?"."+Z(re,0):se,z(ue)?(J="",we!=null&&(J=we.replace(Q,"$&/")+"/"),q(ue,U,J,"",function(Xe){return Xe})):ue!=null&&($(ue)&&(ue=H(ue,J+(ue.key==null||re&&re.key===ue.key?"":(""+ue.key).replace(Q,"$&/")+"/")+we)),U.push(ue)),1;we=0;var Ce=se===""?".":se+":";if(z(re))for(var Re=0;Re<re.length;Re++)se=re[Re],be=Ce+Z(se,Re),we+=q(se,U,J,be,ue);else if(Re=x(re),typeof Re=="function")for(re=Re.call(re),Re=0;!(se=re.next()).done;)se=se.value,be=Ce+Z(se,Re++),we+=q(se,U,J,be,ue);else if(be==="object"){if(typeof re.then=="function")return q(ie(re),U,J,se,ue);throw U=String(re),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(re).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return we}function ce(re,U,J){if(re==null)return re;var se=[],ue=0;return q(re,se,"","",function(be){return U.call(J,be,ue++)}),se}function te(re){if(re._status===-1){var U=re._result;U=U(),U.then(function(J){(re._status===0||re._status===-1)&&(re._status=1,re._result=J)},function(J){(re._status===0||re._status===-1)&&(re._status=2,re._result=J)}),re._status===-1&&(re._status=0,re._result=U)}if(re._status===1)return re._result.default;throw re._result}var oe=typeof reportError=="function"?reportError:function(re){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof re=="object"&&re!==null&&typeof re.message=="string"?String(re.message):String(re),error:re});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",re);return}console.error(re)},ne={map:ce,forEach:function(re,U,J){ce(re,function(){U.apply(this,arguments)},J)},count:function(re){var U=0;return ce(re,function(){U++}),U},toArray:function(re){return ce(re,function(U){return U})||[]},only:function(re){if(!$(re))throw Error("React.Children.only expected to receive a single React element child.");return re}};return Vs.Activity=p,Vs.Children=ne,Vs.Component=C,Vs.Fragment=s,Vs.Profiler=i,Vs.PureComponent=S,Vs.StrictMode=r,Vs.Suspense=u,Vs.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,Vs.__COMPILER_RUNTIME={__proto__:null,c:function(re){return B.H.useMemoCache(re)}},Vs.cache=function(re){return function(){return re.apply(null,arguments)}},Vs.cacheSignal=function(){return null},Vs.cloneElement=function(re,U,J){if(re==null)throw Error("The argument must be a React element, but you passed "+re+".");var se=j({},re.props),ue=re.key;if(U!=null)for(be in U.key!==void 0&&(ue=""+U.key),U)!D.call(U,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&U.ref===void 0||(se[be]=U[be]);var be=arguments.length-2;if(be===1)se.children=J;else if(1<be){for(var we=Array(be),Ce=0;Ce<be;Ce++)we[Ce]=arguments[Ce+2];se.children=we}return K(re.type,ue,se)},Vs.createContext=function(re){return re={$$typeof:l,_currentValue:re,_currentValue2:re,_threadCount:0,Provider:null,Consumer:null},re.Provider=re,re.Consumer={$$typeof:a,_context:re},re},Vs.createElement=function(re,U,J){var se,ue={},be=null;if(U!=null)for(se in U.key!==void 0&&(be=""+U.key),U)D.call(U,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ue[se]=U[se]);var we=arguments.length-2;if(we===1)ue.children=J;else if(1<we){for(var Ce=Array(we),Re=0;Re<we;Re++)Ce[Re]=arguments[Re+2];ue.children=Ce}if(re&&re.defaultProps)for(se in we=re.defaultProps,we)ue[se]===void 0&&(ue[se]=we[se]);return K(re,be,ue)},Vs.createRef=function(){return{current:null}},Vs.forwardRef=function(re){return{$$typeof:c,render:re}},Vs.isValidElement=$,Vs.lazy=function(re){return{$$typeof:g,_payload:{_status:-1,_result:re},_init:te}},Vs.memo=function(re,U){return{$$typeof:m,type:re,compare:U===void 0?null:U}},Vs.startTransition=function(re){var U=B.T,J={};B.T=J;try{var se=re(),ue=B.S;ue!==null&&ue(J,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(V,oe)}catch(be){oe(be)}finally{U!==null&&J.types!==null&&(U.types=J.types),B.T=U}},Vs.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},Vs.use=function(re){return B.H.use(re)},Vs.useActionState=function(re,U,J){return B.H.useActionState(re,U,J)},Vs.useCallback=function(re,U){return B.H.useCallback(re,U)},Vs.useContext=function(re){return B.H.useContext(re)},Vs.useDebugValue=function(){},Vs.useDeferredValue=function(re,U){return B.H.useDeferredValue(re,U)},Vs.useEffect=function(re,U){return B.H.useEffect(re,U)},Vs.useEffectEvent=function(re){return B.H.useEffectEvent(re)},Vs.useId=function(){return B.H.useId()},Vs.useImperativeHandle=function(re,U,J){return B.H.useImperativeHandle(re,U,J)},Vs.useInsertionEffect=function(re,U){return B.H.useInsertionEffect(re,U)},Vs.useLayoutEffect=function(re,U){return B.H.useLayoutEffect(re,U)},Vs.useMemo=function(re,U){return B.H.useMemo(re,U)},Vs.useOptimistic=function(re,U){return B.H.useOptimistic(re,U)},Vs.useReducer=function(re,U,J){return B.H.useReducer(re,U,J)},Vs.useRef=function(re){return B.H.useRef(re)},Vs.useState=function(re){return B.H.useState(re)},Vs.useSyncExternalStore=function(re,U,J){return B.H.useSyncExternalStore(re,U,J)},Vs.useTransition=function(){return B.H.useTransition()},Vs.version="19.2.0",Vs}var a5;function Fy(){return a5||(a5=1,Ub.exports=h8()),Ub.exports}var w=Fy();const ot=Iy(w),Y1=W1({__proto__:null,default:ot},[w]);var $b={exports:{}},yo={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o5;function m8(){if(o5)return yo;o5=1;var n=Fy();function t(u){var m="https://react.dev/errors/"+u;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+u+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(t(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(u,m,g){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:u,containerInfo:m,implementation:g}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(u,m){if(u==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return yo.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,yo.createPortal=function(u,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return a(u,m,null,g)},yo.flushSync=function(u){var m=l.T,g=r.p;try{if(l.T=null,r.p=2,u)return u()}finally{l.T=m,r.p=g,r.d.f()}},yo.preconnect=function(u,m){typeof u=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(u,m))},yo.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},yo.preinit=function(u,m){if(typeof u=="string"&&m&&typeof m.as=="string"){var g=m.as,p=c(g,m.crossOrigin),y=typeof m.integrity=="string"?m.integrity:void 0,x=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?r.d.S(u,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:p,integrity:y,fetchPriority:x}):g==="script"&&r.d.X(u,{crossOrigin:p,integrity:y,fetchPriority:x,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},yo.preinitModule=function(u,m){if(typeof u=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=c(m.as,m.crossOrigin);r.d.M(u,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(u)},yo.preload=function(u,m){if(typeof u=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,p=c(g,m.crossOrigin);r.d.L(u,g,{crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},yo.preloadModule=function(u,m){if(typeof u=="string")if(m){var g=c(m.as,m.crossOrigin);r.d.m(u,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(u)},yo.requestFormReset=function(u){r.d.r(u)},yo.unstable_batchedUpdates=function(u,m){return u(m)},yo.useFormState=function(u,m,g){return l.H.useFormState(u,m,g)},yo.useFormStatus=function(){return l.H.useHostTransitionStatus()},yo.version="19.2.0",yo}var l5;function MC(){if(l5)return $b.exports;l5=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),$b.exports=m8(),$b.exports}var hp=MC();const Z1=Iy(hp),f8=W1({__proto__:null,default:Z1},[hp]);var Vb={exports:{}},rg={},Hb={exports:{}},Gb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c5;function p8(){return c5||(c5=1,(function(n){function t(q,ce){var te=q.length;q.push(ce);e:for(;0<te;){var oe=te-1>>>1,ne=q[oe];if(0<i(ne,ce))q[oe]=ce,q[te]=ne,te=oe;else break e}}function s(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var ce=q[0],te=q.pop();if(te!==ce){q[0]=te;e:for(var oe=0,ne=q.length,re=ne>>>1;oe<re;){var U=2*(oe+1)-1,J=q[U],se=U+1,ue=q[se];if(0>i(J,te))se<ne&&0>i(ue,J)?(q[oe]=ue,q[se]=te,oe=se):(q[oe]=J,q[U]=te,oe=U);else if(se<ne&&0>i(ue,te))q[oe]=ue,q[se]=te,oe=se;else break e}}return ce}function i(q,ce){var te=q.sortIndex-ce.sortIndex;return te!==0?te:q.id-ce.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var u=[],m=[],g=1,p=null,y=3,x=!1,_=!1,j=!1,A=!1,C=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function O(q){for(var ce=s(m);ce!==null;){if(ce.callback===null)r(m);else if(ce.startTime<=q)r(m),ce.sortIndex=ce.expirationTime,t(u,ce);else break;ce=s(m)}}function z(q){if(j=!1,O(q),!_)if(s(u)!==null)_=!0,V||(V=!0,W());else{var ce=s(m);ce!==null&&ie(z,ce.startTime-q)}}var V=!1,B=-1,D=5,K=-1;function H(){return A?!0:!(n.unstable_now()-K<D)}function $(){if(A=!1,V){var q=n.unstable_now();K=q;var ce=!0;try{e:{_=!1,j&&(j=!1,P(B),B=-1),x=!0;var te=y;try{t:{for(O(q),p=s(u);p!==null&&!(p.expirationTime>q&&H());){var oe=p.callback;if(typeof oe=="function"){p.callback=null,y=p.priorityLevel;var ne=oe(p.expirationTime<=q);if(q=n.unstable_now(),typeof ne=="function"){p.callback=ne,O(q),ce=!0;break t}p===s(u)&&r(u),O(q)}else r(u);p=s(u)}if(p!==null)ce=!0;else{var re=s(m);re!==null&&ie(z,re.startTime-q),ce=!1}}break e}finally{p=null,y=te,x=!1}ce=void 0}}finally{ce?W():V=!1}}}var W;if(typeof S=="function")W=function(){S($)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,Z=Q.port2;Q.port1.onmessage=$,W=function(){Z.postMessage(null)}}else W=function(){C($,0)};function ie(q,ce){B=C(function(){q(n.unstable_now())},ce)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(q){q.callback=null},n.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<q?Math.floor(1e3/q):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_next=function(q){switch(y){case 1:case 2:case 3:var ce=3;break;default:ce=y}var te=y;y=ce;try{return q()}finally{y=te}},n.unstable_requestPaint=function(){A=!0},n.unstable_runWithPriority=function(q,ce){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var te=y;y=q;try{return ce()}finally{y=te}},n.unstable_scheduleCallback=function(q,ce,te){var oe=n.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?oe+te:oe):te=oe,q){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=te+ne,q={id:g++,callback:ce,priorityLevel:q,startTime:te,expirationTime:ne,sortIndex:-1},te>oe?(q.sortIndex=te,t(m,q),s(u)===null&&q===s(m)&&(j?(P(B),B=-1):j=!0,ie(z,te-oe))):(q.sortIndex=ne,t(u,q),_||x||(_=!0,V||(V=!0,W()))),q},n.unstable_shouldYield=H,n.unstable_wrapCallback=function(q){var ce=y;return function(){var te=y;y=ce;try{return q.apply(this,arguments)}finally{y=te}}}})(Gb)),Gb}var d5;function g8(){return d5||(d5=1,Hb.exports=p8()),Hb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u5;function x8(){if(u5)return rg;u5=1;var n=g8(),t=Fy(),s=MC();function r(o){var d="https://react.dev/errors/"+o;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)d+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+o+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var d=o,f=o;if(o.alternate)for(;d.return;)d=d.return;else{o=d;do d=o,(d.flags&4098)!==0&&(f=d.return),o=d.return;while(o)}return d.tag===3?f:null}function l(o){if(o.tag===13){var d=o.memoizedState;if(d===null&&(o=o.alternate,o!==null&&(d=o.memoizedState)),d!==null)return d.dehydrated}return null}function c(o){if(o.tag===31){var d=o.memoizedState;if(d===null&&(o=o.alternate,o!==null&&(d=o.memoizedState)),d!==null)return d.dehydrated}return null}function u(o){if(a(o)!==o)throw Error(r(188))}function m(o){var d=o.alternate;if(!d){if(d=a(o),d===null)throw Error(r(188));return d!==o?null:o}for(var f=o,b=d;;){var E=f.return;if(E===null)break;var R=E.alternate;if(R===null){if(b=E.return,b!==null){f=b;continue}break}if(E.child===R.child){for(R=E.child;R;){if(R===f)return u(E),o;if(R===b)return u(E),d;R=R.sibling}throw Error(r(188))}if(f.return!==b.return)f=E,b=R;else{for(var X=!1,xe=E.child;xe;){if(xe===f){X=!0,f=E,b=R;break}if(xe===b){X=!0,b=E,f=R;break}xe=xe.sibling}if(!X){for(xe=R.child;xe;){if(xe===f){X=!0,f=R,b=E;break}if(xe===b){X=!0,b=R,f=E;break}xe=xe.sibling}if(!X)throw Error(r(189))}}if(f.alternate!==b)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?o:d}function g(o){var d=o.tag;if(d===5||d===26||d===27||d===6)return o;for(o=o.child;o!==null;){if(d=g(o),d!==null)return d;o=o.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),S=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),K=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function W(o){return o===null||typeof o!="object"?null:(o=$&&o[$]||o["@@iterator"],typeof o=="function"?o:null)}var Q=Symbol.for("react.client.reference");function Z(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===Q?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case j:return"Fragment";case C:return"Profiler";case A:return"StrictMode";case z:return"Suspense";case V:return"SuspenseList";case K:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case _:return"Portal";case S:return o.displayName||"Context";case P:return(o._context.displayName||"Context")+".Consumer";case O:var d=o.render;return o=o.displayName,o||(o=d.displayName||d.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case B:return d=o.displayName||null,d!==null?d:Z(o.type)||"Memo";case D:d=o._payload,o=o._init;try{return Z(o(d))}catch{}}return null}var ie=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},oe=[],ne=-1;function re(o){return{current:o}}function U(o){0>ne||(o.current=oe[ne],oe[ne]=null,ne--)}function J(o,d){ne++,oe[ne]=o.current,o.current=d}var se=re(null),ue=re(null),be=re(null),we=re(null);function Ce(o,d){switch(J(be,d),J(ue,o),J(se,null),d.nodeType){case 9:case 11:o=(o=d.documentElement)&&(o=o.namespaceURI)?C_(o):0;break;default:if(o=d.tagName,d=d.namespaceURI)d=C_(d),o=A_(d,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}U(se),J(se,o)}function Re(){U(se),U(ue),U(be)}function Xe(o){o.memoizedState!==null&&J(we,o);var d=se.current,f=A_(d,o.type);d!==f&&(J(ue,o),J(se,f))}function tt(o){ue.current===o&&(U(se),U(ue)),we.current===o&&(U(we),Qp._currentValue=te)}var lt,jt;function Et(o){if(lt===void 0)try{throw Error()}catch(f){var d=f.stack.trim().match(/\n( *(at )?)/);lt=d&&d[1]||"",jt=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+lt+o+jt}var Je=!1;function _e(o,d){if(!o||Je)return"";Je=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(d){var bt=function(){throw Error()};if(Object.defineProperty(bt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(bt,[])}catch(at){var st=at}Reflect.construct(o,[],bt)}else{try{bt.call()}catch(at){st=at}o.call(bt.prototype)}}else{try{throw Error()}catch(at){st=at}(bt=o())&&typeof bt.catch=="function"&&bt.catch(function(){})}}catch(at){if(at&&st&&typeof at.stack=="string")return[at.stack,st.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var R=b.DetermineComponentFrameRoot(),X=R[0],xe=R[1];if(X&&xe){var Te=X.split(`
`),Ke=xe.split(`
`);for(E=b=0;b<Te.length&&!Te[b].includes("DetermineComponentFrameRoot");)b++;for(;E<Ke.length&&!Ke[E].includes("DetermineComponentFrameRoot");)E++;if(b===Te.length||E===Ke.length)for(b=Te.length-1,E=Ke.length-1;1<=b&&0<=E&&Te[b]!==Ke[E];)E--;for(;1<=b&&0<=E;b--,E--)if(Te[b]!==Ke[E]){if(b!==1||E!==1)do if(b--,E--,0>E||Te[b]!==Ke[E]){var mt=`
`+Te[b].replace(" at new "," at ");return o.displayName&&mt.includes("<anonymous>")&&(mt=mt.replace("<anonymous>",o.displayName)),mt}while(1<=b&&0<=E);break}}}finally{Je=!1,Error.prepareStackTrace=f}return(f=o?o.displayName||o.name:"")?Et(f):""}function $t(o,d){switch(o.tag){case 26:case 27:case 5:return Et(o.type);case 16:return Et("Lazy");case 13:return o.child!==d&&d!==null?Et("Suspense Fallback"):Et("Suspense");case 19:return Et("SuspenseList");case 0:case 15:return _e(o.type,!1);case 11:return _e(o.type.render,!1);case 1:return _e(o.type,!0);case 31:return Et("Activity");default:return""}}function Dt(o){try{var d="",f=null;do d+=$t(o,f),f=o,o=o.return;while(o);return d}catch(b){return`
Error generating stack: `+b.message+`
`+b.stack}}var ht=Object.prototype.hasOwnProperty,je=n.unstable_scheduleCallback,ke=n.unstable_cancelCallback,Pe=n.unstable_shouldYield,it=n.unstable_requestPaint,rt=n.unstable_now,ut=n.unstable_getCurrentPriorityLevel,Nt=n.unstable_ImmediatePriority,Vt=n.unstable_UserBlockingPriority,Qt=n.unstable_NormalPriority,Gt=n.unstable_LowPriority,fs=n.unstable_IdlePriority,At=n.log,In=n.unstable_setDisableYieldValue,Ts=null,rn=null;function zs(o){if(typeof At=="function"&&In(o),rn&&typeof rn.setStrictMode=="function")try{rn.setStrictMode(Ts,o)}catch{}}var Cs=Math.clz32?Math.clz32:Gi,Dr=Math.log,Us=Math.LN2;function Gi(o){return o>>>=0,o===0?32:31-(Dr(o)/Us|0)|0}var Fn=256,bi=262144,Wi=4194304;function Sn(o){var d=o&42;if(d!==0)return d;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Ct(o,d,f){var b=o.pendingLanes;if(b===0)return 0;var E=0,R=o.suspendedLanes,X=o.pingedLanes;o=o.warmLanes;var xe=b&134217727;return xe!==0?(b=xe&~R,b!==0?E=Sn(b):(X&=xe,X!==0?E=Sn(X):f||(f=xe&~o,f!==0&&(E=Sn(f))))):(xe=b&~R,xe!==0?E=Sn(xe):X!==0?E=Sn(X):f||(f=b&~o,f!==0&&(E=Sn(f)))),E===0?0:d!==0&&d!==E&&(d&R)===0&&(R=E&-E,f=d&-d,R>=f||R===32&&(f&4194048)!==0)?d:E}function gs(o,d){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&d)===0}function ur(o,d){switch(o){case 1:case 2:case 4:case 8:case 64:return d+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xn(){var o=Wi;return Wi<<=1,(Wi&62914560)===0&&(Wi=4194304),o}function ji(o){for(var d=[],f=0;31>f;f++)d.push(o);return d}function an(o,d){o.pendingLanes|=d,d!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function es(o,d,f,b,E,R){var X=o.pendingLanes;o.pendingLanes=f,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=f,o.entangledLanes&=f,o.errorRecoveryDisabledLanes&=f,o.shellSuspendCounter=0;var xe=o.entanglements,Te=o.expirationTimes,Ke=o.hiddenUpdates;for(f=X&~f;0<f;){var mt=31-Cs(f),bt=1<<mt;xe[mt]=0,Te[mt]=-1;var st=Ke[mt];if(st!==null)for(Ke[mt]=null,mt=0;mt<st.length;mt++){var at=st[mt];at!==null&&(at.lane&=-536870913)}f&=~bt}b!==0&&wi(o,b,0),R!==0&&E===0&&o.tag!==0&&(o.suspendedLanes|=R&~(X&~d))}function wi(o,d,f){o.pendingLanes|=d,o.suspendedLanes&=~d;var b=31-Cs(d);o.entangledLanes|=d,o.entanglements[b]=o.entanglements[b]|1073741824|f&261930}function gr(o,d){var f=o.entangledLanes|=d;for(o=o.entanglements;f;){var b=31-Cs(f),E=1<<b;E&d|o[b]&d&&(o[b]|=d),f&=~E}}function Gn(o,d){var f=d&-d;return f=(f&42)!==0?1:un(f),(f&(o.suspendedLanes|d))!==0?0:f}function un(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Tt(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Yi(){var o=ce.p;return o!==0?o:(o=window.event,o===void 0?32:K_(o.type))}function Hl(o,d){var f=ce.p;try{return ce.p=o,d()}finally{ce.p=f}}var Ni=Math.random().toString(36).slice(2),Bn="__reactFiber$"+Ni,er="__reactProps$"+Ni,_i="__reactContainer$"+Ni,Si="__reactEvents$"+Ni,Ua="__reactListeners$"+Ni,Wo="__reactHandles$"+Ni,Gl="__reactResources$"+Ni,Yo="__reactMarker$"+Ni;function Wl(o){delete o[Bn],delete o[er],delete o[Si],delete o[Ua],delete o[Wo]}function no(o){var d=o[Bn];if(d)return d;for(var f=o.parentNode;f;){if(d=f[_i]||f[Bn]){if(f=d.alternate,d.child!==null||f!==null&&f.child!==null)for(o=O_(o);o!==null;){if(f=o[Bn])return f;o=O_(o)}return d}o=f,f=o.parentNode}return null}function Eo(o){if(o=o[Bn]||o[_i]){var d=o.tag;if(d===5||d===6||d===13||d===31||d===26||d===27||d===3)return o}return null}function To(o){var d=o.tag;if(d===5||d===26||d===27||d===6)return o.stateNode;throw Error(r(33))}function Yl(o){var d=o[Gl];return d||(d=o[Gl]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function Ir(o){o[Yo]=!0}var _c=new Set,su={};function pl(o,d){ro(o,d),ro(o+"Capture",d)}function ro(o,d){for(su[o]=d,o=0;o<d.length;o++)_c.add(d[o])}var Sc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),od={},nu={};function Zo(o){return ht.call(nu,o)?!0:ht.call(od,o)?!1:Sc.test(o)?nu[o]=!0:(od[o]=!0,!1)}function Ks(o,d,f){if(Zo(d))if(f===null)o.removeAttribute(d);else{switch(typeof f){case"undefined":case"function":case"symbol":o.removeAttribute(d);return;case"boolean":var b=d.toLowerCase().slice(0,5);if(b!=="data-"&&b!=="aria-"){o.removeAttribute(d);return}}o.setAttribute(d,""+f)}}function Ps(o,d,f){if(f===null)o.removeAttribute(d);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(d);return}o.setAttribute(d,""+f)}}function fa(o,d,f,b){if(b===null)o.removeAttribute(f);else{switch(typeof b){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(f);return}o.setAttributeNS(d,f,""+b)}}function Fr(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Ko(o){var d=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function Cc(o,d,f){var b=Object.getOwnPropertyDescriptor(o.constructor.prototype,d);if(!o.hasOwnProperty(d)&&typeof b<"u"&&typeof b.get=="function"&&typeof b.set=="function"){var E=b.get,R=b.set;return Object.defineProperty(o,d,{configurable:!0,get:function(){return E.call(this)},set:function(X){f=""+X,R.call(this,X)}}),Object.defineProperty(o,d,{enumerable:b.enumerable}),{getValue:function(){return f},setValue:function(X){f=""+X},stopTracking:function(){o._valueTracker=null,delete o[d]}}}}function Is(o){if(!o._valueTracker){var d=Ko(o)?"checked":"value";o._valueTracker=Cc(o,d,""+o[d])}}function vn(o){if(!o)return!1;var d=o._valueTracker;if(!d)return!0;var f=d.getValue(),b="";return o&&(b=Ko(o)?o.checked?"true":"false":o.value),o=b,o!==f?(d.setValue(o),!0):!1}function Po(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Ci=/[\n"\\]/g;function Wn(o){return o.replace(Ci,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function ld(o,d,f,b,E,R,X,xe){o.name="",X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"?o.type=X:o.removeAttribute("type"),d!=null?X==="number"?(d===0&&o.value===""||o.value!=d)&&(o.value=""+Fr(d)):o.value!==""+Fr(d)&&(o.value=""+Fr(d)):X!=="submit"&&X!=="reset"||o.removeAttribute("value"),d!=null?io(o,X,Fr(d)):f!=null?io(o,X,Fr(f)):b!=null&&o.removeAttribute("value"),E==null&&R!=null&&(o.defaultChecked=!!R),E!=null&&(o.checked=E&&typeof E!="function"&&typeof E!="symbol"),xe!=null&&typeof xe!="function"&&typeof xe!="symbol"&&typeof xe!="boolean"?o.name=""+Fr(xe):o.removeAttribute("name")}function Ac(o,d,f,b,E,R,X,xe){if(R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(o.type=R),d!=null||f!=null){if(!(R!=="submit"&&R!=="reset"||d!=null)){Is(o);return}f=f!=null?""+Fr(f):"",d=d!=null?""+Fr(d):f,xe||d===o.value||(o.value=d),o.defaultValue=d}b=b??E,b=typeof b!="function"&&typeof b!="symbol"&&!!b,o.checked=xe?o.checked:!!b,o.defaultChecked=!!b,X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"&&(o.name=X),Is(o)}function io(o,d,f){d==="number"&&Po(o.ownerDocument)===o||o.defaultValue===""+f||(o.defaultValue=""+f)}function Yn(o,d,f,b){if(o=o.options,d){d={};for(var E=0;E<f.length;E++)d["$"+f[E]]=!0;for(f=0;f<o.length;f++)E=d.hasOwnProperty("$"+o[f].value),o[f].selected!==E&&(o[f].selected=E),E&&b&&(o[f].defaultSelected=!0)}else{for(f=""+Fr(f),d=null,E=0;E<o.length;E++){if(o[E].value===f){o[E].selected=!0,b&&(o[E].defaultSelected=!0);return}d!==null||o[E].disabled||(d=o[E])}d!==null&&(d.selected=!0)}}function Lo(o,d,f){if(d!=null&&(d=""+Fr(d),d!==o.value&&(o.value=d),f==null)){o.defaultValue!==d&&(o.defaultValue=d);return}o.defaultValue=f!=null?""+Fr(f):""}function Zl(o,d,f,b){if(d==null){if(b!=null){if(f!=null)throw Error(r(92));if(ie(b)){if(1<b.length)throw Error(r(93));b=b[0]}f=b}f==null&&(f=""),d=f}f=Fr(d),o.defaultValue=f,b=o.textContent,b===f&&b!==""&&b!==null&&(o.value=b),Is(o)}function Ta(o,d){if(d){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=d;return}}o.textContent=d}var ru=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kl(o,d,f){var b=d.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?b?o.setProperty(d,""):d==="float"?o.cssFloat="":o[d]="":b?o.setProperty(d,f):typeof f!="number"||f===0||ru.has(d)?d==="float"?o.cssFloat=f:o[d]=(""+f).trim():o[d]=f+"px"}function cd(o,d,f){if(d!=null&&typeof d!="object")throw Error(r(62));if(o=o.style,f!=null){for(var b in f)!f.hasOwnProperty(b)||d!=null&&d.hasOwnProperty(b)||(b.indexOf("--")===0?o.setProperty(b,""):b==="float"?o.cssFloat="":o[b]="");for(var E in d)b=d[E],d.hasOwnProperty(E)&&f[E]!==b&&Kl(o,E,b)}else for(var R in d)d.hasOwnProperty(R)&&Kl(o,R,d[R])}function $a(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Jl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xl(o){return Jl.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function Zn(){}var dd=null;function Xl(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var js=null,ws=null;function Va(o){var d=Eo(o);if(d&&(o=d.stateNode)){var f=o[er]||null;e:switch(o=d.stateNode,d.type){case"input":if(ld(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),d=f.name,f.type==="radio"&&d!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+Wn(""+d)+'"][type="radio"]'),d=0;d<f.length;d++){var b=f[d];if(b!==o&&b.form===o.form){var E=b[er]||null;if(!E)throw Error(r(90));ld(b,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(d=0;d<f.length;d++)b=f[d],b.form===o.form&&vn(b)}break e;case"textarea":Lo(o,f.value,f.defaultValue);break e;case"select":d=f.value,d!=null&&Yn(o,!!f.multiple,d,!1)}}}var Js=!1;function ud(o,d,f){if(Js)return o(d,f);Js=!0;try{var b=o(d);return b}finally{if(Js=!1,(js!==null||ws!==null)&&(zx(),js&&(d=js,o=ws,ws=js=null,Va(d),o)))for(d=0;d<o.length;d++)Va(o[d])}}function Jo(o,d){var f=o.stateNode;if(f===null)return null;var b=f[er]||null;if(b===null)return null;f=b[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(o=o.type,b=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!b;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(r(231,d,typeof f));return f}var Zi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vl=!1;if(Zi)try{var Ha={};Object.defineProperty(Ha,"passive",{get:function(){vl=!0}}),window.addEventListener("test",Ha,Ha),window.removeEventListener("test",Ha,Ha)}catch{vl=!1}var ao=null,yl=null,hr=null;function Pa(){if(hr)return hr;var o,d=yl,f=d.length,b,E="value"in ao?ao.value:ao.textContent,R=E.length;for(o=0;o<f&&d[o]===E[o];o++);var X=f-o;for(b=1;b<=X&&d[f-b]===E[R-b];b++);return hr=E.slice(o,1<b?1-b:void 0)}function oo(o){var d=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&d===13&&(o=13)):o=d,o===10&&(o=13),32<=o||o===13?o:0}function kc(){return!0}function Ql(){return!1}function Kr(o){function d(f,b,E,R,X){this._reactName=f,this._targetInst=E,this.type=b,this.nativeEvent=R,this.target=X,this.currentTarget=null;for(var xe in o)o.hasOwnProperty(xe)&&(f=o[xe],this[xe]=f?f(R):R[xe]);return this.isDefaultPrevented=(R.defaultPrevented!=null?R.defaultPrevented:R.returnValue===!1)?kc:Ql,this.isPropagationStopped=Ql,this}return p(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=kc)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=kc)},persist:function(){},isPersistent:kc}),d}var La={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ec=Kr(La),bl=p({},La,{view:0,detail:0}),Xs=Kr(bl),hd,Nr,Ai,Tc=p({},bl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sc,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Ai&&(Ai&&o.type==="mousemove"?(hd=o.screenX-Ai.screenX,Nr=o.screenY-Ai.screenY):Nr=hd=0,Ai=o),hd)},movementY:function(o){return"movementY"in o?o.movementY:Nr}}),jl=Kr(Tc),Ga=p({},Tc,{dataTransfer:0}),iu=Kr(Ga),ec=p({},bl,{relatedTarget:0}),au=Kr(ec),md=p({},La,{animationName:0,elapsedTime:0,pseudoElement:0}),ou=Kr(md),lu=p({},La,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Ra=Kr(lu),Wu=p({},La,{data:0}),tc=Kr(Wu),lo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function du(o){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(o):(o=cu[o])?!!d[o]:!1}function sc(){return du}var nc=p({},bl,{key:function(o){if(o.key){var d=lo[o.key]||o.key;if(d!=="Unidentified")return d}return o.type==="keypress"?(o=oo(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?fd[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sc,charCode:function(o){return o.type==="keypress"?oo(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?oo(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),pd=Kr(nc),rc=p({},Tc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gd=Kr(rc),M=p({},bl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sc}),le=Kr(M),Se=p({},La,{propertyName:0,elapsedTime:0,pseudoElement:0}),Oe=Kr(Se),Ge=p({},Tc,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),ct=Kr(Ge),_t=p({},La,{newState:0,oldState:0}),Bt=Kr(_t),Zt=[9,13,27,32],Ls=Zi&&"CompositionEvent"in window,Ns=null;Zi&&"documentMode"in document&&(Ns=document.documentMode);var on=Zi&&"TextEvent"in window&&!Ns,tr=Zi&&(!Ls||Ns&&8<Ns&&11>=Ns),sr=" ",Ar=!1;function ki(o,d){switch(o){case"keyup":return Zt.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Br(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Ki=!1;function xr(o,d){switch(o){case"compositionend":return Br(d);case"keypress":return d.which!==32?null:(Ar=!0,sr);case"textInput":return o=d.data,o===sr&&Ar?null:o;default:return null}}function pa(o,d){if(Ki)return o==="compositionend"||!Ls&&ki(o,d)?(o=Pa(),hr=yl=ao=null,Ki=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return tr&&d.locale!=="ko"?null:d.data;default:return null}}var Yu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oa(o){var d=o&&o.nodeName&&o.nodeName.toLowerCase();return d==="input"?!!Yu[o.type]:d==="textarea"}function xd(o,d,f,b){js?ws?ws.push(b):ws=[b]:js=b,d=Wx(d,"onChange"),0<d.length&&(f=new Ec("onChange","change",null,f,b),o.push({event:f,listeners:d}))}var ga=null,wl=null;function Nl(o){b_(o,0)}function Xo(o){var d=To(o);if(vn(d))return o}function kr(o,d){if(o==="change")return d}var Pc=!1;if(Zi){var xa;if(Zi){var Ro="oninput"in document;if(!Ro){var vd=document.createElement("div");vd.setAttribute("oninput","return;"),Ro=typeof vd.oninput=="function"}xa=Ro}else xa=!1;Pc=xa&&(!document.documentMode||9<document.documentMode)}function Ei(){ga&&(ga.detachEvent("onpropertychange",Zu),wl=ga=null)}function Zu(o){if(o.propertyName==="value"&&Xo(wl)){var d=[];xd(d,wl,o,Xl(o)),ud(Nl,d)}}function Wa(o,d,f){o==="focusin"?(Ei(),ga=d,wl=f,ga.attachEvent("onpropertychange",Zu)):o==="focusout"&&Ei()}function Ku(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Xo(wl)}function Ti(o,d){if(o==="click")return Xo(d)}function yd(o,d){if(o==="input"||o==="change")return Xo(d)}function co(o,d){return o===d&&(o!==0||1/o===1/d)||o!==o&&d!==d}var Jr=typeof Object.is=="function"?Object.is:co;function Ya(o,d){if(Jr(o,d))return!0;if(typeof o!="object"||o===null||typeof d!="object"||d===null)return!1;var f=Object.keys(o),b=Object.keys(d);if(f.length!==b.length)return!1;for(b=0;b<f.length;b++){var E=f[b];if(!ht.call(d,E)||!Jr(o[E],d[E]))return!1}return!0}function Qo(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function li(o,d){var f=Qo(o);o=0;for(var b;f;){if(f.nodeType===3){if(b=o+f.textContent.length,o<=d&&b>=d)return{node:f,offset:d-o};o=b}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=Qo(f)}}function ci(o,d){return o&&d?o===d?!0:o&&o.nodeType===3?!1:d&&d.nodeType===3?ci(o,d.parentNode):"contains"in o?o.contains(d):o.compareDocumentPosition?!!(o.compareDocumentPosition(d)&16):!1:!1}function uo(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var d=Po(o.document);d instanceof o.HTMLIFrameElement;){try{var f=typeof d.contentWindow.location.href=="string"}catch{f=!1}if(f)o=d.contentWindow;else break;d=Po(o.document)}return d}function Ji(o){var d=o&&o.nodeName&&o.nodeName.toLowerCase();return d&&(d==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||d==="textarea"||o.contentEditable==="true")}var ho=Zi&&"documentMode"in document&&11>=document.documentMode,Za=null,mo=null,nr=null,el=!1;function Xi(o,d,f){var b=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;el||Za==null||Za!==Po(b)||(b=Za,"selectionStart"in b&&Ji(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),nr&&Ya(nr,b)||(nr=b,b=Wx(mo,"onSelect"),0<b.length&&(d=new Ec("onSelect","select",null,d,f),o.push({event:d,listeners:b}),d.target=Za)))}function Xr(o,d){var f={};return f[o.toLowerCase()]=d.toLowerCase(),f["Webkit"+o]="webkit"+d,f["Moz"+o]="moz"+d,f}var Oo={animationend:Xr("Animation","AnimationEnd"),animationiteration:Xr("Animation","AnimationIteration"),animationstart:Xr("Animation","AnimationStart"),transitionrun:Xr("Transition","TransitionRun"),transitionstart:Xr("Transition","TransitionStart"),transitioncancel:Xr("Transition","TransitionCancel"),transitionend:Xr("Transition","TransitionEnd")},Lc={},bd={};Zi&&(bd=document.createElement("div").style,"AnimationEvent"in window||(delete Oo.animationend.animation,delete Oo.animationiteration.animation,delete Oo.animationstart.animation),"TransitionEvent"in window||delete Oo.transitionend.transition);function _r(o){if(Lc[o])return Lc[o];if(!Oo[o])return o;var d=Oo[o],f;for(f in d)if(d.hasOwnProperty(f)&&f in bd)return Lc[o]=d[f];return o}var Mo=_r("animationend"),_l=_r("animationiteration"),Do=_r("animationstart"),jd=_r("transitionrun"),ic=_r("transitionstart"),ac=_r("transitioncancel"),tl=_r("transitionend"),Ka=new Map,Qr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qr.push("scrollEnd");function Qs(o,d){Ka.set(o,d),pl(d,[o])}var kn=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},yn=[],bn=0,fo=0;function Sl(){for(var o=bn,d=fo=bn=0;d<o;){var f=yn[d];yn[d++]=null;var b=yn[d];yn[d++]=null;var E=yn[d];yn[d++]=null;var R=yn[d];if(yn[d++]=null,b!==null&&E!==null){var X=b.pending;X===null?E.next=E:(E.next=X.next,X.next=E),b.pending=E}R!==0&&Cl(f,E,R)}}function Ja(o,d,f,b){yn[bn++]=o,yn[bn++]=d,yn[bn++]=f,yn[bn++]=b,fo|=b,o.lanes|=b,o=o.alternate,o!==null&&(o.lanes|=b)}function wd(o,d,f,b){return Ja(o,d,f,b),Pi(o)}function po(o,d){return Ja(o,null,null,d),Pi(o)}function Cl(o,d,f){o.lanes|=f;var b=o.alternate;b!==null&&(b.lanes|=f);for(var E=!1,R=o.return;R!==null;)R.childLanes|=f,b=R.alternate,b!==null&&(b.childLanes|=f),R.tag===22&&(o=R.stateNode,o===null||o._visibility&1||(E=!0)),o=R,R=R.return;return o.tag===3?(R=o.stateNode,E&&d!==null&&(E=31-Cs(f),o=R.hiddenUpdates,b=o[E],b===null?o[E]=[d]:b.push(d),d.lane=f|536870912),R):null}function Pi(o){if(50<Gp)throw Gp=0,ub=null,Error(r(185));for(var d=o.return;d!==null;)o=d,d=o.return;return o.tag===3?o.stateNode:null}var di={};function Ju(o,d,f,b){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Li(o,d,f,b){return new Ju(o,d,f,b)}function uu(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Xa(o,d){var f=o.alternate;return f===null?(f=Li(o.tag,d,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=d,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&65011712,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,d=o.dependencies,f.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f.refCleanup=o.refCleanup,f}function Nd(o,d){o.flags&=65011714;var f=o.alternate;return f===null?(o.childLanes=0,o.lanes=d,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=f.childLanes,o.lanes=f.lanes,o.child=f.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=f.memoizedProps,o.memoizedState=f.memoizedState,o.updateQueue=f.updateQueue,o.type=f.type,d=f.dependencies,o.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),o}function Rc(o,d,f,b,E,R){var X=0;if(b=o,typeof o=="function")uu(o)&&(X=1);else if(typeof o=="string")X=ZR(o,f,se.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case K:return o=Li(31,f,d,E),o.elementType=K,o.lanes=R,o;case j:return oc(f.children,E,R,d);case A:X=8,E|=24;break;case C:return o=Li(12,f,d,E|2),o.elementType=C,o.lanes=R,o;case z:return o=Li(13,f,d,E),o.elementType=z,o.lanes=R,o;case V:return o=Li(19,f,d,E),o.elementType=V,o.lanes=R,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case S:X=10;break e;case P:X=9;break e;case O:X=11;break e;case B:X=14;break e;case D:X=16,b=null;break e}X=29,f=Error(r(130,o===null?"null":typeof o,"")),b=null}return d=Li(X,f,d,E),d.elementType=o,d.type=b,d.lanes=R,d}function oc(o,d,f,b){return o=Li(7,o,b,d),o.lanes=f,o}function _d(o,d,f){return o=Li(6,o,null,d),o.lanes=f,o}function hu(o){var d=Li(18,null,null,0);return d.stateNode=o,d}function Sd(o,d,f){return d=Li(4,o.children!==null?o.children:[],o.key,d),d.lanes=f,d.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},d}var h=new WeakMap;function v(o,d){if(typeof o=="object"&&o!==null){var f=h.get(o);return f!==void 0?f:(d={value:o,source:d,stack:Dt(d)},h.set(o,d),d)}return{value:o,source:d,stack:Dt(d)}}var k=[],I=0,Y=null,pe=0,Ae=[],Ve=0,Qe=null,gt=1,Ot="";function ts(o,d){k[I++]=pe,k[I++]=Y,Y=o,pe=d}function Ys(o,d,f){Ae[Ve++]=gt,Ae[Ve++]=Ot,Ae[Ve++]=Qe,Qe=o;var b=gt;o=Ot;var E=32-Cs(b)-1;b&=~(1<<E),f+=1;var R=32-Cs(d)+E;if(30<R){var X=E-E%5;R=(b&(1<<X)-1).toString(32),b>>=X,E-=X,gt=1<<32-Cs(d)+E|f<<E|b,Ot=R+o}else gt=1<<R|f<<E|b,Ot=o}function Ri(o){o.return!==null&&(ts(o,1),Ys(o,1,0))}function Er(o){for(;o===Y;)Y=k[--I],k[I]=null,pe=k[--I],k[I]=null;for(;o===Qe;)Qe=Ae[--Ve],Ae[Ve]=null,Ot=Ae[--Ve],Ae[Ve]=null,gt=Ae[--Ve],Ae[Ve]=null}function Qa(o,d){Ae[Ve++]=gt,Ae[Ve++]=Ot,Ae[Ve++]=Qe,gt=d.id,Ot=d.overflow,Qe=o}var En=null,Tn=null,sn=!1,va=null,Sr=!1,go=Error(r(519));function lc(o){var d=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Cd(v(d,o)),go}function Xu(o){var d=o.stateNode,f=o.type,b=o.memoizedProps;switch(d[Bn]=o,d[er]=b,f){case"dialog":fn("cancel",d),fn("close",d);break;case"iframe":case"object":case"embed":fn("load",d);break;case"video":case"audio":for(f=0;f<Yp.length;f++)fn(Yp[f],d);break;case"source":fn("error",d);break;case"img":case"image":case"link":fn("error",d),fn("load",d);break;case"details":fn("toggle",d);break;case"input":fn("invalid",d),Ac(d,b.value,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name,!0);break;case"select":fn("invalid",d);break;case"textarea":fn("invalid",d),Zl(d,b.value,b.defaultValue,b.children)}f=b.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||d.textContent===""+f||b.suppressHydrationWarning===!0||__(d.textContent,f)?(b.popover!=null&&(fn("beforetoggle",d),fn("toggle",d)),b.onScroll!=null&&fn("scroll",d),b.onScrollEnd!=null&&fn("scrollend",d),b.onClick!=null&&(d.onclick=Zn),d=!0):d=!1,d||lc(o,!0)}function zn(o){for(En=o.return;En;)switch(En.tag){case 5:case 31:case 13:Sr=!1;return;case 27:case 3:Sr=!0;return;default:En=En.return}}function zr(o){if(o!==En)return!1;if(!sn)return zn(o),sn=!0,!1;var d=o.tag,f;if((f=d!==3&&d!==27)&&((f=d===5)&&(f=o.type,f=!(f!=="form"&&f!=="button")||Cb(o.type,o.memoizedProps)),f=!f),f&&Tn&&lc(o),zn(o),d===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Tn=R_(o)}else if(d===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));Tn=R_(o)}else d===27?(d=Tn,hh(o.type)?(o=Pb,Pb=null,Tn=o):Tn=d):Tn=En?fc(o.stateNode.nextSibling):null;return!0}function Oc(){Tn=En=null,sn=!1}function Qh(){var o=va;return o!==null&&(ll===null?ll=o:ll.push.apply(ll,o),va=null),o}function Cd(o){va===null?va=[o]:va.push(o)}var Ad=re(null),Al=null,sl=null;function kd(o,d,f){J(Ad,d._currentValue),d._currentValue=f}function nl(o){o._currentValue=Ad.current,U(Ad)}function Qu(o,d,f){for(;o!==null;){var b=o.alternate;if((o.childLanes&d)!==d?(o.childLanes|=d,b!==null&&(b.childLanes|=d)):b!==null&&(b.childLanes&d)!==d&&(b.childLanes|=d),o===f)break;o=o.return}}function mu(o,d,f,b){var E=o.child;for(E!==null&&(E.return=o);E!==null;){var R=E.dependencies;if(R!==null){var X=E.child;R=R.firstContext;e:for(;R!==null;){var xe=R;R=E;for(var Te=0;Te<d.length;Te++)if(xe.context===d[Te]){R.lanes|=f,xe=R.alternate,xe!==null&&(xe.lanes|=f),Qu(R.return,f,o),b||(X=null);break e}R=xe.next}}else if(E.tag===18){if(X=E.return,X===null)throw Error(r(341));X.lanes|=f,R=X.alternate,R!==null&&(R.lanes|=f),Qu(X,f,o),X=null}else X=E.child;if(X!==null)X.return=E;else for(X=E;X!==null;){if(X===o){X=null;break}if(E=X.sibling,E!==null){E.return=X.return,X=E;break}X=X.return}E=X}}function Ed(o,d,f,b){o=null;for(var E=d,R=!1;E!==null;){if(!R){if((E.flags&524288)!==0)R=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var X=E.alternate;if(X===null)throw Error(r(387));if(X=X.memoizedProps,X!==null){var xe=E.type;Jr(E.pendingProps.value,X.value)||(o!==null?o.push(xe):o=[xe])}}else if(E===we.current){if(X=E.alternate,X===null)throw Error(r(387));X.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(o!==null?o.push(Qp):o=[Qp])}E=E.return}o!==null&&mu(d,o,f,b),d.flags|=262144}function Wm(o){for(o=o.firstContext;o!==null;){if(!Jr(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Td(o){Al=o,sl=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function ya(o){return jx(Al,o)}function Ym(o,d){return Al===null&&Td(o),jx(o,d)}function jx(o,d){var f=d._currentValue;if(d={context:d,memoizedValue:f,next:null},sl===null){if(o===null)throw Error(r(308));sl=d,o.dependencies={lanes:0,firstContext:d},o.flags|=524288}else sl=sl.next=d;return f}var T0=typeof AbortController<"u"?AbortController:function(){var o=[],d=this.signal={aborted:!1,addEventListener:function(f,b){o.push(b)}};this.abort=function(){d.aborted=!0,o.forEach(function(f){return f()})}},P0=n.unstable_scheduleCallback,L0=n.unstable_NormalPriority,ei={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function eh(){return{controller:new T0,data:new Map,refCount:0}}function em(o){o.refCount--,o.refCount===0&&P0(L0,function(){o.controller.abort()})}var tm=null,Zm=0,N=0,T=null;function F(o,d){if(tm===null){var f=tm=[];Zm=0,N=xb(),T={status:"pending",value:void 0,then:function(b){f.push(b)}}}return Zm++,d.then(G,G),d}function G(){if(--Zm===0&&tm!==null){T!==null&&(T.status="fulfilled");var o=tm;tm=null,N=0,T=null;for(var d=0;d<o.length;d++)(0,o[d])()}}function ae(o,d){var f=[],b={status:"pending",value:null,reason:null,then:function(E){f.push(E)}};return o.then(function(){b.status="fulfilled",b.value=d;for(var E=0;E<f.length;E++)(0,f[E])(d)},function(E){for(b.status="rejected",b.reason=E,E=0;E<f.length;E++)(0,f[E])(void 0)}),b}var he=q.S;q.S=function(o,d){YN=rt(),typeof d=="object"&&d!==null&&typeof d.then=="function"&&F(o,d),he!==null&&he(o,d)};var me=re(null);function ge(){var o=me.current;return o!==null?o:yr.pooledCache}function ye(o,d){d===null?J(me,me.current):J(me,d.pool)}function Ne(){var o=ge();return o===null?null:{parent:ei._currentValue,pool:o}}var De=Error(r(460)),Ye=Error(r(474)),We=Error(r(542)),$e={then:function(){}};function yt(o){return o=o.status,o==="fulfilled"||o==="rejected"}function dt(o,d,f){switch(f=o[f],f===void 0?o.push(d):f!==d&&(d.then(Zn,Zn),d=f),d.status){case"fulfilled":return d.value;case"rejected":throw o=d.reason,wt(o),o;default:if(typeof d.status=="string")d.then(Zn,Zn);else{if(o=yr,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=d,o.status="pending",o.then(function(b){if(d.status==="pending"){var E=d;E.status="fulfilled",E.value=b}},function(b){if(d.status==="pending"){var E=d;E.status="rejected",E.reason=b}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw o=d.reason,wt(o),o}throw qe=d,De}}function Ie(o){try{var d=o._init;return d(o._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(qe=f,De):f}}var qe=null;function xt(){if(qe===null)throw Error(r(459));var o=qe;return qe=null,o}function wt(o){if(o===De||o===We)throw Error(r(483))}var pt=null,qt=0;function Mt(o){var d=qt;return qt+=1,pt===null&&(pt=[]),dt(pt,o,d)}function ps(o,d){d=d.props.ref,o.ref=d!==void 0?d:null}function It(o,d){throw d.$$typeof===y?Error(r(525)):(o=Object.prototype.toString.call(d),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":o)))}function Pn(o){function d(He,ze){if(o){var Ze=He.deletions;Ze===null?(He.deletions=[ze],He.flags|=16):Ze.push(ze)}}function f(He,ze){if(!o)return null;for(;ze!==null;)d(He,ze),ze=ze.sibling;return null}function b(He){for(var ze=new Map;He!==null;)He.key!==null?ze.set(He.key,He):ze.set(He.index,He),He=He.sibling;return ze}function E(He,ze){return He=Xa(He,ze),He.index=0,He.sibling=null,He}function R(He,ze,Ze){return He.index=Ze,o?(Ze=He.alternate,Ze!==null?(Ze=Ze.index,Ze<ze?(He.flags|=67108866,ze):Ze):(He.flags|=67108866,ze)):(He.flags|=1048576,ze)}function X(He){return o&&He.alternate===null&&(He.flags|=67108866),He}function xe(He,ze,Ze,vt){return ze===null||ze.tag!==6?(ze=_d(Ze,He.mode,vt),ze.return=He,ze):(ze=E(ze,Ze),ze.return=He,ze)}function Te(He,ze,Ze,vt){var vs=Ze.type;return vs===j?mt(He,ze,Ze.props.children,vt,Ze.key):ze!==null&&(ze.elementType===vs||typeof vs=="object"&&vs!==null&&vs.$$typeof===D&&Ie(vs)===ze.type)?(ze=E(ze,Ze.props),ps(ze,Ze),ze.return=He,ze):(ze=Rc(Ze.type,Ze.key,Ze.props,null,He.mode,vt),ps(ze,Ze),ze.return=He,ze)}function Ke(He,ze,Ze,vt){return ze===null||ze.tag!==4||ze.stateNode.containerInfo!==Ze.containerInfo||ze.stateNode.implementation!==Ze.implementation?(ze=Sd(Ze,He.mode,vt),ze.return=He,ze):(ze=E(ze,Ze.children||[]),ze.return=He,ze)}function mt(He,ze,Ze,vt,vs){return ze===null||ze.tag!==7?(ze=oc(Ze,He.mode,vt,vs),ze.return=He,ze):(ze=E(ze,Ze),ze.return=He,ze)}function bt(He,ze,Ze){if(typeof ze=="string"&&ze!==""||typeof ze=="number"||typeof ze=="bigint")return ze=_d(""+ze,He.mode,Ze),ze.return=He,ze;if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case x:return Ze=Rc(ze.type,ze.key,ze.props,null,He.mode,Ze),ps(Ze,ze),Ze.return=He,Ze;case _:return ze=Sd(ze,He.mode,Ze),ze.return=He,ze;case D:return ze=Ie(ze),bt(He,ze,Ze)}if(ie(ze)||W(ze))return ze=oc(ze,He.mode,Ze,null),ze.return=He,ze;if(typeof ze.then=="function")return bt(He,Mt(ze),Ze);if(ze.$$typeof===S)return bt(He,Ym(He,ze),Ze);It(He,ze)}return null}function st(He,ze,Ze,vt){var vs=ze!==null?ze.key:null;if(typeof Ze=="string"&&Ze!==""||typeof Ze=="number"||typeof Ze=="bigint")return vs!==null?null:xe(He,ze,""+Ze,vt);if(typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case x:return Ze.key===vs?Te(He,ze,Ze,vt):null;case _:return Ze.key===vs?Ke(He,ze,Ze,vt):null;case D:return Ze=Ie(Ze),st(He,ze,Ze,vt)}if(ie(Ze)||W(Ze))return vs!==null?null:mt(He,ze,Ze,vt,null);if(typeof Ze.then=="function")return st(He,ze,Mt(Ze),vt);if(Ze.$$typeof===S)return st(He,ze,Ym(He,Ze),vt);It(He,Ze)}return null}function at(He,ze,Ze,vt,vs){if(typeof vt=="string"&&vt!==""||typeof vt=="number"||typeof vt=="bigint")return He=He.get(Ze)||null,xe(ze,He,""+vt,vs);if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case x:return He=He.get(vt.key===null?Ze:vt.key)||null,Te(ze,He,vt,vs);case _:return He=He.get(vt.key===null?Ze:vt.key)||null,Ke(ze,He,vt,vs);case D:return vt=Ie(vt),at(He,ze,Ze,vt,vs)}if(ie(vt)||W(vt))return He=He.get(Ze)||null,mt(ze,He,vt,vs,null);if(typeof vt.then=="function")return at(He,ze,Ze,Mt(vt),vs);if(vt.$$typeof===S)return at(He,ze,Ze,Ym(ze,vt),vs);It(ze,vt)}return null}function ss(He,ze,Ze,vt){for(var vs=null,Un=null,cs=ze,en=ze=0,Nn=null;cs!==null&&en<Ze.length;en++){cs.index>en?(Nn=cs,cs=null):Nn=cs.sibling;var $n=st(He,cs,Ze[en],vt);if($n===null){cs===null&&(cs=Nn);break}o&&cs&&$n.alternate===null&&d(He,cs),ze=R($n,ze,en),Un===null?vs=$n:Un.sibling=$n,Un=$n,cs=Nn}if(en===Ze.length)return f(He,cs),sn&&ts(He,en),vs;if(cs===null){for(;en<Ze.length;en++)cs=bt(He,Ze[en],vt),cs!==null&&(ze=R(cs,ze,en),Un===null?vs=cs:Un.sibling=cs,Un=cs);return sn&&ts(He,en),vs}for(cs=b(cs);en<Ze.length;en++)Nn=at(cs,He,en,Ze[en],vt),Nn!==null&&(o&&Nn.alternate!==null&&cs.delete(Nn.key===null?en:Nn.key),ze=R(Nn,ze,en),Un===null?vs=Nn:Un.sibling=Nn,Un=Nn);return o&&cs.forEach(function(xh){return d(He,xh)}),sn&&ts(He,en),vs}function ks(He,ze,Ze,vt){if(Ze==null)throw Error(r(151));for(var vs=null,Un=null,cs=ze,en=ze=0,Nn=null,$n=Ze.next();cs!==null&&!$n.done;en++,$n=Ze.next()){cs.index>en?(Nn=cs,cs=null):Nn=cs.sibling;var xh=st(He,cs,$n.value,vt);if(xh===null){cs===null&&(cs=Nn);break}o&&cs&&xh.alternate===null&&d(He,cs),ze=R(xh,ze,en),Un===null?vs=xh:Un.sibling=xh,Un=xh,cs=Nn}if($n.done)return f(He,cs),sn&&ts(He,en),vs;if(cs===null){for(;!$n.done;en++,$n=Ze.next())$n=bt(He,$n.value,vt),$n!==null&&(ze=R($n,ze,en),Un===null?vs=$n:Un.sibling=$n,Un=$n);return sn&&ts(He,en),vs}for(cs=b(cs);!$n.done;en++,$n=Ze.next())$n=at(cs,He,en,$n.value,vt),$n!==null&&(o&&$n.alternate!==null&&cs.delete($n.key===null?en:$n.key),ze=R($n,ze,en),Un===null?vs=$n:Un.sibling=$n,Un=$n);return o&&cs.forEach(function(a8){return d(He,a8)}),sn&&ts(He,en),vs}function pr(He,ze,Ze,vt){if(typeof Ze=="object"&&Ze!==null&&Ze.type===j&&Ze.key===null&&(Ze=Ze.props.children),typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case x:e:{for(var vs=Ze.key;ze!==null;){if(ze.key===vs){if(vs=Ze.type,vs===j){if(ze.tag===7){f(He,ze.sibling),vt=E(ze,Ze.props.children),vt.return=He,He=vt;break e}}else if(ze.elementType===vs||typeof vs=="object"&&vs!==null&&vs.$$typeof===D&&Ie(vs)===ze.type){f(He,ze.sibling),vt=E(ze,Ze.props),ps(vt,Ze),vt.return=He,He=vt;break e}f(He,ze);break}else d(He,ze);ze=ze.sibling}Ze.type===j?(vt=oc(Ze.props.children,He.mode,vt,Ze.key),vt.return=He,He=vt):(vt=Rc(Ze.type,Ze.key,Ze.props,null,He.mode,vt),ps(vt,Ze),vt.return=He,He=vt)}return X(He);case _:e:{for(vs=Ze.key;ze!==null;){if(ze.key===vs)if(ze.tag===4&&ze.stateNode.containerInfo===Ze.containerInfo&&ze.stateNode.implementation===Ze.implementation){f(He,ze.sibling),vt=E(ze,Ze.children||[]),vt.return=He,He=vt;break e}else{f(He,ze);break}else d(He,ze);ze=ze.sibling}vt=Sd(Ze,He.mode,vt),vt.return=He,He=vt}return X(He);case D:return Ze=Ie(Ze),pr(He,ze,Ze,vt)}if(ie(Ze))return ss(He,ze,Ze,vt);if(W(Ze)){if(vs=W(Ze),typeof vs!="function")throw Error(r(150));return Ze=vs.call(Ze),ks(He,ze,Ze,vt)}if(typeof Ze.then=="function")return pr(He,ze,Mt(Ze),vt);if(Ze.$$typeof===S)return pr(He,ze,Ym(He,Ze),vt);It(He,Ze)}return typeof Ze=="string"&&Ze!==""||typeof Ze=="number"||typeof Ze=="bigint"?(Ze=""+Ze,ze!==null&&ze.tag===6?(f(He,ze.sibling),vt=E(ze,Ze),vt.return=He,He=vt):(f(He,ze),vt=_d(Ze,He.mode,vt),vt.return=He,He=vt),X(He)):f(He,ze)}return function(He,ze,Ze,vt){try{qt=0;var vs=pr(He,ze,Ze,vt);return pt=null,vs}catch(cs){if(cs===De||cs===We)throw cs;var Un=Li(29,cs,null,He.mode);return Un.lanes=vt,Un.return=He,Un}finally{}}}var hn=Pn(!0),jn=Pn(!1),$s=!1;function Kn(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qn(o,d){o=o.updateQueue,d.updateQueue===o&&(d.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function As(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function rr(o,d,f){var b=o.updateQueue;if(b===null)return null;if(b=b.shared,(Jn&2)!==0){var E=b.pending;return E===null?d.next=d:(d.next=E.next,E.next=d),b.pending=d,d=Pi(o),Cl(o,null,f),d}return Ja(o,b,d,f),Pi(o)}function Qi(o,d,f){if(d=d.updateQueue,d!==null&&(d=d.shared,(f&4194048)!==0)){var b=d.lanes;b&=o.pendingLanes,f|=b,d.lanes=f,gr(o,f)}}function qr(o,d){var f=o.updateQueue,b=o.alternate;if(b!==null&&(b=b.updateQueue,f===b)){var E=null,R=null;if(f=f.firstBaseUpdate,f!==null){do{var X={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};R===null?E=R=X:R=R.next=X,f=f.next}while(f!==null);R===null?E=R=d:R=R.next=d}else E=R=d;f={baseState:b.baseState,firstBaseUpdate:E,lastBaseUpdate:R,shared:b.shared,callbacks:b.callbacks},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=d:o.next=d,f.lastBaseUpdate=d}var Ma=!1;function Cn(){if(Ma){var o=T;if(o!==null)throw o}}function ba(o,d,f,b){Ma=!1;var E=o.updateQueue;$s=!1;var R=E.firstBaseUpdate,X=E.lastBaseUpdate,xe=E.shared.pending;if(xe!==null){E.shared.pending=null;var Te=xe,Ke=Te.next;Te.next=null,X===null?R=Ke:X.next=Ke,X=Te;var mt=o.alternate;mt!==null&&(mt=mt.updateQueue,xe=mt.lastBaseUpdate,xe!==X&&(xe===null?mt.firstBaseUpdate=Ke:xe.next=Ke,mt.lastBaseUpdate=Te))}if(R!==null){var bt=E.baseState;X=0,mt=Ke=Te=null,xe=R;do{var st=xe.lane&-536870913,at=st!==xe.lane;if(at?(wn&st)===st:(b&st)===st){st!==0&&st===N&&(Ma=!0),mt!==null&&(mt=mt.next={lane:0,tag:xe.tag,payload:xe.payload,callback:null,next:null});e:{var ss=o,ks=xe;st=d;var pr=f;switch(ks.tag){case 1:if(ss=ks.payload,typeof ss=="function"){bt=ss.call(pr,bt,st);break e}bt=ss;break e;case 3:ss.flags=ss.flags&-65537|128;case 0:if(ss=ks.payload,st=typeof ss=="function"?ss.call(pr,bt,st):ss,st==null)break e;bt=p({},bt,st);break e;case 2:$s=!0}}st=xe.callback,st!==null&&(o.flags|=64,at&&(o.flags|=8192),at=E.callbacks,at===null?E.callbacks=[st]:at.push(st))}else at={lane:st,tag:xe.tag,payload:xe.payload,callback:xe.callback,next:null},mt===null?(Ke=mt=at,Te=bt):mt=mt.next=at,X|=st;if(xe=xe.next,xe===null){if(xe=E.shared.pending,xe===null)break;at=xe,xe=at.next,at.next=null,E.lastBaseUpdate=at,E.shared.pending=null}}while(!0);mt===null&&(Te=bt),E.baseState=Te,E.firstBaseUpdate=Ke,E.lastBaseUpdate=mt,R===null&&(E.shared.lanes=0),oh|=X,o.lanes=X,o.memoizedState=bt}}function xo(o,d){if(typeof o!="function")throw Error(r(191,o));o.call(d)}function Oi(o,d){var f=o.callbacks;if(f!==null)for(o.callbacks=null,o=0;o<f.length;o++)xo(f[o],d)}var Ur=re(null),ea=re(0);function Io(o,d){o=Su,J(ea,o),J(Ur,d),Su=o|d.baseLanes}function rl(){J(ea,Su),J(Ur,Ur.current)}function ui(){Su=ea.current,U(Ur),U(ea)}var ti=re(null),ta=null;function Fo(o){var d=o.alternate;J($r,$r.current&1),J(ti,o),ta===null&&(d===null||Ur.current!==null||d.memoizedState!==null)&&(ta=o)}function cc(o){J($r,$r.current),J(ti,o),ta===null&&(ta=o)}function Tr(o){o.tag===22?(J($r,$r.current),J(ti,o),ta===null&&(ta=o)):dc()}function dc(){J($r,$r.current),J(ti,ti.current)}function vo(o){U(ti),ta===o&&(ta=null),U($r)}var $r=re(0);function fu(o){for(var d=o;d!==null;){if(d.tag===13){var f=d.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||Eb(f)||Tb(f)))return d}else if(d.tag===19&&(d.memoizedProps.revealOrder==="forwards"||d.memoizedProps.revealOrder==="backwards"||d.memoizedProps.revealOrder==="unstable_legacy-backwards"||d.memoizedProps.revealOrder==="together")){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===o)break;for(;d.sibling===null;){if(d.return===null||d.return===o)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var Bo=0,qs=null,tn=null,vr=null,Mc=!1,pu=!1,uc=!1,sm=0,Pd=0,Ld=null,Km=0;function mr(){throw Error(r(321))}function kp(o,d){if(d===null)return!1;for(var f=0;f<d.length&&f<o.length;f++)if(!Jr(o[f],d[f]))return!1;return!0}function Ep(o,d,f,b,E,R){return Bo=R,qs=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,q.H=o===null||o.memoizedState===null?iN:z0,uc=!1,R=f(b,E),uc=!1,pu&&(R=Dc(d,f,b,E)),Jm(o),R}function Jm(o){q.H=Ip;var d=tn!==null&&tn.next!==null;if(Bo=0,vr=tn=qs=null,Mc=!1,Pd=0,Ld=null,d)throw Error(r(300));o===null||na||(o=o.dependencies,o!==null&&Wm(o)&&(na=!0))}function Dc(o,d,f,b){qs=o;var E=0;do{if(pu&&(Ld=null),Pd=0,pu=!1,25<=E)throw Error(r(301));if(E+=1,vr=tn=null,o.updateQueue!=null){var R=o.updateQueue;R.lastEffect=null,R.events=null,R.stores=null,R.memoCache!=null&&(R.memoCache.index=0)}q.H=aN,R=d(f,b)}while(pu);return R}function R0(){var o=q.H,d=o.useState()[0];return d=typeof d.then=="function"?Rd(d):d,o=o.useState()[0],(tn!==null?tn.memoizedState:null)!==o&&(qs.flags|=1024),d}function Tp(){var o=sm!==0;return sm=0,o}function Pp(o,d,f){d.updateQueue=o.updateQueue,d.flags&=-2053,o.lanes&=~f}function Xm(o){if(Mc){for(o=o.memoizedState;o!==null;){var d=o.queue;d!==null&&(d.pending=null),o=o.next}Mc=!1}Bo=0,vr=tn=qs=null,pu=!1,Pd=sm=0,Ld=null}function sa(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vr===null?qs.memoizedState=vr=o:vr=vr.next=o,vr}function Vr(){if(tn===null){var o=qs.alternate;o=o!==null?o.memoizedState:null}else o=tn.next;var d=vr===null?qs.memoizedState:vr.next;if(d!==null)vr=d,tn=o;else{if(o===null)throw qs.alternate===null?Error(r(467)):Error(r(310));tn=o,o={memoizedState:tn.memoizedState,baseState:tn.baseState,baseQueue:tn.baseQueue,queue:tn.queue,next:null},vr===null?qs.memoizedState=vr=o:vr=vr.next=o}return vr}function nm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Rd(o){var d=Pd;return Pd+=1,Ld===null&&(Ld=[]),o=dt(Ld,o,d),d=qs,(vr===null?d.memoizedState:vr.next)===null&&(d=d.alternate,q.H=d===null||d.memoizedState===null?iN:z0),o}function th(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Rd(o);if(o.$$typeof===S)return ya(o)}throw Error(r(438,String(o)))}function gu(o){var d=null,f=qs.updateQueue;if(f!==null&&(d=f.memoCache),d==null){var b=qs.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(d={data:b.data.map(function(E){return E.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),f===null&&(f=nm(),qs.updateQueue=f),f.memoCache=d,f=d.data[d.index],f===void 0)for(f=d.data[d.index]=Array(o),b=0;b<o;b++)f[b]=H;return d.index++,f}function hc(o,d){return typeof d=="function"?d(o):d}function Qm(o){var d=Vr();return sh(d,tn,o)}function sh(o,d,f){var b=o.queue;if(b===null)throw Error(r(311));b.lastRenderedReducer=f;var E=o.baseQueue,R=b.pending;if(R!==null){if(E!==null){var X=E.next;E.next=R.next,R.next=X}d.baseQueue=E=R,b.pending=null}if(R=o.baseState,E===null)o.memoizedState=R;else{d=E.next;var xe=X=null,Te=null,Ke=d,mt=!1;do{var bt=Ke.lane&-536870913;if(bt!==Ke.lane?(wn&bt)===bt:(Bo&bt)===bt){var st=Ke.revertLane;if(st===0)Te!==null&&(Te=Te.next={lane:0,revertLane:0,gesture:null,action:Ke.action,hasEagerState:Ke.hasEagerState,eagerState:Ke.eagerState,next:null}),bt===N&&(mt=!0);else if((Bo&st)===st){Ke=Ke.next,st===N&&(mt=!0);continue}else bt={lane:0,revertLane:Ke.revertLane,gesture:null,action:Ke.action,hasEagerState:Ke.hasEagerState,eagerState:Ke.eagerState,next:null},Te===null?(xe=Te=bt,X=R):Te=Te.next=bt,qs.lanes|=st,oh|=st;bt=Ke.action,uc&&f(R,bt),R=Ke.hasEagerState?Ke.eagerState:f(R,bt)}else st={lane:bt,revertLane:Ke.revertLane,gesture:Ke.gesture,action:Ke.action,hasEagerState:Ke.hasEagerState,eagerState:Ke.eagerState,next:null},Te===null?(xe=Te=st,X=R):Te=Te.next=st,qs.lanes|=bt,oh|=bt;Ke=Ke.next}while(Ke!==null&&Ke!==d);if(Te===null?X=R:Te.next=xe,!Jr(R,o.memoizedState)&&(na=!0,mt&&(f=T,f!==null)))throw f;o.memoizedState=R,o.baseState=X,o.baseQueue=Te,b.lastRenderedState=R}return E===null&&(b.lanes=0),[o.memoizedState,b.dispatch]}function ef(o){var d=Vr(),f=d.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var b=f.dispatch,E=f.pending,R=d.memoizedState;if(E!==null){f.pending=null;var X=E=E.next;do R=o(R,X.action),X=X.next;while(X!==E);Jr(R,d.memoizedState)||(na=!0),d.memoizedState=R,d.baseQueue===null&&(d.baseState=R),f.lastRenderedState=R}return[R,b]}function tf(o,d,f){var b=qs,E=Vr(),R=sn;if(R){if(f===void 0)throw Error(r(407));f=f()}else f=d();var X=!Jr((tn||E).memoizedState,f);if(X&&(E.memoizedState=f,na=!0),E=E.queue,O0(Rp.bind(null,b,E,o),[o]),E.getSnapshot!==d||X||vr!==null&&vr.memoizedState.tag&1){if(b.flags|=2048,vu(9,{destroy:void 0},Lp.bind(null,b,E,f,d),null),yr===null)throw Error(r(349));R||(Bo&127)!==0||Ic(b,d,f)}return f}function Ic(o,d,f){o.flags|=16384,o={getSnapshot:d,value:f},d=qs.updateQueue,d===null?(d=nm(),qs.updateQueue=d,d.stores=[o]):(f=d.stores,f===null?d.stores=[o]:f.push(o))}function Lp(o,d,f,b){d.value=f,d.getSnapshot=b,wx(d)&&Op(o)}function Rp(o,d,f){return f(function(){wx(d)&&Op(o)})}function wx(o){var d=o.getSnapshot;o=o.value;try{var f=d();return!Jr(o,f)}catch{return!0}}function Op(o){var d=po(o,2);d!==null&&cl(d,o,2)}function Od(o){var d=sa();if(typeof o=="function"){var f=o;if(o=f(),uc){zs(!0);try{f()}finally{zs(!1)}}}return d.memoizedState=d.baseState=o,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hc,lastRenderedState:o},d}function Nx(o,d,f,b){return o.baseState=f,sh(o,tn,typeof b=="function"?b:hc)}function _x(o,d,f,b,E){if(kx(o))throw Error(r(485));if(o=d.action,o!==null){var R={payload:E,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(X){R.listeners.push(X)}};q.T!==null?f(!0):R.isTransition=!1,b(R),f=d.pending,f===null?(R.next=d.pending=R,Sx(d,R)):(R.next=f.next,d.pending=f.next=R)}}function Sx(o,d){var f=d.action,b=d.payload,E=o.state;if(d.isTransition){var R=q.T,X={};q.T=X;try{var xe=f(E,b),Te=q.S;Te!==null&&Te(X,xe),Mp(o,d,xe)}catch(Ke){xu(o,d,Ke)}finally{R!==null&&X.types!==null&&(R.types=X.types),q.T=R}}else try{R=f(E,b),Mp(o,d,R)}catch(Ke){xu(o,d,Ke)}}function Mp(o,d,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(b){Cx(o,d,b)},function(b){return xu(o,d,b)}):Cx(o,d,f)}function Cx(o,d,f){d.status="fulfilled",d.value=f,sf(d),o.state=f,d=o.pending,d!==null&&(f=d.next,f===d?o.pending=null:(f=f.next,d.next=f,Sx(o,f)))}function xu(o,d,f){var b=o.pending;if(o.pending=null,b!==null){b=b.next;do d.status="rejected",d.reason=f,sf(d),d=d.next;while(d!==b)}o.action=null}function sf(o){o=o.listeners;for(var d=0;d<o.length;d++)(0,o[d])()}function rm(o,d){return d}function mc(o,d){if(sn){var f=yr.formState;if(f!==null){e:{var b=qs;if(sn){if(Tn){t:{for(var E=Tn,R=Sr;E.nodeType!==8;){if(!R){E=null;break t}if(E=fc(E.nextSibling),E===null){E=null;break t}}R=E.data,E=R==="F!"||R==="F"?E:null}if(E){Tn=fc(E.nextSibling),b=E.data==="F!";break e}}lc(b)}b=!1}b&&(d=f[0])}}return f=sa(),f.memoizedState=f.baseState=d,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rm,lastRenderedState:d},f.queue=b,f=sN.bind(null,qs,b),b.dispatch=f,b=Od(!1),R=B0.bind(null,qs,!1,b.queue),b=sa(),E={state:d,dispatch:null,action:o,pending:null},b.queue=E,f=_x.bind(null,qs,E,R,f),E.dispatch=f,b.memoizedState=o,[d,f,!1]}function Fc(o){var d=Vr();return Bc(d,tn,o)}function Bc(o,d,f){if(d=sh(o,d,rm)[0],o=Qm(hc)[0],typeof d=="object"&&d!==null&&typeof d.then=="function")try{var b=Rd(d)}catch(X){throw X===De?We:X}else b=d;d=Vr();var E=d.queue,R=E.dispatch;return f!==d.memoizedState&&(qs.flags|=2048,vu(9,{destroy:void 0},nf.bind(null,E,f),null)),[b,R,o]}function nf(o,d){o.action=d}function rf(o){var d=Vr(),f=tn;if(f!==null)return Bc(d,f,o);Vr(),d=d.memoizedState,f=Vr();var b=f.queue.dispatch;return f.memoizedState=o,[d,b,!1]}function vu(o,d,f,b){return o={tag:o,create:f,deps:b,inst:d,next:null},d=qs.updateQueue,d===null&&(d=nm(),qs.updateQueue=d),f=d.lastEffect,f===null?d.lastEffect=o.next=o:(b=f.next,f.next=o,o.next=b,d.lastEffect=o),o}function Ax(){return Vr().memoizedState}function nh(o,d,f,b){var E=sa();qs.flags|=o,E.memoizedState=vu(1|d,{destroy:void 0},f,b===void 0?null:b)}function rh(o,d,f,b){var E=Vr();b=b===void 0?null:b;var R=E.memoizedState.inst;tn!==null&&b!==null&&kp(b,tn.memoizedState.deps)?E.memoizedState=vu(d,R,f,b):(qs.flags|=o,E.memoizedState=vu(1|d,R,f,b))}function U2(o,d){nh(8390656,8,o,d)}function O0(o,d){rh(2048,8,o,d)}function eR(o){qs.flags|=4;var d=qs.updateQueue;if(d===null)d=nm(),qs.updateQueue=d,d.events=[o];else{var f=d.events;f===null?d.events=[o]:f.push(o)}}function $2(o){var d=Vr().memoizedState;return eR({ref:d,nextImpl:o}),function(){if((Jn&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}function V2(o,d){return rh(4,2,o,d)}function H2(o,d){return rh(4,4,o,d)}function G2(o,d){if(typeof d=="function"){o=o();var f=d(o);return function(){typeof f=="function"?f():d(null)}}if(d!=null)return o=o(),d.current=o,function(){d.current=null}}function W2(o,d,f){f=f!=null?f.concat([o]):null,rh(4,4,G2.bind(null,d,o),f)}function M0(){}function Y2(o,d){var f=Vr();d=d===void 0?null:d;var b=f.memoizedState;return d!==null&&kp(d,b[1])?b[0]:(f.memoizedState=[o,d],o)}function Z2(o,d){var f=Vr();d=d===void 0?null:d;var b=f.memoizedState;if(d!==null&&kp(d,b[1]))return b[0];if(b=o(),uc){zs(!0);try{o()}finally{zs(!1)}}return f.memoizedState=[b,d],b}function D0(o,d,f){return f===void 0||(Bo&1073741824)!==0&&(wn&261930)===0?o.memoizedState=d:(o.memoizedState=f,o=KN(),qs.lanes|=o,oh|=o,f)}function K2(o,d,f,b){return Jr(f,d)?f:Ur.current!==null?(o=D0(o,f,b),Jr(o,d)||(na=!0),o):(Bo&42)===0||(Bo&1073741824)!==0&&(wn&261930)===0?(na=!0,o.memoizedState=f):(o=KN(),qs.lanes|=o,oh|=o,d)}function J2(o,d,f,b,E){var R=ce.p;ce.p=R!==0&&8>R?R:8;var X=q.T,xe={};q.T=xe,B0(o,!1,d,f);try{var Te=E(),Ke=q.S;if(Ke!==null&&Ke(xe,Te),Te!==null&&typeof Te=="object"&&typeof Te.then=="function"){var mt=ae(Te,b);Dp(o,d,mt,Tl(o))}else Dp(o,d,b,Tl(o))}catch(bt){Dp(o,d,{then:function(){},status:"rejected",reason:bt},Tl())}finally{ce.p=R,X!==null&&xe.types!==null&&(X.types=xe.types),q.T=X}}function tR(){}function I0(o,d,f,b){if(o.tag!==5)throw Error(r(476));var E=X2(o).queue;J2(o,E,d,te,f===null?tR:function(){return Q2(o),f(b)})}function X2(o){var d=o.memoizedState;if(d!==null)return d;d={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hc,lastRenderedState:te},next:null};var f={};return d.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hc,lastRenderedState:f},next:null},o.memoizedState=d,o=o.alternate,o!==null&&(o.memoizedState=d),d}function Q2(o){var d=X2(o);d.next===null&&(d=o.alternate.memoizedState),Dp(o,d.next.queue,{},Tl())}function F0(){return ya(Qp)}function eN(){return Vr().memoizedState}function tN(){return Vr().memoizedState}function sR(o){for(var d=o.return;d!==null;){switch(d.tag){case 24:case 3:var f=Tl();o=As(f);var b=rr(d,o,f);b!==null&&(cl(b,d,f),Qi(b,d,f)),d={cache:eh()},o.payload=d;return}d=d.return}}function nR(o,d,f){var b=Tl();f={lane:b,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},kx(o)?nN(d,f):(f=wd(o,d,f,b),f!==null&&(cl(f,o,b),rN(f,d,b)))}function sN(o,d,f){var b=Tl();Dp(o,d,f,b)}function Dp(o,d,f,b){var E={lane:b,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(kx(o))nN(d,E);else{var R=o.alternate;if(o.lanes===0&&(R===null||R.lanes===0)&&(R=d.lastRenderedReducer,R!==null))try{var X=d.lastRenderedState,xe=R(X,f);if(E.hasEagerState=!0,E.eagerState=xe,Jr(xe,X))return Ja(o,d,E,0),yr===null&&Sl(),!1}catch{}finally{}if(f=wd(o,d,E,b),f!==null)return cl(f,o,b),rN(f,d,b),!0}return!1}function B0(o,d,f,b){if(b={lane:2,revertLane:xb(),gesture:null,action:b,hasEagerState:!1,eagerState:null,next:null},kx(o)){if(d)throw Error(r(479))}else d=wd(o,f,b,2),d!==null&&cl(d,o,2)}function kx(o){var d=o.alternate;return o===qs||d!==null&&d===qs}function nN(o,d){pu=Mc=!0;var f=o.pending;f===null?d.next=d:(d.next=f.next,f.next=d),o.pending=d}function rN(o,d,f){if((f&4194048)!==0){var b=d.lanes;b&=o.pendingLanes,f|=b,d.lanes=f,gr(o,f)}}var Ip={readContext:ya,use:th,useCallback:mr,useContext:mr,useEffect:mr,useImperativeHandle:mr,useLayoutEffect:mr,useInsertionEffect:mr,useMemo:mr,useReducer:mr,useRef:mr,useState:mr,useDebugValue:mr,useDeferredValue:mr,useTransition:mr,useSyncExternalStore:mr,useId:mr,useHostTransitionStatus:mr,useFormState:mr,useActionState:mr,useOptimistic:mr,useMemoCache:mr,useCacheRefresh:mr};Ip.useEffectEvent=mr;var iN={readContext:ya,use:th,useCallback:function(o,d){return sa().memoizedState=[o,d===void 0?null:d],o},useContext:ya,useEffect:U2,useImperativeHandle:function(o,d,f){f=f!=null?f.concat([o]):null,nh(4194308,4,G2.bind(null,d,o),f)},useLayoutEffect:function(o,d){return nh(4194308,4,o,d)},useInsertionEffect:function(o,d){nh(4,2,o,d)},useMemo:function(o,d){var f=sa();d=d===void 0?null:d;var b=o();if(uc){zs(!0);try{o()}finally{zs(!1)}}return f.memoizedState=[b,d],b},useReducer:function(o,d,f){var b=sa();if(f!==void 0){var E=f(d);if(uc){zs(!0);try{f(d)}finally{zs(!1)}}}else E=d;return b.memoizedState=b.baseState=E,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:E},b.queue=o,o=o.dispatch=nR.bind(null,qs,o),[b.memoizedState,o]},useRef:function(o){var d=sa();return o={current:o},d.memoizedState=o},useState:function(o){o=Od(o);var d=o.queue,f=sN.bind(null,qs,d);return d.dispatch=f,[o.memoizedState,f]},useDebugValue:M0,useDeferredValue:function(o,d){var f=sa();return D0(f,o,d)},useTransition:function(){var o=Od(!1);return o=J2.bind(null,qs,o.queue,!0,!1),sa().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,d,f){var b=qs,E=sa();if(sn){if(f===void 0)throw Error(r(407));f=f()}else{if(f=d(),yr===null)throw Error(r(349));(wn&127)!==0||Ic(b,d,f)}E.memoizedState=f;var R={value:f,getSnapshot:d};return E.queue=R,U2(Rp.bind(null,b,R,o),[o]),b.flags|=2048,vu(9,{destroy:void 0},Lp.bind(null,b,R,f,d),null),f},useId:function(){var o=sa(),d=yr.identifierPrefix;if(sn){var f=Ot,b=gt;f=(b&~(1<<32-Cs(b)-1)).toString(32)+f,d="_"+d+"R_"+f,f=sm++,0<f&&(d+="H"+f.toString(32)),d+="_"}else f=Km++,d="_"+d+"r_"+f.toString(32)+"_";return o.memoizedState=d},useHostTransitionStatus:F0,useFormState:mc,useActionState:mc,useOptimistic:function(o){var d=sa();d.memoizedState=d.baseState=o;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=f,d=B0.bind(null,qs,!0,f),f.dispatch=d,[o,d]},useMemoCache:gu,useCacheRefresh:function(){return sa().memoizedState=sR.bind(null,qs)},useEffectEvent:function(o){var d=sa(),f={impl:o};return d.memoizedState=f,function(){if((Jn&2)!==0)throw Error(r(440));return f.impl.apply(void 0,arguments)}}},z0={readContext:ya,use:th,useCallback:Y2,useContext:ya,useEffect:O0,useImperativeHandle:W2,useInsertionEffect:V2,useLayoutEffect:H2,useMemo:Z2,useReducer:Qm,useRef:Ax,useState:function(){return Qm(hc)},useDebugValue:M0,useDeferredValue:function(o,d){var f=Vr();return K2(f,tn.memoizedState,o,d)},useTransition:function(){var o=Qm(hc)[0],d=Vr().memoizedState;return[typeof o=="boolean"?o:Rd(o),d]},useSyncExternalStore:tf,useId:eN,useHostTransitionStatus:F0,useFormState:Fc,useActionState:Fc,useOptimistic:function(o,d){var f=Vr();return Nx(f,tn,o,d)},useMemoCache:gu,useCacheRefresh:tN};z0.useEffectEvent=$2;var aN={readContext:ya,use:th,useCallback:Y2,useContext:ya,useEffect:O0,useImperativeHandle:W2,useInsertionEffect:V2,useLayoutEffect:H2,useMemo:Z2,useReducer:ef,useRef:Ax,useState:function(){return ef(hc)},useDebugValue:M0,useDeferredValue:function(o,d){var f=Vr();return tn===null?D0(f,o,d):K2(f,tn.memoizedState,o,d)},useTransition:function(){var o=ef(hc)[0],d=Vr().memoizedState;return[typeof o=="boolean"?o:Rd(o),d]},useSyncExternalStore:tf,useId:eN,useHostTransitionStatus:F0,useFormState:rf,useActionState:rf,useOptimistic:function(o,d){var f=Vr();return tn!==null?Nx(f,tn,o,d):(f.baseState=o,[o,f.queue.dispatch])},useMemoCache:gu,useCacheRefresh:tN};aN.useEffectEvent=$2;function q0(o,d,f,b){d=o.memoizedState,f=f(b,d),f=f==null?d:p({},d,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var U0={enqueueSetState:function(o,d,f){o=o._reactInternals;var b=Tl(),E=As(b);E.payload=d,f!=null&&(E.callback=f),d=rr(o,E,b),d!==null&&(cl(d,o,b),Qi(d,o,b))},enqueueReplaceState:function(o,d,f){o=o._reactInternals;var b=Tl(),E=As(b);E.tag=1,E.payload=d,f!=null&&(E.callback=f),d=rr(o,E,b),d!==null&&(cl(d,o,b),Qi(d,o,b))},enqueueForceUpdate:function(o,d){o=o._reactInternals;var f=Tl(),b=As(f);b.tag=2,d!=null&&(b.callback=d),d=rr(o,b,f),d!==null&&(cl(d,o,f),Qi(d,o,f))}};function oN(o,d,f,b,E,R,X){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(b,R,X):d.prototype&&d.prototype.isPureReactComponent?!Ya(f,b)||!Ya(E,R):!0}function lN(o,d,f,b){o=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(f,b),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(f,b),d.state!==o&&U0.enqueueReplaceState(d,d.state,null)}function im(o,d){var f=d;if("ref"in d){f={};for(var b in d)b!=="ref"&&(f[b]=d[b])}if(o=o.defaultProps){f===d&&(f=p({},f));for(var E in o)f[E]===void 0&&(f[E]=o[E])}return f}function cN(o){kn(o)}function dN(o){console.error(o)}function uN(o){kn(o)}function Ex(o,d){try{var f=o.onUncaughtError;f(d.value,{componentStack:d.stack})}catch(b){setTimeout(function(){throw b})}}function hN(o,d,f){try{var b=o.onCaughtError;b(f.value,{componentStack:f.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function $0(o,d,f){return f=As(f),f.tag=3,f.payload={element:null},f.callback=function(){Ex(o,d)},f}function mN(o){return o=As(o),o.tag=3,o}function fN(o,d,f,b){var E=f.type.getDerivedStateFromError;if(typeof E=="function"){var R=b.value;o.payload=function(){return E(R)},o.callback=function(){hN(d,f,b)}}var X=f.stateNode;X!==null&&typeof X.componentDidCatch=="function"&&(o.callback=function(){hN(d,f,b),typeof E!="function"&&(lh===null?lh=new Set([this]):lh.add(this));var xe=b.stack;this.componentDidCatch(b.value,{componentStack:xe!==null?xe:""})})}function rR(o,d,f,b,E){if(f.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(d=f.alternate,d!==null&&Ed(d,f,E,!0),f=ti.current,f!==null){switch(f.tag){case 31:case 13:return ta===null?qx():f.alternate===null&&hi===0&&(hi=3),f.flags&=-257,f.flags|=65536,f.lanes=E,b===$e?f.flags|=16384:(d=f.updateQueue,d===null?f.updateQueue=new Set([b]):d.add(b),fb(o,b,E)),!1;case 22:return f.flags|=65536,b===$e?f.flags|=16384:(d=f.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([b])},f.updateQueue=d):(f=d.retryQueue,f===null?d.retryQueue=new Set([b]):f.add(b)),fb(o,b,E)),!1}throw Error(r(435,f.tag))}return fb(o,b,E),qx(),!1}if(sn)return d=ti.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=E,b!==go&&(o=Error(r(422),{cause:b}),Cd(v(o,f)))):(b!==go&&(d=Error(r(423),{cause:b}),Cd(v(d,f))),o=o.current.alternate,o.flags|=65536,E&=-E,o.lanes|=E,b=v(b,f),E=$0(o.stateNode,b,E),qr(o,E),hi!==4&&(hi=2)),!1;var R=Error(r(520),{cause:b});if(R=v(R,f),Hp===null?Hp=[R]:Hp.push(R),hi!==4&&(hi=2),d===null)return!0;b=v(b,f),f=d;do{switch(f.tag){case 3:return f.flags|=65536,o=E&-E,f.lanes|=o,o=$0(f.stateNode,b,o),qr(f,o),!1;case 1:if(d=f.type,R=f.stateNode,(f.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(lh===null||!lh.has(R))))return f.flags|=65536,E&=-E,f.lanes|=E,E=mN(E),fN(E,o,f,b),qr(f,E),!1}f=f.return}while(f!==null);return!1}var V0=Error(r(461)),na=!1;function eo(o,d,f,b){d.child=o===null?jn(d,null,f,b):hn(d,o.child,f,b)}function pN(o,d,f,b,E){f=f.render;var R=d.ref;if("ref"in b){var X={};for(var xe in b)xe!=="ref"&&(X[xe]=b[xe])}else X=b;return Td(d),b=Ep(o,d,f,X,R,E),xe=Tp(),o!==null&&!na?(Pp(o,d,E),yu(o,d,E)):(sn&&xe&&Ri(d),d.flags|=1,eo(o,d,b,E),d.child)}function gN(o,d,f,b,E){if(o===null){var R=f.type;return typeof R=="function"&&!uu(R)&&R.defaultProps===void 0&&f.compare===null?(d.tag=15,d.type=R,xN(o,d,R,b,E)):(o=Rc(f.type,null,b,d,d.mode,E),o.ref=d.ref,o.return=d,d.child=o)}if(R=o.child,!X0(o,E)){var X=R.memoizedProps;if(f=f.compare,f=f!==null?f:Ya,f(X,b)&&o.ref===d.ref)return yu(o,d,E)}return d.flags|=1,o=Xa(R,b),o.ref=d.ref,o.return=d,d.child=o}function xN(o,d,f,b,E){if(o!==null){var R=o.memoizedProps;if(Ya(R,b)&&o.ref===d.ref)if(na=!1,d.pendingProps=b=R,X0(o,E))(o.flags&131072)!==0&&(na=!0);else return d.lanes=o.lanes,yu(o,d,E)}return H0(o,d,f,b,E)}function vN(o,d,f,b){var E=b.children,R=o!==null?o.memoizedState:null;if(o===null&&d.stateNode===null&&(d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),b.mode==="hidden"){if((d.flags&128)!==0){if(R=R!==null?R.baseLanes|f:f,o!==null){for(b=d.child=o.child,E=0;b!==null;)E=E|b.lanes|b.childLanes,b=b.sibling;b=E&~R}else b=0,d.child=null;return yN(o,d,R,f,b)}if((f&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},o!==null&&ye(d,R!==null?R.cachePool:null),R!==null?Io(d,R):rl(),Tr(d);else return b=d.lanes=536870912,yN(o,d,R!==null?R.baseLanes|f:f,f,b)}else R!==null?(ye(d,R.cachePool),Io(d,R),dc(),d.memoizedState=null):(o!==null&&ye(d,null),rl(),dc());return eo(o,d,E,f),d.child}function Fp(o,d){return o!==null&&o.tag===22||d.stateNode!==null||(d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.sibling}function yN(o,d,f,b,E){var R=ge();return R=R===null?null:{parent:ei._currentValue,pool:R},d.memoizedState={baseLanes:f,cachePool:R},o!==null&&ye(d,null),rl(),Tr(d),o!==null&&Ed(o,d,b,!0),d.childLanes=E,null}function Tx(o,d){return d=Lx({mode:d.mode,children:d.children},o.mode),d.ref=o.ref,o.child=d,d.return=o,d}function bN(o,d,f){return hn(d,o.child,null,f),o=Tx(d,d.pendingProps),o.flags|=2,vo(d),d.memoizedState=null,o}function iR(o,d,f){var b=d.pendingProps,E=(d.flags&128)!==0;if(d.flags&=-129,o===null){if(sn){if(b.mode==="hidden")return o=Tx(d,b),d.lanes=536870912,Fp(null,o);if(cc(d),(o=Tn)?(o=L_(o,Sr),o=o!==null&&o.data==="&"?o:null,o!==null&&(d.memoizedState={dehydrated:o,treeContext:Qe!==null?{id:gt,overflow:Ot}:null,retryLane:536870912,hydrationErrors:null},f=hu(o),f.return=d,d.child=f,En=d,Tn=null)):o=null,o===null)throw lc(d);return d.lanes=536870912,null}return Tx(d,b)}var R=o.memoizedState;if(R!==null){var X=R.dehydrated;if(cc(d),E)if(d.flags&256)d.flags&=-257,d=bN(o,d,f);else if(d.memoizedState!==null)d.child=o.child,d.flags|=128,d=null;else throw Error(r(558));else if(na||Ed(o,d,f,!1),E=(f&o.childLanes)!==0,na||E){if(b=yr,b!==null&&(X=Gn(b,f),X!==0&&X!==R.retryLane))throw R.retryLane=X,po(o,X),cl(b,o,X),V0;qx(),d=bN(o,d,f)}else o=R.treeContext,Tn=fc(X.nextSibling),En=d,sn=!0,va=null,Sr=!1,o!==null&&Qa(d,o),d=Tx(d,b),d.flags|=4096;return d}return o=Xa(o.child,{mode:b.mode,children:b.children}),o.ref=d.ref,d.child=o,o.return=d,o}function Px(o,d){var f=d.ref;if(f===null)o!==null&&o.ref!==null&&(d.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(o===null||o.ref!==f)&&(d.flags|=4194816)}}function H0(o,d,f,b,E){return Td(d),f=Ep(o,d,f,b,void 0,E),b=Tp(),o!==null&&!na?(Pp(o,d,E),yu(o,d,E)):(sn&&b&&Ri(d),d.flags|=1,eo(o,d,f,E),d.child)}function jN(o,d,f,b,E,R){return Td(d),d.updateQueue=null,f=Dc(d,b,f,E),Jm(o),b=Tp(),o!==null&&!na?(Pp(o,d,R),yu(o,d,R)):(sn&&b&&Ri(d),d.flags|=1,eo(o,d,f,R),d.child)}function wN(o,d,f,b,E){if(Td(d),d.stateNode===null){var R=di,X=f.contextType;typeof X=="object"&&X!==null&&(R=ya(X)),R=new f(b,R),d.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,R.updater=U0,d.stateNode=R,R._reactInternals=d,R=d.stateNode,R.props=b,R.state=d.memoizedState,R.refs={},Kn(d),X=f.contextType,R.context=typeof X=="object"&&X!==null?ya(X):di,R.state=d.memoizedState,X=f.getDerivedStateFromProps,typeof X=="function"&&(q0(d,f,X,b),R.state=d.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof R.getSnapshotBeforeUpdate=="function"||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(X=R.state,typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount(),X!==R.state&&U0.enqueueReplaceState(R,R.state,null),ba(d,b,R,E),Cn(),R.state=d.memoizedState),typeof R.componentDidMount=="function"&&(d.flags|=4194308),b=!0}else if(o===null){R=d.stateNode;var xe=d.memoizedProps,Te=im(f,xe);R.props=Te;var Ke=R.context,mt=f.contextType;X=di,typeof mt=="object"&&mt!==null&&(X=ya(mt));var bt=f.getDerivedStateFromProps;mt=typeof bt=="function"||typeof R.getSnapshotBeforeUpdate=="function",xe=d.pendingProps!==xe,mt||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(xe||Ke!==X)&&lN(d,R,b,X),$s=!1;var st=d.memoizedState;R.state=st,ba(d,b,R,E),Cn(),Ke=d.memoizedState,xe||st!==Ke||$s?(typeof bt=="function"&&(q0(d,f,bt,b),Ke=d.memoizedState),(Te=$s||oN(d,f,Te,b,st,Ke,X))?(mt||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(d.flags|=4194308)):(typeof R.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=b,d.memoizedState=Ke),R.props=b,R.state=Ke,R.context=X,b=Te):(typeof R.componentDidMount=="function"&&(d.flags|=4194308),b=!1)}else{R=d.stateNode,qn(o,d),X=d.memoizedProps,mt=im(f,X),R.props=mt,bt=d.pendingProps,st=R.context,Ke=f.contextType,Te=di,typeof Ke=="object"&&Ke!==null&&(Te=ya(Ke)),xe=f.getDerivedStateFromProps,(Ke=typeof xe=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(X!==bt||st!==Te)&&lN(d,R,b,Te),$s=!1,st=d.memoizedState,R.state=st,ba(d,b,R,E),Cn();var at=d.memoizedState;X!==bt||st!==at||$s||o!==null&&o.dependencies!==null&&Wm(o.dependencies)?(typeof xe=="function"&&(q0(d,f,xe,b),at=d.memoizedState),(mt=$s||oN(d,f,mt,b,st,at,Te)||o!==null&&o.dependencies!==null&&Wm(o.dependencies))?(Ke||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(b,at,Te),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(b,at,Te)),typeof R.componentDidUpdate=="function"&&(d.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof R.componentDidUpdate!="function"||X===o.memoizedProps&&st===o.memoizedState||(d.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||X===o.memoizedProps&&st===o.memoizedState||(d.flags|=1024),d.memoizedProps=b,d.memoizedState=at),R.props=b,R.state=at,R.context=Te,b=mt):(typeof R.componentDidUpdate!="function"||X===o.memoizedProps&&st===o.memoizedState||(d.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||X===o.memoizedProps&&st===o.memoizedState||(d.flags|=1024),b=!1)}return R=b,Px(o,d),b=(d.flags&128)!==0,R||b?(R=d.stateNode,f=b&&typeof f.getDerivedStateFromError!="function"?null:R.render(),d.flags|=1,o!==null&&b?(d.child=hn(d,o.child,null,E),d.child=hn(d,null,f,E)):eo(o,d,f,E),d.memoizedState=R.state,o=d.child):o=yu(o,d,E),o}function NN(o,d,f,b){return Oc(),d.flags|=256,eo(o,d,f,b),d.child}var G0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function W0(o){return{baseLanes:o,cachePool:Ne()}}function Y0(o,d,f){return o=o!==null?o.childLanes&~f:0,d&&(o|=El),o}function _N(o,d,f){var b=d.pendingProps,E=!1,R=(d.flags&128)!==0,X;if((X=R)||(X=o!==null&&o.memoizedState===null?!1:($r.current&2)!==0),X&&(E=!0,d.flags&=-129),X=(d.flags&32)!==0,d.flags&=-33,o===null){if(sn){if(E?Fo(d):dc(),(o=Tn)?(o=L_(o,Sr),o=o!==null&&o.data!=="&"?o:null,o!==null&&(d.memoizedState={dehydrated:o,treeContext:Qe!==null?{id:gt,overflow:Ot}:null,retryLane:536870912,hydrationErrors:null},f=hu(o),f.return=d,d.child=f,En=d,Tn=null)):o=null,o===null)throw lc(d);return Tb(o)?d.lanes=32:d.lanes=536870912,null}var xe=b.children;return b=b.fallback,E?(dc(),E=d.mode,xe=Lx({mode:"hidden",children:xe},E),b=oc(b,E,f,null),xe.return=d,b.return=d,xe.sibling=b,d.child=xe,b=d.child,b.memoizedState=W0(f),b.childLanes=Y0(o,X,f),d.memoizedState=G0,Fp(null,b)):(Fo(d),Z0(d,xe))}var Te=o.memoizedState;if(Te!==null&&(xe=Te.dehydrated,xe!==null)){if(R)d.flags&256?(Fo(d),d.flags&=-257,d=K0(o,d,f)):d.memoizedState!==null?(dc(),d.child=o.child,d.flags|=128,d=null):(dc(),xe=b.fallback,E=d.mode,b=Lx({mode:"visible",children:b.children},E),xe=oc(xe,E,f,null),xe.flags|=2,b.return=d,xe.return=d,b.sibling=xe,d.child=b,hn(d,o.child,null,f),b=d.child,b.memoizedState=W0(f),b.childLanes=Y0(o,X,f),d.memoizedState=G0,d=Fp(null,b));else if(Fo(d),Tb(xe)){if(X=xe.nextSibling&&xe.nextSibling.dataset,X)var Ke=X.dgst;X=Ke,b=Error(r(419)),b.stack="",b.digest=X,Cd({value:b,source:null,stack:null}),d=K0(o,d,f)}else if(na||Ed(o,d,f,!1),X=(f&o.childLanes)!==0,na||X){if(X=yr,X!==null&&(b=Gn(X,f),b!==0&&b!==Te.retryLane))throw Te.retryLane=b,po(o,b),cl(X,o,b),V0;Eb(xe)||qx(),d=K0(o,d,f)}else Eb(xe)?(d.flags|=192,d.child=o.child,d=null):(o=Te.treeContext,Tn=fc(xe.nextSibling),En=d,sn=!0,va=null,Sr=!1,o!==null&&Qa(d,o),d=Z0(d,b.children),d.flags|=4096);return d}return E?(dc(),xe=b.fallback,E=d.mode,Te=o.child,Ke=Te.sibling,b=Xa(Te,{mode:"hidden",children:b.children}),b.subtreeFlags=Te.subtreeFlags&65011712,Ke!==null?xe=Xa(Ke,xe):(xe=oc(xe,E,f,null),xe.flags|=2),xe.return=d,b.return=d,b.sibling=xe,d.child=b,Fp(null,b),b=d.child,xe=o.child.memoizedState,xe===null?xe=W0(f):(E=xe.cachePool,E!==null?(Te=ei._currentValue,E=E.parent!==Te?{parent:Te,pool:Te}:E):E=Ne(),xe={baseLanes:xe.baseLanes|f,cachePool:E}),b.memoizedState=xe,b.childLanes=Y0(o,X,f),d.memoizedState=G0,Fp(o.child,b)):(Fo(d),f=o.child,o=f.sibling,f=Xa(f,{mode:"visible",children:b.children}),f.return=d,f.sibling=null,o!==null&&(X=d.deletions,X===null?(d.deletions=[o],d.flags|=16):X.push(o)),d.child=f,d.memoizedState=null,f)}function Z0(o,d){return d=Lx({mode:"visible",children:d},o.mode),d.return=o,o.child=d}function Lx(o,d){return o=Li(22,o,null,d),o.lanes=0,o}function K0(o,d,f){return hn(d,o.child,null,f),o=Z0(d,d.pendingProps.children),o.flags|=2,d.memoizedState=null,o}function SN(o,d,f){o.lanes|=d;var b=o.alternate;b!==null&&(b.lanes|=d),Qu(o.return,d,f)}function J0(o,d,f,b,E,R){var X=o.memoizedState;X===null?o.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:b,tail:f,tailMode:E,treeForkCount:R}:(X.isBackwards=d,X.rendering=null,X.renderingStartTime=0,X.last=b,X.tail=f,X.tailMode=E,X.treeForkCount=R)}function CN(o,d,f){var b=d.pendingProps,E=b.revealOrder,R=b.tail;b=b.children;var X=$r.current,xe=(X&2)!==0;if(xe?(X=X&1|2,d.flags|=128):X&=1,J($r,X),eo(o,d,b,f),b=sn?pe:0,!xe&&o!==null&&(o.flags&128)!==0)e:for(o=d.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&SN(o,f,d);else if(o.tag===19)SN(o,f,d);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===d)break e;for(;o.sibling===null;){if(o.return===null||o.return===d)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(E){case"forwards":for(f=d.child,E=null;f!==null;)o=f.alternate,o!==null&&fu(o)===null&&(E=f),f=f.sibling;f=E,f===null?(E=d.child,d.child=null):(E=f.sibling,f.sibling=null),J0(d,!1,E,f,R,b);break;case"backwards":case"unstable_legacy-backwards":for(f=null,E=d.child,d.child=null;E!==null;){if(o=E.alternate,o!==null&&fu(o)===null){d.child=E;break}o=E.sibling,E.sibling=f,f=E,E=o}J0(d,!0,f,null,R,b);break;case"together":J0(d,!1,null,null,void 0,b);break;default:d.memoizedState=null}return d.child}function yu(o,d,f){if(o!==null&&(d.dependencies=o.dependencies),oh|=d.lanes,(f&d.childLanes)===0)if(o!==null){if(Ed(o,d,f,!1),(f&d.childLanes)===0)return null}else return null;if(o!==null&&d.child!==o.child)throw Error(r(153));if(d.child!==null){for(o=d.child,f=Xa(o,o.pendingProps),d.child=f,f.return=d;o.sibling!==null;)o=o.sibling,f=f.sibling=Xa(o,o.pendingProps),f.return=d;f.sibling=null}return d.child}function X0(o,d){return(o.lanes&d)!==0?!0:(o=o.dependencies,!!(o!==null&&Wm(o)))}function aR(o,d,f){switch(d.tag){case 3:Ce(d,d.stateNode.containerInfo),kd(d,ei,o.memoizedState.cache),Oc();break;case 27:case 5:Xe(d);break;case 4:Ce(d,d.stateNode.containerInfo);break;case 10:kd(d,d.type,d.memoizedProps.value);break;case 31:if(d.memoizedState!==null)return d.flags|=128,cc(d),null;break;case 13:var b=d.memoizedState;if(b!==null)return b.dehydrated!==null?(Fo(d),d.flags|=128,null):(f&d.child.childLanes)!==0?_N(o,d,f):(Fo(d),o=yu(o,d,f),o!==null?o.sibling:null);Fo(d);break;case 19:var E=(o.flags&128)!==0;if(b=(f&d.childLanes)!==0,b||(Ed(o,d,f,!1),b=(f&d.childLanes)!==0),E){if(b)return CN(o,d,f);d.flags|=128}if(E=d.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),J($r,$r.current),b)break;return null;case 22:return d.lanes=0,vN(o,d,f,d.pendingProps);case 24:kd(d,ei,o.memoizedState.cache)}return yu(o,d,f)}function AN(o,d,f){if(o!==null)if(o.memoizedProps!==d.pendingProps)na=!0;else{if(!X0(o,f)&&(d.flags&128)===0)return na=!1,aR(o,d,f);na=(o.flags&131072)!==0}else na=!1,sn&&(d.flags&1048576)!==0&&Ys(d,pe,d.index);switch(d.lanes=0,d.tag){case 16:e:{var b=d.pendingProps;if(o=Ie(d.elementType),d.type=o,typeof o=="function")uu(o)?(b=im(o,b),d.tag=1,d=wN(null,d,o,b,f)):(d.tag=0,d=H0(null,d,o,b,f));else{if(o!=null){var E=o.$$typeof;if(E===O){d.tag=11,d=pN(null,d,o,b,f);break e}else if(E===B){d.tag=14,d=gN(null,d,o,b,f);break e}}throw d=Z(o)||o,Error(r(306,d,""))}}return d;case 0:return H0(o,d,d.type,d.pendingProps,f);case 1:return b=d.type,E=im(b,d.pendingProps),wN(o,d,b,E,f);case 3:e:{if(Ce(d,d.stateNode.containerInfo),o===null)throw Error(r(387));b=d.pendingProps;var R=d.memoizedState;E=R.element,qn(o,d),ba(d,b,null,f);var X=d.memoizedState;if(b=X.cache,kd(d,ei,b),b!==R.cache&&mu(d,[ei],f,!0),Cn(),b=X.element,R.isDehydrated)if(R={element:b,isDehydrated:!1,cache:X.cache},d.updateQueue.baseState=R,d.memoizedState=R,d.flags&256){d=NN(o,d,b,f);break e}else if(b!==E){E=v(Error(r(424)),d),Cd(E),d=NN(o,d,b,f);break e}else{switch(o=d.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Tn=fc(o.firstChild),En=d,sn=!0,va=null,Sr=!0,f=jn(d,null,b,f),d.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(Oc(),b===E){d=yu(o,d,f);break e}eo(o,d,b,f)}d=d.child}return d;case 26:return Px(o,d),o===null?(f=F_(d.type,null,d.pendingProps,null))?d.memoizedState=f:sn||(f=d.type,o=d.pendingProps,b=Yx(be.current).createElement(f),b[Bn]=d,b[er]=o,to(b,f,o),Ir(b),d.stateNode=b):d.memoizedState=F_(d.type,o.memoizedProps,d.pendingProps,o.memoizedState),null;case 27:return Xe(d),o===null&&sn&&(b=d.stateNode=M_(d.type,d.pendingProps,be.current),En=d,Sr=!0,E=Tn,hh(d.type)?(Pb=E,Tn=fc(b.firstChild)):Tn=E),eo(o,d,d.pendingProps.children,f),Px(o,d),o===null&&(d.flags|=4194304),d.child;case 5:return o===null&&sn&&((E=b=Tn)&&(b=DR(b,d.type,d.pendingProps,Sr),b!==null?(d.stateNode=b,En=d,Tn=fc(b.firstChild),Sr=!1,E=!0):E=!1),E||lc(d)),Xe(d),E=d.type,R=d.pendingProps,X=o!==null?o.memoizedProps:null,b=R.children,Cb(E,R)?b=null:X!==null&&Cb(E,X)&&(d.flags|=32),d.memoizedState!==null&&(E=Ep(o,d,R0,null,null,f),Qp._currentValue=E),Px(o,d),eo(o,d,b,f),d.child;case 6:return o===null&&sn&&((o=f=Tn)&&(f=IR(f,d.pendingProps,Sr),f!==null?(d.stateNode=f,En=d,Tn=null,o=!0):o=!1),o||lc(d)),null;case 13:return _N(o,d,f);case 4:return Ce(d,d.stateNode.containerInfo),b=d.pendingProps,o===null?d.child=hn(d,null,b,f):eo(o,d,b,f),d.child;case 11:return pN(o,d,d.type,d.pendingProps,f);case 7:return eo(o,d,d.pendingProps,f),d.child;case 8:return eo(o,d,d.pendingProps.children,f),d.child;case 12:return eo(o,d,d.pendingProps.children,f),d.child;case 10:return b=d.pendingProps,kd(d,d.type,b.value),eo(o,d,b.children,f),d.child;case 9:return E=d.type._context,b=d.pendingProps.children,Td(d),E=ya(E),b=b(E),d.flags|=1,eo(o,d,b,f),d.child;case 14:return gN(o,d,d.type,d.pendingProps,f);case 15:return xN(o,d,d.type,d.pendingProps,f);case 19:return CN(o,d,f);case 31:return iR(o,d,f);case 22:return vN(o,d,f,d.pendingProps);case 24:return Td(d),b=ya(ei),o===null?(E=ge(),E===null&&(E=yr,R=eh(),E.pooledCache=R,R.refCount++,R!==null&&(E.pooledCacheLanes|=f),E=R),d.memoizedState={parent:b,cache:E},Kn(d),kd(d,ei,E)):((o.lanes&f)!==0&&(qn(o,d),ba(d,null,null,f),Cn()),E=o.memoizedState,R=d.memoizedState,E.parent!==b?(E={parent:b,cache:b},d.memoizedState=E,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=E),kd(d,ei,b)):(b=R.cache,kd(d,ei,b),b!==E.cache&&mu(d,[ei],f,!0))),eo(o,d,d.pendingProps.children,f),d.child;case 29:throw d.pendingProps}throw Error(r(156,d.tag))}function bu(o){o.flags|=4}function Q0(o,d,f,b,E){if((d=(o.mode&32)!==0)&&(d=!1),d){if(o.flags|=16777216,(E&335544128)===E)if(o.stateNode.complete)o.flags|=8192;else if(e_())o.flags|=8192;else throw qe=$e,Ye}else o.flags&=-16777217}function kN(o,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!$_(d))if(e_())o.flags|=8192;else throw qe=$e,Ye}function Rx(o,d){d!==null&&(o.flags|=4),o.flags&16384&&(d=o.tag!==22?xn():536870912,o.lanes|=d,cf|=d)}function Bp(o,d){if(!sn)switch(o.tailMode){case"hidden":d=o.tail;for(var f=null;d!==null;)d.alternate!==null&&(f=d),d=d.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var b=null;f!==null;)f.alternate!==null&&(b=f),f=f.sibling;b===null?d||o.tail===null?o.tail=null:o.tail.sibling=null:b.sibling=null}}function Pr(o){var d=o.alternate!==null&&o.alternate.child===o.child,f=0,b=0;if(d)for(var E=o.child;E!==null;)f|=E.lanes|E.childLanes,b|=E.subtreeFlags&65011712,b|=E.flags&65011712,E.return=o,E=E.sibling;else for(E=o.child;E!==null;)f|=E.lanes|E.childLanes,b|=E.subtreeFlags,b|=E.flags,E.return=o,E=E.sibling;return o.subtreeFlags|=b,o.childLanes=f,d}function oR(o,d,f){var b=d.pendingProps;switch(Er(d),d.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pr(d),null;case 1:return Pr(d),null;case 3:return f=d.stateNode,b=null,o!==null&&(b=o.memoizedState.cache),d.memoizedState.cache!==b&&(d.flags|=2048),nl(ei),Re(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(o===null||o.child===null)&&(zr(d)?bu(d):o===null||o.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,Qh())),Pr(d),null;case 26:var E=d.type,R=d.memoizedState;return o===null?(bu(d),R!==null?(Pr(d),kN(d,R)):(Pr(d),Q0(d,E,null,b,f))):R?R!==o.memoizedState?(bu(d),Pr(d),kN(d,R)):(Pr(d),d.flags&=-16777217):(o=o.memoizedProps,o!==b&&bu(d),Pr(d),Q0(d,E,o,b,f)),null;case 27:if(tt(d),f=be.current,E=d.type,o!==null&&d.stateNode!=null)o.memoizedProps!==b&&bu(d);else{if(!b){if(d.stateNode===null)throw Error(r(166));return Pr(d),null}o=se.current,zr(d)?Xu(d):(o=M_(E,b,f),d.stateNode=o,bu(d))}return Pr(d),null;case 5:if(tt(d),E=d.type,o!==null&&d.stateNode!=null)o.memoizedProps!==b&&bu(d);else{if(!b){if(d.stateNode===null)throw Error(r(166));return Pr(d),null}if(R=se.current,zr(d))Xu(d);else{var X=Yx(be.current);switch(R){case 1:R=X.createElementNS("http://www.w3.org/2000/svg",E);break;case 2:R=X.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;default:switch(E){case"svg":R=X.createElementNS("http://www.w3.org/2000/svg",E);break;case"math":R=X.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;case"script":R=X.createElement("div"),R.innerHTML="<script><\/script>",R=R.removeChild(R.firstChild);break;case"select":R=typeof b.is=="string"?X.createElement("select",{is:b.is}):X.createElement("select"),b.multiple?R.multiple=!0:b.size&&(R.size=b.size);break;default:R=typeof b.is=="string"?X.createElement(E,{is:b.is}):X.createElement(E)}}R[Bn]=d,R[er]=b;e:for(X=d.child;X!==null;){if(X.tag===5||X.tag===6)R.appendChild(X.stateNode);else if(X.tag!==4&&X.tag!==27&&X.child!==null){X.child.return=X,X=X.child;continue}if(X===d)break e;for(;X.sibling===null;){if(X.return===null||X.return===d)break e;X=X.return}X.sibling.return=X.return,X=X.sibling}d.stateNode=R;e:switch(to(R,E,b),E){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}b&&bu(d)}}return Pr(d),Q0(d,d.type,o===null?null:o.memoizedProps,d.pendingProps,f),null;case 6:if(o&&d.stateNode!=null)o.memoizedProps!==b&&bu(d);else{if(typeof b!="string"&&d.stateNode===null)throw Error(r(166));if(o=be.current,zr(d)){if(o=d.stateNode,f=d.memoizedProps,b=null,E=En,E!==null)switch(E.tag){case 27:case 5:b=E.memoizedProps}o[Bn]=d,o=!!(o.nodeValue===f||b!==null&&b.suppressHydrationWarning===!0||__(o.nodeValue,f)),o||lc(d,!0)}else o=Yx(o).createTextNode(b),o[Bn]=d,d.stateNode=o}return Pr(d),null;case 31:if(f=d.memoizedState,o===null||o.memoizedState!==null){if(b=zr(d),f!==null){if(o===null){if(!b)throw Error(r(318));if(o=d.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[Bn]=d}else Oc(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Pr(d),o=!1}else f=Qh(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=f),o=!0;if(!o)return d.flags&256?(vo(d),d):(vo(d),null);if((d.flags&128)!==0)throw Error(r(558))}return Pr(d),null;case 13:if(b=d.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(E=zr(d),b!==null&&b.dehydrated!==null){if(o===null){if(!E)throw Error(r(318));if(E=d.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(r(317));E[Bn]=d}else Oc(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Pr(d),E=!1}else E=Qh(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=E),E=!0;if(!E)return d.flags&256?(vo(d),d):(vo(d),null)}return vo(d),(d.flags&128)!==0?(d.lanes=f,d):(f=b!==null,o=o!==null&&o.memoizedState!==null,f&&(b=d.child,E=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(E=b.alternate.memoizedState.cachePool.pool),R=null,b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(R=b.memoizedState.cachePool.pool),R!==E&&(b.flags|=2048)),f!==o&&f&&(d.child.flags|=8192),Rx(d,d.updateQueue),Pr(d),null);case 4:return Re(),o===null&&jb(d.stateNode.containerInfo),Pr(d),null;case 10:return nl(d.type),Pr(d),null;case 19:if(U($r),b=d.memoizedState,b===null)return Pr(d),null;if(E=(d.flags&128)!==0,R=b.rendering,R===null)if(E)Bp(b,!1);else{if(hi!==0||o!==null&&(o.flags&128)!==0)for(o=d.child;o!==null;){if(R=fu(o),R!==null){for(d.flags|=128,Bp(b,!1),o=R.updateQueue,d.updateQueue=o,Rx(d,o),d.subtreeFlags=0,o=f,f=d.child;f!==null;)Nd(f,o),f=f.sibling;return J($r,$r.current&1|2),sn&&ts(d,b.treeForkCount),d.child}o=o.sibling}b.tail!==null&&rt()>Fx&&(d.flags|=128,E=!0,Bp(b,!1),d.lanes=4194304)}else{if(!E)if(o=fu(R),o!==null){if(d.flags|=128,E=!0,o=o.updateQueue,d.updateQueue=o,Rx(d,o),Bp(b,!0),b.tail===null&&b.tailMode==="hidden"&&!R.alternate&&!sn)return Pr(d),null}else 2*rt()-b.renderingStartTime>Fx&&f!==536870912&&(d.flags|=128,E=!0,Bp(b,!1),d.lanes=4194304);b.isBackwards?(R.sibling=d.child,d.child=R):(o=b.last,o!==null?o.sibling=R:d.child=R,b.last=R)}return b.tail!==null?(o=b.tail,b.rendering=o,b.tail=o.sibling,b.renderingStartTime=rt(),o.sibling=null,f=$r.current,J($r,E?f&1|2:f&1),sn&&ts(d,b.treeForkCount),o):(Pr(d),null);case 22:case 23:return vo(d),ui(),b=d.memoizedState!==null,o!==null?o.memoizedState!==null!==b&&(d.flags|=8192):b&&(d.flags|=8192),b?(f&536870912)!==0&&(d.flags&128)===0&&(Pr(d),d.subtreeFlags&6&&(d.flags|=8192)):Pr(d),f=d.updateQueue,f!==null&&Rx(d,f.retryQueue),f=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),b=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==f&&(d.flags|=2048),o!==null&&U(me),null;case 24:return f=null,o!==null&&(f=o.memoizedState.cache),d.memoizedState.cache!==f&&(d.flags|=2048),nl(ei),Pr(d),null;case 25:return null;case 30:return null}throw Error(r(156,d.tag))}function lR(o,d){switch(Er(d),d.tag){case 1:return o=d.flags,o&65536?(d.flags=o&-65537|128,d):null;case 3:return nl(ei),Re(),o=d.flags,(o&65536)!==0&&(o&128)===0?(d.flags=o&-65537|128,d):null;case 26:case 27:case 5:return tt(d),null;case 31:if(d.memoizedState!==null){if(vo(d),d.alternate===null)throw Error(r(340));Oc()}return o=d.flags,o&65536?(d.flags=o&-65537|128,d):null;case 13:if(vo(d),o=d.memoizedState,o!==null&&o.dehydrated!==null){if(d.alternate===null)throw Error(r(340));Oc()}return o=d.flags,o&65536?(d.flags=o&-65537|128,d):null;case 19:return U($r),null;case 4:return Re(),null;case 10:return nl(d.type),null;case 22:case 23:return vo(d),ui(),o!==null&&U(me),o=d.flags,o&65536?(d.flags=o&-65537|128,d):null;case 24:return nl(ei),null;case 25:return null;default:return null}}function EN(o,d){switch(Er(d),d.tag){case 3:nl(ei),Re();break;case 26:case 27:case 5:tt(d);break;case 4:Re();break;case 31:d.memoizedState!==null&&vo(d);break;case 13:vo(d);break;case 19:U($r);break;case 10:nl(d.type);break;case 22:case 23:vo(d),ui(),o!==null&&U(me);break;case 24:nl(ei)}}function zp(o,d){try{var f=d.updateQueue,b=f!==null?f.lastEffect:null;if(b!==null){var E=b.next;f=E;do{if((f.tag&o)===o){b=void 0;var R=f.create,X=f.inst;b=R(),X.destroy=b}f=f.next}while(f!==E)}}catch(xe){ar(d,d.return,xe)}}function ih(o,d,f){try{var b=d.updateQueue,E=b!==null?b.lastEffect:null;if(E!==null){var R=E.next;b=R;do{if((b.tag&o)===o){var X=b.inst,xe=X.destroy;if(xe!==void 0){X.destroy=void 0,E=d;var Te=f,Ke=xe;try{Ke()}catch(mt){ar(E,Te,mt)}}}b=b.next}while(b!==R)}}catch(mt){ar(d,d.return,mt)}}function TN(o){var d=o.updateQueue;if(d!==null){var f=o.stateNode;try{Oi(d,f)}catch(b){ar(o,o.return,b)}}}function PN(o,d,f){f.props=im(o.type,o.memoizedProps),f.state=o.memoizedState;try{f.componentWillUnmount()}catch(b){ar(o,d,b)}}function qp(o,d){try{var f=o.ref;if(f!==null){switch(o.tag){case 26:case 27:case 5:var b=o.stateNode;break;case 30:b=o.stateNode;break;default:b=o.stateNode}typeof f=="function"?o.refCleanup=f(b):f.current=b}}catch(E){ar(o,d,E)}}function Md(o,d){var f=o.ref,b=o.refCleanup;if(f!==null)if(typeof b=="function")try{b()}catch(E){ar(o,d,E)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(E){ar(o,d,E)}else f.current=null}function LN(o){var d=o.type,f=o.memoizedProps,b=o.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":f.autoFocus&&b.focus();break e;case"img":f.src?b.src=f.src:f.srcSet&&(b.srcset=f.srcSet)}}catch(E){ar(o,o.return,E)}}function eb(o,d,f){try{var b=o.stateNode;TR(b,o.type,f,d),b[er]=d}catch(E){ar(o,o.return,E)}}function RN(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&hh(o.type)||o.tag===4}function tb(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||RN(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&hh(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function sb(o,d,f){var b=o.tag;if(b===5||b===6)o=o.stateNode,d?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(o,d):(d=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,d.appendChild(o),f=f._reactRootContainer,f!=null||d.onclick!==null||(d.onclick=Zn));else if(b!==4&&(b===27&&hh(o.type)&&(f=o.stateNode,d=null),o=o.child,o!==null))for(sb(o,d,f),o=o.sibling;o!==null;)sb(o,d,f),o=o.sibling}function Ox(o,d,f){var b=o.tag;if(b===5||b===6)o=o.stateNode,d?f.insertBefore(o,d):f.appendChild(o);else if(b!==4&&(b===27&&hh(o.type)&&(f=o.stateNode),o=o.child,o!==null))for(Ox(o,d,f),o=o.sibling;o!==null;)Ox(o,d,f),o=o.sibling}function ON(o){var d=o.stateNode,f=o.memoizedProps;try{for(var b=o.type,E=d.attributes;E.length;)d.removeAttributeNode(E[0]);to(d,b,f),d[Bn]=o,d[er]=f}catch(R){ar(o,o.return,R)}}var ju=!1,ra=!1,nb=!1,MN=typeof WeakSet=="function"?WeakSet:Set,Da=null;function cR(o,d){if(o=o.containerInfo,_b=tv,o=uo(o),Ji(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var b=f.getSelection&&f.getSelection();if(b&&b.rangeCount!==0){f=b.anchorNode;var E=b.anchorOffset,R=b.focusNode;b=b.focusOffset;try{f.nodeType,R.nodeType}catch{f=null;break e}var X=0,xe=-1,Te=-1,Ke=0,mt=0,bt=o,st=null;t:for(;;){for(var at;bt!==f||E!==0&&bt.nodeType!==3||(xe=X+E),bt!==R||b!==0&&bt.nodeType!==3||(Te=X+b),bt.nodeType===3&&(X+=bt.nodeValue.length),(at=bt.firstChild)!==null;)st=bt,bt=at;for(;;){if(bt===o)break t;if(st===f&&++Ke===E&&(xe=X),st===R&&++mt===b&&(Te=X),(at=bt.nextSibling)!==null)break;bt=st,st=bt.parentNode}bt=at}f=xe===-1||Te===-1?null:{start:xe,end:Te}}else f=null}f=f||{start:0,end:0}}else f=null;for(Sb={focusedElem:o,selectionRange:f},tv=!1,Da=d;Da!==null;)if(d=Da,o=d.child,(d.subtreeFlags&1028)!==0&&o!==null)o.return=d,Da=o;else for(;Da!==null;){switch(d=Da,R=d.alternate,o=d.flags,d.tag){case 0:if((o&4)!==0&&(o=d.updateQueue,o=o!==null?o.events:null,o!==null))for(f=0;f<o.length;f++)E=o[f],E.ref.impl=E.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&R!==null){o=void 0,f=d,E=R.memoizedProps,R=R.memoizedState,b=f.stateNode;try{var ss=im(f.type,E);o=b.getSnapshotBeforeUpdate(ss,R),b.__reactInternalSnapshotBeforeUpdate=o}catch(ks){ar(f,f.return,ks)}}break;case 3:if((o&1024)!==0){if(o=d.stateNode.containerInfo,f=o.nodeType,f===9)kb(o);else if(f===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":kb(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=d.sibling,o!==null){o.return=d.return,Da=o;break}Da=d.return}}function DN(o,d,f){var b=f.flags;switch(f.tag){case 0:case 11:case 15:Nu(o,f),b&4&&zp(5,f);break;case 1:if(Nu(o,f),b&4)if(o=f.stateNode,d===null)try{o.componentDidMount()}catch(X){ar(f,f.return,X)}else{var E=im(f.type,d.memoizedProps);d=d.memoizedState;try{o.componentDidUpdate(E,d,o.__reactInternalSnapshotBeforeUpdate)}catch(X){ar(f,f.return,X)}}b&64&&TN(f),b&512&&qp(f,f.return);break;case 3:if(Nu(o,f),b&64&&(o=f.updateQueue,o!==null)){if(d=null,f.child!==null)switch(f.child.tag){case 27:case 5:d=f.child.stateNode;break;case 1:d=f.child.stateNode}try{Oi(o,d)}catch(X){ar(f,f.return,X)}}break;case 27:d===null&&b&4&&ON(f);case 26:case 5:Nu(o,f),d===null&&b&4&&LN(f),b&512&&qp(f,f.return);break;case 12:Nu(o,f);break;case 31:Nu(o,f),b&4&&BN(o,f);break;case 13:Nu(o,f),b&4&&zN(o,f),b&64&&(o=f.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(f=vR.bind(null,f),FR(o,f))));break;case 22:if(b=f.memoizedState!==null||ju,!b){d=d!==null&&d.memoizedState!==null||ra,E=ju;var R=ra;ju=b,(ra=d)&&!R?_u(o,f,(f.subtreeFlags&8772)!==0):Nu(o,f),ju=E,ra=R}break;case 30:break;default:Nu(o,f)}}function IN(o){var d=o.alternate;d!==null&&(o.alternate=null,IN(d)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(d=o.stateNode,d!==null&&Wl(d)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Hr=null,il=!1;function wu(o,d,f){for(f=f.child;f!==null;)FN(o,d,f),f=f.sibling}function FN(o,d,f){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(Ts,f)}catch{}switch(f.tag){case 26:ra||Md(f,d),wu(o,d,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:ra||Md(f,d);var b=Hr,E=il;hh(f.type)&&(Hr=f.stateNode,il=!1),wu(o,d,f),Kp(f.stateNode),Hr=b,il=E;break;case 5:ra||Md(f,d);case 6:if(b=Hr,E=il,Hr=null,wu(o,d,f),Hr=b,il=E,Hr!==null)if(il)try{(Hr.nodeType===9?Hr.body:Hr.nodeName==="HTML"?Hr.ownerDocument.body:Hr).removeChild(f.stateNode)}catch(R){ar(f,d,R)}else try{Hr.removeChild(f.stateNode)}catch(R){ar(f,d,R)}break;case 18:Hr!==null&&(il?(o=Hr,T_(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,f.stateNode),xf(o)):T_(Hr,f.stateNode));break;case 4:b=Hr,E=il,Hr=f.stateNode.containerInfo,il=!0,wu(o,d,f),Hr=b,il=E;break;case 0:case 11:case 14:case 15:ih(2,f,d),ra||ih(4,f,d),wu(o,d,f);break;case 1:ra||(Md(f,d),b=f.stateNode,typeof b.componentWillUnmount=="function"&&PN(f,d,b)),wu(o,d,f);break;case 21:wu(o,d,f);break;case 22:ra=(b=ra)||f.memoizedState!==null,wu(o,d,f),ra=b;break;default:wu(o,d,f)}}function BN(o,d){if(d.memoizedState===null&&(o=d.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{xf(o)}catch(f){ar(d,d.return,f)}}}function zN(o,d){if(d.memoizedState===null&&(o=d.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{xf(o)}catch(f){ar(d,d.return,f)}}function dR(o){switch(o.tag){case 31:case 13:case 19:var d=o.stateNode;return d===null&&(d=o.stateNode=new MN),d;case 22:return o=o.stateNode,d=o._retryCache,d===null&&(d=o._retryCache=new MN),d;default:throw Error(r(435,o.tag))}}function Mx(o,d){var f=dR(o);d.forEach(function(b){if(!f.has(b)){f.add(b);var E=yR.bind(null,o,b);b.then(E,E)}})}function al(o,d){var f=d.deletions;if(f!==null)for(var b=0;b<f.length;b++){var E=f[b],R=o,X=d,xe=X;e:for(;xe!==null;){switch(xe.tag){case 27:if(hh(xe.type)){Hr=xe.stateNode,il=!1;break e}break;case 5:Hr=xe.stateNode,il=!1;break e;case 3:case 4:Hr=xe.stateNode.containerInfo,il=!0;break e}xe=xe.return}if(Hr===null)throw Error(r(160));FN(R,X,E),Hr=null,il=!1,R=E.alternate,R!==null&&(R.return=null),E.return=null}if(d.subtreeFlags&13886)for(d=d.child;d!==null;)qN(d,o),d=d.sibling}var zc=null;function qN(o,d){var f=o.alternate,b=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:al(d,o),ol(o),b&4&&(ih(3,o,o.return),zp(3,o),ih(5,o,o.return));break;case 1:al(d,o),ol(o),b&512&&(ra||f===null||Md(f,f.return)),b&64&&ju&&(o=o.updateQueue,o!==null&&(b=o.callbacks,b!==null&&(f=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=f===null?b:f.concat(b))));break;case 26:var E=zc;if(al(d,o),ol(o),b&512&&(ra||f===null||Md(f,f.return)),b&4){var R=f!==null?f.memoizedState:null;if(b=o.memoizedState,f===null)if(b===null)if(o.stateNode===null){e:{b=o.type,f=o.memoizedProps,E=E.ownerDocument||E;t:switch(b){case"title":R=E.getElementsByTagName("title")[0],(!R||R[Yo]||R[Bn]||R.namespaceURI==="http://www.w3.org/2000/svg"||R.hasAttribute("itemprop"))&&(R=E.createElement(b),E.head.insertBefore(R,E.querySelector("head > title"))),to(R,b,f),R[Bn]=o,Ir(R),b=R;break e;case"link":var X=q_("link","href",E).get(b+(f.href||""));if(X){for(var xe=0;xe<X.length;xe++)if(R=X[xe],R.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&R.getAttribute("rel")===(f.rel==null?null:f.rel)&&R.getAttribute("title")===(f.title==null?null:f.title)&&R.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){X.splice(xe,1);break t}}R=E.createElement(b),to(R,b,f),E.head.appendChild(R);break;case"meta":if(X=q_("meta","content",E).get(b+(f.content||""))){for(xe=0;xe<X.length;xe++)if(R=X[xe],R.getAttribute("content")===(f.content==null?null:""+f.content)&&R.getAttribute("name")===(f.name==null?null:f.name)&&R.getAttribute("property")===(f.property==null?null:f.property)&&R.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&R.getAttribute("charset")===(f.charSet==null?null:f.charSet)){X.splice(xe,1);break t}}R=E.createElement(b),to(R,b,f),E.head.appendChild(R);break;default:throw Error(r(468,b))}R[Bn]=o,Ir(R),b=R}o.stateNode=b}else U_(E,o.type,o.stateNode);else o.stateNode=z_(E,b,o.memoizedProps);else R!==b?(R===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):R.count--,b===null?U_(E,o.type,o.stateNode):z_(E,b,o.memoizedProps)):b===null&&o.stateNode!==null&&eb(o,o.memoizedProps,f.memoizedProps)}break;case 27:al(d,o),ol(o),b&512&&(ra||f===null||Md(f,f.return)),f!==null&&b&4&&eb(o,o.memoizedProps,f.memoizedProps);break;case 5:if(al(d,o),ol(o),b&512&&(ra||f===null||Md(f,f.return)),o.flags&32){E=o.stateNode;try{Ta(E,"")}catch(ss){ar(o,o.return,ss)}}b&4&&o.stateNode!=null&&(E=o.memoizedProps,eb(o,E,f!==null?f.memoizedProps:E)),b&1024&&(nb=!0);break;case 6:if(al(d,o),ol(o),b&4){if(o.stateNode===null)throw Error(r(162));b=o.memoizedProps,f=o.stateNode;try{f.nodeValue=b}catch(ss){ar(o,o.return,ss)}}break;case 3:if(Jx=null,E=zc,zc=Zx(d.containerInfo),al(d,o),zc=E,ol(o),b&4&&f!==null&&f.memoizedState.isDehydrated)try{xf(d.containerInfo)}catch(ss){ar(o,o.return,ss)}nb&&(nb=!1,UN(o));break;case 4:b=zc,zc=Zx(o.stateNode.containerInfo),al(d,o),ol(o),zc=b;break;case 12:al(d,o),ol(o);break;case 31:al(d,o),ol(o),b&4&&(b=o.updateQueue,b!==null&&(o.updateQueue=null,Mx(o,b)));break;case 13:al(d,o),ol(o),o.child.flags&8192&&o.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(Ix=rt()),b&4&&(b=o.updateQueue,b!==null&&(o.updateQueue=null,Mx(o,b)));break;case 22:E=o.memoizedState!==null;var Te=f!==null&&f.memoizedState!==null,Ke=ju,mt=ra;if(ju=Ke||E,ra=mt||Te,al(d,o),ra=mt,ju=Ke,ol(o),b&8192)e:for(d=o.stateNode,d._visibility=E?d._visibility&-2:d._visibility|1,E&&(f===null||Te||ju||ra||am(o)),f=null,d=o;;){if(d.tag===5||d.tag===26){if(f===null){Te=f=d;try{if(R=Te.stateNode,E)X=R.style,typeof X.setProperty=="function"?X.setProperty("display","none","important"):X.display="none";else{xe=Te.stateNode;var bt=Te.memoizedProps.style,st=bt!=null&&bt.hasOwnProperty("display")?bt.display:null;xe.style.display=st==null||typeof st=="boolean"?"":(""+st).trim()}}catch(ss){ar(Te,Te.return,ss)}}}else if(d.tag===6){if(f===null){Te=d;try{Te.stateNode.nodeValue=E?"":Te.memoizedProps}catch(ss){ar(Te,Te.return,ss)}}}else if(d.tag===18){if(f===null){Te=d;try{var at=Te.stateNode;E?P_(at,!0):P_(Te.stateNode,!1)}catch(ss){ar(Te,Te.return,ss)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===o)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===o)break e;for(;d.sibling===null;){if(d.return===null||d.return===o)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}b&4&&(b=o.updateQueue,b!==null&&(f=b.retryQueue,f!==null&&(b.retryQueue=null,Mx(o,f))));break;case 19:al(d,o),ol(o),b&4&&(b=o.updateQueue,b!==null&&(o.updateQueue=null,Mx(o,b)));break;case 30:break;case 21:break;default:al(d,o),ol(o)}}function ol(o){var d=o.flags;if(d&2){try{for(var f,b=o.return;b!==null;){if(RN(b)){f=b;break}b=b.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var E=f.stateNode,R=tb(o);Ox(o,R,E);break;case 5:var X=f.stateNode;f.flags&32&&(Ta(X,""),f.flags&=-33);var xe=tb(o);Ox(o,xe,X);break;case 3:case 4:var Te=f.stateNode.containerInfo,Ke=tb(o);sb(o,Ke,Te);break;default:throw Error(r(161))}}catch(mt){ar(o,o.return,mt)}o.flags&=-3}d&4096&&(o.flags&=-4097)}function UN(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var d=o;UN(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),o=o.sibling}}function Nu(o,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)DN(o,d.alternate,d),d=d.sibling}function am(o){for(o=o.child;o!==null;){var d=o;switch(d.tag){case 0:case 11:case 14:case 15:ih(4,d,d.return),am(d);break;case 1:Md(d,d.return);var f=d.stateNode;typeof f.componentWillUnmount=="function"&&PN(d,d.return,f),am(d);break;case 27:Kp(d.stateNode);case 26:case 5:Md(d,d.return),am(d);break;case 22:d.memoizedState===null&&am(d);break;case 30:am(d);break;default:am(d)}o=o.sibling}}function _u(o,d,f){for(f=f&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var b=d.alternate,E=o,R=d,X=R.flags;switch(R.tag){case 0:case 11:case 15:_u(E,R,f),zp(4,R);break;case 1:if(_u(E,R,f),b=R,E=b.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(Ke){ar(b,b.return,Ke)}if(b=R,E=b.updateQueue,E!==null){var xe=b.stateNode;try{var Te=E.shared.hiddenCallbacks;if(Te!==null)for(E.shared.hiddenCallbacks=null,E=0;E<Te.length;E++)xo(Te[E],xe)}catch(Ke){ar(b,b.return,Ke)}}f&&X&64&&TN(R),qp(R,R.return);break;case 27:ON(R);case 26:case 5:_u(E,R,f),f&&b===null&&X&4&&LN(R),qp(R,R.return);break;case 12:_u(E,R,f);break;case 31:_u(E,R,f),f&&X&4&&BN(E,R);break;case 13:_u(E,R,f),f&&X&4&&zN(E,R);break;case 22:R.memoizedState===null&&_u(E,R,f),qp(R,R.return);break;case 30:break;default:_u(E,R,f)}d=d.sibling}}function rb(o,d){var f=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),o=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(o=d.memoizedState.cachePool.pool),o!==f&&(o!=null&&o.refCount++,f!=null&&em(f))}function ib(o,d){o=null,d.alternate!==null&&(o=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==o&&(d.refCount++,o!=null&&em(o))}function qc(o,d,f,b){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)$N(o,d,f,b),d=d.sibling}function $N(o,d,f,b){var E=d.flags;switch(d.tag){case 0:case 11:case 15:qc(o,d,f,b),E&2048&&zp(9,d);break;case 1:qc(o,d,f,b);break;case 3:qc(o,d,f,b),E&2048&&(o=null,d.alternate!==null&&(o=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==o&&(d.refCount++,o!=null&&em(o)));break;case 12:if(E&2048){qc(o,d,f,b),o=d.stateNode;try{var R=d.memoizedProps,X=R.id,xe=R.onPostCommit;typeof xe=="function"&&xe(X,d.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(Te){ar(d,d.return,Te)}}else qc(o,d,f,b);break;case 31:qc(o,d,f,b);break;case 13:qc(o,d,f,b);break;case 23:break;case 22:R=d.stateNode,X=d.alternate,d.memoizedState!==null?R._visibility&2?qc(o,d,f,b):Up(o,d):R._visibility&2?qc(o,d,f,b):(R._visibility|=2,af(o,d,f,b,(d.subtreeFlags&10256)!==0||!1)),E&2048&&rb(X,d);break;case 24:qc(o,d,f,b),E&2048&&ib(d.alternate,d);break;default:qc(o,d,f,b)}}function af(o,d,f,b,E){for(E=E&&((d.subtreeFlags&10256)!==0||!1),d=d.child;d!==null;){var R=o,X=d,xe=f,Te=b,Ke=X.flags;switch(X.tag){case 0:case 11:case 15:af(R,X,xe,Te,E),zp(8,X);break;case 23:break;case 22:var mt=X.stateNode;X.memoizedState!==null?mt._visibility&2?af(R,X,xe,Te,E):Up(R,X):(mt._visibility|=2,af(R,X,xe,Te,E)),E&&Ke&2048&&rb(X.alternate,X);break;case 24:af(R,X,xe,Te,E),E&&Ke&2048&&ib(X.alternate,X);break;default:af(R,X,xe,Te,E)}d=d.sibling}}function Up(o,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var f=o,b=d,E=b.flags;switch(b.tag){case 22:Up(f,b),E&2048&&rb(b.alternate,b);break;case 24:Up(f,b),E&2048&&ib(b.alternate,b);break;default:Up(f,b)}d=d.sibling}}var $p=8192;function of(o,d,f){if(o.subtreeFlags&$p)for(o=o.child;o!==null;)VN(o,d,f),o=o.sibling}function VN(o,d,f){switch(o.tag){case 26:of(o,d,f),o.flags&$p&&o.memoizedState!==null&&KR(f,zc,o.memoizedState,o.memoizedProps);break;case 5:of(o,d,f);break;case 3:case 4:var b=zc;zc=Zx(o.stateNode.containerInfo),of(o,d,f),zc=b;break;case 22:o.memoizedState===null&&(b=o.alternate,b!==null&&b.memoizedState!==null?(b=$p,$p=16777216,of(o,d,f),$p=b):of(o,d,f));break;default:of(o,d,f)}}function HN(o){var d=o.alternate;if(d!==null&&(o=d.child,o!==null)){d.child=null;do d=o.sibling,o.sibling=null,o=d;while(o!==null)}}function Vp(o){var d=o.deletions;if((o.flags&16)!==0){if(d!==null)for(var f=0;f<d.length;f++){var b=d[f];Da=b,WN(b,o)}HN(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)GN(o),o=o.sibling}function GN(o){switch(o.tag){case 0:case 11:case 15:Vp(o),o.flags&2048&&ih(9,o,o.return);break;case 3:Vp(o);break;case 12:Vp(o);break;case 22:var d=o.stateNode;o.memoizedState!==null&&d._visibility&2&&(o.return===null||o.return.tag!==13)?(d._visibility&=-3,Dx(o)):Vp(o);break;default:Vp(o)}}function Dx(o){var d=o.deletions;if((o.flags&16)!==0){if(d!==null)for(var f=0;f<d.length;f++){var b=d[f];Da=b,WN(b,o)}HN(o)}for(o=o.child;o!==null;){switch(d=o,d.tag){case 0:case 11:case 15:ih(8,d,d.return),Dx(d);break;case 22:f=d.stateNode,f._visibility&2&&(f._visibility&=-3,Dx(d));break;default:Dx(d)}o=o.sibling}}function WN(o,d){for(;Da!==null;){var f=Da;switch(f.tag){case 0:case 11:case 15:ih(8,f,d);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var b=f.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:em(f.memoizedState.cache)}if(b=f.child,b!==null)b.return=f,Da=b;else e:for(f=o;Da!==null;){b=Da;var E=b.sibling,R=b.return;if(IN(b),b===f){Da=null;break e}if(E!==null){E.return=R,Da=E;break e}Da=R}}}var uR={getCacheForType:function(o){var d=ya(ei),f=d.data.get(o);return f===void 0&&(f=o(),d.data.set(o,f)),f},cacheSignal:function(){return ya(ei).controller.signal}},hR=typeof WeakMap=="function"?WeakMap:Map,Jn=0,yr=null,mn=null,wn=0,ir=0,kl=null,ah=!1,lf=!1,ab=!1,Su=0,hi=0,oh=0,om=0,ob=0,El=0,cf=0,Hp=null,ll=null,lb=!1,Ix=0,YN=0,Fx=1/0,Bx=null,lh=null,ja=0,ch=null,df=null,Cu=0,cb=0,db=null,ZN=null,Gp=0,ub=null;function Tl(){return(Jn&2)!==0&&wn!==0?wn&-wn:q.T!==null?xb():Yi()}function KN(){if(El===0)if((wn&536870912)===0||sn){var o=bi;bi<<=1,(bi&3932160)===0&&(bi=262144),El=o}else El=536870912;return o=ti.current,o!==null&&(o.flags|=32),El}function cl(o,d,f){(o===yr&&(ir===2||ir===9)||o.cancelPendingCommit!==null)&&(uf(o,0),dh(o,wn,El,!1)),an(o,f),((Jn&2)===0||o!==yr)&&(o===yr&&((Jn&2)===0&&(om|=f),hi===4&&dh(o,wn,El,!1)),Dd(o))}function JN(o,d,f){if((Jn&6)!==0)throw Error(r(327));var b=!f&&(d&127)===0&&(d&o.expiredLanes)===0||gs(o,d),E=b?pR(o,d):mb(o,d,!0),R=b;do{if(E===0){lf&&!b&&dh(o,d,0,!1);break}else{if(f=o.current.alternate,R&&!mR(f)){E=mb(o,d,!1),R=!1;continue}if(E===2){if(R=d,o.errorRecoveryDisabledLanes&R)var X=0;else X=o.pendingLanes&-536870913,X=X!==0?X:X&536870912?536870912:0;if(X!==0){d=X;e:{var xe=o;E=Hp;var Te=xe.current.memoizedState.isDehydrated;if(Te&&(uf(xe,X).flags|=256),X=mb(xe,X,!1),X!==2){if(ab&&!Te){xe.errorRecoveryDisabledLanes|=R,om|=R,E=4;break e}R=ll,ll=E,R!==null&&(ll===null?ll=R:ll.push.apply(ll,R))}E=X}if(R=!1,E!==2)continue}}if(E===1){uf(o,0),dh(o,d,0,!0);break}e:{switch(b=o,R=E,R){case 0:case 1:throw Error(r(345));case 4:if((d&4194048)!==d)break;case 6:dh(b,d,El,!ah);break e;case 2:ll=null;break;case 3:case 5:break;default:throw Error(r(329))}if((d&62914560)===d&&(E=Ix+300-rt(),10<E)){if(dh(b,d,El,!ah),Ct(b,0,!0)!==0)break e;Cu=d,b.timeoutHandle=k_(XN.bind(null,b,f,ll,Bx,lb,d,El,om,cf,ah,R,"Throttled",-0,0),E);break e}XN(b,f,ll,Bx,lb,d,El,om,cf,ah,R,null,-0,0)}}break}while(!0);Dd(o)}function XN(o,d,f,b,E,R,X,xe,Te,Ke,mt,bt,st,at){if(o.timeoutHandle=-1,bt=d.subtreeFlags,bt&8192||(bt&16785408)===16785408){bt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zn},VN(d,R,bt);var ss=(R&62914560)===R?Ix-rt():(R&4194048)===R?YN-rt():0;if(ss=JR(bt,ss),ss!==null){Cu=R,o.cancelPendingCommit=ss(a_.bind(null,o,d,R,f,b,E,X,xe,Te,mt,bt,null,st,at)),dh(o,R,X,!Ke);return}}a_(o,d,R,f,b,E,X,xe,Te)}function mR(o){for(var d=o;;){var f=d.tag;if((f===0||f===11||f===15)&&d.flags&16384&&(f=d.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var b=0;b<f.length;b++){var E=f[b],R=E.getSnapshot;E=E.value;try{if(!Jr(R(),E))return!1}catch{return!1}}if(f=d.child,d.subtreeFlags&16384&&f!==null)f.return=d,d=f;else{if(d===o)break;for(;d.sibling===null;){if(d.return===null||d.return===o)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function dh(o,d,f,b){d&=~ob,d&=~om,o.suspendedLanes|=d,o.pingedLanes&=~d,b&&(o.warmLanes|=d),b=o.expirationTimes;for(var E=d;0<E;){var R=31-Cs(E),X=1<<R;b[R]=-1,E&=~X}f!==0&&wi(o,f,d)}function zx(){return(Jn&6)===0?(Wp(0),!1):!0}function hb(){if(mn!==null){if(ir===0)var o=mn.return;else o=mn,sl=Al=null,Xm(o),pt=null,qt=0,o=mn;for(;o!==null;)EN(o.alternate,o),o=o.return;mn=null}}function uf(o,d){var f=o.timeoutHandle;f!==-1&&(o.timeoutHandle=-1,RR(f)),f=o.cancelPendingCommit,f!==null&&(o.cancelPendingCommit=null,f()),Cu=0,hb(),yr=o,mn=f=Xa(o.current,null),wn=d,ir=0,kl=null,ah=!1,lf=gs(o,d),ab=!1,cf=El=ob=om=oh=hi=0,ll=Hp=null,lb=!1,(d&8)!==0&&(d|=d&32);var b=o.entangledLanes;if(b!==0)for(o=o.entanglements,b&=d;0<b;){var E=31-Cs(b),R=1<<E;d|=o[E],b&=~R}return Su=d,Sl(),f}function QN(o,d){qs=null,q.H=Ip,d===De||d===We?(d=xt(),ir=3):d===Ye?(d=xt(),ir=4):ir=d===V0?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,kl=d,mn===null&&(hi=1,Ex(o,v(d,o.current)))}function e_(){var o=ti.current;return o===null?!0:(wn&4194048)===wn?ta===null:(wn&62914560)===wn||(wn&536870912)!==0?o===ta:!1}function t_(){var o=q.H;return q.H=Ip,o===null?Ip:o}function s_(){var o=q.A;return q.A=uR,o}function qx(){hi=4,ah||(wn&4194048)!==wn&&ti.current!==null||(lf=!0),(oh&134217727)===0&&(om&134217727)===0||yr===null||dh(yr,wn,El,!1)}function mb(o,d,f){var b=Jn;Jn|=2;var E=t_(),R=s_();(yr!==o||wn!==d)&&(Bx=null,uf(o,d)),d=!1;var X=hi;e:do try{if(ir!==0&&mn!==null){var xe=mn,Te=kl;switch(ir){case 8:hb(),X=6;break e;case 3:case 2:case 9:case 6:ti.current===null&&(d=!0);var Ke=ir;if(ir=0,kl=null,hf(o,xe,Te,Ke),f&&lf){X=0;break e}break;default:Ke=ir,ir=0,kl=null,hf(o,xe,Te,Ke)}}fR(),X=hi;break}catch(mt){QN(o,mt)}while(!0);return d&&o.shellSuspendCounter++,sl=Al=null,Jn=b,q.H=E,q.A=R,mn===null&&(yr=null,wn=0,Sl()),X}function fR(){for(;mn!==null;)n_(mn)}function pR(o,d){var f=Jn;Jn|=2;var b=t_(),E=s_();yr!==o||wn!==d?(Bx=null,Fx=rt()+500,uf(o,d)):lf=gs(o,d);e:do try{if(ir!==0&&mn!==null){d=mn;var R=kl;t:switch(ir){case 1:ir=0,kl=null,hf(o,d,R,1);break;case 2:case 9:if(yt(R)){ir=0,kl=null,r_(d);break}d=function(){ir!==2&&ir!==9||yr!==o||(ir=7),Dd(o)},R.then(d,d);break e;case 3:ir=7;break e;case 4:ir=5;break e;case 7:yt(R)?(ir=0,kl=null,r_(d)):(ir=0,kl=null,hf(o,d,R,7));break;case 5:var X=null;switch(mn.tag){case 26:X=mn.memoizedState;case 5:case 27:var xe=mn;if(X?$_(X):xe.stateNode.complete){ir=0,kl=null;var Te=xe.sibling;if(Te!==null)mn=Te;else{var Ke=xe.return;Ke!==null?(mn=Ke,Ux(Ke)):mn=null}break t}}ir=0,kl=null,hf(o,d,R,5);break;case 6:ir=0,kl=null,hf(o,d,R,6);break;case 8:hb(),hi=6;break e;default:throw Error(r(462))}}gR();break}catch(mt){QN(o,mt)}while(!0);return sl=Al=null,q.H=b,q.A=E,Jn=f,mn!==null?0:(yr=null,wn=0,Sl(),hi)}function gR(){for(;mn!==null&&!Pe();)n_(mn)}function n_(o){var d=AN(o.alternate,o,Su);o.memoizedProps=o.pendingProps,d===null?Ux(o):mn=d}function r_(o){var d=o,f=d.alternate;switch(d.tag){case 15:case 0:d=jN(f,d,d.pendingProps,d.type,void 0,wn);break;case 11:d=jN(f,d,d.pendingProps,d.type.render,d.ref,wn);break;case 5:Xm(d);default:EN(f,d),d=mn=Nd(d,Su),d=AN(f,d,Su)}o.memoizedProps=o.pendingProps,d===null?Ux(o):mn=d}function hf(o,d,f,b){sl=Al=null,Xm(d),pt=null,qt=0;var E=d.return;try{if(rR(o,E,d,f,wn)){hi=1,Ex(o,v(f,o.current)),mn=null;return}}catch(R){if(E!==null)throw mn=E,R;hi=1,Ex(o,v(f,o.current)),mn=null;return}d.flags&32768?(sn||b===1?o=!0:lf||(wn&536870912)!==0?o=!1:(ah=o=!0,(b===2||b===9||b===3||b===6)&&(b=ti.current,b!==null&&b.tag===13&&(b.flags|=16384))),i_(d,o)):Ux(d)}function Ux(o){var d=o;do{if((d.flags&32768)!==0){i_(d,ah);return}o=d.return;var f=oR(d.alternate,d,Su);if(f!==null){mn=f;return}if(d=d.sibling,d!==null){mn=d;return}mn=d=o}while(d!==null);hi===0&&(hi=5)}function i_(o,d){do{var f=lR(o.alternate,o);if(f!==null){f.flags&=32767,mn=f;return}if(f=o.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!d&&(o=o.sibling,o!==null)){mn=o;return}mn=o=f}while(o!==null);hi=6,mn=null}function a_(o,d,f,b,E,R,X,xe,Te){o.cancelPendingCommit=null;do $x();while(ja!==0);if((Jn&6)!==0)throw Error(r(327));if(d!==null){if(d===o.current)throw Error(r(177));if(R=d.lanes|d.childLanes,R|=fo,es(o,f,R,X,xe,Te),o===yr&&(mn=yr=null,wn=0),df=d,ch=o,Cu=f,cb=R,db=E,ZN=b,(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,bR(Qt,function(){return u_(),null})):(o.callbackNode=null,o.callbackPriority=0),b=(d.flags&13878)!==0,(d.subtreeFlags&13878)!==0||b){b=q.T,q.T=null,E=ce.p,ce.p=2,X=Jn,Jn|=4;try{cR(o,d,f)}finally{Jn=X,ce.p=E,q.T=b}}ja=1,o_(),l_(),c_()}}function o_(){if(ja===1){ja=0;var o=ch,d=df,f=(d.flags&13878)!==0;if((d.subtreeFlags&13878)!==0||f){f=q.T,q.T=null;var b=ce.p;ce.p=2;var E=Jn;Jn|=4;try{qN(d,o);var R=Sb,X=uo(o.containerInfo),xe=R.focusedElem,Te=R.selectionRange;if(X!==xe&&xe&&xe.ownerDocument&&ci(xe.ownerDocument.documentElement,xe)){if(Te!==null&&Ji(xe)){var Ke=Te.start,mt=Te.end;if(mt===void 0&&(mt=Ke),"selectionStart"in xe)xe.selectionStart=Ke,xe.selectionEnd=Math.min(mt,xe.value.length);else{var bt=xe.ownerDocument||document,st=bt&&bt.defaultView||window;if(st.getSelection){var at=st.getSelection(),ss=xe.textContent.length,ks=Math.min(Te.start,ss),pr=Te.end===void 0?ks:Math.min(Te.end,ss);!at.extend&&ks>pr&&(X=pr,pr=ks,ks=X);var He=li(xe,ks),ze=li(xe,pr);if(He&&ze&&(at.rangeCount!==1||at.anchorNode!==He.node||at.anchorOffset!==He.offset||at.focusNode!==ze.node||at.focusOffset!==ze.offset)){var Ze=bt.createRange();Ze.setStart(He.node,He.offset),at.removeAllRanges(),ks>pr?(at.addRange(Ze),at.extend(ze.node,ze.offset)):(Ze.setEnd(ze.node,ze.offset),at.addRange(Ze))}}}}for(bt=[],at=xe;at=at.parentNode;)at.nodeType===1&&bt.push({element:at,left:at.scrollLeft,top:at.scrollTop});for(typeof xe.focus=="function"&&xe.focus(),xe=0;xe<bt.length;xe++){var vt=bt[xe];vt.element.scrollLeft=vt.left,vt.element.scrollTop=vt.top}}tv=!!_b,Sb=_b=null}finally{Jn=E,ce.p=b,q.T=f}}o.current=d,ja=2}}function l_(){if(ja===2){ja=0;var o=ch,d=df,f=(d.flags&8772)!==0;if((d.subtreeFlags&8772)!==0||f){f=q.T,q.T=null;var b=ce.p;ce.p=2;var E=Jn;Jn|=4;try{DN(o,d.alternate,d)}finally{Jn=E,ce.p=b,q.T=f}}ja=3}}function c_(){if(ja===4||ja===3){ja=0,it();var o=ch,d=df,f=Cu,b=ZN;(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?ja=5:(ja=0,df=ch=null,d_(o,o.pendingLanes));var E=o.pendingLanes;if(E===0&&(lh=null),Tt(f),d=d.stateNode,rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(Ts,d,void 0,(d.current.flags&128)===128)}catch{}if(b!==null){d=q.T,E=ce.p,ce.p=2,q.T=null;try{for(var R=o.onRecoverableError,X=0;X<b.length;X++){var xe=b[X];R(xe.value,{componentStack:xe.stack})}}finally{q.T=d,ce.p=E}}(Cu&3)!==0&&$x(),Dd(o),E=o.pendingLanes,(f&261930)!==0&&(E&42)!==0?o===ub?Gp++:(Gp=0,ub=o):Gp=0,Wp(0)}}function d_(o,d){(o.pooledCacheLanes&=d)===0&&(d=o.pooledCache,d!=null&&(o.pooledCache=null,em(d)))}function $x(){return o_(),l_(),c_(),u_()}function u_(){if(ja!==5)return!1;var o=ch,d=cb;cb=0;var f=Tt(Cu),b=q.T,E=ce.p;try{ce.p=32>f?32:f,q.T=null,f=db,db=null;var R=ch,X=Cu;if(ja=0,df=ch=null,Cu=0,(Jn&6)!==0)throw Error(r(331));var xe=Jn;if(Jn|=4,GN(R.current),$N(R,R.current,X,f),Jn=xe,Wp(0,!1),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(Ts,R)}catch{}return!0}finally{ce.p=E,q.T=b,d_(o,d)}}function h_(o,d,f){d=v(f,d),d=$0(o.stateNode,d,2),o=rr(o,d,2),o!==null&&(an(o,2),Dd(o))}function ar(o,d,f){if(o.tag===3)h_(o,o,f);else for(;d!==null;){if(d.tag===3){h_(d,o,f);break}else if(d.tag===1){var b=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(lh===null||!lh.has(b))){o=v(f,o),f=mN(2),b=rr(d,f,2),b!==null&&(fN(f,b,d,o),an(b,2),Dd(b));break}}d=d.return}}function fb(o,d,f){var b=o.pingCache;if(b===null){b=o.pingCache=new hR;var E=new Set;b.set(d,E)}else E=b.get(d),E===void 0&&(E=new Set,b.set(d,E));E.has(f)||(ab=!0,E.add(f),o=xR.bind(null,o,d,f),d.then(o,o))}function xR(o,d,f){var b=o.pingCache;b!==null&&b.delete(d),o.pingedLanes|=o.suspendedLanes&f,o.warmLanes&=~f,yr===o&&(wn&f)===f&&(hi===4||hi===3&&(wn&62914560)===wn&&300>rt()-Ix?(Jn&2)===0&&uf(o,0):ob|=f,cf===wn&&(cf=0)),Dd(o)}function m_(o,d){d===0&&(d=xn()),o=po(o,d),o!==null&&(an(o,d),Dd(o))}function vR(o){var d=o.memoizedState,f=0;d!==null&&(f=d.retryLane),m_(o,f)}function yR(o,d){var f=0;switch(o.tag){case 31:case 13:var b=o.stateNode,E=o.memoizedState;E!==null&&(f=E.retryLane);break;case 19:b=o.stateNode;break;case 22:b=o.stateNode._retryCache;break;default:throw Error(r(314))}b!==null&&b.delete(d),m_(o,f)}function bR(o,d){return je(o,d)}var Vx=null,mf=null,pb=!1,Hx=!1,gb=!1,uh=0;function Dd(o){o!==mf&&o.next===null&&(mf===null?Vx=mf=o:mf=mf.next=o),Hx=!0,pb||(pb=!0,wR())}function Wp(o,d){if(!gb&&Hx){gb=!0;do for(var f=!1,b=Vx;b!==null;){if(o!==0){var E=b.pendingLanes;if(E===0)var R=0;else{var X=b.suspendedLanes,xe=b.pingedLanes;R=(1<<31-Cs(42|o)+1)-1,R&=E&~(X&~xe),R=R&201326741?R&201326741|1:R?R|2:0}R!==0&&(f=!0,x_(b,R))}else R=wn,R=Ct(b,b===yr?R:0,b.cancelPendingCommit!==null||b.timeoutHandle!==-1),(R&3)===0||gs(b,R)||(f=!0,x_(b,R));b=b.next}while(f);gb=!1}}function jR(){f_()}function f_(){Hx=pb=!1;var o=0;uh!==0&&LR()&&(o=uh);for(var d=rt(),f=null,b=Vx;b!==null;){var E=b.next,R=p_(b,d);R===0?(b.next=null,f===null?Vx=E:f.next=E,E===null&&(mf=f)):(f=b,(o!==0||(R&3)!==0)&&(Hx=!0)),b=E}ja!==0&&ja!==5||Wp(o),uh!==0&&(uh=0)}function p_(o,d){for(var f=o.suspendedLanes,b=o.pingedLanes,E=o.expirationTimes,R=o.pendingLanes&-62914561;0<R;){var X=31-Cs(R),xe=1<<X,Te=E[X];Te===-1?((xe&f)===0||(xe&b)!==0)&&(E[X]=ur(xe,d)):Te<=d&&(o.expiredLanes|=xe),R&=~xe}if(d=yr,f=wn,f=Ct(o,o===d?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),b=o.callbackNode,f===0||o===d&&(ir===2||ir===9)||o.cancelPendingCommit!==null)return b!==null&&b!==null&&ke(b),o.callbackNode=null,o.callbackPriority=0;if((f&3)===0||gs(o,f)){if(d=f&-f,d===o.callbackPriority)return d;switch(b!==null&&ke(b),Tt(f)){case 2:case 8:f=Vt;break;case 32:f=Qt;break;case 268435456:f=fs;break;default:f=Qt}return b=g_.bind(null,o),f=je(f,b),o.callbackPriority=d,o.callbackNode=f,d}return b!==null&&b!==null&&ke(b),o.callbackPriority=2,o.callbackNode=null,2}function g_(o,d){if(ja!==0&&ja!==5)return o.callbackNode=null,o.callbackPriority=0,null;var f=o.callbackNode;if($x()&&o.callbackNode!==f)return null;var b=wn;return b=Ct(o,o===yr?b:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),b===0?null:(JN(o,b,d),p_(o,rt()),o.callbackNode!=null&&o.callbackNode===f?g_.bind(null,o):null)}function x_(o,d){if($x())return null;JN(o,d,!0)}function wR(){OR(function(){(Jn&6)!==0?je(Nt,jR):f_()})}function xb(){if(uh===0){var o=N;o===0&&(o=Fn,Fn<<=1,(Fn&261888)===0&&(Fn=256)),uh=o}return uh}function v_(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:xl(""+o)}function y_(o,d){var f=d.ownerDocument.createElement("input");return f.name=d.name,f.value=d.value,o.id&&f.setAttribute("form",o.id),d.parentNode.insertBefore(f,d),o=new FormData(o),f.parentNode.removeChild(f),o}function NR(o,d,f,b,E){if(d==="submit"&&f&&f.stateNode===E){var R=v_((E[er]||null).action),X=b.submitter;X&&(d=(d=X[er]||null)?v_(d.formAction):X.getAttribute("formAction"),d!==null&&(R=d,X=null));var xe=new Ec("action","action",null,b,E);o.push({event:xe,listeners:[{instance:null,listener:function(){if(b.defaultPrevented){if(uh!==0){var Te=X?y_(E,X):new FormData(E);I0(f,{pending:!0,data:Te,method:E.method,action:R},null,Te)}}else typeof R=="function"&&(xe.preventDefault(),Te=X?y_(E,X):new FormData(E),I0(f,{pending:!0,data:Te,method:E.method,action:R},R,Te))},currentTarget:E}]})}}for(var vb=0;vb<Qr.length;vb++){var yb=Qr[vb],_R=yb.toLowerCase(),SR=yb[0].toUpperCase()+yb.slice(1);Qs(_R,"on"+SR)}Qs(Mo,"onAnimationEnd"),Qs(_l,"onAnimationIteration"),Qs(Do,"onAnimationStart"),Qs("dblclick","onDoubleClick"),Qs("focusin","onFocus"),Qs("focusout","onBlur"),Qs(jd,"onTransitionRun"),Qs(ic,"onTransitionStart"),Qs(ac,"onTransitionCancel"),Qs(tl,"onTransitionEnd"),ro("onMouseEnter",["mouseout","mouseover"]),ro("onMouseLeave",["mouseout","mouseover"]),ro("onPointerEnter",["pointerout","pointerover"]),ro("onPointerLeave",["pointerout","pointerover"]),pl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pl("onBeforeInput",["compositionend","keypress","textInput","paste"]),pl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yp));function b_(o,d){d=(d&4)!==0;for(var f=0;f<o.length;f++){var b=o[f],E=b.event;b=b.listeners;e:{var R=void 0;if(d)for(var X=b.length-1;0<=X;X--){var xe=b[X],Te=xe.instance,Ke=xe.currentTarget;if(xe=xe.listener,Te!==R&&E.isPropagationStopped())break e;R=xe,E.currentTarget=Ke;try{R(E)}catch(mt){kn(mt)}E.currentTarget=null,R=Te}else for(X=0;X<b.length;X++){if(xe=b[X],Te=xe.instance,Ke=xe.currentTarget,xe=xe.listener,Te!==R&&E.isPropagationStopped())break e;R=xe,E.currentTarget=Ke;try{R(E)}catch(mt){kn(mt)}E.currentTarget=null,R=Te}}}}function fn(o,d){var f=d[Si];f===void 0&&(f=d[Si]=new Set);var b=o+"__bubble";f.has(b)||(j_(d,o,2,!1),f.add(b))}function bb(o,d,f){var b=0;d&&(b|=4),j_(f,o,b,d)}var Gx="_reactListening"+Math.random().toString(36).slice(2);function jb(o){if(!o[Gx]){o[Gx]=!0,_c.forEach(function(f){f!=="selectionchange"&&(CR.has(f)||bb(f,!1,o),bb(f,!0,o))});var d=o.nodeType===9?o:o.ownerDocument;d===null||d[Gx]||(d[Gx]=!0,bb("selectionchange",!1,d))}}function j_(o,d,f,b){switch(K_(d)){case 2:var E=e8;break;case 8:E=t8;break;default:E=Db}f=E.bind(null,d,f,o),E=void 0,!vl||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(E=!0),b?E!==void 0?o.addEventListener(d,f,{capture:!0,passive:E}):o.addEventListener(d,f,!0):E!==void 0?o.addEventListener(d,f,{passive:E}):o.addEventListener(d,f,!1)}function wb(o,d,f,b,E){var R=b;if((d&1)===0&&(d&2)===0&&b!==null)e:for(;;){if(b===null)return;var X=b.tag;if(X===3||X===4){var xe=b.stateNode.containerInfo;if(xe===E)break;if(X===4)for(X=b.return;X!==null;){var Te=X.tag;if((Te===3||Te===4)&&X.stateNode.containerInfo===E)return;X=X.return}for(;xe!==null;){if(X=no(xe),X===null)return;if(Te=X.tag,Te===5||Te===6||Te===26||Te===27){b=R=X;continue e}xe=xe.parentNode}}b=b.return}ud(function(){var Ke=R,mt=Xl(f),bt=[];e:{var st=Ka.get(o);if(st!==void 0){var at=Ec,ss=o;switch(o){case"keypress":if(oo(f)===0)break e;case"keydown":case"keyup":at=pd;break;case"focusin":ss="focus",at=au;break;case"focusout":ss="blur",at=au;break;case"beforeblur":case"afterblur":at=au;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":at=jl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":at=iu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":at=le;break;case Mo:case _l:case Do:at=ou;break;case tl:at=Oe;break;case"scroll":case"scrollend":at=Xs;break;case"wheel":at=ct;break;case"copy":case"cut":case"paste":at=Ra;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":at=gd;break;case"toggle":case"beforetoggle":at=Bt}var ks=(d&4)!==0,pr=!ks&&(o==="scroll"||o==="scrollend"),He=ks?st!==null?st+"Capture":null:st;ks=[];for(var ze=Ke,Ze;ze!==null;){var vt=ze;if(Ze=vt.stateNode,vt=vt.tag,vt!==5&&vt!==26&&vt!==27||Ze===null||He===null||(vt=Jo(ze,He),vt!=null&&ks.push(Zp(ze,vt,Ze))),pr)break;ze=ze.return}0<ks.length&&(st=new at(st,ss,null,f,mt),bt.push({event:st,listeners:ks}))}}if((d&7)===0){e:{if(st=o==="mouseover"||o==="pointerover",at=o==="mouseout"||o==="pointerout",st&&f!==dd&&(ss=f.relatedTarget||f.fromElement)&&(no(ss)||ss[_i]))break e;if((at||st)&&(st=mt.window===mt?mt:(st=mt.ownerDocument)?st.defaultView||st.parentWindow:window,at?(ss=f.relatedTarget||f.toElement,at=Ke,ss=ss?no(ss):null,ss!==null&&(pr=a(ss),ks=ss.tag,ss!==pr||ks!==5&&ks!==27&&ks!==6)&&(ss=null)):(at=null,ss=Ke),at!==ss)){if(ks=jl,vt="onMouseLeave",He="onMouseEnter",ze="mouse",(o==="pointerout"||o==="pointerover")&&(ks=gd,vt="onPointerLeave",He="onPointerEnter",ze="pointer"),pr=at==null?st:To(at),Ze=ss==null?st:To(ss),st=new ks(vt,ze+"leave",at,f,mt),st.target=pr,st.relatedTarget=Ze,vt=null,no(mt)===Ke&&(ks=new ks(He,ze+"enter",ss,f,mt),ks.target=Ze,ks.relatedTarget=pr,vt=ks),pr=vt,at&&ss)t:{for(ks=AR,He=at,ze=ss,Ze=0,vt=He;vt;vt=ks(vt))Ze++;vt=0;for(var vs=ze;vs;vs=ks(vs))vt++;for(;0<Ze-vt;)He=ks(He),Ze--;for(;0<vt-Ze;)ze=ks(ze),vt--;for(;Ze--;){if(He===ze||ze!==null&&He===ze.alternate){ks=He;break t}He=ks(He),ze=ks(ze)}ks=null}else ks=null;at!==null&&w_(bt,st,at,ks,!1),ss!==null&&pr!==null&&w_(bt,pr,ss,ks,!0)}}e:{if(st=Ke?To(Ke):window,at=st.nodeName&&st.nodeName.toLowerCase(),at==="select"||at==="input"&&st.type==="file")var Un=kr;else if(Oa(st))if(Pc)Un=yd;else{Un=Ku;var cs=Wa}else at=st.nodeName,!at||at.toLowerCase()!=="input"||st.type!=="checkbox"&&st.type!=="radio"?Ke&&$a(Ke.elementType)&&(Un=kr):Un=Ti;if(Un&&(Un=Un(o,Ke))){xd(bt,Un,f,mt);break e}cs&&cs(o,st,Ke),o==="focusout"&&Ke&&st.type==="number"&&Ke.memoizedProps.value!=null&&io(st,"number",st.value)}switch(cs=Ke?To(Ke):window,o){case"focusin":(Oa(cs)||cs.contentEditable==="true")&&(Za=cs,mo=Ke,nr=null);break;case"focusout":nr=mo=Za=null;break;case"mousedown":el=!0;break;case"contextmenu":case"mouseup":case"dragend":el=!1,Xi(bt,f,mt);break;case"selectionchange":if(ho)break;case"keydown":case"keyup":Xi(bt,f,mt)}var en;if(Ls)e:{switch(o){case"compositionstart":var Nn="onCompositionStart";break e;case"compositionend":Nn="onCompositionEnd";break e;case"compositionupdate":Nn="onCompositionUpdate";break e}Nn=void 0}else Ki?ki(o,f)&&(Nn="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(Nn="onCompositionStart");Nn&&(tr&&f.locale!=="ko"&&(Ki||Nn!=="onCompositionStart"?Nn==="onCompositionEnd"&&Ki&&(en=Pa()):(ao=mt,yl="value"in ao?ao.value:ao.textContent,Ki=!0)),cs=Wx(Ke,Nn),0<cs.length&&(Nn=new tc(Nn,o,null,f,mt),bt.push({event:Nn,listeners:cs}),en?Nn.data=en:(en=Br(f),en!==null&&(Nn.data=en)))),(en=on?xr(o,f):pa(o,f))&&(Nn=Wx(Ke,"onBeforeInput"),0<Nn.length&&(cs=new tc("onBeforeInput","beforeinput",null,f,mt),bt.push({event:cs,listeners:Nn}),cs.data=en)),NR(bt,o,Ke,f,mt)}b_(bt,d)})}function Zp(o,d,f){return{instance:o,listener:d,currentTarget:f}}function Wx(o,d){for(var f=d+"Capture",b=[];o!==null;){var E=o,R=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||R===null||(E=Jo(o,f),E!=null&&b.unshift(Zp(o,E,R)),E=Jo(o,d),E!=null&&b.push(Zp(o,E,R))),o.tag===3)return b;o=o.return}return[]}function AR(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function w_(o,d,f,b,E){for(var R=d._reactName,X=[];f!==null&&f!==b;){var xe=f,Te=xe.alternate,Ke=xe.stateNode;if(xe=xe.tag,Te!==null&&Te===b)break;xe!==5&&xe!==26&&xe!==27||Ke===null||(Te=Ke,E?(Ke=Jo(f,R),Ke!=null&&X.unshift(Zp(f,Ke,Te))):E||(Ke=Jo(f,R),Ke!=null&&X.push(Zp(f,Ke,Te)))),f=f.return}X.length!==0&&o.push({event:d,listeners:X})}var kR=/\r\n?/g,ER=/\u0000|\uFFFD/g;function N_(o){return(typeof o=="string"?o:""+o).replace(kR,`
`).replace(ER,"")}function __(o,d){return d=N_(d),N_(o)===d}function fr(o,d,f,b,E,R){switch(f){case"children":typeof b=="string"?d==="body"||d==="textarea"&&b===""||Ta(o,b):(typeof b=="number"||typeof b=="bigint")&&d!=="body"&&Ta(o,""+b);break;case"className":Ps(o,"class",b);break;case"tabIndex":Ps(o,"tabindex",b);break;case"dir":case"role":case"viewBox":case"width":case"height":Ps(o,f,b);break;case"style":cd(o,b,R);break;case"data":if(d!=="object"){Ps(o,"data",b);break}case"src":case"href":if(b===""&&(d!=="a"||f!=="href")){o.removeAttribute(f);break}if(b==null||typeof b=="function"||typeof b=="symbol"||typeof b=="boolean"){o.removeAttribute(f);break}b=xl(""+b),o.setAttribute(f,b);break;case"action":case"formAction":if(typeof b=="function"){o.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof R=="function"&&(f==="formAction"?(d!=="input"&&fr(o,d,"name",E.name,E,null),fr(o,d,"formEncType",E.formEncType,E,null),fr(o,d,"formMethod",E.formMethod,E,null),fr(o,d,"formTarget",E.formTarget,E,null)):(fr(o,d,"encType",E.encType,E,null),fr(o,d,"method",E.method,E,null),fr(o,d,"target",E.target,E,null)));if(b==null||typeof b=="symbol"||typeof b=="boolean"){o.removeAttribute(f);break}b=xl(""+b),o.setAttribute(f,b);break;case"onClick":b!=null&&(o.onclick=Zn);break;case"onScroll":b!=null&&fn("scroll",o);break;case"onScrollEnd":b!=null&&fn("scrollend",o);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(r(61));if(f=b.__html,f!=null){if(E.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"multiple":o.multiple=b&&typeof b!="function"&&typeof b!="symbol";break;case"muted":o.muted=b&&typeof b!="function"&&typeof b!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(b==null||typeof b=="function"||typeof b=="boolean"||typeof b=="symbol"){o.removeAttribute("xlink:href");break}f=xl(""+b),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":b!=null&&typeof b!="function"&&typeof b!="symbol"?o.setAttribute(f,""+b):o.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":b&&typeof b!="function"&&typeof b!="symbol"?o.setAttribute(f,""):o.removeAttribute(f);break;case"capture":case"download":b===!0?o.setAttribute(f,""):b!==!1&&b!=null&&typeof b!="function"&&typeof b!="symbol"?o.setAttribute(f,b):o.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":b!=null&&typeof b!="function"&&typeof b!="symbol"&&!isNaN(b)&&1<=b?o.setAttribute(f,b):o.removeAttribute(f);break;case"rowSpan":case"start":b==null||typeof b=="function"||typeof b=="symbol"||isNaN(b)?o.removeAttribute(f):o.setAttribute(f,b);break;case"popover":fn("beforetoggle",o),fn("toggle",o),Ks(o,"popover",b);break;case"xlinkActuate":fa(o,"http://www.w3.org/1999/xlink","xlink:actuate",b);break;case"xlinkArcrole":fa(o,"http://www.w3.org/1999/xlink","xlink:arcrole",b);break;case"xlinkRole":fa(o,"http://www.w3.org/1999/xlink","xlink:role",b);break;case"xlinkShow":fa(o,"http://www.w3.org/1999/xlink","xlink:show",b);break;case"xlinkTitle":fa(o,"http://www.w3.org/1999/xlink","xlink:title",b);break;case"xlinkType":fa(o,"http://www.w3.org/1999/xlink","xlink:type",b);break;case"xmlBase":fa(o,"http://www.w3.org/XML/1998/namespace","xml:base",b);break;case"xmlLang":fa(o,"http://www.w3.org/XML/1998/namespace","xml:lang",b);break;case"xmlSpace":fa(o,"http://www.w3.org/XML/1998/namespace","xml:space",b);break;case"is":Ks(o,"is",b);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=gl.get(f)||f,Ks(o,f,b))}}function Nb(o,d,f,b,E,R){switch(f){case"style":cd(o,b,R);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(r(61));if(f=b.__html,f!=null){if(E.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"children":typeof b=="string"?Ta(o,b):(typeof b=="number"||typeof b=="bigint")&&Ta(o,""+b);break;case"onScroll":b!=null&&fn("scroll",o);break;case"onScrollEnd":b!=null&&fn("scrollend",o);break;case"onClick":b!=null&&(o.onclick=Zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!su.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(E=f.endsWith("Capture"),d=f.slice(2,E?f.length-7:void 0),R=o[er]||null,R=R!=null?R[f]:null,typeof R=="function"&&o.removeEventListener(d,R,E),typeof b=="function")){typeof R!="function"&&R!==null&&(f in o?o[f]=null:o.hasAttribute(f)&&o.removeAttribute(f)),o.addEventListener(d,b,E);break e}f in o?o[f]=b:b===!0?o.setAttribute(f,""):Ks(o,f,b)}}}function to(o,d,f){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":fn("error",o),fn("load",o);var b=!1,E=!1,R;for(R in f)if(f.hasOwnProperty(R)){var X=f[R];if(X!=null)switch(R){case"src":b=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:fr(o,d,R,X,f,null)}}E&&fr(o,d,"srcSet",f.srcSet,f,null),b&&fr(o,d,"src",f.src,f,null);return;case"input":fn("invalid",o);var xe=R=X=E=null,Te=null,Ke=null;for(b in f)if(f.hasOwnProperty(b)){var mt=f[b];if(mt!=null)switch(b){case"name":E=mt;break;case"type":X=mt;break;case"checked":Te=mt;break;case"defaultChecked":Ke=mt;break;case"value":R=mt;break;case"defaultValue":xe=mt;break;case"children":case"dangerouslySetInnerHTML":if(mt!=null)throw Error(r(137,d));break;default:fr(o,d,b,mt,f,null)}}Ac(o,R,xe,Te,Ke,X,E,!1);return;case"select":fn("invalid",o),b=X=R=null;for(E in f)if(f.hasOwnProperty(E)&&(xe=f[E],xe!=null))switch(E){case"value":R=xe;break;case"defaultValue":X=xe;break;case"multiple":b=xe;default:fr(o,d,E,xe,f,null)}d=R,f=X,o.multiple=!!b,d!=null?Yn(o,!!b,d,!1):f!=null&&Yn(o,!!b,f,!0);return;case"textarea":fn("invalid",o),R=E=b=null;for(X in f)if(f.hasOwnProperty(X)&&(xe=f[X],xe!=null))switch(X){case"value":b=xe;break;case"defaultValue":E=xe;break;case"children":R=xe;break;case"dangerouslySetInnerHTML":if(xe!=null)throw Error(r(91));break;default:fr(o,d,X,xe,f,null)}Zl(o,b,E,R);return;case"option":for(Te in f)if(f.hasOwnProperty(Te)&&(b=f[Te],b!=null))switch(Te){case"selected":o.selected=b&&typeof b!="function"&&typeof b!="symbol";break;default:fr(o,d,Te,b,f,null)}return;case"dialog":fn("beforetoggle",o),fn("toggle",o),fn("cancel",o),fn("close",o);break;case"iframe":case"object":fn("load",o);break;case"video":case"audio":for(b=0;b<Yp.length;b++)fn(Yp[b],o);break;case"image":fn("error",o),fn("load",o);break;case"details":fn("toggle",o);break;case"embed":case"source":case"link":fn("error",o),fn("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ke in f)if(f.hasOwnProperty(Ke)&&(b=f[Ke],b!=null))switch(Ke){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:fr(o,d,Ke,b,f,null)}return;default:if($a(d)){for(mt in f)f.hasOwnProperty(mt)&&(b=f[mt],b!==void 0&&Nb(o,d,mt,b,f,void 0));return}}for(xe in f)f.hasOwnProperty(xe)&&(b=f[xe],b!=null&&fr(o,d,xe,b,f,null))}function TR(o,d,f,b){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,R=null,X=null,xe=null,Te=null,Ke=null,mt=null;for(at in f){var bt=f[at];if(f.hasOwnProperty(at)&&bt!=null)switch(at){case"checked":break;case"value":break;case"defaultValue":Te=bt;default:b.hasOwnProperty(at)||fr(o,d,at,null,b,bt)}}for(var st in b){var at=b[st];if(bt=f[st],b.hasOwnProperty(st)&&(at!=null||bt!=null))switch(st){case"type":R=at;break;case"name":E=at;break;case"checked":Ke=at;break;case"defaultChecked":mt=at;break;case"value":X=at;break;case"defaultValue":xe=at;break;case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(r(137,d));break;default:at!==bt&&fr(o,d,st,at,b,bt)}}ld(o,X,xe,Te,Ke,mt,R,E);return;case"select":at=X=xe=st=null;for(R in f)if(Te=f[R],f.hasOwnProperty(R)&&Te!=null)switch(R){case"value":break;case"multiple":at=Te;default:b.hasOwnProperty(R)||fr(o,d,R,null,b,Te)}for(E in b)if(R=b[E],Te=f[E],b.hasOwnProperty(E)&&(R!=null||Te!=null))switch(E){case"value":st=R;break;case"defaultValue":xe=R;break;case"multiple":X=R;default:R!==Te&&fr(o,d,E,R,b,Te)}d=xe,f=X,b=at,st!=null?Yn(o,!!f,st,!1):!!b!=!!f&&(d!=null?Yn(o,!!f,d,!0):Yn(o,!!f,f?[]:"",!1));return;case"textarea":at=st=null;for(xe in f)if(E=f[xe],f.hasOwnProperty(xe)&&E!=null&&!b.hasOwnProperty(xe))switch(xe){case"value":break;case"children":break;default:fr(o,d,xe,null,b,E)}for(X in b)if(E=b[X],R=f[X],b.hasOwnProperty(X)&&(E!=null||R!=null))switch(X){case"value":st=E;break;case"defaultValue":at=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:E!==R&&fr(o,d,X,E,b,R)}Lo(o,st,at);return;case"option":for(var ss in f)if(st=f[ss],f.hasOwnProperty(ss)&&st!=null&&!b.hasOwnProperty(ss))switch(ss){case"selected":o.selected=!1;break;default:fr(o,d,ss,null,b,st)}for(Te in b)if(st=b[Te],at=f[Te],b.hasOwnProperty(Te)&&st!==at&&(st!=null||at!=null))switch(Te){case"selected":o.selected=st&&typeof st!="function"&&typeof st!="symbol";break;default:fr(o,d,Te,st,b,at)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ks in f)st=f[ks],f.hasOwnProperty(ks)&&st!=null&&!b.hasOwnProperty(ks)&&fr(o,d,ks,null,b,st);for(Ke in b)if(st=b[Ke],at=f[Ke],b.hasOwnProperty(Ke)&&st!==at&&(st!=null||at!=null))switch(Ke){case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(r(137,d));break;default:fr(o,d,Ke,st,b,at)}return;default:if($a(d)){for(var pr in f)st=f[pr],f.hasOwnProperty(pr)&&st!==void 0&&!b.hasOwnProperty(pr)&&Nb(o,d,pr,void 0,b,st);for(mt in b)st=b[mt],at=f[mt],!b.hasOwnProperty(mt)||st===at||st===void 0&&at===void 0||Nb(o,d,mt,st,b,at);return}}for(var He in f)st=f[He],f.hasOwnProperty(He)&&st!=null&&!b.hasOwnProperty(He)&&fr(o,d,He,null,b,st);for(bt in b)st=b[bt],at=f[bt],!b.hasOwnProperty(bt)||st===at||st==null&&at==null||fr(o,d,bt,st,b,at)}function S_(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function PR(){if(typeof performance.getEntriesByType=="function"){for(var o=0,d=0,f=performance.getEntriesByType("resource"),b=0;b<f.length;b++){var E=f[b],R=E.transferSize,X=E.initiatorType,xe=E.duration;if(R&&xe&&S_(X)){for(X=0,xe=E.responseEnd,b+=1;b<f.length;b++){var Te=f[b],Ke=Te.startTime;if(Ke>xe)break;var mt=Te.transferSize,bt=Te.initiatorType;mt&&S_(bt)&&(Te=Te.responseEnd,X+=mt*(Te<xe?1:(xe-Ke)/(Te-Ke)))}if(--b,d+=8*(R+X)/(E.duration/1e3),o++,10<o)break}}if(0<o)return d/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var _b=null,Sb=null;function Yx(o){return o.nodeType===9?o:o.ownerDocument}function C_(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function A_(o,d){if(o===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&d==="foreignObject"?0:o}function Cb(o,d){return o==="textarea"||o==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var Ab=null;function LR(){var o=window.event;return o&&o.type==="popstate"?o===Ab?!1:(Ab=o,!0):(Ab=null,!1)}var k_=typeof setTimeout=="function"?setTimeout:void 0,RR=typeof clearTimeout=="function"?clearTimeout:void 0,E_=typeof Promise=="function"?Promise:void 0,OR=typeof queueMicrotask=="function"?queueMicrotask:typeof E_<"u"?function(o){return E_.resolve(null).then(o).catch(MR)}:k_;function MR(o){setTimeout(function(){throw o})}function hh(o){return o==="head"}function T_(o,d){var f=d,b=0;do{var E=f.nextSibling;if(o.removeChild(f),E&&E.nodeType===8)if(f=E.data,f==="/$"||f==="/&"){if(b===0){o.removeChild(E),xf(d);return}b--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")b++;else if(f==="html")Kp(o.ownerDocument.documentElement);else if(f==="head"){f=o.ownerDocument.head,Kp(f);for(var R=f.firstChild;R;){var X=R.nextSibling,xe=R.nodeName;R[Yo]||xe==="SCRIPT"||xe==="STYLE"||xe==="LINK"&&R.rel.toLowerCase()==="stylesheet"||f.removeChild(R),R=X}}else f==="body"&&Kp(o.ownerDocument.body);f=E}while(f);xf(d)}function P_(o,d){var f=o;o=0;do{var b=f.nextSibling;if(f.nodeType===1?d?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(d?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),b&&b.nodeType===8)if(f=b.data,f==="/$"){if(o===0)break;o--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||o++;f=b}while(f)}function kb(o){var d=o.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var f=d;switch(d=d.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":kb(f),Wl(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}o.removeChild(f)}}function DR(o,d,f,b){for(;o.nodeType===1;){var E=f;if(o.nodeName.toLowerCase()!==d.toLowerCase()){if(!b&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(b){if(!o[Yo])switch(d){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(R=o.getAttribute("rel"),R==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(R!==E.rel||o.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||o.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||o.getAttribute("title")!==(E.title==null?null:E.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(R=o.getAttribute("src"),(R!==(E.src==null?null:E.src)||o.getAttribute("type")!==(E.type==null?null:E.type)||o.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&R&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(d==="input"&&o.type==="hidden"){var R=E.name==null?null:""+E.name;if(E.type==="hidden"&&o.getAttribute("name")===R)return o}else return o;if(o=fc(o.nextSibling),o===null)break}return null}function IR(o,d,f){if(d==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!f||(o=fc(o.nextSibling),o===null))return null;return o}function L_(o,d){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!d||(o=fc(o.nextSibling),o===null))return null;return o}function Eb(o){return o.data==="$?"||o.data==="$~"}function Tb(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function FR(o,d){var f=o.ownerDocument;if(o.data==="$~")o._reactRetry=d;else if(o.data!=="$?"||f.readyState!=="loading")d();else{var b=function(){d(),f.removeEventListener("DOMContentLoaded",b)};f.addEventListener("DOMContentLoaded",b),o._reactRetry=b}}function fc(o){for(;o!=null;o=o.nextSibling){var d=o.nodeType;if(d===1||d===3)break;if(d===8){if(d=o.data,d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"||d==="F!"||d==="F")break;if(d==="/$"||d==="/&")return null}}return o}var Pb=null;function R_(o){o=o.nextSibling;for(var d=0;o;){if(o.nodeType===8){var f=o.data;if(f==="/$"||f==="/&"){if(d===0)return fc(o.nextSibling);d--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||d++}o=o.nextSibling}return null}function O_(o){o=o.previousSibling;for(var d=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(d===0)return o;d--}else f!=="/$"&&f!=="/&"||d++}o=o.previousSibling}return null}function M_(o,d,f){switch(d=Yx(f),o){case"html":if(o=d.documentElement,!o)throw Error(r(452));return o;case"head":if(o=d.head,!o)throw Error(r(453));return o;case"body":if(o=d.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Kp(o){for(var d=o.attributes;d.length;)o.removeAttributeNode(d[0]);Wl(o)}var pc=new Map,D_=new Set;function Zx(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Au=ce.d;ce.d={f:BR,r:zR,D:qR,C:UR,L:$R,m:VR,X:GR,S:HR,M:WR};function BR(){var o=Au.f(),d=zx();return o||d}function zR(o){var d=Eo(o);d!==null&&d.tag===5&&d.type==="form"?Q2(d):Au.r(o)}var ff=typeof document>"u"?null:document;function I_(o,d,f){var b=ff;if(b&&typeof d=="string"&&d){var E=Wn(d);E='link[rel="'+o+'"][href="'+E+'"]',typeof f=="string"&&(E+='[crossorigin="'+f+'"]'),D_.has(E)||(D_.add(E),o={rel:o,crossOrigin:f,href:d},b.querySelector(E)===null&&(d=b.createElement("link"),to(d,"link",o),Ir(d),b.head.appendChild(d)))}}function qR(o){Au.D(o),I_("dns-prefetch",o,null)}function UR(o,d){Au.C(o,d),I_("preconnect",o,d)}function $R(o,d,f){Au.L(o,d,f);var b=ff;if(b&&o&&d){var E='link[rel="preload"][as="'+Wn(d)+'"]';d==="image"&&f&&f.imageSrcSet?(E+='[imagesrcset="'+Wn(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(E+='[imagesizes="'+Wn(f.imageSizes)+'"]')):E+='[href="'+Wn(o)+'"]';var R=E;switch(d){case"style":R=pf(o);break;case"script":R=gf(o)}pc.has(R)||(o=p({rel:"preload",href:d==="image"&&f&&f.imageSrcSet?void 0:o,as:d},f),pc.set(R,o),b.querySelector(E)!==null||d==="style"&&b.querySelector(Jp(R))||d==="script"&&b.querySelector(Xp(R))||(d=b.createElement("link"),to(d,"link",o),Ir(d),b.head.appendChild(d)))}}function VR(o,d){Au.m(o,d);var f=ff;if(f&&o){var b=d&&typeof d.as=="string"?d.as:"script",E='link[rel="modulepreload"][as="'+Wn(b)+'"][href="'+Wn(o)+'"]',R=E;switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":R=gf(o)}if(!pc.has(R)&&(o=p({rel:"modulepreload",href:o},d),pc.set(R,o),f.querySelector(E)===null)){switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(Xp(R)))return}b=f.createElement("link"),to(b,"link",o),Ir(b),f.head.appendChild(b)}}}function HR(o,d,f){Au.S(o,d,f);var b=ff;if(b&&o){var E=Yl(b).hoistableStyles,R=pf(o);d=d||"default";var X=E.get(R);if(!X){var xe={loading:0,preload:null};if(X=b.querySelector(Jp(R)))xe.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":d},f),(f=pc.get(R))&&Lb(o,f);var Te=X=b.createElement("link");Ir(Te),to(Te,"link",o),Te._p=new Promise(function(Ke,mt){Te.onload=Ke,Te.onerror=mt}),Te.addEventListener("load",function(){xe.loading|=1}),Te.addEventListener("error",function(){xe.loading|=2}),xe.loading|=4,Kx(X,d,b)}X={type:"stylesheet",instance:X,count:1,state:xe},E.set(R,X)}}}function GR(o,d){Au.X(o,d);var f=ff;if(f&&o){var b=Yl(f).hoistableScripts,E=gf(o),R=b.get(E);R||(R=f.querySelector(Xp(E)),R||(o=p({src:o,async:!0},d),(d=pc.get(E))&&Rb(o,d),R=f.createElement("script"),Ir(R),to(R,"link",o),f.head.appendChild(R)),R={type:"script",instance:R,count:1,state:null},b.set(E,R))}}function WR(o,d){Au.M(o,d);var f=ff;if(f&&o){var b=Yl(f).hoistableScripts,E=gf(o),R=b.get(E);R||(R=f.querySelector(Xp(E)),R||(o=p({src:o,async:!0,type:"module"},d),(d=pc.get(E))&&Rb(o,d),R=f.createElement("script"),Ir(R),to(R,"link",o),f.head.appendChild(R)),R={type:"script",instance:R,count:1,state:null},b.set(E,R))}}function F_(o,d,f,b){var E=(E=be.current)?Zx(E):null;if(!E)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(d=pf(f.href),f=Yl(E).hoistableStyles,b=f.get(d),b||(b={type:"style",instance:null,count:0,state:null},f.set(d,b)),b):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){o=pf(f.href);var R=Yl(E).hoistableStyles,X=R.get(o);if(X||(E=E.ownerDocument||E,X={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},R.set(o,X),(R=E.querySelector(Jp(o)))&&!R._p&&(X.instance=R,X.state.loading=5),pc.has(o)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},pc.set(o,f),R||YR(E,o,f,X.state))),d&&b===null)throw Error(r(528,""));return X}if(d&&b!==null)throw Error(r(529,""));return null;case"script":return d=f.async,f=f.src,typeof f=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=gf(f),f=Yl(E).hoistableScripts,b=f.get(d),b||(b={type:"script",instance:null,count:0,state:null},f.set(d,b)),b):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function pf(o){return'href="'+Wn(o)+'"'}function Jp(o){return'link[rel="stylesheet"]['+o+"]"}function B_(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function YR(o,d,f,b){o.querySelector('link[rel="preload"][as="style"]['+d+"]")?b.loading=1:(d=o.createElement("link"),b.preload=d,d.addEventListener("load",function(){return b.loading|=1}),d.addEventListener("error",function(){return b.loading|=2}),to(d,"link",f),Ir(d),o.head.appendChild(d))}function gf(o){return'[src="'+Wn(o)+'"]'}function Xp(o){return"script[async]"+o}function z_(o,d,f){if(d.count++,d.instance===null)switch(d.type){case"style":var b=o.querySelector('style[data-href~="'+Wn(f.href)+'"]');if(b)return d.instance=b,Ir(b),b;var E=p({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return b=(o.ownerDocument||o).createElement("style"),Ir(b),to(b,"style",E),Kx(b,f.precedence,o),d.instance=b;case"stylesheet":E=pf(f.href);var R=o.querySelector(Jp(E));if(R)return d.state.loading|=4,d.instance=R,Ir(R),R;b=B_(f),(E=pc.get(E))&&Lb(b,E),R=(o.ownerDocument||o).createElement("link"),Ir(R);var X=R;return X._p=new Promise(function(xe,Te){X.onload=xe,X.onerror=Te}),to(R,"link",b),d.state.loading|=4,Kx(R,f.precedence,o),d.instance=R;case"script":return R=gf(f.src),(E=o.querySelector(Xp(R)))?(d.instance=E,Ir(E),E):(b=f,(E=pc.get(R))&&(b=p({},f),Rb(b,E)),o=o.ownerDocument||o,E=o.createElement("script"),Ir(E),to(E,"link",b),o.head.appendChild(E),d.instance=E);case"void":return null;default:throw Error(r(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(b=d.instance,d.state.loading|=4,Kx(b,f.precedence,o));return d.instance}function Kx(o,d,f){for(var b=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=b.length?b[b.length-1]:null,R=E,X=0;X<b.length;X++){var xe=b[X];if(xe.dataset.precedence===d)R=xe;else if(R!==E)break}R?R.parentNode.insertBefore(o,R.nextSibling):(d=f.nodeType===9?f.head:f,d.insertBefore(o,d.firstChild))}function Lb(o,d){o.crossOrigin==null&&(o.crossOrigin=d.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=d.referrerPolicy),o.title==null&&(o.title=d.title)}function Rb(o,d){o.crossOrigin==null&&(o.crossOrigin=d.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=d.referrerPolicy),o.integrity==null&&(o.integrity=d.integrity)}var Jx=null;function q_(o,d,f){if(Jx===null){var b=new Map,E=Jx=new Map;E.set(f,b)}else E=Jx,b=E.get(f),b||(b=new Map,E.set(f,b));if(b.has(o))return b;for(b.set(o,null),f=f.getElementsByTagName(o),E=0;E<f.length;E++){var R=f[E];if(!(R[Yo]||R[Bn]||o==="link"&&R.getAttribute("rel")==="stylesheet")&&R.namespaceURI!=="http://www.w3.org/2000/svg"){var X=R.getAttribute(d)||"";X=o+X;var xe=b.get(X);xe?xe.push(R):b.set(X,[R])}}return b}function U_(o,d,f){o=o.ownerDocument||o,o.head.insertBefore(f,d==="title"?o.querySelector("head > title"):null)}function ZR(o,d,f){if(f===1||d.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;switch(d.rel){case"stylesheet":return o=d.disabled,typeof d.precedence=="string"&&o==null;default:return!0}case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function $_(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function KR(o,d,f,b){if(f.type==="stylesheet"&&(typeof b.media!="string"||matchMedia(b.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var E=pf(b.href),R=d.querySelector(Jp(E));if(R){d=R._p,d!==null&&typeof d=="object"&&typeof d.then=="function"&&(o.count++,o=Xx.bind(o),d.then(o,o)),f.state.loading|=4,f.instance=R,Ir(R);return}R=d.ownerDocument||d,b=B_(b),(E=pc.get(E))&&Lb(b,E),R=R.createElement("link"),Ir(R);var X=R;X._p=new Promise(function(xe,Te){X.onload=xe,X.onerror=Te}),to(R,"link",b),f.instance=R}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(f,d),(d=f.state.preload)&&(f.state.loading&3)===0&&(o.count++,f=Xx.bind(o),d.addEventListener("load",f),d.addEventListener("error",f))}}var Ob=0;function JR(o,d){return o.stylesheets&&o.count===0&&ev(o,o.stylesheets),0<o.count||0<o.imgCount?function(f){var b=setTimeout(function(){if(o.stylesheets&&ev(o,o.stylesheets),o.unsuspend){var R=o.unsuspend;o.unsuspend=null,R()}},6e4+d);0<o.imgBytes&&Ob===0&&(Ob=62500*PR());var E=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&ev(o,o.stylesheets),o.unsuspend)){var R=o.unsuspend;o.unsuspend=null,R()}},(o.imgBytes>Ob?50:800)+d);return o.unsuspend=f,function(){o.unsuspend=null,clearTimeout(b),clearTimeout(E)}}:null}function Xx(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ev(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Qx=null;function ev(o,d){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Qx=new Map,d.forEach(XR,o),Qx=null,Xx.call(o))}function XR(o,d){if(!(d.state.loading&4)){var f=Qx.get(o);if(f)var b=f.get(null);else{f=new Map,Qx.set(o,f);for(var E=o.querySelectorAll("link[data-precedence],style[data-precedence]"),R=0;R<E.length;R++){var X=E[R];(X.nodeName==="LINK"||X.getAttribute("media")!=="not all")&&(f.set(X.dataset.precedence,X),b=X)}b&&f.set(null,b)}E=d.instance,X=E.getAttribute("data-precedence"),R=f.get(X)||b,R===b&&f.set(null,E),f.set(X,E),this.count++,b=Xx.bind(this),E.addEventListener("load",b),E.addEventListener("error",b),R?R.parentNode.insertBefore(E,R.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(E,o.firstChild)),d.state.loading|=4}}var Qp={$$typeof:S,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function QR(o,d,f,b,E,R,X,xe,Te){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ji(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ji(0),this.hiddenUpdates=ji(null),this.identifierPrefix=b,this.onUncaughtError=E,this.onCaughtError=R,this.onRecoverableError=X,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Te,this.incompleteTransitions=new Map}function V_(o,d,f,b,E,R,X,xe,Te,Ke,mt,bt){return o=new QR(o,d,f,X,Te,Ke,mt,bt,xe),d=1,R===!0&&(d|=24),R=Li(3,null,null,d),o.current=R,R.stateNode=o,d=eh(),d.refCount++,o.pooledCache=d,d.refCount++,R.memoizedState={element:b,isDehydrated:f,cache:d},Kn(R),o}function H_(o){return o?(o=di,o):di}function G_(o,d,f,b,E,R){E=H_(E),b.context===null?b.context=E:b.pendingContext=E,b=As(d),b.payload={element:f},R=R===void 0?null:R,R!==null&&(b.callback=R),f=rr(o,b,d),f!==null&&(cl(f,o,d),Qi(f,o,d))}function W_(o,d){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<d?f:d}}function Mb(o,d){W_(o,d),(o=o.alternate)&&W_(o,d)}function Y_(o){if(o.tag===13||o.tag===31){var d=po(o,67108864);d!==null&&cl(d,o,67108864),Mb(o,67108864)}}function Z_(o){if(o.tag===13||o.tag===31){var d=Tl();d=un(d);var f=po(o,d);f!==null&&cl(f,o,d),Mb(o,d)}}var tv=!0;function e8(o,d,f,b){var E=q.T;q.T=null;var R=ce.p;try{ce.p=2,Db(o,d,f,b)}finally{ce.p=R,q.T=E}}function t8(o,d,f,b){var E=q.T;q.T=null;var R=ce.p;try{ce.p=8,Db(o,d,f,b)}finally{ce.p=R,q.T=E}}function Db(o,d,f,b){if(tv){var E=Ib(b);if(E===null)wb(o,d,b,sv,f),J_(o,b);else if(n8(E,o,d,f,b))b.stopPropagation();else if(J_(o,b),d&4&&-1<s8.indexOf(o)){for(;E!==null;){var R=Eo(E);if(R!==null)switch(R.tag){case 3:if(R=R.stateNode,R.current.memoizedState.isDehydrated){var X=Sn(R.pendingLanes);if(X!==0){var xe=R;for(xe.pendingLanes|=2,xe.entangledLanes|=2;X;){var Te=1<<31-Cs(X);xe.entanglements[1]|=Te,X&=~Te}Dd(R),(Jn&6)===0&&(Fx=rt()+500,Wp(0))}}break;case 31:case 13:xe=po(R,2),xe!==null&&cl(xe,R,2),zx(),Mb(R,2)}if(R=Ib(b),R===null&&wb(o,d,b,sv,f),R===E)break;E=R}E!==null&&b.stopPropagation()}else wb(o,d,b,null,f)}}function Ib(o){return o=Xl(o),Fb(o)}var sv=null;function Fb(o){if(sv=null,o=no(o),o!==null){var d=a(o);if(d===null)o=null;else{var f=d.tag;if(f===13){if(o=l(d),o!==null)return o;o=null}else if(f===31){if(o=c(d),o!==null)return o;o=null}else if(f===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;o=null}else d!==o&&(o=null)}}return sv=o,null}function K_(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ut()){case Nt:return 2;case Vt:return 8;case Qt:case Gt:return 32;case fs:return 268435456;default:return 32}default:return 32}}var Bb=!1,mh=null,fh=null,ph=null,eg=new Map,tg=new Map,gh=[],s8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function J_(o,d){switch(o){case"focusin":case"focusout":mh=null;break;case"dragenter":case"dragleave":fh=null;break;case"mouseover":case"mouseout":ph=null;break;case"pointerover":case"pointerout":eg.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":tg.delete(d.pointerId)}}function sg(o,d,f,b,E,R){return o===null||o.nativeEvent!==R?(o={blockedOn:d,domEventName:f,eventSystemFlags:b,nativeEvent:R,targetContainers:[E]},d!==null&&(d=Eo(d),d!==null&&Y_(d)),o):(o.eventSystemFlags|=b,d=o.targetContainers,E!==null&&d.indexOf(E)===-1&&d.push(E),o)}function n8(o,d,f,b,E){switch(d){case"focusin":return mh=sg(mh,o,d,f,b,E),!0;case"dragenter":return fh=sg(fh,o,d,f,b,E),!0;case"mouseover":return ph=sg(ph,o,d,f,b,E),!0;case"pointerover":var R=E.pointerId;return eg.set(R,sg(eg.get(R)||null,o,d,f,b,E)),!0;case"gotpointercapture":return R=E.pointerId,tg.set(R,sg(tg.get(R)||null,o,d,f,b,E)),!0}return!1}function X_(o){var d=no(o.target);if(d!==null){var f=a(d);if(f!==null){if(d=f.tag,d===13){if(d=l(f),d!==null){o.blockedOn=d,Hl(o.priority,function(){Z_(f)});return}}else if(d===31){if(d=c(f),d!==null){o.blockedOn=d,Hl(o.priority,function(){Z_(f)});return}}else if(d===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function nv(o){if(o.blockedOn!==null)return!1;for(var d=o.targetContainers;0<d.length;){var f=Ib(o.nativeEvent);if(f===null){f=o.nativeEvent;var b=new f.constructor(f.type,f);dd=b,f.target.dispatchEvent(b),dd=null}else return d=Eo(f),d!==null&&Y_(d),o.blockedOn=f,!1;d.shift()}return!0}function Q_(o,d,f){nv(o)&&f.delete(d)}function r8(){Bb=!1,mh!==null&&nv(mh)&&(mh=null),fh!==null&&nv(fh)&&(fh=null),ph!==null&&nv(ph)&&(ph=null),eg.forEach(Q_),tg.forEach(Q_)}function rv(o,d){o.blockedOn===d&&(o.blockedOn=null,Bb||(Bb=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,r8)))}var iv=null;function e5(o){iv!==o&&(iv=o,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){iv===o&&(iv=null);for(var d=0;d<o.length;d+=3){var f=o[d],b=o[d+1],E=o[d+2];if(typeof b!="function"){if(Fb(b||f)===null)continue;break}var R=Eo(f);R!==null&&(o.splice(d,3),d-=3,I0(R,{pending:!0,data:E,method:f.method,action:b},b,E))}}))}function xf(o){function d(Te){return rv(Te,o)}mh!==null&&rv(mh,o),fh!==null&&rv(fh,o),ph!==null&&rv(ph,o),eg.forEach(d),tg.forEach(d);for(var f=0;f<gh.length;f++){var b=gh[f];b.blockedOn===o&&(b.blockedOn=null)}for(;0<gh.length&&(f=gh[0],f.blockedOn===null);)X_(f),f.blockedOn===null&&gh.shift();if(f=(o.ownerDocument||o).$$reactFormReplay,f!=null)for(b=0;b<f.length;b+=3){var E=f[b],R=f[b+1],X=E[er]||null;if(typeof R=="function")X||e5(f);else if(X){var xe=null;if(R&&R.hasAttribute("formAction")){if(E=R,X=R[er]||null)xe=X.formAction;else if(Fb(E)!==null)continue}else xe=X.action;typeof xe=="function"?f[b+1]=xe:(f.splice(b,3),b-=3),e5(f)}}}function t5(){function o(R){R.canIntercept&&R.info==="react-transition"&&R.intercept({handler:function(){return new Promise(function(X){return E=X})},focusReset:"manual",scroll:"manual"})}function d(){E!==null&&(E(),E=null),b||setTimeout(f,20)}function f(){if(!b&&!navigation.transition){var R=navigation.currentEntry;R&&R.url!=null&&navigation.navigate(R.url,{state:R.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var b=!1,E=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",d),navigation.addEventListener("navigateerror",d),setTimeout(f,100),function(){b=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",d),navigation.removeEventListener("navigateerror",d),E!==null&&(E(),E=null)}}}function zb(o){this._internalRoot=o}av.prototype.render=zb.prototype.render=function(o){var d=this._internalRoot;if(d===null)throw Error(r(409));var f=d.current,b=Tl();G_(f,b,o,d,null,null)},av.prototype.unmount=zb.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var d=o.containerInfo;G_(o.current,2,null,o,null,null),zx(),d[_i]=null}};function av(o){this._internalRoot=o}av.prototype.unstable_scheduleHydration=function(o){if(o){var d=Yi();o={blockedOn:null,target:o,priority:d};for(var f=0;f<gh.length&&d!==0&&d<gh[f].priority;f++);gh.splice(f,0,o),f===0&&X_(o)}};var s5=t.version;if(s5!=="19.2.0")throw Error(r(527,s5,"19.2.0"));ce.findDOMNode=function(o){var d=o._reactInternals;if(d===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=m(d),o=o!==null?g(o):null,o=o===null?null:o.stateNode,o};var i8={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ov=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ov.isDisabled&&ov.supportsFiber)try{Ts=ov.inject(i8),rn=ov}catch{}}return rg.createRoot=function(o,d){if(!i(o))throw Error(r(299));var f=!1,b="",E=cN,R=dN,X=uN;return d!=null&&(d.unstable_strictMode===!0&&(f=!0),d.identifierPrefix!==void 0&&(b=d.identifierPrefix),d.onUncaughtError!==void 0&&(E=d.onUncaughtError),d.onCaughtError!==void 0&&(R=d.onCaughtError),d.onRecoverableError!==void 0&&(X=d.onRecoverableError)),d=V_(o,1,!1,null,null,f,b,null,E,R,X,t5),o[_i]=d.current,jb(o),new zb(d)},rg.hydrateRoot=function(o,d,f){if(!i(o))throw Error(r(299));var b=!1,E="",R=cN,X=dN,xe=uN,Te=null;return f!=null&&(f.unstable_strictMode===!0&&(b=!0),f.identifierPrefix!==void 0&&(E=f.identifierPrefix),f.onUncaughtError!==void 0&&(R=f.onUncaughtError),f.onCaughtError!==void 0&&(X=f.onCaughtError),f.onRecoverableError!==void 0&&(xe=f.onRecoverableError),f.formState!==void 0&&(Te=f.formState)),d=V_(o,1,!0,d,f??null,b,E,Te,R,X,xe,t5),d.context=H_(null),f=d.current,b=Tl(),b=un(b),E=As(b),E.callback=null,rr(f,E,b),f=b,d.current.lanes=f,an(d,f),Dd(d),o[_i]=d.current,jb(o),new av(d)},rg.version="19.2.0",rg}var h5;function v8(){if(h5)return Vb.exports;h5=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Vb.exports=x8(),Vb.exports}var y8=v8();/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var m5="popstate";function b8(n={}){function t(r,i){let{pathname:a,search:l,hash:c}=r.location;return Ij("",{pathname:a,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function s(r,i){return typeof i=="string"?i:Rg(i)}return w8(t,s,null,n)}function Zr(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function Ul(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function j8(){return Math.random().toString(36).substring(2,10)}function f5(n,t){return{usr:n.state,key:n.key,idx:t}}function Ij(n,t,s=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?mp(t):t,state:s,key:t&&t.key||r||j8()}}function Rg({pathname:n="/",search:t="",hash:s=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(n+=s.charAt(0)==="#"?s:"#"+s),n}function mp(n){let t={};if(n){let s=n.indexOf("#");s>=0&&(t.hash=n.substring(s),n=n.substring(0,s));let r=n.indexOf("?");r>=0&&(t.search=n.substring(r),n=n.substring(0,r)),n&&(t.pathname=n)}return t}function w8(n,t,s,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,c="POP",u=null,m=g();m==null&&(m=0,l.replaceState({...l.state,idx:m},""));function g(){return(l.state||{idx:null}).idx}function p(){c="POP";let A=g(),C=A==null?null:A-m;m=A,u&&u({action:c,location:j.location,delta:C})}function y(A,C){c="PUSH";let P=Ij(j.location,A,C);m=g()+1;let S=f5(P,m),O=j.createHref(P);try{l.pushState(S,"",O)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;i.location.assign(O)}a&&u&&u({action:c,location:j.location,delta:1})}function x(A,C){c="REPLACE";let P=Ij(j.location,A,C);m=g();let S=f5(P,m),O=j.createHref(P);l.replaceState(S,"",O),a&&u&&u({action:c,location:j.location,delta:0})}function _(A){return N8(A)}let j={get action(){return c},get location(){return n(i,l)},listen(A){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(m5,p),u=A,()=>{i.removeEventListener(m5,p),u=null}},createHref(A){return t(i,A)},createURL:_,encodeLocation(A){let C=_(A);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:y,replace:x,go(A){return l.go(A)}};return j}function N8(n,t=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),Zr(s,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Rg(n);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=s+r),new URL(r,s)}function DC(n,t,s="/"){return _8(n,t,s,!1)}function _8(n,t,s,r){let i=typeof t=="string"?mp(t):t,a=Mu(i.pathname||"/",s);if(a==null)return null;let l=IC(n);S8(l);let c=null;for(let u=0;c==null&&u<l.length;++u){let m=D8(a);c=O8(l[u],m,r)}return c}function IC(n,t=[],s=[],r="",i=!1){let a=(l,c,u=i,m)=>{let g={relativePath:m===void 0?l.path||"":m,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&u)return;Zr(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let p=Ru([r,g.relativePath]),y=s.concat(g);l.children&&l.children.length>0&&(Zr(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),IC(l.children,t,y,p,u)),!(l.path==null&&!l.index)&&t.push({path:p,score:L8(p,l.index),routesMeta:y})};return n.forEach((l,c)=>{var u;if(l.path===""||!((u=l.path)!=null&&u.includes("?")))a(l,c);else for(let m of FC(l.path))a(l,c,!0,m)}),t}function FC(n){let t=n.split("/");if(t.length===0)return[];let[s,...r]=t,i=s.endsWith("?"),a=s.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=FC(r.join("/")),c=[];return c.push(...l.map(u=>u===""?a:[a,u].join("/"))),i&&c.push(...l),c.map(u=>n.startsWith("/")&&u===""?"/":u)}function S8(n){n.sort((t,s)=>t.score!==s.score?s.score-t.score:R8(t.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}var C8=/^:[\w-]+$/,A8=3,k8=2,E8=1,T8=10,P8=-2,p5=n=>n==="*";function L8(n,t){let s=n.split("/"),r=s.length;return s.some(p5)&&(r+=P8),t&&(r+=k8),s.filter(i=>!p5(i)).reduce((i,a)=>i+(C8.test(a)?A8:a===""?E8:T8),r)}function R8(n,t){return n.length===t.length&&n.slice(0,-1).every((r,i)=>r===t[i])?n[n.length-1]-t[t.length-1]:0}function O8(n,t,s=!1){let{routesMeta:r}=n,i={},a="/",l=[];for(let c=0;c<r.length;++c){let u=r[c],m=c===r.length-1,g=a==="/"?t:t.slice(a.length)||"/",p=Qv({path:u.relativePath,caseSensitive:u.caseSensitive,end:m},g),y=u.route;if(!p&&m&&s&&!r[r.length-1].route.index&&(p=Qv({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},g)),!p)return null;Object.assign(i,p.params),l.push({params:i,pathname:Ru([a,p.pathname]),pathnameBase:q8(Ru([a,p.pathnameBase])),route:y}),p.pathnameBase!=="/"&&(a=Ru([a,p.pathnameBase]))}return l}function Qv(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[s,r]=M8(n.path,n.caseSensitive,n.end),i=t.match(s);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((m,{paramName:g,isOptional:p},y)=>{if(g==="*"){let _=c[y]||"";l=a.slice(0,a.length-_.length).replace(/(.)\/+$/,"$1")}const x=c[y];return p&&!x?m[g]=void 0:m[g]=(x||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:l,pattern:n}}function M8(n,t=!1,s=!0){Ul(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function D8(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ul(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function Mu(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,r=n.charAt(s);return r&&r!=="/"?null:n.slice(s)||"/"}var I8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,F8=n=>I8.test(n);function B8(n,t="/"){let{pathname:s,search:r="",hash:i=""}=typeof n=="string"?mp(n):n,a;if(s)if(F8(s))a=s;else{if(s.includes("//")){let l=s;s=s.replace(/\/\/+/g,"/"),Ul(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${s}`)}s.startsWith("/")?a=g5(s.substring(1),"/"):a=g5(s,t)}else a=t;return{pathname:a,search:U8(r),hash:$8(i)}}function g5(n,t){let s=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?s.length>1&&s.pop():i!=="."&&s.push(i)}),s.length>1?s.join("/"):"/"}function Wb(n,t,s,r){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function z8(n){return n.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function K1(n){let t=z8(n);return t.map((s,r)=>r===t.length-1?s.pathname:s.pathnameBase)}function J1(n,t,s,r=!1){let i;typeof n=="string"?i=mp(n):(i={...n},Zr(!i.pathname||!i.pathname.includes("?"),Wb("?","pathname","search",i)),Zr(!i.pathname||!i.pathname.includes("#"),Wb("#","pathname","hash",i)),Zr(!i.search||!i.search.includes("#"),Wb("#","search","hash",i)));let a=n===""||i.pathname==="",l=a?"/":i.pathname,c;if(l==null)c=s;else{let p=t.length-1;if(!r&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),p-=1;i.pathname=y.join("/")}c=p>=0?t[p]:"/"}let u=B8(i,c),m=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&s.endsWith("/");return!u.pathname.endsWith("/")&&(m||g)&&(u.pathname+="/"),u}var Ru=n=>n.join("/").replace(/\/\/+/g,"/"),q8=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),U8=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,$8=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function V8(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var BC=["POST","PUT","PATCH","DELETE"];new Set(BC);var H8=["GET",...BC];new Set(H8);var fp=w.createContext(null);fp.displayName="DataRouter";var By=w.createContext(null);By.displayName="DataRouterState";w.createContext(!1);var zC=w.createContext({isTransitioning:!1});zC.displayName="ViewTransition";var G8=w.createContext(new Map);G8.displayName="Fetchers";var W8=w.createContext(null);W8.displayName="Await";var nd=w.createContext(null);nd.displayName="Navigation";var Kg=w.createContext(null);Kg.displayName="Location";var jc=w.createContext({outlet:null,matches:[],isDataRoute:!1});jc.displayName="Route";var X1=w.createContext(null);X1.displayName="RouteError";function Y8(n,{relative:t}={}){Zr(pp(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:r}=w.useContext(nd),{hash:i,pathname:a,search:l}=Jg(n,{relative:t}),c=a;return s!=="/"&&(c=a==="/"?s:Ru([s,a])),r.createHref({pathname:c,search:l,hash:i})}function pp(){return w.useContext(Kg)!=null}function Ho(){return Zr(pp(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Kg).location}var qC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function UC(n){w.useContext(nd).static||w.useLayoutEffect(n)}function Mn(){let{isDataRoute:n}=w.useContext(jc);return n?cO():Z8()}function Z8(){Zr(pp(),"useNavigate() may be used only in the context of a <Router> component.");let n=w.useContext(fp),{basename:t,navigator:s}=w.useContext(nd),{matches:r}=w.useContext(jc),{pathname:i}=Ho(),a=JSON.stringify(K1(r)),l=w.useRef(!1);return UC(()=>{l.current=!0}),w.useCallback((u,m={})=>{if(Ul(l.current,qC),!l.current)return;if(typeof u=="number"){s.go(u);return}let g=J1(u,JSON.parse(a),i,m.relative==="path");n==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Ru([t,g.pathname])),(m.replace?s.replace:s.push)(g,m.state,m)},[t,s,a,i,n])}var K8=w.createContext(null);function J8(n){let t=w.useContext(jc).outlet;return w.useMemo(()=>t&&w.createElement(K8.Provider,{value:n},t),[t,n])}function Jd(){let{matches:n}=w.useContext(jc),t=n[n.length-1];return t?t.params:{}}function Jg(n,{relative:t}={}){let{matches:s}=w.useContext(jc),{pathname:r}=Ho(),i=JSON.stringify(K1(s));return w.useMemo(()=>J1(n,JSON.parse(i),r,t==="path"),[n,i,r,t])}function X8(n,t){return $C(n,t)}function $C(n,t,s,r,i){var P;Zr(pp(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=w.useContext(nd),{matches:l}=w.useContext(jc),c=l[l.length-1],u=c?c.params:{},m=c?c.pathname:"/",g=c?c.pathnameBase:"/",p=c&&c.route;{let S=p&&p.path||"";VC(m,!p||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let y=Ho(),x;if(t){let S=typeof t=="string"?mp(t):t;Zr(g==="/"||((P=S.pathname)==null?void 0:P.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${S.pathname}" was given in the \`location\` prop.`),x=S}else x=y;let _=x.pathname||"/",j=_;if(g!=="/"){let S=g.replace(/^\//,"").split("/");j="/"+_.replace(/^\//,"").split("/").slice(S.length).join("/")}let A=DC(n,{pathname:j});Ul(p||A!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Ul(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=nO(A&&A.map(S=>Object.assign({},S,{params:Object.assign({},u,S.params),pathname:Ru([g,a.encodeLocation?a.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?g:Ru([g,a.encodeLocation?a.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),l,s,r,i);return t&&C?w.createElement(Kg.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},C):C}function Q8(){let n=lO(),t=V8(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),s=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:a},"ErrorBoundary")," or"," ",w.createElement("code",{style:a},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),s?w.createElement("pre",{style:i},s):null,l)}var eO=w.createElement(Q8,null),tO=class extends w.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){this.props.onError?this.props.onError(n,t):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?w.createElement(jc.Provider,{value:this.props.routeContext},w.createElement(X1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function sO({routeContext:n,match:t,children:s}){let r=w.useContext(fp);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(jc.Provider,{value:n},s)}function nO(n,t=[],s=null,r=null,i=null){if(n==null){if(!s)return null;if(s.errors)n=s.matches;else if(t.length===0&&!s.initialized&&s.matches.length>0)n=s.matches;else return null}let a=n,l=s==null?void 0:s.errors;if(l!=null){let g=a.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);Zr(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,g+1))}let c=!1,u=-1;if(s)for(let g=0;g<a.length;g++){let p=a[g];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=g),p.route.id){let{loaderData:y,errors:x}=s,_=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!x||x[p.route.id]===void 0);if(p.route.lazy||_){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}let m=s&&r?(g,p)=>{var y,x;r(g,{location:s.location,params:((x=(y=s.matches)==null?void 0:y[0])==null?void 0:x.params)??{},errorInfo:p})}:void 0;return a.reduceRight((g,p,y)=>{let x,_=!1,j=null,A=null;s&&(x=l&&p.route.id?l[p.route.id]:void 0,j=p.route.errorElement||eO,c&&(u<0&&y===0?(VC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,A=null):u===y&&(_=!0,A=p.route.hydrateFallbackElement||null)));let C=t.concat(a.slice(0,y+1)),P=()=>{let S;return x?S=j:_?S=A:p.route.Component?S=w.createElement(p.route.Component,null):p.route.element?S=p.route.element:S=g,w.createElement(sO,{match:p,routeContext:{outlet:g,matches:C,isDataRoute:s!=null},children:S})};return s&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?w.createElement(tO,{location:s.location,revalidation:s.revalidation,component:j,error:x,children:P(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:m}):P()},null)}function Q1(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rO(n){let t=w.useContext(fp);return Zr(t,Q1(n)),t}function iO(n){let t=w.useContext(By);return Zr(t,Q1(n)),t}function aO(n){let t=w.useContext(jc);return Zr(t,Q1(n)),t}function ew(n){let t=aO(n),s=t.matches[t.matches.length-1];return Zr(s.route.id,`${n} can only be used on routes that contain a unique "id"`),s.route.id}function oO(){return ew("useRouteId")}function lO(){var r;let n=w.useContext(X1),t=iO("useRouteError"),s=ew("useRouteError");return n!==void 0?n:(r=t.errors)==null?void 0:r[s]}function cO(){let{router:n}=rO("useNavigate"),t=ew("useNavigate"),s=w.useRef(!1);return UC(()=>{s.current=!0}),w.useCallback(async(i,a={})=>{Ul(s.current,qC),s.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:t,...a}))},[n,t])}var x5={};function VC(n,t,s){!t&&!x5[n]&&(x5[n]=!0,Ul(!1,s))}w.memo(dO);function dO({routes:n,future:t,state:s,unstable_onError:r}){return $C(n,void 0,s,r,t)}function Fj({to:n,replace:t,state:s,relative:r}){Zr(pp(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=w.useContext(nd);Ul(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=w.useContext(jc),{pathname:l}=Ho(),c=Mn(),u=J1(n,K1(a),l,r==="path"),m=JSON.stringify(u);return w.useEffect(()=>{c(JSON.parse(m),{replace:t,state:s,relative:r})},[c,m,r,t,s]),null}function HC(n){return J8(n.context)}function ds(n){Zr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function uO({basename:n="/",children:t=null,location:s,navigationType:r="POP",navigator:i,static:a=!1}){Zr(!pp(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=w.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof s=="string"&&(s=mp(s));let{pathname:u="/",search:m="",hash:g="",state:p=null,key:y="default"}=s,x=w.useMemo(()=>{let _=Mu(u,l);return _==null?null:{location:{pathname:_,search:m,hash:g,state:p,key:y},navigationType:r}},[l,u,m,g,p,y,r]);return Ul(x!=null,`<Router basename="${l}"> is not able to match the URL "${u}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:w.createElement(nd.Provider,{value:c},w.createElement(Kg.Provider,{children:t,value:x}))}function hO({children:n,location:t}){return X8(Bj(n),t)}function Bj(n,t=[]){let s=[];return w.Children.forEach(n,(r,i)=>{if(!w.isValidElement(r))return;let a=[...t,i];if(r.type===w.Fragment){s.push.apply(s,Bj(r.props.children,a));return}Zr(r.type===ds,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Zr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Bj(r.props.children,a)),s.push(l)}),s}var Bv="get",zv="application/x-www-form-urlencoded";function zy(n){return n!=null&&typeof n.tagName=="string"}function mO(n){return zy(n)&&n.tagName.toLowerCase()==="button"}function fO(n){return zy(n)&&n.tagName.toLowerCase()==="form"}function pO(n){return zy(n)&&n.tagName.toLowerCase()==="input"}function gO(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function xO(n,t){return n.button===0&&(!t||t==="_self")&&!gO(n)}function zj(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((t,s)=>{let r=n[s];return t.concat(Array.isArray(r)?r.map(i=>[s,i]):[[s,r]])},[]))}function vO(n,t){let s=zj(n);return t&&t.forEach((r,i)=>{s.has(i)||t.getAll(i).forEach(a=>{s.append(i,a)})}),s}var lv=null;function yO(){if(lv===null)try{new FormData(document.createElement("form"),0),lv=!1}catch{lv=!0}return lv}var bO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yb(n){return n!=null&&!bO.has(n)?(Ul(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${zv}"`),null):n}function jO(n,t){let s,r,i,a,l;if(fO(n)){let c=n.getAttribute("action");r=c?Mu(c,t):null,s=n.getAttribute("method")||Bv,i=Yb(n.getAttribute("enctype"))||zv,a=new FormData(n)}else if(mO(n)||pO(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=n.getAttribute("formaction")||c.getAttribute("action");if(r=u?Mu(u,t):null,s=n.getAttribute("formmethod")||c.getAttribute("method")||Bv,i=Yb(n.getAttribute("formenctype"))||Yb(c.getAttribute("enctype"))||zv,a=new FormData(c,n),!yO()){let{name:m,type:g,value:p}=n;if(g==="image"){let y=m?`${m}.`:"";a.append(`${y}x`,"0"),a.append(`${y}y`,"0")}else m&&a.append(m,p)}}else{if(zy(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Bv,r=null,i=zv,l=n}return a&&i==="text/plain"&&(l=a,a=void 0),{action:r,method:s.toLowerCase(),encType:i,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function tw(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function wO(n,t,s){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${s}`:t&&Mu(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${s}`,r}async function NO(n,t){if(n.id in t)return t[n.id];try{let s=await import(n.module);return t[n.id]=s,s}catch(s){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _O(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function SO(n,t,s){let r=await Promise.all(n.map(async i=>{let a=t.routes[i.route.id];if(a){let l=await NO(a,s);return l.links?l.links():[]}return[]}));return EO(r.flat(1).filter(_O).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function v5(n,t,s,r,i,a){let l=(u,m)=>s[m]?u.route.id!==s[m].route.id:!0,c=(u,m)=>{var g;return s[m].pathname!==u.pathname||((g=s[m].route.path)==null?void 0:g.endsWith("*"))&&s[m].params["*"]!==u.params["*"]};return a==="assets"?t.filter((u,m)=>l(u,m)||c(u,m)):a==="data"?t.filter((u,m)=>{var p;let g=r.routes[u.route.id];if(!g||!g.hasLoader)return!1;if(l(u,m)||c(u,m))return!0;if(u.route.shouldRevalidate){let y=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=s[0])==null?void 0:p.params)||{},nextUrl:new URL(n,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function CO(n,t,{includeHydrateFallback:s}={}){return AO(n.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),s&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function AO(n){return[...new Set(n)]}function kO(n){let t={},s=Object.keys(n).sort();for(let r of s)t[r]=n[r];return t}function EO(n,t){let s=new Set;return new Set(t),n.reduce((r,i)=>{let a=JSON.stringify(kO(i));return s.has(a)||(s.add(a),r.push({key:a,link:i})),r},[])}function GC(){let n=w.useContext(fp);return tw(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function TO(){let n=w.useContext(By);return tw(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var sw=w.createContext(void 0);sw.displayName="FrameworkContext";function WC(){let n=w.useContext(sw);return tw(n,"You must render this element inside a <HydratedRouter> element"),n}function PO(n,t){let s=w.useContext(sw),[r,i]=w.useState(!1),[a,l]=w.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:m,onMouseLeave:g,onTouchStart:p}=t,y=w.useRef(null);w.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let j=C=>{C.forEach(P=>{l(P.isIntersecting)})},A=new IntersectionObserver(j,{threshold:.5});return y.current&&A.observe(y.current),()=>{A.disconnect()}}},[n]),w.useEffect(()=>{if(r){let j=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(j)}}},[r]);let x=()=>{i(!0)},_=()=>{i(!1),l(!1)};return s?n!=="intent"?[a,y,{}]:[a,y,{onFocus:ig(c,x),onBlur:ig(u,_),onMouseEnter:ig(m,x),onMouseLeave:ig(g,_),onTouchStart:ig(p,x)}]:[!1,y,{}]}function ig(n,t){return s=>{n&&n(s),s.defaultPrevented||t(s)}}function LO({page:n,...t}){let{router:s}=GC(),r=w.useMemo(()=>DC(s.routes,n,s.basename),[s.routes,n,s.basename]);return r?w.createElement(OO,{page:n,matches:r,...t}):null}function RO(n){let{manifest:t,routeModules:s}=WC(),[r,i]=w.useState([]);return w.useEffect(()=>{let a=!1;return SO(n,t,s).then(l=>{a||i(l)}),()=>{a=!0}},[n,t,s]),r}function OO({page:n,matches:t,...s}){let r=Ho(),{manifest:i,routeModules:a}=WC(),{basename:l}=GC(),{loaderData:c,matches:u}=TO(),m=w.useMemo(()=>v5(n,t,u,i,r,"data"),[n,t,u,i,r]),g=w.useMemo(()=>v5(n,t,u,i,r,"assets"),[n,t,u,i,r]),p=w.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let _=new Set,j=!1;if(t.forEach(C=>{var S;let P=i.routes[C.route.id];!P||!P.hasLoader||(!m.some(O=>O.route.id===C.route.id)&&C.route.id in c&&((S=a[C.route.id])!=null&&S.shouldRevalidate)||P.hasClientLoader?j=!0:_.add(C.route.id))}),_.size===0)return[];let A=wO(n,l,"data");return j&&_.size>0&&A.searchParams.set("_routes",t.filter(C=>_.has(C.route.id)).map(C=>C.route.id).join(",")),[A.pathname+A.search]},[l,c,r,i,m,t,n,a]),y=w.useMemo(()=>CO(g,i),[g,i]),x=RO(g);return w.createElement(w.Fragment,null,p.map(_=>w.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...s})),y.map(_=>w.createElement("link",{key:_,rel:"modulepreload",href:_,...s})),x.map(({key:_,link:j})=>w.createElement("link",{key:_,nonce:s.nonce,...j})))}function MO(...n){return t=>{n.forEach(s=>{typeof s=="function"?s(t):s!=null&&(s.current=t)})}}var YC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{YC&&(window.__reactRouterVersion="7.9.6")}catch{}function DO({basename:n,children:t,window:s}){let r=w.useRef();r.current==null&&(r.current=b8({window:s,v5Compat:!0}));let i=r.current,[a,l]=w.useState({action:i.action,location:i.location}),c=w.useCallback(u=>{w.startTransition(()=>l(u))},[l]);return w.useLayoutEffect(()=>i.listen(c),[i,c]),w.createElement(uO,{basename:n,children:t,location:a.location,navigationType:a.action,navigator:i})}var ZC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,St=w.forwardRef(function({onClick:t,discover:s="render",prefetch:r="none",relative:i,reloadDocument:a,replace:l,state:c,target:u,to:m,preventScrollReset:g,viewTransition:p,...y},x){let{basename:_}=w.useContext(nd),j=typeof m=="string"&&ZC.test(m),A,C=!1;if(typeof m=="string"&&j&&(A=m,YC))try{let K=new URL(window.location.href),H=m.startsWith("//")?new URL(K.protocol+m):new URL(m),$=Mu(H.pathname,_);H.origin===K.origin&&$!=null?m=$+H.search+H.hash:C=!0}catch{Ul(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=Y8(m,{relative:i}),[S,O,z]=PO(r,y),V=zO(m,{replace:l,state:c,target:u,preventScrollReset:g,relative:i,viewTransition:p});function B(K){t&&t(K),K.defaultPrevented||V(K)}let D=w.createElement("a",{...y,...z,href:A||P,onClick:C||a?t:B,ref:MO(x,O),target:u,"data-discover":!j&&s==="render"?"true":void 0});return S&&!j?w.createElement(w.Fragment,null,D,w.createElement(LO,{page:P})):D});St.displayName="Link";var IO=w.forwardRef(function({"aria-current":t="page",caseSensitive:s=!1,className:r="",end:i=!1,style:a,to:l,viewTransition:c,children:u,...m},g){let p=Jg(l,{relative:m.relative}),y=Ho(),x=w.useContext(By),{navigator:_,basename:j}=w.useContext(nd),A=x!=null&&HO(p)&&c===!0,C=_.encodeLocation?_.encodeLocation(p).pathname:p.pathname,P=y.pathname,S=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;s||(P=P.toLowerCase(),S=S?S.toLowerCase():null,C=C.toLowerCase()),S&&j&&(S=Mu(S,j)||S);const O=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let z=P===C||!i&&P.startsWith(C)&&P.charAt(O)==="/",V=S!=null&&(S===C||!i&&S.startsWith(C)&&S.charAt(C.length)==="/"),B={isActive:z,isPending:V,isTransitioning:A},D=z?t:void 0,K;typeof r=="function"?K=r(B):K=[r,z?"active":null,V?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let H=typeof a=="function"?a(B):a;return w.createElement(St,{...m,"aria-current":D,className:K,ref:g,style:H,to:l,viewTransition:c},typeof u=="function"?u(B):u)});IO.displayName="NavLink";var FO=w.forwardRef(({discover:n="render",fetcherKey:t,navigate:s,reloadDocument:r,replace:i,state:a,method:l=Bv,action:c,onSubmit:u,relative:m,preventScrollReset:g,viewTransition:p,...y},x)=>{let _=$O(),j=VO(c,{relative:m}),A=l.toLowerCase()==="get"?"get":"post",C=typeof c=="string"&&ZC.test(c),P=S=>{if(u&&u(S),S.defaultPrevented)return;S.preventDefault();let O=S.nativeEvent.submitter,z=(O==null?void 0:O.getAttribute("formmethod"))||l;_(O||S.currentTarget,{fetcherKey:t,method:z,navigate:s,replace:i,state:a,relative:m,preventScrollReset:g,viewTransition:p})};return w.createElement("form",{ref:x,method:A,action:j,onSubmit:r?u:P,...y,"data-discover":!C&&n==="render"?"true":void 0})});FO.displayName="Form";function BO(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KC(n){let t=w.useContext(fp);return Zr(t,BO(n)),t}function zO(n,{target:t,replace:s,state:r,preventScrollReset:i,relative:a,viewTransition:l}={}){let c=Mn(),u=Ho(),m=Jg(n,{relative:a});return w.useCallback(g=>{if(xO(g,t)){g.preventDefault();let p=s!==void 0?s:Rg(u)===Rg(m);c(n,{replace:p,state:r,preventScrollReset:i,relative:a,viewTransition:l})}},[u,c,m,s,r,t,n,i,a,l])}function JC(n){Ul(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=w.useRef(zj(n)),s=w.useRef(!1),r=Ho(),i=w.useMemo(()=>vO(r.search,s.current?null:t.current),[r.search]),a=Mn(),l=w.useCallback((c,u)=>{const m=zj(typeof c=="function"?c(new URLSearchParams(i)):c);s.current=!0,a("?"+m,u)},[a,i]);return[i,l]}var qO=0,UO=()=>`__${String(++qO)}__`;function $O(){let{router:n}=KC("useSubmit"),{basename:t}=w.useContext(nd),s=oO();return w.useCallback(async(r,i={})=>{let{action:a,method:l,encType:c,formData:u,body:m}=jO(r,t);if(i.navigate===!1){let g=i.fetcherKey||UO();await n.fetch(g,s,i.action||a,{preventScrollReset:i.preventScrollReset,formData:u,body:m,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await n.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:u,body:m,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:s,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,t,s])}function VO(n,{relative:t}={}){let{basename:s}=w.useContext(nd),r=w.useContext(jc);Zr(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Jg(n||".",{relative:t})},l=Ho();if(n==null){a.search=l.search;let c=new URLSearchParams(a.search),u=c.getAll("index");if(u.some(g=>g==="")){c.delete("index"),u.filter(p=>p).forEach(p=>c.append("index",p));let g=c.toString();a.search=g?`?${g}`:""}}return(!n||n===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(a.pathname=a.pathname==="/"?s:Ru([s,a.pathname])),Rg(a)}function HO(n,{relative:t}={}){let s=w.useContext(zC);Zr(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=KC("useViewTransitionState"),i=Jg(n,{relative:t});if(!s.isTransitioning)return!1;let a=Mu(s.currentLocation.pathname,r)||s.currentLocation.pathname,l=Mu(s.nextLocation.pathname,r)||s.nextLocation.pathname;return Qv(i.pathname,l)!=null||Qv(i.pathname,a)!=null}var qj=function(n,t){return qj=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,r){s.__proto__=r}||function(s,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(s[i]=r[i])},qj(n,t)};function XC(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");qj(n,t);function s(){this.constructor=n}n.prototype=t===null?Object.create(t):(s.prototype=t.prototype,new s)}var xc=function(){return xc=Object.assign||function(t){for(var s,r=1,i=arguments.length;r<i;r++){s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},xc.apply(this,arguments)};function Wh(n,t){var s={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(s[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(s[r[i]]=n[r[i]]);return s}function QC(n,t,s,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,s):r,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,t,s,r);else for(var c=n.length-1;c>=0;c--)(l=n[c])&&(a=(i<3?l(a):i>3?l(t,s,a):l(t,s))||a);return i>3&&a&&Object.defineProperty(t,s,a),a}function e3(n,t){return function(s,r){t(s,r,n)}}function t3(n,t,s,r,i,a){function l(C){if(C!==void 0&&typeof C!="function")throw new TypeError("Function expected");return C}for(var c=r.kind,u=c==="getter"?"get":c==="setter"?"set":"value",m=!t&&n?r.static?n:n.prototype:null,g=t||(m?Object.getOwnPropertyDescriptor(m,r.name):{}),p,y=!1,x=s.length-1;x>=0;x--){var _={};for(var j in r)_[j]=j==="access"?{}:r[j];for(var j in r.access)_.access[j]=r.access[j];_.addInitializer=function(C){if(y)throw new TypeError("Cannot add initializers after decoration has completed");a.push(l(C||null))};var A=(0,s[x])(c==="accessor"?{get:g.get,set:g.set}:g[u],_);if(c==="accessor"){if(A===void 0)continue;if(A===null||typeof A!="object")throw new TypeError("Object expected");(p=l(A.get))&&(g.get=p),(p=l(A.set))&&(g.set=p),(p=l(A.init))&&i.unshift(p)}else(p=l(A))&&(c==="field"?i.unshift(p):g[u]=p)}m&&Object.defineProperty(m,r.name,g),y=!0}function s3(n,t,s){for(var r=arguments.length>2,i=0;i<t.length;i++)s=r?t[i].call(n,s):t[i].call(n);return r?s:void 0}function n3(n){return typeof n=="symbol"?n:"".concat(n)}function r3(n,t,s){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(n,"name",{configurable:!0,value:s?"".concat(s," ",t):t})}function i3(n,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,t)}function hs(n,t,s,r){function i(a){return a instanceof s?a:new s(function(l){l(a)})}return new(s||(s=Promise))(function(a,l){function c(g){try{m(r.next(g))}catch(p){l(p)}}function u(g){try{m(r.throw(g))}catch(p){l(p)}}function m(g){g.done?a(g.value):i(g.value).then(c,u)}m((r=r.apply(n,t||[])).next())})}function a3(n,t){var s={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=c(0),l.throw=c(1),l.return=c(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(m){return function(g){return u([m,g])}}function u(m){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,m[0]&&(s=0)),s;)try{if(r=1,i&&(a=m[0]&2?i.return:m[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,m[1])).done)return a;switch(i=0,a&&(m=[m[0]&2,a.value]),m[0]){case 0:case 1:a=m;break;case 4:return s.label++,{value:m[1],done:!1};case 5:s.label++,i=m[1],m=[0];continue;case 7:m=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(m[0]===6||m[0]===2)){s=0;continue}if(m[0]===3&&(!a||m[1]>a[0]&&m[1]<a[3])){s.label=m[1];break}if(m[0]===6&&s.label<a[1]){s.label=a[1],a=m;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(m);break}a[2]&&s.ops.pop(),s.trys.pop();continue}m=t.call(n,s)}catch(g){m=[6,g],i=0}finally{r=a=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}var qy=Object.create?(function(n,t,s,r){r===void 0&&(r=s);var i=Object.getOwnPropertyDescriptor(t,s);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(n,r,i)}):(function(n,t,s,r){r===void 0&&(r=s),n[r]=t[s]});function o3(n,t){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(t,s)&&qy(t,n,s)}function ey(n){var t=typeof Symbol=="function"&&Symbol.iterator,s=t&&n[t],r=0;if(s)return s.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function nw(n,t){var s=typeof Symbol=="function"&&n[Symbol.iterator];if(!s)return n;var r=s.call(n),i,a=[],l;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(c){l={error:c}}finally{try{i&&!i.done&&(s=r.return)&&s.call(r)}finally{if(l)throw l.error}}return a}function l3(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(nw(arguments[t]));return n}function c3(){for(var n=0,t=0,s=arguments.length;t<s;t++)n+=arguments[t].length;for(var r=Array(n),i=0,t=0;t<s;t++)for(var a=arguments[t],l=0,c=a.length;l<c;l++,i++)r[i]=a[l];return r}function rw(n,t,s){if(s||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return n.concat(a||Array.prototype.slice.call(t))}function ep(n){return this instanceof ep?(this.v=n,this):new ep(n)}function d3(n,t,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=s.apply(n,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(x){return function(_){return Promise.resolve(_).then(x,p)}}function c(x,_){r[x]&&(i[x]=function(j){return new Promise(function(A,C){a.push([x,j,A,C])>1||u(x,j)})},_&&(i[x]=_(i[x])))}function u(x,_){try{m(r[x](_))}catch(j){y(a[0][3],j)}}function m(x){x.value instanceof ep?Promise.resolve(x.value.v).then(g,p):y(a[0][2],x)}function g(x){u("next",x)}function p(x){u("throw",x)}function y(x,_){x(_),a.shift(),a.length&&u(a[0][0],a[0][1])}}function u3(n){var t,s;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,a){t[i]=n[i]?function(l){return(s=!s)?{value:ep(n[i](l)),done:!1}:a?a(l):l}:a}}function h3(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],s;return t?t.call(n):(n=typeof ey=="function"?ey(n):n[Symbol.iterator](),s={},r("next"),r("throw"),r("return"),s[Symbol.asyncIterator]=function(){return this},s);function r(a){s[a]=n[a]&&function(l){return new Promise(function(c,u){l=n[a](l),i(c,u,l.done,l.value)})}}function i(a,l,c,u){Promise.resolve(u).then(function(m){a({value:m,done:c})},l)}}function m3(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n}var GO=Object.create?(function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}):function(n,t){n.default=t},Uj=function(n){return Uj=Object.getOwnPropertyNames||function(t){var s=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(s[s.length]=r);return s},Uj(n)};function f3(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var s=Uj(n),r=0;r<s.length;r++)s[r]!=="default"&&qy(t,n,s[r]);return GO(t,n),t}function p3(n){return n&&n.__esModule?n:{default:n}}function g3(n,t,s,r){if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?n!==t||!r:!t.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?r:s==="a"?r.call(n):r?r.value:t.get(n)}function x3(n,t,s,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?n!==t||!i:!t.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(n,s):i?i.value=s:t.set(n,s),s}function v3(n,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?t===n:n.has(t)}function y3(n,t,s){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,i;if(s){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],s&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),n.stack.push({value:t,dispose:r,async:s})}else s&&n.stack.push({async:!0});return t}var WO=typeof SuppressedError=="function"?SuppressedError:function(n,t,s){var r=new Error(s);return r.name="SuppressedError",r.error=n,r.suppressed=t,r};function b3(n){function t(a){n.error=n.hasError?new WO(a,n.error,"An error was suppressed during disposal."):a,n.hasError=!0}var s,r=0;function i(){for(;s=n.stack.pop();)try{if(!s.async&&r===1)return r=0,n.stack.push(s),Promise.resolve().then(i);if(s.dispose){var a=s.dispose.call(s.value);if(s.async)return r|=2,Promise.resolve(a).then(i,function(l){return t(l),i()})}else r|=1}catch(l){t(l)}if(r===1)return n.hasError?Promise.reject(n.error):Promise.resolve();if(n.hasError)throw n.error}return i()}function j3(n,t){return typeof n=="string"&&/^\.\.?\//.test(n)?n.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(s,r,i,a,l){return r?t?".jsx":".js":i&&(!a||!l)?s:i+a+"."+l.toLowerCase()+"js"}):n}const YO={__extends:XC,__assign:xc,__rest:Wh,__decorate:QC,__param:e3,__esDecorate:t3,__runInitializers:s3,__propKey:n3,__setFunctionName:r3,__metadata:i3,__awaiter:hs,__generator:a3,__createBinding:qy,__exportStar:o3,__values:ey,__read:nw,__spread:l3,__spreadArrays:c3,__spreadArray:rw,__await:ep,__asyncGenerator:d3,__asyncDelegator:u3,__asyncValues:h3,__makeTemplateObject:m3,__importStar:f3,__importDefault:p3,__classPrivateFieldGet:g3,__classPrivateFieldSet:x3,__classPrivateFieldIn:v3,__addDisposableResource:y3,__disposeResources:b3,__rewriteRelativeImportExtension:j3},ZO=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:y3,get __assign(){return xc},__asyncDelegator:u3,__asyncGenerator:d3,__asyncValues:h3,__await:ep,__awaiter:hs,__classPrivateFieldGet:g3,__classPrivateFieldIn:v3,__classPrivateFieldSet:x3,__createBinding:qy,__decorate:QC,__disposeResources:b3,__esDecorate:t3,__exportStar:o3,__extends:XC,__generator:a3,__importDefault:p3,__importStar:f3,__makeTemplateObject:m3,__metadata:i3,__param:e3,__propKey:n3,__read:nw,__rest:Wh,__rewriteRelativeImportExtension:j3,__runInitializers:s3,__setFunctionName:r3,__spread:l3,__spreadArray:rw,__spreadArrays:c3,__values:ey,default:YO},Symbol.toStringTag,{value:"Module"})),KO=n=>n?(...t)=>n(...t):(...t)=>fetch(...t);class iw extends Error{constructor(t,s="FunctionsError",r){super(t),this.name=s,this.context=r}}class JO extends iw{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class y5 extends iw{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class b5 extends iw{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var $j;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})($j||($j={}));class XO{constructor(t,{headers:s={},customFetch:r,region:i=$j.Any}={}){this.url=t,this.headers=s,this.region=i,this.fetch=KO(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return hs(this,arguments,void 0,function*(s,r={}){var i;let a,l;try{const{headers:c,method:u,body:m,signal:g,timeout:p}=r;let y={},{region:x}=r;x||(x=this.region);const _=new URL(`${this.url}/${s}`);x&&x!=="any"&&(y["x-region"]=x,_.searchParams.set("forceFunctionRegion",x));let j;m&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",j=m):typeof m=="string"?(y["Content-Type"]="text/plain",j=m):typeof FormData<"u"&&m instanceof FormData?j=m:(y["Content-Type"]="application/json",j=JSON.stringify(m)):j=m;let A=g;p&&(l=new AbortController,a=setTimeout(()=>l.abort(),p),g?(A=l.signal,g.addEventListener("abort",()=>l.abort())):A=l.signal);const C=yield this.fetch(_.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),c),body:j,signal:A}).catch(z=>{throw new JO(z)}),P=C.headers.get("x-relay-error");if(P&&P==="true")throw new y5(C);if(!C.ok)throw new b5(C);let S=((i=C.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),O;return S==="application/json"?O=yield C.json():S==="application/octet-stream"||S==="application/pdf"?O=yield C.blob():S==="text/event-stream"?O=C:S==="multipart/form-data"?O=yield C.formData():O=yield C.text(),{data:O,error:null,response:C}}catch(c){return{data:null,error:c,response:c instanceof b5||c instanceof y5?c.context:void 0}}finally{a&&clearTimeout(a)}})}}var bo={};const gp=c8(ZO);var cv={},dv={},uv={},hv={},mv={},fv={},j5;function w3(){if(j5)return fv;j5=1,Object.defineProperty(fv,"__esModule",{value:!0});class n extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return fv.default=n,fv}var w5;function N3(){if(w5)return mv;w5=1,Object.defineProperty(mv,"__esModule",{value:!0});const t=gp.__importDefault(w3());class s{constructor(i){var a,l;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(l=i.isMaybeSingle)!==null&&l!==void 0?l:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var m,g,p,y;let x=null,_=null,j=null,A=u.status,C=u.statusText;if(u.ok){if(this.method!=="HEAD"){const z=await u.text();z===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((m=this.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?_=z:_=JSON.parse(z))}const S=(g=this.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),O=(p=u.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");S&&O&&O.length>1&&(j=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(x={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,j=null,A=406,C="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const S=await u.text();try{x=JSON.parse(S),Array.isArray(x)&&u.status===404&&(_=[],x=null,A=200,C="OK")}catch{u.status===404&&S===""?(A=204,C="No Content"):x={message:S}}if(x&&this.isMaybeSingle&&(!((y=x==null?void 0:x.details)===null||y===void 0)&&y.includes("0 rows"))&&(x=null,A=200,C="OK"),x&&this.shouldThrowOnError)throw new t.default(x)}return{error:x,data:_,count:j,status:A,statusText:C}});return this.shouldThrowOnError||(c=c.catch(u=>{var m,g,p;return{error:{message:`${(m=u==null?void 0:u.name)!==null&&m!==void 0?m:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(g=u==null?void 0:u.stack)!==null&&g!==void 0?g:""}`,hint:"",code:`${(p=u==null?void 0:u.code)!==null&&p!==void 0?p:""}`},data:null,count:null,status:0,statusText:""}})),c.then(i,a)}returns(){return this}overrideTypes(){return this}}return mv.default=s,mv}var N5;function _3(){if(N5)return hv;N5=1,Object.defineProperty(hv,"__esModule",{value:!0});const t=gp.__importDefault(N3());class s extends t.default{select(i){let a=!1;const l=(i??"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:l,foreignTable:c,referencedTable:u=c}={}){const m=u?`${u}.order`:"order",g=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${g?`${g},`:""}${i}.${a?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:l=a}={}){const c=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${i}`),this}range(i,a,{foreignTable:l,referencedTable:c=l}={}){const u=typeof c>"u"?"offset":`${c}.offset`,m=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(u,`${i}`),this.url.searchParams.set(m,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:l=!1,buffers:c=!1,wal:u=!1,format:m="text"}={}){var g;const p=[i?"analyze":null,a?"verbose":null,l?"settings":null,c?"buffers":null,u?"wal":null].filter(Boolean).join("|"),y=(g=this.headers.get("Accept"))!==null&&g!==void 0?g:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${y}"; options=${p};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return hv.default=s,hv}var _5;function aw(){if(_5)return uv;_5=1,Object.defineProperty(uv,"__esModule",{value:!0});const t=gp.__importDefault(_3()),s=new RegExp("[,()]");class r extends t.default{eq(a,l){return this.url.searchParams.append(a,`eq.${l}`),this}neq(a,l){return this.url.searchParams.append(a,`neq.${l}`),this}gt(a,l){return this.url.searchParams.append(a,`gt.${l}`),this}gte(a,l){return this.url.searchParams.append(a,`gte.${l}`),this}lt(a,l){return this.url.searchParams.append(a,`lt.${l}`),this}lte(a,l){return this.url.searchParams.append(a,`lte.${l}`),this}like(a,l){return this.url.searchParams.append(a,`like.${l}`),this}likeAllOf(a,l){return this.url.searchParams.append(a,`like(all).{${l.join(",")}}`),this}likeAnyOf(a,l){return this.url.searchParams.append(a,`like(any).{${l.join(",")}}`),this}ilike(a,l){return this.url.searchParams.append(a,`ilike.${l}`),this}ilikeAllOf(a,l){return this.url.searchParams.append(a,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(a,l){return this.url.searchParams.append(a,`ilike(any).{${l.join(",")}}`),this}is(a,l){return this.url.searchParams.append(a,`is.${l}`),this}in(a,l){const c=Array.from(new Set(l)).map(u=>typeof u=="string"&&s.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(a,`in.(${c})`),this}contains(a,l){return typeof l=="string"?this.url.searchParams.append(a,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(a,`cs.{${l.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(l)}`),this}containedBy(a,l){return typeof l=="string"?this.url.searchParams.append(a,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(a,`cd.{${l.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(l)}`),this}rangeGt(a,l){return this.url.searchParams.append(a,`sr.${l}`),this}rangeGte(a,l){return this.url.searchParams.append(a,`nxl.${l}`),this}rangeLt(a,l){return this.url.searchParams.append(a,`sl.${l}`),this}rangeLte(a,l){return this.url.searchParams.append(a,`nxr.${l}`),this}rangeAdjacent(a,l){return this.url.searchParams.append(a,`adj.${l}`),this}overlaps(a,l){return typeof l=="string"?this.url.searchParams.append(a,`ov.${l}`):this.url.searchParams.append(a,`ov.{${l.join(",")}}`),this}textSearch(a,l,{config:c,type:u}={}){let m="";u==="plain"?m="pl":u==="phrase"?m="ph":u==="websearch"&&(m="w");const g=c===void 0?"":`(${c})`;return this.url.searchParams.append(a,`${m}fts${g}.${l}`),this}match(a){return Object.entries(a).forEach(([l,c])=>{this.url.searchParams.append(l,`eq.${c}`)}),this}not(a,l,c){return this.url.searchParams.append(a,`not.${l}.${c}`),this}or(a,{foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.or`:"or";return this.url.searchParams.append(u,`(${a})`),this}filter(a,l,c){return this.url.searchParams.append(a,`${l}.${c}`),this}}return uv.default=r,uv}var S5;function S3(){if(S5)return dv;S5=1,Object.defineProperty(dv,"__esModule",{value:!0});const t=gp.__importDefault(aw());class s{constructor(i,{headers:a={},schema:l,fetch:c}){this.url=i,this.headers=new Headers(a),this.schema=l,this.fetch=c}select(i,a){const{head:l=!1,count:c}=a??{},u=l?"HEAD":"GET";let m=!1;const g=(i??"*").split("").map(p=>/\s/.test(p)&&!m?"":(p==='"'&&(m=!m),p)).join("");return this.url.searchParams.set("select",g),c&&this.headers.append("Prefer",`count=${c}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:l=!0}={}){var c;const u="POST";if(a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((g,p)=>g.concat(Object.keys(p)),[]);if(m.length>0){const g=[...new Set(m)].map(p=>`"${p}"`);this.url.searchParams.set("columns",g.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:l=!1,count:c,defaultToNull:u=!0}={}){var m;const g="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),c&&this.headers.append("Prefer",`count=${c}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((y,x)=>y.concat(Object.keys(x)),[]);if(p.length>0){const y=[...new Set(p)].map(x=>`"${x}"`);this.url.searchParams.set("columns",y.join(","))}}return new t.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(i,{count:a}={}){var l;const c="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:i}={}){var a;const l="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return dv.default=s,dv}var C5;function QO(){if(C5)return cv;C5=1,Object.defineProperty(cv,"__esModule",{value:!0});const n=gp,t=n.__importDefault(S3()),s=n.__importDefault(aw());class r{constructor(a,{headers:l={},schema:c,fetch:u}={}){this.url=a,this.headers=new Headers(l),this.schemaName=c,this.fetch=u}from(a){const l=new URL(`${this.url}/${a}`);return new t.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new r(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,l={},{head:c=!1,get:u=!1,count:m}={}){var g;let p;const y=new URL(`${this.url}/rpc/${a}`);let x;c||u?(p=c?"HEAD":"GET",Object.entries(l).filter(([j,A])=>A!==void 0).map(([j,A])=>[j,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([j,A])=>{y.searchParams.append(j,A)})):(p="POST",x=l);const _=new Headers(this.headers);return m&&_.set("Prefer",`count=${m}`),new s.default({method:p,url:y,headers:_,schema:this.schemaName,body:x,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}}return cv.default=r,cv}var A5;function eM(){if(A5)return bo;A5=1,Object.defineProperty(bo,"__esModule",{value:!0}),bo.PostgrestError=bo.PostgrestBuilder=bo.PostgrestTransformBuilder=bo.PostgrestFilterBuilder=bo.PostgrestQueryBuilder=bo.PostgrestClient=void 0;const n=gp,t=n.__importDefault(QO());bo.PostgrestClient=t.default;const s=n.__importDefault(S3());bo.PostgrestQueryBuilder=s.default;const r=n.__importDefault(aw());bo.PostgrestFilterBuilder=r.default;const i=n.__importDefault(_3());bo.PostgrestTransformBuilder=i.default;const a=n.__importDefault(N3());bo.PostgrestBuilder=a.default;const l=n.__importDefault(w3());return bo.PostgrestError=l.default,bo.default={PostgrestClient:t.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:l.default},bo}var C3=eM();const A3=Iy(C3),tM=W1({__proto__:null,default:A3},[C3]),{PostgrestClient:sM,PostgrestQueryBuilder:Nte,PostgrestFilterBuilder:_te,PostgrestTransformBuilder:Ste,PostgrestBuilder:Cte,PostgrestError:Ate}=A3||tM;class nM{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const r=s.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let s=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(s+=`

Suggested solution: ${t.workaround}`),new Error(s)}static createWebSocket(t,s){const r=this.getWebSocketConstructor();return new r(t,s)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const rM="2.81.1",iM=`realtime-js/${rM}`,k3="1.0.0",aM="2.0.0",k5=k3,Vj=1e4,oM=1e3,lM=100;var gm;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(gm||(gm={}));var _a;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(_a||(_a={}));var gc;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(gc||(gc={}));var Hj;(function(n){n.websocket="websocket"})(Hj||(Hj={}));var xm;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(xm||(xm={}));class cM{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(t,s){if(this._isArrayBuffer(t.payload))return s(this._binaryEncodePush(t));if(t.event===this.BROADCAST&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return s(JSON.stringify(r))}_binaryEncodePush(t){const{join_ref:s,ref:r,event:i,topic:a,payload:l}=t,c=this.META_LENGTH+s.length+r.length+a.length+i.length,u=new ArrayBuffer(this.HEADER_LENGTH+c);let m=new DataView(u),g=0;m.setUint8(g++,this.KINDS.push),m.setUint8(g++,s.length),m.setUint8(g++,r.length),m.setUint8(g++,a.length),m.setUint8(g++,i.length),Array.from(s,y=>m.setUint8(g++,y.charCodeAt(0))),Array.from(r,y=>m.setUint8(g++,y.charCodeAt(0))),Array.from(a,y=>m.setUint8(g++,y.charCodeAt(0))),Array.from(i,y=>m.setUint8(g++,y.charCodeAt(0)));var p=new Uint8Array(u.byteLength+l.byteLength);return p.set(new Uint8Array(u),0),p.set(new Uint8Array(l),u.byteLength),p.buffer}_binaryEncodeUserBroadcastPush(t){var s;return this._isArrayBuffer((s=t.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var s,r;const{join_ref:i,ref:a,topic:l}=t,c=t.payload.event,u=(r=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&r!==void 0?r:new ArrayBuffer(0),m=this.USER_BROADCAST_PUSH_META_LENGTH+i.length+a.length+l.length+c.length,g=new ArrayBuffer(this.HEADER_LENGTH+m);let p=new DataView(g),y=0;p.setUint8(y++,this.KINDS.userBroadcastPush),p.setUint8(y++,i.length),p.setUint8(y++,a.length),p.setUint8(y++,l.length),p.setUint8(y++,c.length),p.setUint8(y++,this.BINARY_ENCODING),Array.from(i,_=>p.setUint8(y++,_.charCodeAt(0))),Array.from(a,_=>p.setUint8(y++,_.charCodeAt(0))),Array.from(l,_=>p.setUint8(y++,_.charCodeAt(0))),Array.from(c,_=>p.setUint8(y++,_.charCodeAt(0)));var x=new Uint8Array(g.byteLength+u.byteLength);return x.set(new Uint8Array(g),0),x.set(new Uint8Array(u),g.byteLength),x.buffer}_encodeJsonUserBroadcastPush(t){var s,r;const{join_ref:i,ref:a,topic:l}=t,c=t.payload.event,u=(r=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&r!==void 0?r:{},g=new TextEncoder().encode(JSON.stringify(u)).buffer,p=this.USER_BROADCAST_PUSH_META_LENGTH+i.length+a.length+l.length+c.length,y=new ArrayBuffer(this.HEADER_LENGTH+p);let x=new DataView(y),_=0;x.setUint8(_++,this.KINDS.userBroadcastPush),x.setUint8(_++,i.length),x.setUint8(_++,a.length),x.setUint8(_++,l.length),x.setUint8(_++,c.length),x.setUint8(_++,this.JSON_ENCODING),Array.from(i,A=>x.setUint8(_++,A.charCodeAt(0))),Array.from(a,A=>x.setUint8(_++,A.charCodeAt(0))),Array.from(l,A=>x.setUint8(_++,A.charCodeAt(0))),Array.from(c,A=>x.setUint8(_++,A.charCodeAt(0)));var j=new Uint8Array(y.byteLength+g.byteLength);return j.set(new Uint8Array(y),0),j.set(new Uint8Array(g),y.byteLength),j.buffer}decode(t,s){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return s(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,a,l,c,u]=r;return s({join_ref:i,ref:a,topic:l,event:c,payload:u})}return s({})}_binaryDecode(t){const s=new DataView(t),r=s.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.push:return this._decodePush(t,s,i);case this.KINDS.reply:return this._decodeReply(t,s,i);case this.KINDS.broadcast:return this._decodeBroadcast(t,s,i);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,s,i)}}_decodePush(t,s,r){const i=s.getUint8(1),a=s.getUint8(2),l=s.getUint8(3);let c=this.HEADER_LENGTH+this.META_LENGTH-1;const u=r.decode(t.slice(c,c+i));c=c+i;const m=r.decode(t.slice(c,c+a));c=c+a;const g=r.decode(t.slice(c,c+l));c=c+l;const p=JSON.parse(r.decode(t.slice(c,t.byteLength)));return{join_ref:u,ref:null,topic:m,event:g,payload:p}}_decodeReply(t,s,r){const i=s.getUint8(1),a=s.getUint8(2),l=s.getUint8(3),c=s.getUint8(4);let u=this.HEADER_LENGTH+this.META_LENGTH;const m=r.decode(t.slice(u,u+i));u=u+i;const g=r.decode(t.slice(u,u+a));u=u+a;const p=r.decode(t.slice(u,u+l));u=u+l;const y=r.decode(t.slice(u,u+c));u=u+c;const x=JSON.parse(r.decode(t.slice(u,t.byteLength))),_={status:y,response:x};return{join_ref:m,ref:g,topic:p,event:gc.reply,payload:_}}_decodeBroadcast(t,s,r){const i=s.getUint8(1),a=s.getUint8(2);let l=this.HEADER_LENGTH+2;const c=r.decode(t.slice(l,l+i));l=l+i;const u=r.decode(t.slice(l,l+a));l=l+a;const m=JSON.parse(r.decode(t.slice(l,t.byteLength)));return{join_ref:null,ref:null,topic:c,event:u,payload:m}}_decodeUserBroadcast(t,s,r){const i=s.getUint8(1),a=s.getUint8(2),l=s.getUint8(3),c=s.getUint8(4);let u=this.HEADER_LENGTH+4;const m=r.decode(t.slice(u,u+i));u=u+i;const g=r.decode(t.slice(u,u+a));u=u+a;const p=r.decode(t.slice(u,u+l));u=u+l;const y=t.slice(u,t.byteLength),x=c===this.JSON_ENCODING?JSON.parse(r.decode(y)):y,_={type:this.BROADCAST,event:g,payload:x};return l>0&&(_.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST,payload:_}}_isArrayBuffer(t){var s;return t instanceof ArrayBuffer||((s=t==null?void 0:t.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}}class E3{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Cr;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Cr||(Cr={}));const E5=(n,t,s={})=>{var r;const i=(r=s.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((a,l)=>(a[l]=dM(l,n,t,i),a),{}):{}},dM=(n,t,s,r)=>{const i=t.find(c=>c.name===n),a=i==null?void 0:i.type,l=s[n];return a&&!r.includes(a)?T3(a,l):Gj(l)},T3=(n,t)=>{if(n.charAt(0)==="_"){const s=n.slice(1,n.length);return fM(t,s)}switch(n){case Cr.bool:return uM(t);case Cr.float4:case Cr.float8:case Cr.int2:case Cr.int4:case Cr.int8:case Cr.numeric:case Cr.oid:return hM(t);case Cr.json:case Cr.jsonb:return mM(t);case Cr.timestamp:return pM(t);case Cr.abstime:case Cr.date:case Cr.daterange:case Cr.int4range:case Cr.int8range:case Cr.money:case Cr.reltime:case Cr.text:case Cr.time:case Cr.timestamptz:case Cr.timetz:case Cr.tsrange:case Cr.tstzrange:return Gj(t);default:return Gj(t)}},Gj=n=>n,uM=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},hM=n=>{if(typeof n=="string"){const t=parseFloat(n);if(!Number.isNaN(t))return t}return n},mM=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(t){return console.log(`JSON parse error: ${t}`),n}return n},fM=(n,t)=>{if(typeof n!="string")return n;const s=n.length-1,r=n[s];if(n[0]==="{"&&r==="}"){let a;const l=n.slice(1,s);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(c=>T3(t,c))}return n},pM=n=>typeof n=="string"?n.replace(" ","T"):n,P3=n=>{const t=new URL(n);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Zb{constructor(t,s,r={},i=Vj){this.channel=t,this.event=s,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var r;return this._hasReceived(t)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var T5;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(T5||(T5={}));class Sg{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Sg.syncState(this.state,i,a,l),this.pendingDiffs.forEach(u=>{this.state=Sg.syncDiff(this.state,u,a,l)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Sg.syncDiff(this.state,i,a,l),c())}),this.onJoin((i,a,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:l})}),this.onLeave((i,a,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,r,i){const a=this.cloneDeep(t),l=this.transformState(s),c={},u={};return this.map(a,(m,g)=>{l[m]||(u[m]=g)}),this.map(l,(m,g)=>{const p=a[m];if(p){const y=g.map(A=>A.presence_ref),x=p.map(A=>A.presence_ref),_=g.filter(A=>x.indexOf(A.presence_ref)<0),j=p.filter(A=>y.indexOf(A.presence_ref)<0);_.length>0&&(c[m]=_),j.length>0&&(u[m]=j)}else c[m]=g}),this.syncDiff(a,{joins:c,leaves:u},r,i)}static syncDiff(t,s,r,i){const{joins:a,leaves:l}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(c,u)=>{var m;const g=(m=t[c])!==null&&m!==void 0?m:[];if(t[c]=this.cloneDeep(u),g.length>0){const p=t[c].map(x=>x.presence_ref),y=g.filter(x=>p.indexOf(x.presence_ref)<0);t[c].unshift(...y)}r(c,g,u)}),this.map(l,(c,u)=>{let m=t[c];if(!m)return;const g=u.map(p=>p.presence_ref);m=m.filter(p=>g.indexOf(p.presence_ref)<0),t[c]=m,i(c,m,u),m.length===0&&delete t[c]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(r=>s(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,r)=>{const i=t[r];return"metas"in i?s[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):s[r]=i,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var P5;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(P5||(P5={}));var Cg;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(Cg||(Cg={}));var Lu;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Lu||(Lu={}));class ow{constructor(t,s={config:{}},r){var i,a;if(this.topic=t,this.params=s,this.socket=r,this.bindings={},this.state=_a.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Zb(this,gc.join,this.params,this.timeout),this.rejoinTimer=new E3(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=_a.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=_a.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=_a.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=_a.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=_a.errored,this.rejoinTimer.scheduleTimeout())}),this._on(gc.reply,{},(l,c)=>{this._trigger(this._replyEventName(c),l)}),this.presence=new Sg(this),this.broadcastEndpointURL=P3(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,s=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==_a.closed){const{config:{broadcast:l,presence:c,private:u}}=this.params,m=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(x=>x.filter))!==null&&i!==void 0?i:[],g=!!this.bindings[Cg.PRESENCE]&&this.bindings[Cg.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,p={},y={broadcast:l,presence:Object.assign(Object.assign({},c),{enabled:g}),postgres_changes:m,private:u};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(x=>t==null?void 0:t(Lu.CHANNEL_ERROR,x)),this._onClose(()=>t==null?void 0:t(Lu.CLOSED)),this.updateJoinPayload(Object.assign({config:y},p)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:x})=>{var _;if(this.socket.setAuth(),x===void 0){t==null||t(Lu.SUBSCRIBED);return}else{const j=this.bindings.postgres_changes,A=(_=j==null?void 0:j.length)!==null&&_!==void 0?_:0,C=[];for(let P=0;P<A;P++){const S=j[P],{filter:{event:O,schema:z,table:V,filter:B}}=S,D=x&&x[P];if(D&&D.event===O&&D.schema===z&&D.table===V&&D.filter===B)C.push(Object.assign(Object.assign({},S),{id:D.id}));else{this.unsubscribe(),this.state=_a.errored,t==null||t(Lu.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,t&&t(Lu.SUBSCRIBED);return}}).receive("error",x=>{this.state=_a.errored,t==null||t(Lu.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Lu.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,r){return this.state===_a.joined&&t===Cg.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,s,r)}async httpSend(t,s,r={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(s==null)return Promise.reject("Payload is required for httpSend()");const l={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:s,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(c.status===202)return{success:!0};let u=c.statusText;try{const m=await c.json();u=m.error||m.message||u}catch{}return Promise.reject(new Error(u))}async send(t,s={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:l}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=m.body)===null||i===void 0?void 0:i.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,c,u;const m=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||u===void 0)&&u.ack)&&a("ok"),m.receive("ok",()=>a("ok")),m.receive("error",()=>a("error")),m.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=_a.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(gc.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Zb(this,gc.leave,{},t),r.receive("ok",()=>{s(),i("ok")}).receive("timeout",()=>{s(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=_a.closed,this.bindings={}}async _fetchWithTimeout(t,s,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),l=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:i.signal}));return clearTimeout(a),l}_push(t,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Zb(this,t,s,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>lM){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(t,s,r){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,r){var i,a;const l=t.toLocaleLowerCase(),{close:c,error:u,leave:m,join:g}=gc;if(r&&[c,u,m,g].indexOf(l)>=0&&r!==this._joinRef())return;let y=this._onMessage(l,s,r);if(s&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(x=>{var _,j,A;return((_=x.filter)===null||_===void 0?void 0:_.event)==="*"||((A=(j=x.filter)===null||j===void 0?void 0:j.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===l}).map(x=>x.callback(y,r)):(a=this.bindings[l])===null||a===void 0||a.filter(x=>{var _,j,A,C,P,S;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in x){const O=x.id,z=(_=x.filter)===null||_===void 0?void 0:_.event;return O&&((j=s.ids)===null||j===void 0?void 0:j.includes(O))&&(z==="*"||(z==null?void 0:z.toLocaleLowerCase())===((A=s.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const O=(P=(C=x==null?void 0:x.filter)===null||C===void 0?void 0:C.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return O==="*"||O===((S=s==null?void 0:s.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===l}).map(x=>{if(typeof y=="object"&&"ids"in y){const _=y.data,{schema:j,table:A,commit_timestamp:C,type:P,errors:S}=_;y=Object.assign(Object.assign({},{schema:j,table:A,commit_timestamp:C,eventType:P,new:{},old:{},errors:S}),this._getPayloadRecords(_))}x.callback(y,r)})}_isClosed(){return this.state===_a.closed}_isJoined(){return this.state===_a.joined}_isJoining(){return this.state===_a.joining}_isLeaving(){return this.state===_a.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,r){const i=t.toLocaleLowerCase(),a={type:i,filter:s,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,s){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&ow.isEqual(i.filter,s))})),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const r in t)if(t[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(gc.close,{},t)}_onError(t){this._on(gc.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=_a.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=E5(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=E5(t.columns,t.old_record)),s}}const Kb=()=>{},pv={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},gM=[1e3,2e3,5e3,1e4],xM=1e4,vM=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class yM{constructor(t,s){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Vj,this.transport=null,this.heartbeatIntervalMs=pv.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Kb,this.ref=0,this.reconnectTimer=null,this.vsn=k5,this.logger=Kb,this.conn=null,this.sendBuffer=[],this.serializer=new cM,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((r=s==null?void 0:s.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${t}/${Hj.websocket}`,this.httpEndpoint=P3(t),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=nM.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const s=t.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,s,r){this.logger(t,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case gm.connecting:return xm.Connecting;case gm.open:return xm.Open;case gm.closing:return xm.Closing;default:return xm.Closed}}isConnected(){return this.connectionState()===xm.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,s={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new ow(`realtime:${t}`,s,this);return this.channels.push(a),a}}push(t){const{topic:s,event:r,payload:i,ref:a}=t,l=()=>{this.encode(t,c=>{var u;(u=this.conn)===null||u===void 0||u.send(c)})};this.log("push",`${s} ${r} (${a})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(oM,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},pv.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:l}=s,c=l?`(${l})`:"",u=a.status||"";this.log("receive",`${u} ${r} ${i} ${c}`.trim(),a),this.channels.filter(m=>m._isMember(r)).forEach(m=>m._trigger(i,a,l)),this._triggerStateCallbacks("message",s)})}_clearTimer(t){var s;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===gm.open||this.conn.readyState===gm.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var s;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(gc.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(s);return`${t}${r}${i}`}_workerObjectUrl(t){let s;if(t)s=t;else{const r=new Blob([vM],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}_setConnectionState(t,s=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(t=null){let s;t?s=t:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(r=>{const i={access_token:s,version:iM};s&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(gc.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${t}`,s)})}_triggerStateCallbacks(t,s){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(s)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new E3(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},pv.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var s,r,i,a,l,c,u,m,g,p,y,x;switch(this.transport=(s=t==null?void 0:t.transport)!==null&&s!==void 0?s:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Vj,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:pv.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(c=t==null?void 0:t.heartbeatCallback)!==null&&c!==void 0?c:Kb,this.vsn=(u=t==null?void 0:t.vsn)!==null&&u!==void 0?u:k5,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=t==null?void 0:t.reconnectAfterMs)!==null&&m!==void 0?m:(_=>gM[_-1]||xM),this.vsn){case k3:this.encode=(g=t==null?void 0:t.encode)!==null&&g!==void 0?g:((_,j)=>j(JSON.stringify(_))),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:((_,j)=>j(JSON.parse(_)));break;case aM:this.encode=(y=t==null?void 0:t.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(x=t==null?void 0:t.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class lw extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ri(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class bM extends lw{constructor(t,s,r){super(t),this.name="StorageApiError",this.status=s,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Wj extends lw{constructor(t,s){super(t),this.name="StorageUnknownError",this.originalError=s}}const cw=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),jM=()=>Response,Yj=n=>{if(Array.isArray(n))return n.map(s=>Yj(s));if(typeof n=="function"||n!==Object(n))return n;const t={};return Object.entries(n).forEach(([s,r])=>{const i=s.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=Yj(r)}),t},wM=n=>{if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Jb=n=>{var t;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(t=n.error)===null||t===void 0?void 0:t.message)||JSON.stringify(n)},NM=(n,t,s)=>hs(void 0,void 0,void 0,function*(){const r=yield jM();n instanceof r&&!(s!=null&&s.noResolveJson)?n.json().then(i=>{const a=n.status||500,l=(i==null?void 0:i.statusCode)||a+"";t(new bM(Jb(i),a,l))}).catch(i=>{t(new Wj(Jb(i),i))}):t(new Wj(Jb(n),n))}),_M=(n,t,s,r)=>{const i={method:n,headers:(t==null?void 0:t.headers)||{}};return n==="GET"||!r?i:(wM(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),s))};function Xg(n,t,s,r,i,a){return hs(this,void 0,void 0,function*(){return new Promise((l,c)=>{n(s,_M(t,r,i,a)).then(u=>{if(!u.ok)throw u;return r!=null&&r.noResolveJson?u:u.json()}).then(u=>l(u)).catch(u=>NM(u,c,r))})})}function Og(n,t,s,r){return hs(this,void 0,void 0,function*(){return Xg(n,"GET",t,s,r)})}function Yc(n,t,s,r,i){return hs(this,void 0,void 0,function*(){return Xg(n,"POST",t,r,i,s)})}function Zj(n,t,s,r,i){return hs(this,void 0,void 0,function*(){return Xg(n,"PUT",t,r,i,s)})}function SM(n,t,s,r){return hs(this,void 0,void 0,function*(){return Xg(n,"HEAD",t,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function dw(n,t,s,r,i){return hs(this,void 0,void 0,function*(){return Xg(n,"DELETE",t,r,i,s)})}class CM{constructor(t,s){this.downloadFn=t,this.shouldThrowOnError=s}then(t,s){return this.execute().then(t,s)}execute(){return hs(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ri(t))return{data:null,error:t};throw t}})}}var L3;class AM{constructor(t,s){this.downloadFn=t,this.shouldThrowOnError=s,this[L3]="BlobDownloadBuilder",this.promise=null}asStream(){return new CM(this.downloadFn,this.shouldThrowOnError)}then(t,s){return this.getPromise().then(t,s)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return hs(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ri(t))return{data:null,error:t};throw t}})}}L3=Symbol.toStringTag;const kM={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},L5={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class EM{constructor(t,s={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=s,this.bucketId=r,this.fetch=cw(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,s,r,i){return hs(this,void 0,void 0,function*(){try{let a;const l=Object.assign(Object.assign({},L5),i);let c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const u=l.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),u&&a.append("metadata",this.encodeMetadata(u)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",l.cacheControl),u&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(u))):(a=r,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,u&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(u))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!l.duplex&&(l.duplex="half")),i!=null&&i.headers&&(c=Object.assign(Object.assign({},c),i.headers));const m=this._removeEmptyFolders(s),g=this._getFinalPath(m),p=yield(t=="PUT"?Zj:Yc)(this.fetch,`${this.url}/object/${g}`,a,Object.assign({headers:c},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:m,id:p.Id,fullPath:p.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ri(a))return{data:null,error:a};throw a}})}upload(t,s,r){return hs(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,s,r)})}uploadToSignedUrl(t,s,r,i){return hs(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),l=this._getFinalPath(a),c=new URL(this.url+`/object/upload/sign/${l}`);c.searchParams.set("token",s);try{let u;const m=Object.assign({upsert:L5.upsert},i),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",m.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",m.cacheControl)):(u=r,g["cache-control"]=`max-age=${m.cacheControl}`,g["content-type"]=m.contentType);const p=yield Zj(this.fetch,c.toString(),u,{headers:g});return{data:{path:a,fullPath:p.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(ri(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,s){return hs(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);s!=null&&s.upsert&&(i["x-upsert"]="true");const a=yield Yc(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),l=new URL(this.url+a.url),c=l.searchParams.get("token");if(!c)throw new lw("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:c},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ri(r))return{data:null,error:r};throw r}})}update(t,s,r){return hs(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,s,r)})}move(t,s,r){return hs(this,void 0,void 0,function*(){try{return{data:yield Yc(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ri(i))return{data:null,error:i};throw i}})}copy(t,s,r){return hs(this,void 0,void 0,function*(){try{return{data:{path:(yield Yc(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ri(i))return{data:null,error:i};throw i}})}createSignedUrl(t,s,r){return hs(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Yc(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${l}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ri(i))return{data:null,error:i};throw i}})}createSignedUrls(t,s,r){return hs(this,void 0,void 0,function*(){try{const i=yield Yc(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:t},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ri(i))return{data:null,error:i};throw i}})}download(t,s){const i=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),l=a?`?${a}`:"",c=this._getFinalPath(t),u=()=>Og(this.fetch,`${this.url}/${i}/${c}${l}`,{headers:this.headers,noResolveJson:!0});return new AM(u,this.shouldThrowOnError)}info(t){return hs(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{const r=yield Og(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Yj(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ri(r))return{data:null,error:r};throw r}})}exists(t){return hs(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{return yield SM(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ri(r)&&r instanceof Wj){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,s){const r=this._getFinalPath(t),i=[],a=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";a!==""&&i.push(a);const c=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});u!==""&&i.push(u);let m=i.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${r}${m}`)}}}remove(t){return hs(this,void 0,void 0,function*(){try{return{data:yield dw(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ri(s))return{data:null,error:s};throw s}})}list(t,s,r){return hs(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},kM),s),{prefix:t||""});return{data:yield Yc(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ri(i))return{data:null,error:i};throw i}})}listV2(t,s){return hs(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Yc(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ri(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const s=[];return t.width&&s.push(`width=${t.width}`),t.height&&s.push(`height=${t.height}`),t.resize&&s.push(`resize=${t.resize}`),t.format&&s.push(`format=${t.format}`),t.quality&&s.push(`quality=${t.quality}`),s.join("&")}}const R3="2.81.1",O3={"X-Client-Info":`storage-js/${R3}`};class TM{constructor(t,s={},r,i){this.shouldThrowOnError=!1;const a=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},O3),s),this.fetch=cw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return hs(this,void 0,void 0,function*(){try{const s=this.listBucketOptionsToQueryString(t);return{data:yield Og(this.fetch,`${this.url}/bucket${s}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ri(s))return{data:null,error:s};throw s}})}getBucket(t){return hs(this,void 0,void 0,function*(){try{return{data:yield Og(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ri(s))return{data:null,error:s};throw s}})}createBucket(t){return hs(this,arguments,void 0,function*(s,r={public:!1}){try{return{data:yield Yc(this.fetch,`${this.url}/bucket`,{id:s,name:s,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ri(i))return{data:null,error:i};throw i}})}updateBucket(t,s){return hs(this,void 0,void 0,function*(){try{return{data:yield Zj(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ri(r))return{data:null,error:r};throw r}})}emptyBucket(t){return hs(this,void 0,void 0,function*(){try{return{data:yield Yc(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ri(s))return{data:null,error:s};throw s}})}deleteBucket(t){return hs(this,void 0,void 0,function*(){try{return{data:yield dw(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ri(s))return{data:null,error:s};throw s}})}listBucketOptionsToQueryString(t){const s={};return t&&("limit"in t&&(s.limit=String(t.limit)),"offset"in t&&(s.offset=String(t.offset)),t.search&&(s.search=t.search),t.sortColumn&&(s.sortColumn=t.sortColumn),t.sortOrder&&(s.sortOrder=t.sortOrder)),Object.keys(s).length>0?"?"+new URLSearchParams(s).toString():""}}class PM{constructor(t,s={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},O3),s),this.fetch=cw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return hs(this,void 0,void 0,function*(){try{return{data:yield Yc(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ri(s))return{data:null,error:s};throw s}})}listBuckets(t){return hs(this,void 0,void 0,function*(){try{const s=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&s.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&s.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&s.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&s.set("sortOrder",t.sortOrder),t!=null&&t.search&&s.set("search",t.search);const r=s.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield Og(this.fetch,i,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ri(s))return{data:null,error:s};throw s}})}deleteBucket(t){return hs(this,void 0,void 0,function*(){try{return{data:yield dw(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ri(s))return{data:null,error:s};throw s}})}}const uw={"X-Client-Info":`storage-js/${R3}`,"Content-Type":"application/json"};class M3 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Rl(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}class Xb extends M3{constructor(t,s,r){super(t),this.name="StorageVectorsApiError",this.status=s,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class LM extends M3{constructor(t,s){super(t),this.name="StorageVectorsUnknownError",this.originalError=s}}var R5;(function(n){n.InternalError="InternalError",n.S3VectorConflictException="S3VectorConflictException",n.S3VectorNotFoundException="S3VectorNotFoundException",n.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",n.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",n.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(R5||(R5={}));const hw=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),RM=n=>{if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},O5=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),OM=(n,t,s)=>hs(void 0,void 0,void 0,function*(){if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!(s!=null&&s.noResolveJson)){const i=n.status||500,a=n;if(typeof a.json=="function")a.json().then(l=>{const c=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||i+"";t(new Xb(O5(l),i,c))}).catch(()=>{const l=i+"",c=a.statusText||`HTTP ${i} error`;t(new Xb(c,i,l))});else{const l=i+"",c=a.statusText||`HTTP ${i} error`;t(new Xb(c,i,l))}}else t(new LM(O5(n),n))}),MM=(n,t,s,r)=>{const i={method:n,headers:(t==null?void 0:t.headers)||{}};return r?(RM(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),s)):i};function DM(n,t,s,r,i,a){return hs(this,void 0,void 0,function*(){return new Promise((l,c)=>{n(s,MM(t,r,i,a)).then(u=>{if(!u.ok)throw u;if(r!=null&&r.noResolveJson)return u;const m=u.headers.get("content-type");return!m||!m.includes("application/json")?{}:u.json()}).then(u=>l(u)).catch(u=>OM(u,c,r))})})}function Ol(n,t,s,r,i){return hs(this,void 0,void 0,function*(){return DM(n,"POST",t,r,i,s)})}class IM{constructor(t,s={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},uw),s),this.fetch=hw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return hs(this,void 0,void 0,function*(){try{return{data:(yield Ol(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Rl(s))return{data:null,error:s};throw s}})}getIndex(t,s){return hs(this,void 0,void 0,function*(){try{return{data:yield Ol(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:s},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rl(r))return{data:null,error:r};throw r}})}listIndexes(t){return hs(this,void 0,void 0,function*(){try{return{data:yield Ol(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Rl(s))return{data:null,error:s};throw s}})}deleteIndex(t,s){return hs(this,void 0,void 0,function*(){try{return{data:(yield Ol(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:s},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Rl(r))return{data:null,error:r};throw r}})}}class FM{constructor(t,s={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},uw),s),this.fetch=hw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return hs(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ol(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Rl(s))return{data:null,error:s};throw s}})}getVectors(t){return hs(this,void 0,void 0,function*(){try{return{data:yield Ol(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Rl(s))return{data:null,error:s};throw s}})}listVectors(t){return hs(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Ol(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Rl(s))return{data:null,error:s};throw s}})}queryVectors(t){return hs(this,void 0,void 0,function*(){try{return{data:yield Ol(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Rl(s))return{data:null,error:s};throw s}})}deleteVectors(t){return hs(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ol(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Rl(s))return{data:null,error:s};throw s}})}}class BM{constructor(t,s={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},uw),s),this.fetch=hw(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return hs(this,void 0,void 0,function*(){try{return{data:(yield Ol(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Rl(s))return{data:null,error:s};throw s}})}getBucket(t){return hs(this,void 0,void 0,function*(){try{return{data:yield Ol(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Rl(s))return{data:null,error:s};throw s}})}listBuckets(){return hs(this,arguments,void 0,function*(t={}){try{return{data:yield Ol(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Rl(s))return{data:null,error:s};throw s}})}deleteBucket(t){return hs(this,void 0,void 0,function*(){try{return{data:(yield Ol(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Rl(s))return{data:null,error:s};throw s}})}}class zM extends BM{constructor(t,s={}){super(t,s.headers||{},s.fetch)}from(t){return new qM(this.url,this.headers,t,this.fetch)}}class qM extends IM{constructor(t,s,r,i){super(t,s,i),this.vectorBucketName=r}createIndex(t){const s=Object.create(null,{createIndex:{get:()=>super.createIndex}});return hs(this,void 0,void 0,function*(){return s.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return hs(this,arguments,void 0,function*(s={}){return t.listIndexes.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const s=Object.create(null,{getIndex:{get:()=>super.getIndex}});return hs(this,void 0,void 0,function*(){return s.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const s=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return hs(this,void 0,void 0,function*(){return s.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new UM(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class UM extends FM{constructor(t,s,r,i,a){super(t,s,a),this.vectorBucketName=r,this.indexName=i}putVectors(t){const s=Object.create(null,{putVectors:{get:()=>super.putVectors}});return hs(this,void 0,void 0,function*(){return s.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const s=Object.create(null,{getVectors:{get:()=>super.getVectors}});return hs(this,void 0,void 0,function*(){return s.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return hs(this,arguments,void 0,function*(s={}){return t.listVectors.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const s=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return hs(this,void 0,void 0,function*(){return s.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const s=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return hs(this,void 0,void 0,function*(){return s.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class $M extends TM{constructor(t,s={},r,i){super(t,s,r,i)}from(t){return new EM(this.url,this.headers,t,this.fetch)}get vectors(){return new zM(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new PM(this.url+"/iceberg",this.headers,this.fetch)}}const VM="2.81.1";let vg="";typeof Deno<"u"?vg="deno":typeof document<"u"?vg="web":typeof navigator<"u"&&navigator.product==="ReactNative"?vg="react-native":vg="node";const HM={"X-Client-Info":`supabase-js-${vg}/${VM}`},GM={headers:HM},WM={schema:"public"},YM={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ZM={},KM=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),JM=()=>Headers,XM=(n,t,s)=>{const r=KM(s),i=JM();return async(a,l)=>{var c;const u=(c=await t())!==null&&c!==void 0?c:n;let m=new i(l==null?void 0:l.headers);return m.has("apikey")||m.set("apikey",n),m.has("Authorization")||m.set("Authorization",`Bearer ${u}`),r(a,Object.assign(Object.assign({},l),{headers:m}))}};function QM(n){return n.endsWith("/")?n:n+"/"}function eD(n,t){var s,r;const{db:i,auth:a,realtime:l,global:c}=n,{db:u,auth:m,realtime:g,global:p}=t,y={db:Object.assign(Object.assign({},u),i),auth:Object.assign(Object.assign({},m),a),realtime:Object.assign(Object.assign({},g),l),storage:{},global:Object.assign(Object.assign(Object.assign({},p),c),{headers:Object.assign(Object.assign({},(s=p==null?void 0:p.headers)!==null&&s!==void 0?s:{}),(r=c==null?void 0:c.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return n.accessToken?y.accessToken=n.accessToken:delete y.accessToken,y}function tD(n){const t=n==null?void 0:n.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(QM(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const D3="2.81.1",Mf=30*1e3,Kj=3,Qb=Kj*Mf,sD="http://localhost:9999",nD="supabase.auth.token",rD={"X-Client-Info":`gotrue-js/${D3}`},Jj="X-Supabase-Api-Version",I3={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},iD=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,aD=600*1e3;class Mg extends Error{constructor(t,s,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function xs(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class oD extends Mg{constructor(t,s,r){super(t,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function lD(n){return xs(n)&&n.name==="AuthApiError"}class vm extends Mg{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class Yh extends Mg{constructor(t,s,r,i){super(t,r,i),this.name=s,this.status=r}}class Hc extends Yh{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function cD(n){return xs(n)&&n.name==="AuthSessionMissingError"}class vf extends Yh{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class gv extends Yh{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class xv extends Yh{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function dD(n){return xs(n)&&n.name==="AuthImplicitGrantRedirectError"}class M5 extends Yh{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Xj extends Yh{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function ej(n){return xs(n)&&n.name==="AuthRetryableFetchError"}class D5 extends Yh{constructor(t,s,r){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class Qj extends Yh{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ty="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),I5=` 	
\r=`.split(""),uD=(()=>{const n=new Array(128);for(let t=0;t<n.length;t+=1)n[t]=-1;for(let t=0;t<I5.length;t+=1)n[I5[t].charCodeAt(0)]=-2;for(let t=0;t<ty.length;t+=1)n[ty[t].charCodeAt(0)]=t;return n})();function F5(n,t,s){if(n!==null)for(t.queue=t.queue<<8|n,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;s(ty[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;s(ty[r]),t.queuedBits-=6}}function F3(n,t,s){const r=uD[n];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function B5(n){const t=[],s=l=>{t.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=l=>{fD(l,r,s)};for(let l=0;l<n.length;l+=1)F3(n.charCodeAt(l),i,a);return t.join("")}function hD(n,t){if(n<=127){t(n);return}else if(n<=2047){t(192|n>>6),t(128|n&63);return}else if(n<=65535){t(224|n>>12),t(128|n>>6&63),t(128|n&63);return}else if(n<=1114111){t(240|n>>18),t(128|n>>12&63),t(128|n>>6&63),t(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function mD(n,t){for(let s=0;s<n.length;s+=1){let r=n.charCodeAt(s);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(n.charCodeAt(s+1)-56320&65535|i)+65536,s+=1}hD(r,t)}}function fD(n,t,s){if(t.utf8seq===0){if(n<=127){s(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=n&31;else if(t.utf8seq===3)t.codepoint=n&15;else if(t.utf8seq===4)t.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|n&63,t.utf8seq-=1,t.utf8seq===0&&s(t.codepoint)}}function $f(n){const t=[],s={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<n.length;i+=1)F3(n.charCodeAt(i),s,r);return new Uint8Array(t)}function pD(n){const t=[];return mD(n,s=>t.push(s)),new Uint8Array(t)}function bm(n){const t=[],s={queue:0,queuedBits:0},r=i=>{t.push(i)};return n.forEach(i=>F5(i,s,r)),F5(null,s,r),t.join("")}function gD(n){return Math.round(Date.now()/1e3)+n}function xD(){return Symbol("auth-callback")}const so=()=>typeof window<"u"&&typeof document<"u",lm={tested:!1,writable:!1},B3=()=>{if(!so())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(lm.tested)return lm.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),lm.tested=!0,lm.writable=!0}catch{lm.tested=!0,lm.writable=!1}return lm.writable};function vD(n){const t={},s=new URL(n);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return s.searchParams.forEach((r,i)=>{t[i]=r}),t}const z3=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),yD=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Df=async(n,t,s)=>{await n.setItem(t,JSON.stringify(s))},cm=async(n,t)=>{const s=await n.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},vh=async(n,t)=>{await n.removeItem(t)};class Uy{constructor(){this.promise=new Uy.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}Uy.promiseConstructor=Promise;function tj(n){const t=n.split(".");if(t.length!==3)throw new Qj("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!iD.test(t[r]))throw new Qj("JWT not in base64url format");return{header:JSON.parse(B5(t[0])),payload:JSON.parse(B5(t[1])),signature:$f(t[2]),raw:{header:t[0],payload:t[1]}}}async function bD(n){return await new Promise(t=>{setTimeout(()=>t(null),n)})}function jD(n,t){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await n(a);if(!t(a,null,l)){r(l);return}}catch(l){if(!t(a,l)){i(l);return}}})()})}function wD(n){return("0"+n.toString(16)).substr(-2)}function ND(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let i="";for(let a=0;a<56;a++)i+=s.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,wD).join("")}async function _D(n){const s=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",s),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function SD(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const s=await _D(n);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function yf(n,t,s=!1){const r=ND();let i=r;s&&(i+="/PASSWORD_RECOVERY"),await Df(n,`${t}-code-verifier`,i);const a=await SD(r);return[a,r===a?"plain":"s256"]}const CD=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function AD(n){const t=n.headers.get(Jj);if(!t||!t.match(CD))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function kD(n){if(!n)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(n<=t)throw new Error("JWT has expired")}function ED(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const TD=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function bf(n){if(!TD.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function sj(){const n={};return new Proxy(n,{get:(t,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const r=s.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function PD(n,t){return new Proxy(n,{get:(s,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(s,r,i)}})}function z5(n){return JSON.parse(JSON.stringify(n))}const mm=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),LD=[502,503,504];async function q5(n){var t;if(!yD(n))throw new Xj(mm(n),0);if(LD.includes(n.status))throw new Xj(mm(n),n.status);let s;try{s=await n.json()}catch(a){throw new vm(mm(a),a)}let r;const i=AD(n);if(i&&i.getTime()>=I3["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new D5(mm(s),n.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Hc}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new D5(mm(s),n.status,s.weak_password.reasons);throw new oD(mm(s),n.status||500,r)}const RD=(n,t,s,r)=>{const i={method:n,headers:(t==null?void 0:t.headers)||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),s))};async function Fs(n,t,s,r){var i;const a=Object.assign({},r==null?void 0:r.headers);a[Jj]||(a[Jj]=I3["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const l=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",u=await OD(n,t,s+c,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(u):{data:Object.assign({},u),error:null}}async function OD(n,t,s,r,i,a){const l=RD(t,r,i,a);let c;try{c=await n(s,Object.assign({},l))}catch(u){throw console.error(u),new Xj(mm(u),0)}if(c.ok||await q5(c),r!=null&&r.noResolveJson)return c;try{return await c.json()}catch(u){await q5(u)}}function Gc(n){var t;let s=null;ID(n)&&(s=Object.assign({},n),n.expires_at||(s.expires_at=gD(n.expires_in)));const r=(t=n.user)!==null&&t!==void 0?t:n;return{data:{session:s,user:r},error:null}}function U5(n){const t=Gc(n);return!t.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(t.data.weak_password=n.weak_password),t}function Ah(n){var t;return{data:{user:(t=n.user)!==null&&t!==void 0?t:n},error:null}}function MD(n){return{data:n,error:null}}function DD(n){const{action_link:t,email_otp:s,hashed_token:r,redirect_to:i,verification_type:a}=n,l=Wh(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:s,hashed_token:r,redirect_to:i,verification_type:a},u=Object.assign({},l);return{data:{properties:c,user:u},error:null}}function $5(n){return n}function ID(n){return n.access_token&&n.refresh_token&&n.expires_in}const nj=["global","local","others"];class FD{constructor({url:t="",headers:s={},fetch:r}){this.url=t,this.headers=s,this.fetch=z3(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,s=nj[0]){if(nj.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${nj.join(", ")}`);try{return await Fs(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(xs(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,s={}){try{return await Fs(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Ah})}catch(r){if(xs(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:s}=t,r=Wh(t,["options"]),i=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Fs(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:DD,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(xs(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await Fs(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ah})}catch(s){if(xs(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,r,i,a,l,c,u;try{const m={nextPage:null,lastPage:0,total:0},g=await Fs(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:$5});if(g.error)throw g.error;const p=await g.json(),y=(l=g.headers.get("x-total-count"))!==null&&l!==void 0?l:0,x=(u=(c=g.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&u!==void 0?u:[];return x.length>0&&(x.forEach(_=>{const j=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(_.split(";")[1].split("=")[1]);m[`${A}Page`]=j}),m.total=parseInt(y)),{data:Object.assign(Object.assign({},p),m),error:null}}catch(m){if(xs(m))return{data:{users:[]},error:m};throw m}}async getUserById(t){bf(t);try{return await Fs(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ah})}catch(s){if(xs(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){bf(t);try{return await Fs(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:Ah})}catch(r){if(xs(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,s=!1){bf(t);try{return await Fs(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:Ah})}catch(r){if(xs(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){bf(t.userId);try{const{data:s,error:r}=await Fs(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:s,error:r}}catch(s){if(xs(s))return{data:null,error:s};throw s}}async _deleteFactor(t){bf(t.userId),bf(t.id);try{return{data:await Fs(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(xs(s))return{data:null,error:s};throw s}}async _listOAuthClients(t){var s,r,i,a,l,c,u;try{const m={nextPage:null,lastPage:0,total:0},g=await Fs(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:$5});if(g.error)throw g.error;const p=await g.json(),y=(l=g.headers.get("x-total-count"))!==null&&l!==void 0?l:0,x=(u=(c=g.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&u!==void 0?u:[];return x.length>0&&(x.forEach(_=>{const j=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(_.split(";")[1].split("=")[1]);m[`${A}Page`]=j}),m.total=parseInt(y)),{data:Object.assign(Object.assign({},p),m),error:null}}catch(m){if(xs(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(t){try{return await Fs(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(xs(s))return{data:null,error:s};throw s}}async _getOAuthClient(t){try{return await Fs(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(xs(s))return{data:null,error:s};throw s}}async _updateOAuthClient(t,s){try{return await Fs(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:s,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(xs(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await Fs(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(xs(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(t){try{return await Fs(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(xs(s))return{data:null,error:s};throw s}}}function V5(n={}){return{getItem:t=>n[t]||null,setItem:(t,s)=>{n[t]=s},removeItem:t=>{delete n[t]}}}const jf={debug:!!(globalThis&&B3()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class q3 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class BD extends q3{}async function zD(n,t,s){jf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),jf.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){jf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,i.name);try{return await s()}finally{jf.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,i.name)}}else{if(t===0)throw jf.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new BD(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(jf.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function qD(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function U3(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function UD(n){return parseInt(n,16)}function $D(n){const t=new TextEncoder().encode(n);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function VD(n){var t;const{chainId:s,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:l,notBefore:c,requestId:u,resources:m,scheme:g,uri:p,version:y}=n;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((t=n.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const x=U3(n.address),_=g?`${g}://${r}`:r,j=n.statement?`${n.statement}
`:"",A=`${_} wants you to sign in with your Ethereum account:
${x}

${j}`;let C=`URI: ${p}
Version: ${y}
Chain ID: ${s}${l?`
Nonce: ${l}`:""}
Issued At: ${a.toISOString()}`;if(i&&(C+=`
Expiration Time: ${i.toISOString()}`),c&&(C+=`
Not Before: ${c.toISOString()}`),u&&(C+=`
Request ID: ${u}`),m){let P=`
Resources:`;for(const S of m){if(!S||typeof S!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${S}`);P+=`
- ${S}`}C+=P}return`${A}
${C}`}class aa extends Error{constructor({message:t,code:s,cause:r,name:i}){var a;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=s}}class sy extends aa{constructor(t,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:t}),this.name="WebAuthnUnknownError",this.originalError=s}}function HD({error:n,options:t}){var s,r,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new aa({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((s=a.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new aa({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(t.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new aa({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new aa({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new aa({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new aa({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return a.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new aa({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new aa({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const l=window.location.hostname;if($3(l)){if(a.rp.id!==l)return new aa({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new aa({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new aa({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new aa({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new aa({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function GD({error:n,options:t}){const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new aa({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new aa({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const r=window.location.hostname;if($3(r)){if(s.rpId!==r)return new aa({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new aa({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new aa({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new aa({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class WD{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const YD=new WD;function ZD(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:t,user:s,excludeCredentials:r}=n,i=Wh(n,["challenge","user","excludeCredentials"]),a=$f(t).buffer,l=Object.assign(Object.assign({},s),{id:$f(s.id).buffer}),c=Object.assign(Object.assign({},i),{challenge:a,user:l});if(r&&r.length>0){c.excludeCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const m=r[u];c.excludeCredentials[u]=Object.assign(Object.assign({},m),{id:$f(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return c}function KD(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:t,allowCredentials:s}=n,r=Wh(n,["challenge","allowCredentials"]),i=$f(t).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(s&&s.length>0){a.allowCredentials=new Array(s.length);for(let l=0;l<s.length;l++){const c=s[l];a.allowCredentials[l]=Object.assign(Object.assign({},c),{id:$f(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function JD(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const s=n;return{id:n.id,rawId:n.id,response:{attestationObject:bm(new Uint8Array(n.response.attestationObject)),clientDataJSON:bm(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(t=s.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function XD(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const s=n,r=n.getClientExtensionResults(),i=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:bm(new Uint8Array(i.authenticatorData)),clientDataJSON:bm(new Uint8Array(i.clientDataJSON)),signature:bm(new Uint8Array(i.signature)),userHandle:i.userHandle?bm(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=s.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function $3(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function H5(){var n,t;return!!(so()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function QD(n){try{const t=await navigator.credentials.create(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new sy("Browser returned unexpected credential type",t)}:{data:null,error:new sy("Empty credential response",t)}}catch(t){return{data:null,error:HD({error:t,options:n})}}}async function eI(n){try{const t=await navigator.credentials.get(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new sy("Browser returned unexpected credential type",t)}:{data:null,error:new sy("Empty credential response",t)}}catch(t){return{data:null,error:GD({error:t,options:n})}}}const tI={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},sI={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ny(...n){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),s=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of n)if(i)for(const a in i){const l=i[a];if(l!==void 0)if(Array.isArray(l))r[a]=l;else if(s(l))r[a]=l;else if(t(l)){const c=r[a];t(c)?r[a]=ny(c,l):r[a]=ny(l)}else r[a]=l}return r}function nI(n,t){return ny(tI,n,t||{})}function rI(n,t){return ny(sI,n,t||{})}class iI{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:s,friendlyName:r,signal:i},a){try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:s});if(!l)return{data:null,error:c};const u=i??YD.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:m}=l.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${r}`),m.displayName||(m.displayName=m.name)}switch(l.webauthn.type){case"create":{const m=nI(l.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:g,error:p}=await QD({publicKey:m,signal:u});return g?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:g}},error:null}:{data:null,error:p}}case"request":{const m=rI(l.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:g,error:p}=await eI(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:m,signal:u}));return g?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:g}},error:null}:{data:null,error:p}}}}catch(l){return xs(l)?{data:null,error:l}:{data:null,error:new vm("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:s,webauthn:r}){return this.client.mfa.verify({factorId:s,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!s)return{data:null,error:new Mg("rpId is required for WebAuthn authentication")};try{if(!H5())return{data:null,error:new vm("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this.challenge({factorId:t,webauthn:{rpId:s,rpOrigins:r},signal:i},{request:a});if(!l)return{data:null,error:c};const{webauthn:u}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:u.type,rpId:s,rpOrigins:r,credential_response:u.credential_response}})}catch(l){return xs(l)?{data:null,error:l}:{data:null,error:new vm("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!s)return{data:null,error:new Mg("rpId is required for WebAuthn registration")};try{if(!H5())return{data:null,error:new vm("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(g=>{var p;return(p=g.data)===null||p===void 0?void 0:p.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===t&&y.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g==null?void 0:g.id}):void 0),{data:null,error:c};const{data:u,error:m}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:s,rpOrigins:r},signal:i},{create:a});return u?this._verify({factorId:l.id,challengeId:u.challengeId,webauthn:{rpId:s,rpOrigins:r,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:m}}catch(l){return xs(l)?{data:null,error:l}:{data:null,error:new vm("Unexpected error in register",l)}}}}qD();const aI={url:sD,storageKey:nD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:rD,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function G5(n,t,s){return await s()}const wf={};class Dg{get jwks(){var t,s;return(s=(t=wf[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(t){wf[this.storageKey]=Object.assign(Object.assign({},wf[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,s;return(s=(t=wf[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){wf[this.storageKey]=Object.assign(Object.assign({},wf[this.storageKey]),{cachedAt:t})}constructor(t){var s,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},aI),t);if(this.storageKey=a.storageKey,this.instanceID=(s=Dg.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,Dg.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&so()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new FD({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=z3(a.fetch),this.lock=a.lock||G5,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:so()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=zD:this.lock=G5,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new iI(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:B3()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=V5(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=V5(this.memoryStorage)),so()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${D3}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let s={},r="none";if(so()&&(s=vD(window.location.href),this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce")),so()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(s,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),dD(a)){const u=(t=a.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:l,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return xs(s)?this._returnResult({error:s}):this._returnResult({error:new vm("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,r,i;try{const a=await Fs(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Gc}),{data:l,error:c}=a;if(c||!l)return this._returnResult({data:{user:null,session:null},error:c});const u=l.session,m=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:m,session:u},error:null})}catch(a){if(xs(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var s,r,i;try{let a;if("email"in t){const{email:g,password:p,options:y}=t;let x=null,_=null;this.flowType==="pkce"&&([x,_]=await yf(this.storage,this.storageKey)),a=await Fs(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:g,password:p,data:(s=y==null?void 0:y.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:x,code_challenge_method:_},xform:Gc})}else if("phone"in t){const{phone:g,password:p,options:y}=t;a=await Fs(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:p,data:(r=y==null?void 0:y.data)!==null&&r!==void 0?r:{},channel:(i=y==null?void 0:y.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:Gc})}else throw new gv("You must provide either an email or phone number and a password");const{data:l,error:c}=a;if(c||!l)return this._returnResult({data:{user:null,session:null},error:c});const u=l.session,m=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:m,session:u},error:null})}catch(a){if(xs(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let s;if("email"in t){const{email:a,password:l,options:c}=t;s=await Fs(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:U5})}else if("phone"in t){const{phone:a,password:l,options:c}=t;s=await Fs(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:U5})}else throw new gv("You must provide either an email or phone number and a password");const{data:r,error:i}=s;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const a=new vf;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(s){if(xs(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(t){var s,r,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:s}=t;switch(s){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(t){var s,r,i,a,l,c,u,m,g,p,y;let x,_;if("message"in t)x=t.message,_=t.signature;else{const{chain:j,wallet:A,statement:C,options:P}=t;let S;if(so())if(typeof A=="object")S=A;else{const K=window;if("ethereum"in K&&typeof K.ethereum=="object"&&"request"in K.ethereum&&typeof K.ethereum.request=="function")S=K.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!(P!=null&&P.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=A}const O=new URL((s=P==null?void 0:P.url)!==null&&s!==void 0?s:window.location.href),z=await S.request({method:"eth_requestAccounts"}).then(K=>K).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!z||z.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const V=U3(z[0]);let B=(r=P==null?void 0:P.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!B){const K=await S.request({method:"eth_chainId"});B=UD(K)}const D={domain:O.host,address:V,statement:C,uri:O.href,version:"1",chainId:B,nonce:(i=P==null?void 0:P.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(a=P==null?void 0:P.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(c=P==null?void 0:P.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(u=P==null?void 0:P.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(m=P==null?void 0:P.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(g=P==null?void 0:P.signInWithEthereum)===null||g===void 0?void 0:g.resources};x=VD(D),_=await S.request({method:"personal_sign",params:[$D(x),V]})}try{const{data:j,error:A}=await Fs(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:_},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Gc});if(A)throw A;if(!j||!j.session||!j.user){const C=new vf;return this._returnResult({data:{user:null,session:null},error:C})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:A})}catch(j){if(xs(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async signInWithSolana(t){var s,r,i,a,l,c,u,m,g,p,y,x;let _,j;if("message"in t)_=t.message,j=t.signature;else{const{chain:A,wallet:C,statement:P,options:S}=t;let O;if(so())if(typeof C=="object")O=C;else{const V=window;if("solana"in V&&typeof V.solana=="object"&&("signIn"in V.solana&&typeof V.solana.signIn=="function"||"signMessage"in V.solana&&typeof V.solana.signMessage=="function"))O=V.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=C}const z=new URL((s=S==null?void 0:S.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in O&&O.signIn){const V=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:z.host,uri:z.href}),P?{statement:P}:null));let B;if(Array.isArray(V)&&V[0]&&typeof V[0]=="object")B=V[0];else if(V&&typeof V=="object"&&"signedMessage"in V&&"signature"in V)B=V;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in B&&"signature"in B&&(typeof B.signedMessage=="string"||B.signedMessage instanceof Uint8Array)&&B.signature instanceof Uint8Array)_=typeof B.signedMessage=="string"?B.signedMessage:new TextDecoder().decode(B.signedMessage),j=B.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${z.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${z.href}`,`Issued At: ${(i=(r=S==null?void 0:S.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=S==null?void 0:S.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((l=S==null?void 0:S.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((c=S==null?void 0:S.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((u=S==null?void 0:S.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((m=S==null?void 0:S.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((p=(g=S==null?void 0:S.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||p===void 0)&&p.length?["Resources",...S.signInWithSolana.resources.map(B=>`- ${B}`)]:[]].join(`
`);const V=await O.signMessage(new TextEncoder().encode(_),"utf8");if(!V||!(V instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");j=V}}try{const{data:A,error:C}=await Fs(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:bm(j)},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Gc});if(C)throw C;if(!A||!A.session||!A.user){const P=new vf;return this._returnResult({data:{user:null,session:null},error:P})}return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),this._returnResult({data:Object.assign({},A),error:C})}catch(A){if(xs(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async _exchangeCodeForSession(t){const s=await cm(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(s??"").split("/");try{const{data:a,error:l}=await Fs(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Gc});if(await vh(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!a||!a.session||!a.user){const c=new vf;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:l})}catch(a){if(xs(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:s,provider:r,token:i,access_token:a,nonce:l}=t,c=await Fs(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Gc}),{data:u,error:m}=c;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!u||!u.session||!u.user){const g=new vf;return this._returnResult({data:{user:null,session:null},error:g})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:m})}catch(s){if(xs(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(t){var s,r,i,a,l;try{if("email"in t){const{email:c,options:u}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await yf(this.storage,this.storageKey));const{error:p}=await Fs(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(r=u==null?void 0:u.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:m,code_challenge_method:g},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in t){const{phone:c,options:u}=t,{data:m,error:g}=await Fs(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=u==null?void 0:u.data)!==null&&i!==void 0?i:{},create_user:(a=u==null?void 0:u.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(l=u==null?void 0:u.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:g})}throw new gv("You must provide either an email or phone number.")}catch(c){if(xs(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(t){var s,r;try{let i,a;"options"in t&&(i=(s=t.options)===null||s===void 0?void 0:s.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:c}=await Fs(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Gc});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const u=l.session,m=l.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:m,session:u},error:null})}catch(i){if(xs(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var s,r,i,a,l;try{let c=null,u=null;this.flowType==="pkce"&&([c,u]=await yf(this.storage,this.storageKey));const m=await Fs(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:u}),headers:this.headers,xform:MD});return!((a=m.data)===null||a===void 0)&&a.url&&so()&&!(!((l=t.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(c){if(xs(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:r}=t;if(r)throw r;if(!s)throw new Hc;const{error:i}=await Fs(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(xs(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:a}=t,{error:l}=await Fs(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in t){const{phone:r,type:i,options:a}=t,{data:l,error:c}=await Fs(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:c})}throw new gv("You must provide either an email or phone number and a type")}catch(s){if(xs(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await cm(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Qb:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const l=await cm(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=sj()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};t.user=PD(t.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Fs(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ah}):await this._useSession(async s=>{var r,i,a;const{data:l,error:c}=s;if(c)throw c;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Hc}:await Fs(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Ah})})}catch(s){if(xs(s))return cD(s)&&(await this._removeSession(),await vh(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new Hc;const l=i.session;let c=null,u=null;this.flowType==="pkce"&&t.email!=null&&([c,u]=await yf(this.storage,this.storageKey));const{data:m,error:g}=await Fs(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:u}),jwt:l.access_token,xform:Ah});if(g)throw g;return l.user=m.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(r){if(xs(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Hc;const s=Date.now()/1e3;let r=s,i=!0,a=null;const{payload:l}=tj(t.access_token);if(l.exp&&(r=l.exp,i=r<=s),i){const{data:c,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c)return{data:{user:null,session:null},error:null};a=c}else{const{data:c,error:u}=await this._getUser(t.access_token);if(u)throw u;a={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(s){if(xs(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var r;if(!t){const{data:l,error:c}=s;if(c)throw c;t=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Hc;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(xs(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(t,s){try{if(!so())throw new xv("No browser detected.");if(t.error||t.error_description||t.error_code)throw new xv(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new M5("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new xv("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new M5("No code detected.");const{data:P,error:S}=await this._exchangeCodeForSession(t.code);if(S)throw S;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:l,expires_in:c,expires_at:u,token_type:m}=t;if(!a||!c||!l||!m)throw new xv("No session defined in URL");const g=Math.round(Date.now()/1e3),p=parseInt(c);let y=g+p;u&&(y=parseInt(u));const x=y-g;x*1e3<=Mf&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${p}s`);const _=y-p;g-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,y,g):g-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,y,g);const{data:j,error:A}=await this._getUser(a);if(A)throw A;const C={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:p,expires_at:y,refresh_token:l,token_type:m,user:j.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:t.type},error:null})}catch(r){if(xs(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await cm(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:i,error:a}=s;if(a)return this._returnResult({error:a});const l=(r=i.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:c}=await this.admin.signOut(l,t);if(c&&!(lD(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return t!=="others"&&(await this._removeSession(),await vh(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const s=xD(),r={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async s=>{var r,i;try{const{data:{session:a},error:l}=s;if(l)throw l;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,s={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await yf(this.storage,this.storageKey,!0));try{return await Fs(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(a){if(xs(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(s){if(xs(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var s;try{const{data:r,error:i}=await this._useSession(async a=>{var l,c,u,m,g;const{data:p,error:y}=a;if(y)throw y;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await Fs(this.fetch,"GET",x,{headers:this.headers,jwt:(g=(m=p.session)===null||m===void 0?void 0:m.access_token)!==null&&g!==void 0?g:void 0})});if(i)throw i;return so()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(xs(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async s=>{var r;try{const{error:i,data:{session:a}}=s;if(i)throw i;const{options:l,provider:c,token:u,access_token:m,nonce:g}=t,p=await Fs(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a==null?void 0:a.access_token)!==null&&r!==void 0?r:void 0,body:{provider:c,id_token:u,access_token:m,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Gc}),{data:y,error:x}=p;return x?this._returnResult({data:{user:null,session:null},error:x}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new vf}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:x}))}catch(i){if(xs(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async s=>{var r,i;const{data:a,error:l}=s;if(l)throw l;return await Fs(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(s){if(xs(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await jD(async i=>(i>0&&await bD(200*Math.pow(2,i-1)),this._debug(s,"refreshing attempt",i),await Fs(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Gc})),(i,a)=>{const l=200*Math.pow(2,i);return a&&ej(a)&&Date.now()+l-r<Mf})}catch(r){if(this._debug(s,"error",r),xs(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",r),so()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,s;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await cm(this.storage,this.storageKey);if(i&&this.userStorage){let l=await cm(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await Df(this.userStorage,this.storageKey+"-user",l)),i.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:sj()}else if(i&&!i.user&&!i.user){const l=await cm(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(i.user=l.user,await vh(this.storage,this.storageKey+"-user"),await Df(this.storage,this.storageKey,i)):i.user=sj()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((s=i.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Qb;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${Qb}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),ej(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:c}=await this._getUser(i.access_token);!c&&(l!=null&&l.user)?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var s,r;if(!t)throw new Hc;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Uy;const{data:a,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!a.session)throw new Hc;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const c={data:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(i,"error",a),xs(a)){const l={data:null,error:a};return ej(a)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,s,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:s});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,s)}catch(u){a.push(u)}});if(await Promise.all(l),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const s=Object.assign({},t),r=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&s.user&&await Df(this.userStorage,this.storageKey+"-user",{user:s.user});const i=Object.assign({},s);delete i.user;const a=z5(i);await Df(this.storage,this.storageKey,a)}else{const i=z5(s);await Df(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await vh(this.storage,this.storageKey),await vh(this.storage,this.storageKey+"-code-verifier"),await vh(this.storage,this.storageKey+"-user"),this.userStorage&&await vh(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&so()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Mf);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/Mf);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Mf}ms, refresh threshold is ${Kj} ticks`),i<=Kj&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof q3)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!so()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,r){const i=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,l]=await yf(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(c.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var r;const{data:i,error:a}=s;return a?this._returnResult({data:null,error:a}):await Fs(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(xs(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(t){try{return await this._useSession(async s=>{var r,i;const{data:a,error:l}=s;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:u,error:m}=await Fs(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return m?this._returnResult({data:null,error:m}):(t.factorType==="totp"&&u.type==="totp"&&(!((i=u==null?void 0:u.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(s){if(xs(s))return this._returnResult({data:null,error:s});throw s}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:i,error:a}=s;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?JD(t.webauthn.credential_response):XD(t.webauthn.credential_response)})}:{code:t.code}),{data:c,error:u}=await Fs(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:u}))})}catch(s){if(xs(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:i,error:a}=s;if(a)return this._returnResult({data:null,error:a});const l=await Fs(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(l.error)return l;const{data:c}=l;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:ZD(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:KD(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(xs(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(t){const{data:s,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){var t;const{data:{user:s},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=s==null?void 0:s.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,s;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=tj(r.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((s=(t=r.user.factors)===null||t===void 0?void 0:t.filter(g=>g.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(c="aal2");const m=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async s=>{const{data:{session:r},error:i}=s;return i?this._returnResult({data:null,error:i}):r?await Fs(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Hc})})}catch(s){if(xs(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(t,s){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Hc});const l=await Fs(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&so()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(xs(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,s){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Hc});const l=await Fs(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&so()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(xs(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,s={keys:[]}){let r=s.keys.find(c=>c.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(c=>c.kid===t),r&&this.jwks_cached_at+aD>i)return r;const{data:a,error:l}=await Fs(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(c=>c.kid===t),!r)?null:r}async getClaims(t,s={}){try{let r=t;if(!r){const{data:x,error:_}=await this.getSession();if(_||!x.session)return this._returnResult({data:null,error:_});r=x.session.access_token}const{header:i,payload:a,signature:l,raw:{header:c,payload:u}}=tj(r);s!=null&&s.allowExpired||kD(a.exp);const m=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!m){const{error:x}=await this.getUser(r);if(x)throw x;return{data:{claims:a,header:i,signature:l},error:null}}const g=ED(i.alg),p=await crypto.subtle.importKey("jwk",m,g,!0,["verify"]);if(!await crypto.subtle.verify(g,p,l,pD(`${c}.${u}`)))throw new Qj("Invalid JWT signature");return{data:{claims:a,header:i,signature:l},error:null}}catch(r){if(xs(r))return this._returnResult({data:null,error:r});throw r}}}Dg.nextInstanceID={};const oI=Dg;class lI extends oI{constructor(t){super(t)}}class cI{constructor(t,s,r){var i,a,l;this.supabaseUrl=t,this.supabaseKey=s;const c=tD(t);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,m={db:WM,realtime:ZM,auth:Object.assign(Object.assign({},YM),{storageKey:u}),global:GM},g=eD(r??{},m);this.storageKey=(i=g.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=g.global.headers)!==null&&a!==void 0?a:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(p,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=g.auth)!==null&&l!==void 0?l:{},this.headers,g.global.fetch),this.fetch=XM(s,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.accessToken&&this.accessToken().then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new sM(new URL("rest/v1",c).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new $M(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new XO(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,s={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,s,r)}channel(t,s={config:{}}){return this.realtime.channel(t,s)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,s;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(s=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&s!==void 0?s:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:s,detectSessionInUrl:r,storage:i,userStorage:a,storageKey:l,flowType:c,lock:u,debug:m,throwOnError:g},p,y){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new lI({url:this.authUrl.href,headers:Object.assign(Object.assign({},x),p),storageKey:l,autoRefreshToken:t,persistSession:s,detectSessionInUrl:r,storage:i,userStorage:a,flowType:c,lock:u,debug:m,throwOnError:g,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new yM(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,s,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const dI=(n,t,s)=>new cI(n,t,s);function uI(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const t=n.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}uI()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const hI="https://suiexvkyakjvexnldvmr.supabase.co",mI="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InN1aWV4dmt5YWtqdmV4bmxkdm1yIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMzMTQ5MjUsImV4cCI6MjA3ODg5MDkyNX0.klziXLpuhXrgOQtJIYYOf5-ViekTs-lkiy9JxpBqtK8",Le=dI(hI,mI,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),fI=Object.freeze(Object.defineProperty({__proto__:null,supabase:Le},Symbol.toStringTag,{value:"Module"})),V3=w.createContext(void 0);function pI({children:n}){const[t,s]=w.useState(null),[r,i]=w.useState(null),[a,l]=w.useState(null),[c,u]=w.useState(!0),[m,g]=w.useState(null),[p,y]=w.useState(!1),x=w.useCallback(async oe=>{try{console.log(" Fetching profile for user:",oe);const ne="https://suiexvkyakjvexnldvmr.supabase.co",re="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InN1aWV4dmt5YWtqdmV4bmxkdm1yIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMzMTQ5MjUsImV4cCI6MjA3ODg5MDkyNX0.klziXLpuhXrgOQtJIYYOf5-ViekTs-lkiy9JxpBqtK8",U=await fetch(`${ne}/rest/v1/profiles?id=eq.${oe}&select=*`,{headers:{apikey:re,Authorization:`Bearer ${re}`,"Content-Type":"application/json"}});if(!U.ok)throw new Error(`HTTP error! status: ${U.status}`);const J=await U.json();if(!J||J.length===0){console.warn(" Profile not found, creating minimal profile..."),await _(oe);return}const se=J[0];console.log(" Profile fetched successfully:",se.display_name),i(se),y(!1)}catch(ne){console.error(" Error fetching profile:",ne),console.warn(" Creating minimal profile after fetch error..."),await _(oe)}},[]),_=async oe=>{var ne,re,U,J;try{console.log(" Creating minimal profile for user:",oe);const{data:{user:se}}=await Le.auth.getUser();if(!se){console.error(" No auth user found"),u(!1);return}const ue={id:oe,email:se.email||null,display_name:((ne=se.user_metadata)==null?void 0:ne.display_name)||((re=se.email)==null?void 0:re.split("@")[0])||"User",role:((U=se.user_metadata)==null?void 0:U.role)||"buyer",phone:se.phone||((J=se.user_metadata)==null?void 0:J.phone)||null},{data:be,error:we}=await Le.from("profiles").upsert(ue,{onConflict:"id"}).select().single();if(we){console.error(" Error creating minimal profile:",we),y(!0),u(!1);return}console.log(" Minimal profile created:",be),i(be),y(!0),u(!1)}catch(se){console.error(" Exception creating minimal profile:",se),y(!0),u(!1)}};w.useEffect(()=>{Le.auth.getSession().then(({data:{session:ne}})=>{l(ne),s((ne==null?void 0:ne.user)??null),ne!=null&&ne.user&&x(ne.user.id),u(!1)});const{data:{subscription:oe}}=Le.auth.onAuthStateChange(async(ne,re)=>{if(console.log("Auth state changed:",ne),l(re),s((re==null?void 0:re.user)??null),re!=null&&re.user)try{await x(re.user.id)}catch(U){console.error(" Failed to fetch profile in auth listener:",U)}finally{u(!1)}else i(null),u(!1)});return()=>oe.unsubscribe()},[x]),w.useEffect(()=>{const oe=ne=>{ne.key==="supabase.auth.token"&&!ne.newValue&&(s(null),i(null),l(null))};return window.addEventListener("storage",oe),()=>window.removeEventListener("storage",oe)},[]);const j=async oe=>{try{g(null);const{data:ne,error:re}=await Le.auth.signUp({email:oe.email,password:oe.password,options:{data:{display_name:oe.displayName,role:oe.role,phone:oe.phone||null}}});if(re)throw re;if(ne.user&&!ne.session)console.log("Email confirmation required. Please check your email.");else if(ne.user){await new Promise(J=>setTimeout(J,1e3));const{data:U}=await Le.from("profiles").select("id").eq("id",ne.user.id).maybeSingle();if(!U){console.log("Creating profile manually for user:",ne.user.id);const J={id:ne.user.id,email:ne.user.email,display_name:oe.displayName,role:oe.role};oe.phone&&(J.phone=oe.phone);const{error:se}=await Le.from("profiles").insert(J);se&&console.error("Error creating profile:",se)}await x(ne.user.id)}return{error:null}}catch(ne){const re=ne;return g(re),{error:re}}},A=async oe=>{var ne;try{g(null),console.log(" SignIn called for:",oe.email);const{data:re,error:U}=await Le.auth.signInWithPassword({email:oe.email,password:oe.password});if(U)throw console.error(" Auth error from Supabase:",U),U;return console.log(" Auth successful! User:",(ne=re.user)==null?void 0:ne.id),console.log(" Session:",re.session?"Active":"None"),{error:null}}catch(re){const U=re;return console.error(" SignIn exception:",U),g(U),{error:U}}},C=async()=>{try{g(null);const{error:oe}=await Le.auth.signOut();if(oe)throw oe;return s(null),i(null),l(null),{error:null}}catch(oe){const ne=oe;return g(ne),{error:ne}}},P=async oe=>{try{g(null);const{data:ne,error:re}=await Le.auth.signUp({phone:oe.phone,password:oe.password,options:{data:{display_name:oe.displayName,role:oe.role}}});if(re)throw re;return console.log(" OTP sent to phone:",oe.phone),{error:null}}catch(ne){const re=ne;return g(re),{error:re}}},S=async oe=>{var ne;try{g(null),console.log(" SignIn with phone called for:",oe.phone);const{data:re,error:U}=await Le.auth.signInWithPassword({phone:oe.phone,password:oe.password});if(U)throw console.error(" Auth error from Supabase:",U),U;return console.log(" Phone auth successful! User:",(ne=re.user)==null?void 0:ne.id),console.log(" Session:",re.session?"Active":"None"),{error:null}}catch(re){const U=re;return console.error(" SignIn with phone exception:",U),g(U),{error:U}}},O=async oe=>{var ne,re,U;try{g(null),console.log(" Verifying OTP for phone:",oe.phone);const{data:J,error:se}=await Le.auth.verifyOtp({phone:oe.phone,token:oe.token,type:"sms"});if(se)throw console.error(" OTP verification error:",se),se;if(console.log(" OTP verified successfully! User:",(ne=J.user)==null?void 0:ne.id),J.user){await new Promise(be=>setTimeout(be,1e3));const{data:ue}=await Le.from("profiles").select("id").eq("id",J.user.id).maybeSingle();if(!ue){console.log("Creating profile for phone user:",J.user.id);const{error:be}=await Le.from("profiles").insert({id:J.user.id,phone:J.user.phone,display_name:((re=J.user.user_metadata)==null?void 0:re.display_name)||"User",role:((U=J.user.user_metadata)==null?void 0:U.role)||"buyer"});be&&console.error("Error creating profile:",be)}await x(J.user.id)}return{error:null}}catch(J){const se=J;return console.error(" Verify OTP exception:",se),g(se),{error:se}}},z=async oe=>{try{g(null),console.log(" Resending OTP to:",oe);const{error:ne}=await Le.auth.signInWithOtp({phone:oe});if(ne)throw console.error(" Resend OTP error:",ne),ne;return console.log(" OTP resent successfully"),{error:null}}catch(ne){const re=ne;return console.error(" Resend OTP exception:",re),g(re),{error:re}}},V=async oe=>{try{g(null),console.log(" Sending OTP to email:",oe);const{error:ne}=await Le.auth.signInWithOtp({email:oe});if(ne)throw console.error(" Email OTP error:",ne),ne;return console.log(" OTP sent to email successfully"),{error:null}}catch(ne){const re=ne;return console.error(" Email OTP exception:",re),g(re),{error:re}}},B=async oe=>{var ne,re,U;try{g(null),console.log(" Verifying email OTP for:",oe.email);const{data:J,error:se}=await Le.auth.verifyOtp({email:oe.email,token:oe.token,type:"email"});if(se)throw console.error(" Email OTP verification error:",se),se;if(console.log(" Email OTP verified successfully! User:",(ne=J.user)==null?void 0:ne.id),J.user){await new Promise(be=>setTimeout(be,1e3));const{data:ue}=await Le.from("profiles").select("id").eq("id",J.user.id).maybeSingle();if(!ue){console.log("Creating profile for email user:",J.user.id);const{error:be}=await Le.from("profiles").insert({id:J.user.id,email:J.user.email,display_name:((re=J.user.user_metadata)==null?void 0:re.display_name)||"User",role:((U=J.user.user_metadata)==null?void 0:U.role)||"buyer"});be&&console.error("Error creating profile:",be)}await x(J.user.id)}return{error:null}}catch(J){const se=J;return console.error(" Verify email OTP exception:",se),g(se),{error:se}}},D=async oe=>{try{g(null),console.log(" Resending OTP to email:",oe);const{error:ne}=await Le.auth.signInWithOtp({email:oe});if(ne)throw console.error(" Resend email OTP error:",ne),ne;return console.log(" Email OTP resent successfully"),{error:null}}catch(ne){const re=ne;return console.error(" Resend email OTP exception:",re),g(re),{error:re}}},K=async oe=>{try{g(null);const{error:ne}=await Le.auth.resetPasswordForEmail(oe,{redirectTo:`${window.location.origin}/reset-password`});if(ne)throw ne;return{error:null}}catch(ne){const re=ne;return g(re),{error:re}}},H=async oe=>{try{g(null);const{error:ne}=await Le.auth.updateUser({password:oe});if(ne)throw ne;return{error:null}}catch(ne){const re=ne;return g(re),{error:re}}},$=async oe=>{try{if(g(null),!t)throw new Error("No user logged in");const{error:ne}=await Le.auth.updateUser({password:oe});if(ne)throw ne;return{error:null}}catch(ne){const re=ne;return g(re),{error:re}}},W=async oe=>{try{if(g(null),!t)throw new Error("No user logged in");const{error:ne}=await Le.auth.updateUser({email:oe});if(ne)throw ne;return{error:null}}catch(ne){const re=ne;return g(re),{error:re}}},Q=async oe=>{if(!t)return{error:new Error("No user logged in")};try{g(null),r&&i({...r,...oe});const{error:ne}=await Le.from("profiles").update(oe).eq("id",t.id);if(ne)throw ne;return await x(t.id),{error:null}}catch(ne){return t&&await x(t.id),{error:ne}}},Z=async()=>{t&&await x(t.id)},ie=async oe=>{if(!t)return{url:null,error:new Error("No user logged in")};try{if(g(null),!["image/jpeg","image/png","image/gif","image/webp"].includes(oe.type))throw new Error("Invalid file type. Please upload a JPEG, PNG, GIF, or WebP image.");const re=2*1024*1024;if(oe.size>re)throw new Error("File size must be less than 2MB.");if(r!=null&&r.avatar_url){const we=r.avatar_url.split("/").pop();we&&await Le.storage.from("avatars").remove([`${t.id}/${we}`])}const U=oe.name.split(".").pop(),J=`${t.id}-${Date.now()}.${U}`,se=`${t.id}/${J}`,{error:ue}=await Le.storage.from("avatars").upload(se,oe,{cacheControl:"3600",upsert:!1});if(ue)throw ue;const{data:be}=Le.storage.from("avatars").getPublicUrl(se);return await Q({avatar_url:be.publicUrl}),{url:be.publicUrl,error:null}}catch(ne){return{url:null,error:ne}}},q=async()=>{if(!t)return{error:new Error("No user logged in")};if(!(r!=null&&r.avatar_url))return{error:new Error("No avatar to delete")};try{g(null);const oe=r.avatar_url.split("/").pop();if(oe){const{error:ne}=await Le.storage.from("avatars").remove([`${t.id}/${oe}`]);if(ne)throw ne}return await Q({avatar_url:null}),{error:null}}catch(oe){return{error:oe}}},te={user:t,profile:r,session:a,loading:c,error:m,profileMissing:p,signUp:j,signIn:A,signOut:C,signUpWithPhone:P,signInWithPhone:S,verifyOTP:O,resendOTP:z,signInWithEmail:V,verifyEmailOTP:B,resendEmailOTP:D,resetPasswordRequest:K,resetPassword:H,updatePassword:$,updateEmail:W,updateProfile:Q,refreshProfile:Z,deleteAccount:async()=>{if(!t)return{error:new Error("No user logged in")};try{return g(null),r!=null&&r.avatar_url&&await q(),await C(),{error:null}}catch(oe){return{error:oe}}},uploadAvatar:ie,deleteAvatar:q};return e.jsx(V3.Provider,{value:te,children:n})}function Bs(){const n=w.useContext(V3);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n}class yg{static async getSavedListings(t){try{console.log(" Fetching saved listings for user:",t);const s="https://suiexvkyakjvexnldvmr.supabase.co",r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InN1aWV4dmt5YWtqdmV4bmxkdm1yIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMzMTQ5MjUsImV4cCI6MjA3ODg5MDkyNX0.klziXLpuhXrgOQtJIYYOf5-ViekTs-lkiy9JxpBqtK8",i=await fetch(`${s}/rest/v1/saved_listings?user_id=eq.${t}&select=*&order=created_at.desc`,{headers:{apikey:r,Authorization:`Bearer ${r}`,"Content-Type":"application/json"}});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const a=await i.json();return console.log(" Saved listings fetched:",a.length),await Promise.all(a.map(async c=>{const u=await this.getListingDetails(c.listing_type,c.listing_id);return{...c,listing:u}}))}catch(s){throw console.error(" Error fetching saved listings:",s),s}}static async getListingDetails(t,s){try{const r="https://suiexvkyakjvexnldvmr.supabase.co",i="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InN1aWV4dmt5YWtqdmV4bmxkdm1yIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMzMTQ5MjUsImV4cCI6MjA3ODg5MDkyNX0.klziXLpuhXrgOQtJIYYOf5-ViekTs-lkiy9JxpBqtK8",l=await fetch(`${r}/rest/v1/${t==="business"?"businesses":"franchises"}?id=eq.${s}&select=*`,{headers:{apikey:i,Authorization:`Bearer ${i}`,"Content-Type":"application/json"}});if(!l.ok)return null;const c=await l.json();return c&&c.length>0?c[0]:null}catch(r){return console.error(" Error fetching listing details:",r),null}}static async saveListing(t,s,r,i){const{data:a,error:l}=await Le.from("saved_listings").insert({user_id:t,listing_type:s,listing_id:r,notes:i}).select().single();if(l)throw l;return a}static async unsaveListing(t,s,r){const{error:i}=await Le.from("saved_listings").delete().eq("user_id",t).eq("listing_type",s).eq("listing_id",r);if(i)throw i}static async isListingSaved(t,s,r){const{data:i,error:a}=await Le.from("saved_listings").select("id").eq("user_id",t).eq("listing_type",s).eq("listing_id",r).maybeSingle();if(a)throw a;return!!i}static async updateNotes(t,s,r,i){const{error:a}=await Le.from("saved_listings").update({notes:i}).eq("user_id",t).eq("listing_type",s).eq("listing_id",r);if(a)throw a}static async getSavedListingsCount(t){try{const s="https://suiexvkyakjvexnldvmr.supabase.co",r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InN1aWV4dmt5YWtqdmV4bmxkdm1yIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMzMTQ5MjUsImV4cCI6MjA3ODg5MDkyNX0.klziXLpuhXrgOQtJIYYOf5-ViekTs-lkiy9JxpBqtK8",i=await fetch(`${s}/rest/v1/saved_listings?user_id=eq.${t}&select=count`,{headers:{apikey:r,Authorization:`Bearer ${r}`,"Content-Type":"application/json",Prefer:"count=exact"}});if(!i.ok)return 0;const a=i.headers.get("content-range");return a?parseInt(a.split("/")[1]||"0"):0}catch(s){return console.error(" Error fetching saved listings count:",s),0}}}const H3=w.createContext(void 0);function gI({children:n}){const{user:t}=Bs(),[s,r]=w.useState(0),[i,a]=w.useState(new Set),l=w.useCallback(async()=>{if(!t){r(0),a(new Set);return}try{const m=await yg.getSavedListingsCount(t.id);r(m);const g=await yg.getSavedListings(t.id),p=new Set(g.map(y=>`${y.listing_type}-${y.listing_id}`));a(p)}catch(m){console.error("Error refreshing saved count:",m)}},[t]);w.useEffect(()=>{l()},[l]);const c=w.useCallback((m,g)=>i.has(`${m}-${g}`),[i]),u=w.useCallback(async(m,g)=>{if(!t)return;const p=`${m}-${g}`,y=i.has(p);try{y?(await yg.unsaveListing(t.id,m,g),a(x=>{const _=new Set(x);return _.delete(p),_}),r(x=>Math.max(0,x-1))):(await yg.saveListing(t.id,m,g),a(x=>new Set(x).add(p)),r(x=>x+1))}catch(x){console.error("Error toggling save:",x),await l()}},[t,i,l]);return e.jsx(H3.Provider,{value:{savedCount:s,refreshSavedCount:l,isListingSaved:c,toggleSave:u},children:n})}function G3(){const n=w.useContext(H3);if(n===void 0)throw new Error("useSavedListings must be used within a SavedListingsProvider");return n}class dm{static async getNotifications(t,s=50){try{console.log(" Fetching notifications for user:",t);const r="https://suiexvkyakjvexnldvmr.supabase.co",i="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InN1aWV4dmt5YWtqdmV4bmxkdm1yIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMzMTQ5MjUsImV4cCI6MjA3ODg5MDkyNX0.klziXLpuhXrgOQtJIYYOf5-ViekTs-lkiy9JxpBqtK8",a=await fetch(`${r}/rest/v1/notifications?user_id=eq.${t}&select=*&order=created_at.desc&limit=${s}`,{headers:{apikey:i,Authorization:`Bearer ${i}`,"Content-Type":"application/json"}});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const l=await a.json();return console.log(" Notifications fetched:",l.length),l}catch(r){throw console.error(" Error fetching notifications:",r),r}}static async getUnreadCount(t){try{const s="https://suiexvkyakjvexnldvmr.supabase.co",r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InN1aWV4dmt5YWtqdmV4bmxkdm1yIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMzMTQ5MjUsImV4cCI6MjA3ODg5MDkyNX0.klziXLpuhXrgOQtJIYYOf5-ViekTs-lkiy9JxpBqtK8",i=await fetch(`${s}/rest/v1/notifications?user_id=eq.${t}&read=eq.false&select=count`,{headers:{apikey:r,Authorization:`Bearer ${r}`,"Content-Type":"application/json",Prefer:"count=exact"}});if(!i.ok)return 0;const a=i.headers.get("content-range");return a?parseInt(a.split("/")[1]||"0"):0}catch(s){return console.error(" Error fetching unread count:",s),0}}static async markAsRead(t){const{error:s}=await Le.from("notifications").update({read:!0,read_at:new Date().toISOString()}).eq("id",t);if(s)throw s}static async markAllAsRead(t){const{error:s}=await Le.from("notifications").update({read:!0,read_at:new Date().toISOString()}).eq("user_id",t).eq("read",!1);if(s)throw s}static async deleteNotification(t){const{error:s}=await Le.from("notifications").delete().eq("id",t);if(s)throw s}static async deleteAllRead(t){const{error:s}=await Le.from("notifications").delete().eq("user_id",t).eq("read",!0);if(s)throw s}static async createNotification(t,s,r,i,a,l){const{data:c,error:u}=await Le.from("notifications").insert({user_id:t,type:s,title:r,message:i,action_url:a,metadata:l}).select().single();if(u)throw u;return c}static subscribeToNotifications(t,s){const r=Le.channel("notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${t}`},i=>{console.log(" New notification:",i.new),s(i.new)}).subscribe();return()=>{Le.removeChannel(r)}}}const W3=w.createContext(void 0);function xI({children:n}){const{user:t}=Bs(),[s,r]=w.useState([]),[i,a]=w.useState(0),[l,c]=w.useState(!1),u=w.useCallback(async()=>{if(!t){r([]),a(0);return}c(!0);try{const[x,_]=await Promise.all([dm.getNotifications(t.id),dm.getUnreadCount(t.id)]);r(x),a(_)}catch(x){console.error("Error refreshing notifications:",x)}finally{c(!1)}},[t]);w.useEffect(()=>{u()},[u]),w.useEffect(()=>t?dm.subscribeToNotifications(t.id,_=>{r(j=>[_,...j]),_.read||a(j=>j+1)}):void 0,[t]);const m=w.useCallback(async x=>{try{await dm.markAsRead(x),r(_=>_.map(j=>j.id===x?{...j,read:!0,read_at:new Date().toISOString()}:j)),a(_=>Math.max(0,_-1))}catch(_){console.error("Error marking notification as read:",_)}},[]),g=w.useCallback(async()=>{if(t)try{await dm.markAllAsRead(t.id),r(x=>x.map(_=>({..._,read:!0,read_at:new Date().toISOString()}))),a(0)}catch(x){console.error("Error marking all as read:",x)}},[t]),p=w.useCallback(async x=>{try{await dm.deleteNotification(x);const _=s.find(j=>j.id===x);r(j=>j.filter(A=>A.id!==x)),_&&!_.read&&a(j=>Math.max(0,j-1))}catch(_){console.error("Error deleting notification:",_)}},[s]),y=w.useCallback(async()=>{if(t)try{await dm.deleteAllRead(t.id),r(x=>x.filter(_=>!_.read))}catch(x){console.error("Error deleting read notifications:",x)}},[t]);return e.jsx(W3.Provider,{value:{notifications:s,unreadCount:i,loading:l,refreshNotifications:u,markAsRead:m,markAllAsRead:g,deleteNotification:p,deleteAllRead:y},children:n})}function Y3(){const n=w.useContext(W3);if(n===void 0)throw new Error("useNotifications must be used within a NotificationsProvider");return n}function vI(n){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t.appendChild(s),s.styleSheet?s.styleSheet.cssText=n:s.appendChild(document.createTextNode(n))}const yI=n=>{switch(n){case"success":return wI;case"info":return _I;case"warning":return NI;case"error":return SI;default:return null}},bI=Array(12).fill(0),jI=({visible:n,className:t})=>ot.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":n},ot.createElement("div",{className:"sonner-spinner"},bI.map((s,r)=>ot.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),wI=ot.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ot.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),NI=ot.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ot.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),_I=ot.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ot.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),SI=ot.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ot.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),CI=ot.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ot.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ot.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),AI=()=>{const[n,t]=ot.useState(document.hidden);return ot.useEffect(()=>{const s=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",s),()=>window.removeEventListener("visibilitychange",s)},[]),n};let e1=1;class kI{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const s=this.subscribers.indexOf(t);this.subscribers.splice(s,1)}),this.publish=t=>{this.subscribers.forEach(s=>s(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var s;const{message:r,...i}=t,a=typeof(t==null?void 0:t.id)=="number"||((s=t.id)==null?void 0:s.length)>0?t.id:e1++,l=this.toasts.find(u=>u.id===a),c=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),l?this.toasts=this.toasts.map(u=>u.id===a?(this.publish({...u,...t,id:a,title:r}),{...u,...t,id:a,dismissible:c,title:r}):u):this.addToast({title:r,...i,dismissible:c,id:a}),a},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(s=>s({id:t,dismiss:!0})))):this.toasts.forEach(s=>{this.subscribers.forEach(r=>r({id:s.id,dismiss:!0}))}),t),this.message=(t,s)=>this.create({...s,message:t}),this.error=(t,s)=>this.create({...s,message:t,type:"error"}),this.success=(t,s)=>this.create({...s,type:"success",message:t}),this.info=(t,s)=>this.create({...s,type:"info",message:t}),this.warning=(t,s)=>this.create({...s,type:"warning",message:t}),this.loading=(t,s)=>this.create({...s,type:"loading",message:t}),this.promise=(t,s)=>{if(!s)return;let r;s.loading!==void 0&&(r=this.create({...s,promise:t,type:"loading",message:s.loading,description:typeof s.description!="function"?s.description:void 0}));const i=Promise.resolve(t instanceof Function?t():t);let a=r!==void 0,l;const c=i.then(async m=>{if(l=["resolve",m],ot.isValidElement(m))a=!1,this.create({id:r,type:"default",message:m});else if(TI(m)&&!m.ok){a=!1;const p=typeof s.error=="function"?await s.error(`HTTP error! status: ${m.status}`):s.error,y=typeof s.description=="function"?await s.description(`HTTP error! status: ${m.status}`):s.description,_=typeof p=="object"&&!ot.isValidElement(p)?p:{message:p};this.create({id:r,type:"error",description:y,..._})}else if(m instanceof Error){a=!1;const p=typeof s.error=="function"?await s.error(m):s.error,y=typeof s.description=="function"?await s.description(m):s.description,_=typeof p=="object"&&!ot.isValidElement(p)?p:{message:p};this.create({id:r,type:"error",description:y,..._})}else if(s.success!==void 0){a=!1;const p=typeof s.success=="function"?await s.success(m):s.success,y=typeof s.description=="function"?await s.description(m):s.description,_=typeof p=="object"&&!ot.isValidElement(p)?p:{message:p};this.create({id:r,type:"success",description:y,..._})}}).catch(async m=>{if(l=["reject",m],s.error!==void 0){a=!1;const g=typeof s.error=="function"?await s.error(m):s.error,p=typeof s.description=="function"?await s.description(m):s.description,x=typeof g=="object"&&!ot.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:p,...x})}}).finally(()=>{a&&(this.dismiss(r),r=void 0),s.finally==null||s.finally.call(s)}),u=()=>new Promise((m,g)=>c.then(()=>l[0]==="reject"?g(l[1]):m(l[1])).catch(g));return typeof r!="string"&&typeof r!="number"?{unwrap:u}:Object.assign(r,{unwrap:u})},this.custom=(t,s)=>{const r=(s==null?void 0:s.id)||e1++;return this.create({jsx:t(r),id:r,...s}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const dl=new kI,EI=(n,t)=>{const s=(t==null?void 0:t.id)||e1++;return dl.addToast({title:n,...t,id:s}),s},TI=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",PI=EI,LI=()=>dl.toasts,RI=()=>dl.getActiveToasts(),Rt=Object.assign(PI,{success:dl.success,info:dl.info,warning:dl.warning,error:dl.error,custom:dl.custom,message:dl.message,promise:dl.promise,dismiss:dl.dismiss,loading:dl.loading},{getHistory:LI,getToasts:RI});vI("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function vv(n){return n.label!==void 0}const OI=3,MI="24px",DI="16px",W5=4e3,II=356,FI=14,BI=45,zI=200;function Id(...n){return n.filter(Boolean).join(" ")}function qI(n){const[t,s]=n.split("-"),r=[];return t&&r.push(t),s&&r.push(s),r}const UI=n=>{var t,s,r,i,a,l,c,u,m;const{invert:g,toast:p,unstyled:y,interacting:x,setHeights:_,visibleToasts:j,heights:A,index:C,toasts:P,expanded:S,removeToast:O,defaultRichColors:z,closeButton:V,style:B,cancelButtonStyle:D,actionButtonStyle:K,className:H="",descriptionClassName:$="",duration:W,position:Q,gap:Z,expandByDefault:ie,classNames:q,icons:ce,closeButtonAriaLabel:te="Close toast"}=n,[oe,ne]=ot.useState(null),[re,U]=ot.useState(null),[J,se]=ot.useState(!1),[ue,be]=ot.useState(!1),[we,Ce]=ot.useState(!1),[Re,Xe]=ot.useState(!1),[tt,lt]=ot.useState(!1),[jt,Et]=ot.useState(0),[Je,_e]=ot.useState(0),$t=ot.useRef(p.duration||W||W5),Dt=ot.useRef(null),ht=ot.useRef(null),je=C===0,ke=C+1<=j,Pe=p.type,it=p.dismissible!==!1,rt=p.className||"",ut=p.descriptionClassName||"",Nt=ot.useMemo(()=>A.findIndex(Ct=>Ct.toastId===p.id)||0,[A,p.id]),Vt=ot.useMemo(()=>{var Ct;return(Ct=p.closeButton)!=null?Ct:V},[p.closeButton,V]),Qt=ot.useMemo(()=>p.duration||W||W5,[p.duration,W]),Gt=ot.useRef(0),fs=ot.useRef(0),At=ot.useRef(0),In=ot.useRef(null),[Ts,rn]=Q.split("-"),zs=ot.useMemo(()=>A.reduce((Ct,gs,ur)=>ur>=Nt?Ct:Ct+gs.height,0),[A,Nt]),Cs=AI(),Dr=p.invert||g,Us=Pe==="loading";fs.current=ot.useMemo(()=>Nt*Z+zs,[Nt,zs]),ot.useEffect(()=>{$t.current=Qt},[Qt]),ot.useEffect(()=>{se(!0)},[]),ot.useEffect(()=>{const Ct=ht.current;if(Ct){const gs=Ct.getBoundingClientRect().height;return _e(gs),_(ur=>[{toastId:p.id,height:gs,position:p.position},...ur]),()=>_(ur=>ur.filter(xn=>xn.toastId!==p.id))}},[_,p.id]),ot.useLayoutEffect(()=>{if(!J)return;const Ct=ht.current,gs=Ct.style.height;Ct.style.height="auto";const ur=Ct.getBoundingClientRect().height;Ct.style.height=gs,_e(ur),_(xn=>xn.find(an=>an.toastId===p.id)?xn.map(an=>an.toastId===p.id?{...an,height:ur}:an):[{toastId:p.id,height:ur,position:p.position},...xn])},[J,p.title,p.description,_,p.id,p.jsx,p.action,p.cancel]);const Gi=ot.useCallback(()=>{be(!0),Et(fs.current),_(Ct=>Ct.filter(gs=>gs.toastId!==p.id)),setTimeout(()=>{O(p)},zI)},[p,O,_,fs]);ot.useEffect(()=>{if(p.promise&&Pe==="loading"||p.duration===1/0||p.type==="loading")return;let Ct;return S||x||Cs?(()=>{if(At.current<Gt.current){const xn=new Date().getTime()-Gt.current;$t.current=$t.current-xn}At.current=new Date().getTime()})():(()=>{$t.current!==1/0&&(Gt.current=new Date().getTime(),Ct=setTimeout(()=>{p.onAutoClose==null||p.onAutoClose.call(p,p),Gi()},$t.current))})(),()=>clearTimeout(Ct)},[S,x,p,Pe,Cs,Gi]),ot.useEffect(()=>{p.delete&&(Gi(),p.onDismiss==null||p.onDismiss.call(p,p))},[Gi,p.delete]);function Fn(){var Ct;if(ce!=null&&ce.loading){var gs;return ot.createElement("div",{className:Id(q==null?void 0:q.loader,p==null||(gs=p.classNames)==null?void 0:gs.loader,"sonner-loader"),"data-visible":Pe==="loading"},ce.loading)}return ot.createElement(jI,{className:Id(q==null?void 0:q.loader,p==null||(Ct=p.classNames)==null?void 0:Ct.loader),visible:Pe==="loading"})}const bi=p.icon||(ce==null?void 0:ce[Pe])||yI(Pe);var Wi,Sn;return ot.createElement("li",{tabIndex:0,ref:ht,className:Id(H,rt,q==null?void 0:q.toast,p==null||(t=p.classNames)==null?void 0:t.toast,q==null?void 0:q.default,q==null?void 0:q[Pe],p==null||(s=p.classNames)==null?void 0:s[Pe]),"data-sonner-toast":"","data-rich-colors":(Wi=p.richColors)!=null?Wi:z,"data-styled":!(p.jsx||p.unstyled||y),"data-mounted":J,"data-promise":!!p.promise,"data-swiped":tt,"data-removed":ue,"data-visible":ke,"data-y-position":Ts,"data-x-position":rn,"data-index":C,"data-front":je,"data-swiping":we,"data-dismissible":it,"data-type":Pe,"data-invert":Dr,"data-swipe-out":Re,"data-swipe-direction":re,"data-expanded":!!(S||ie&&J),"data-testid":p.testId,style:{"--index":C,"--toasts-before":C,"--z-index":P.length-C,"--offset":`${ue?jt:fs.current}px`,"--initial-height":ie?"auto":`${Je}px`,...B,...p.style},onDragEnd:()=>{Ce(!1),ne(null),In.current=null},onPointerDown:Ct=>{Ct.button!==2&&(Us||!it||(Dt.current=new Date,Et(fs.current),Ct.target.setPointerCapture(Ct.pointerId),Ct.target.tagName!=="BUTTON"&&(Ce(!0),In.current={x:Ct.clientX,y:Ct.clientY})))},onPointerUp:()=>{var Ct,gs,ur;if(Re||!it)return;In.current=null;const xn=Number(((Ct=ht.current)==null?void 0:Ct.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ji=Number(((gs=ht.current)==null?void 0:gs.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),an=new Date().getTime()-((ur=Dt.current)==null?void 0:ur.getTime()),es=oe==="x"?xn:ji,wi=Math.abs(es)/an;if(Math.abs(es)>=BI||wi>.11){Et(fs.current),p.onDismiss==null||p.onDismiss.call(p,p),U(oe==="x"?xn>0?"right":"left":ji>0?"down":"up"),Gi(),Xe(!0);return}else{var gr,Gn;(gr=ht.current)==null||gr.style.setProperty("--swipe-amount-x","0px"),(Gn=ht.current)==null||Gn.style.setProperty("--swipe-amount-y","0px")}lt(!1),Ce(!1),ne(null)},onPointerMove:Ct=>{var gs,ur,xn;if(!In.current||!it||((gs=window.getSelection())==null?void 0:gs.toString().length)>0)return;const an=Ct.clientY-In.current.y,es=Ct.clientX-In.current.x;var wi;const gr=(wi=n.swipeDirections)!=null?wi:qI(Q);!oe&&(Math.abs(es)>1||Math.abs(an)>1)&&ne(Math.abs(es)>Math.abs(an)?"x":"y");let Gn={x:0,y:0};const un=Tt=>1/(1.5+Math.abs(Tt)/20);if(oe==="y"){if(gr.includes("top")||gr.includes("bottom"))if(gr.includes("top")&&an<0||gr.includes("bottom")&&an>0)Gn.y=an;else{const Tt=an*un(an);Gn.y=Math.abs(Tt)<Math.abs(an)?Tt:an}}else if(oe==="x"&&(gr.includes("left")||gr.includes("right")))if(gr.includes("left")&&es<0||gr.includes("right")&&es>0)Gn.x=es;else{const Tt=es*un(es);Gn.x=Math.abs(Tt)<Math.abs(es)?Tt:es}(Math.abs(Gn.x)>0||Math.abs(Gn.y)>0)&&lt(!0),(ur=ht.current)==null||ur.style.setProperty("--swipe-amount-x",`${Gn.x}px`),(xn=ht.current)==null||xn.style.setProperty("--swipe-amount-y",`${Gn.y}px`)}},Vt&&!p.jsx&&Pe!=="loading"?ot.createElement("button",{"aria-label":te,"data-disabled":Us,"data-close-button":!0,onClick:Us||!it?()=>{}:()=>{Gi(),p.onDismiss==null||p.onDismiss.call(p,p)},className:Id(q==null?void 0:q.closeButton,p==null||(r=p.classNames)==null?void 0:r.closeButton)},(Sn=ce==null?void 0:ce.close)!=null?Sn:CI):null,(Pe||p.icon||p.promise)&&p.icon!==null&&((ce==null?void 0:ce[Pe])!==null||p.icon)?ot.createElement("div",{"data-icon":"",className:Id(q==null?void 0:q.icon,p==null||(i=p.classNames)==null?void 0:i.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Fn():null,p.type!=="loading"?bi:null):null,ot.createElement("div",{"data-content":"",className:Id(q==null?void 0:q.content,p==null||(a=p.classNames)==null?void 0:a.content)},ot.createElement("div",{"data-title":"",className:Id(q==null?void 0:q.title,p==null||(l=p.classNames)==null?void 0:l.title)},p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title),p.description?ot.createElement("div",{"data-description":"",className:Id($,ut,q==null?void 0:q.description,p==null||(c=p.classNames)==null?void 0:c.description)},typeof p.description=="function"?p.description():p.description):null),ot.isValidElement(p.cancel)?p.cancel:p.cancel&&vv(p.cancel)?ot.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||D,onClick:Ct=>{vv(p.cancel)&&it&&(p.cancel.onClick==null||p.cancel.onClick.call(p.cancel,Ct),Gi())},className:Id(q==null?void 0:q.cancelButton,p==null||(u=p.classNames)==null?void 0:u.cancelButton)},p.cancel.label):null,ot.isValidElement(p.action)?p.action:p.action&&vv(p.action)?ot.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||K,onClick:Ct=>{vv(p.action)&&(p.action.onClick==null||p.action.onClick.call(p.action,Ct),!Ct.defaultPrevented&&Gi())},className:Id(q==null?void 0:q.actionButton,p==null||(m=p.classNames)==null?void 0:m.actionButton)},p.action.label):null)};function Y5(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function $I(n,t){const s={};return[n,t].forEach((r,i)=>{const a=i===1,l=a?"--mobile-offset":"--offset",c=a?DI:MI;function u(m){["top","right","bottom","left"].forEach(g=>{s[`${l}-${g}`]=typeof m=="number"?`${m}px`:m})}typeof r=="number"||typeof r=="string"?u(r):typeof r=="object"?["top","right","bottom","left"].forEach(m=>{r[m]===void 0?s[`${l}-${m}`]=c:s[`${l}-${m}`]=typeof r[m]=="number"?`${r[m]}px`:r[m]}):u(c)}),s}const VI=ot.forwardRef(function(t,s){const{id:r,invert:i,position:a="bottom-right",hotkey:l=["altKey","KeyT"],expand:c,closeButton:u,className:m,offset:g,mobileOffset:p,theme:y="light",richColors:x,duration:_,style:j,visibleToasts:A=OI,toastOptions:C,dir:P=Y5(),gap:S=FI,icons:O,containerAriaLabel:z="Notifications"}=t,[V,B]=ot.useState([]),D=ot.useMemo(()=>r?V.filter(J=>J.toasterId===r):V.filter(J=>!J.toasterId),[V,r]),K=ot.useMemo(()=>Array.from(new Set([a].concat(D.filter(J=>J.position).map(J=>J.position)))),[D,a]),[H,$]=ot.useState([]),[W,Q]=ot.useState(!1),[Z,ie]=ot.useState(!1),[q,ce]=ot.useState(y!=="system"?y:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),te=ot.useRef(null),oe=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),ne=ot.useRef(null),re=ot.useRef(!1),U=ot.useCallback(J=>{B(se=>{var ue;return(ue=se.find(be=>be.id===J.id))!=null&&ue.delete||dl.dismiss(J.id),se.filter(({id:be})=>be!==J.id)})},[]);return ot.useEffect(()=>dl.subscribe(J=>{if(J.dismiss){requestAnimationFrame(()=>{B(se=>se.map(ue=>ue.id===J.id?{...ue,delete:!0}:ue))});return}setTimeout(()=>{Z1.flushSync(()=>{B(se=>{const ue=se.findIndex(be=>be.id===J.id);return ue!==-1?[...se.slice(0,ue),{...se[ue],...J},...se.slice(ue+1)]:[J,...se]})})})}),[V]),ot.useEffect(()=>{if(y!=="system"){ce(y);return}if(y==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ce("dark"):ce("light")),typeof window>"u")return;const J=window.matchMedia("(prefers-color-scheme: dark)");try{J.addEventListener("change",({matches:se})=>{ce(se?"dark":"light")})}catch{J.addListener(({matches:ue})=>{try{ce(ue?"dark":"light")}catch(be){console.error(be)}})}},[y]),ot.useEffect(()=>{V.length<=1&&Q(!1)},[V]),ot.useEffect(()=>{const J=se=>{var ue;if(l.every(Ce=>se[Ce]||se.code===Ce)){var we;Q(!0),(we=te.current)==null||we.focus()}se.code==="Escape"&&(document.activeElement===te.current||(ue=te.current)!=null&&ue.contains(document.activeElement))&&Q(!1)};return document.addEventListener("keydown",J),()=>document.removeEventListener("keydown",J)},[l]),ot.useEffect(()=>{if(te.current)return()=>{ne.current&&(ne.current.focus({preventScroll:!0}),ne.current=null,re.current=!1)}},[te.current]),ot.createElement("section",{ref:s,"aria-label":`${z} ${oe}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},K.map((J,se)=>{var ue;const[be,we]=J.split("-");return D.length?ot.createElement("ol",{key:J,dir:P==="auto"?Y5():P,tabIndex:-1,ref:te,className:m,"data-sonner-toaster":!0,"data-sonner-theme":q,"data-y-position":be,"data-x-position":we,style:{"--front-toast-height":`${((ue=H[0])==null?void 0:ue.height)||0}px`,"--width":`${II}px`,"--gap":`${S}px`,...j,...$I(g,p)},onBlur:Ce=>{re.current&&!Ce.currentTarget.contains(Ce.relatedTarget)&&(re.current=!1,ne.current&&(ne.current.focus({preventScroll:!0}),ne.current=null))},onFocus:Ce=>{Ce.target instanceof HTMLElement&&Ce.target.dataset.dismissible==="false"||re.current||(re.current=!0,ne.current=Ce.relatedTarget)},onMouseEnter:()=>Q(!0),onMouseMove:()=>Q(!0),onMouseLeave:()=>{Z||Q(!1)},onDragEnd:()=>Q(!1),onPointerDown:Ce=>{Ce.target instanceof HTMLElement&&Ce.target.dataset.dismissible==="false"||ie(!0)},onPointerUp:()=>ie(!1)},D.filter(Ce=>!Ce.position&&se===0||Ce.position===J).map((Ce,Re)=>{var Xe,tt;return ot.createElement(UI,{key:Ce.id,icons:O,index:Re,toast:Ce,defaultRichColors:x,duration:(Xe=C==null?void 0:C.duration)!=null?Xe:_,className:C==null?void 0:C.className,descriptionClassName:C==null?void 0:C.descriptionClassName,invert:i,visibleToasts:A,closeButton:(tt=C==null?void 0:C.closeButton)!=null?tt:u,interacting:Z,position:J,style:C==null?void 0:C.style,unstyled:C==null?void 0:C.unstyled,classNames:C==null?void 0:C.classNames,cancelButtonStyle:C==null?void 0:C.cancelButtonStyle,actionButtonStyle:C==null?void 0:C.actionButtonStyle,closeButtonAriaLabel:C==null?void 0:C.closeButtonAriaLabel,removeToast:U,toasts:D.filter(lt=>lt.position==Ce.position),heights:H.filter(lt=>lt.position==Ce.position),setHeights:$,expandByDefault:c,gap:S,expanded:W,swipeDirections:t.swipeDirections})})):null}))}),HI=({...n})=>{const[t,s]=w.useState("system");return w.useEffect(()=>{const r=document.documentElement.classList.contains("dark");s(r?"dark":"light");const i=new MutationObserver(a=>{a.forEach(l=>{if(l.attributeName==="class"){const c=document.documentElement.classList.contains("dark");s(c?"dark":"light")}})});return i.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>i.disconnect()},[]),e.jsx(VI,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...n})};/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GI=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Z3=(...n)=>n.filter((t,s,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===s).join(" ").trim();/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var WI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=w.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:l,...c},u)=>w.createElement("svg",{ref:u,...WI,width:t,height:t,stroke:n,strokeWidth:r?Number(s)*24/Number(t):s,className:Z3("lucide",i),...c},[...l.map(([m,g])=>w.createElement(m,g)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=(n,t)=>{const s=w.forwardRef(({className:r,...i},a)=>w.createElement(YI,{ref:a,iconNode:t,className:Z3(`lucide-${GI(n)}`,r),...i}));return s.displayName=`${n}`,s};/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZI=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ca=ft("ArrowLeft",ZI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Ca=ft("ArrowRight",KI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JI=[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]],mw=ft("ArrowUpNarrowWide",JI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],t1=ft("ArrowUpRight",XI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QI=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Mh=ft("Award",QI);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e7=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Z5=ft("BadgeCheck",e7);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t7=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Qc=ft("Bell",t7);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s7=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],qv=ft("Bookmark",s7);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n7=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],yv=ft("Brain",n7);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r7=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Vd=ft("Briefcase",r7);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i7=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Zs=ft("Building2",i7);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a7=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],ed=ft("Building",a7);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o7=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Hd=ft("Calculator",o7);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l7=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],za=ft("Calendar",l7);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c7=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],K3=ft("Camera",c7);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d7=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Gd=ft("ChartColumn",d7);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u7=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],h7=ft("ChartPie",u7);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m7=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],f7=ft("CheckCheck",m7);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p7=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Vu=ft("Check",p7);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g7=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],jm=ft("ChevronDown",g7);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x7=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],$y=ft("ChevronLeft",x7);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v7=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Qg=ft("ChevronRight",v7);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y7=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],bg=ft("ChevronUp",y7);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ea=ft("CircleAlert",b7);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j7=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Lt=ft("CircleCheckBig",j7);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],tp=ft("CircleCheck",w7);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]],J3=ft("CirclePlay",N7);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],pi=ft("CircleX",_7);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],fw=ft("Circle",S7);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Hn=ft("Clock",C7);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A7=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],pw=ft("Copy",A7);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k7=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],E7=ft("CreditCard",k7);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T7=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],P7=ft("Crown",T7);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L7=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],zi=ft("DollarSign",L7);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R7=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],oi=ft("Download",R7);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O7=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],zm=ft("EllipsisVertical",O7);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M7=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],gw=ft("Ellipsis",M7);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D7=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Am=ft("ExternalLink",D7);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I7=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Ou=ft("EyeOff",I7);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F7=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],dn=ft("Eye",F7);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B7=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],z7=ft("Facebook",B7);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q7=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],Vf=ft("FileCheck",q7);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U7=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],_s=ft("FileText",U7);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $7=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m14.5 12.5-5 5",key:"b62r18"}],["path",{d:"m9.5 12.5 5 5",key:"1rk7el"}]],V7=ft("FileX",$7);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H7=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],qm=ft("Filter",H7);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G7=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],ry=ft("Flame",G7);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W7=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Y7=ft("FolderOpen",W7);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Du=ft("Globe",Z7);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K7=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],xw=ft("Grid3x3",K7);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J7=[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]],X7=ft("Handshake",J7);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q7=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],eF=ft("Headphones",Q7);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Iu=ft("Heart",tF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Vy=ft("House",sF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],vw=ft("Image",nF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rF=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],iF=ft("Inbox",rF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],Hy=ft("IndianRupee",aF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Ag=ft("Info",oF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lF=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],cF=ft("Instagram",lF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=[["path",{d:"M6 5v11",key:"mdvv1e"}],["path",{d:"M12 5v6",key:"14ar3b"}],["path",{d:"M18 5v14",key:"7ji314"}]],uF=ft("Kanban",dF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],X3=ft("LayoutDashboard",hF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mF=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],sp=ft("Lightbulb",mF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fF=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],pF=ft("Linkedin",fF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gF=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],yw=ft("List",gF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ht=ft("LoaderCircle",xF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vF=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],yF=ft("LockOpen",vF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Il=ft("Lock",bF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jF=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Q3=ft("LogOut",jF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=[["path",{d:"M21.2 8.4c.5.38.8.97.8 1.6v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V10a2 2 0 0 1 .8-1.6l8-6a2 2 0 0 1 2.4 0l8 6Z",key:"1jhwl8"}],["path",{d:"m22 10-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 10",key:"1qfld7"}]],NF=ft("MailOpen",wF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _F=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Or=ft("Mail",_F);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SF=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ln=ft("MapPin",SF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CF=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],iy=ft("Map",CF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AF=[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]],K5=ft("Megaphone",AF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],eA=ft("Menu",kF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Gy=ft("MessageCircle",EF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TF=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],ua=ft("MessageSquare",TF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],LF=ft("MicOff",PF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RF=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],OF=ft("Mic",RF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MF=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],DF=ft("Palette",MF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IF=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],FF=ft("Paperclip",IF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BF=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],tA=ft("PartyPopper",BF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zF=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],sA=ft("Percent",zF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qF=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],Mr=ft("Phone",qF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UF=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],$F=ft("Play",UF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VF=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],la=ft("Plus",VF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HF=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Dh=ft("RefreshCw",HF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GF=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],WF=ft("RotateCcw",GF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YF=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],km=ft("Save",YF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZF=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],J5=ft("Scale",ZF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KF=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],xi=ft("Search",KF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JF=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Em=ft("Send",JF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XF=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Um=ft("Settings",XF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QF=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],xp=ft("Share2",QF);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]],nA=ft("Share",eB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],sB=ft("ShieldAlert",tB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Fu=ft("ShieldCheck",nB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M9 12h6",key:"1c52cq"}],["path",{d:"M12 9v6",key:"199k2o"}]],iB=ft("ShieldPlus",rB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m14.5 9.5-5 5",key:"17q4r4"}],["path",{d:"m9.5 9.5 5 5",key:"18nt4w"}]],oB=ft("ShieldX",aB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lB=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ds=ft("Shield",lB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"m14 20 1.25-2.5L18 18",key:"1chtki"}],["path",{d:"m14 4 1.25 2.5L18 6",key:"1b4wsy"}],["path",{d:"m17 21-3-6h-4",key:"15hhxa"}],["path",{d:"m17 3-3 6 1.5 3",key:"11697g"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"m20 10-1.5 2 1.5 2",key:"1swlpi"}],["path",{d:"M22 12h-6.5L14 15",key:"1mxi28"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h4",key:"1otusx"}]],X5=ft("Snowflake",cB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],ko=ft("Sparkles",dB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uB=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Bu=ft("SquarePen",uB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hB=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Fl=ft("Star",hB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mB=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],Uo=ft("Store",mB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],rA=ft("Tag",fB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Tm=ft("Target",pB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gB=[["path",{d:"M12 9a4 4 0 0 0-2 7.5",key:"1jvsq6"}],["path",{d:"M12 3v2",key:"1w22ol"}],["path",{d:"m6.6 18.4-1.4 1.4",key:"w2yidj"}],["path",{d:"M20 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"iof6y5"}],["path",{d:"M4 13H2",key:"118le4"}],["path",{d:"M6.34 7.34 4.93 5.93",key:"1brd51"}]],Q5=ft("ThermometerSun",gB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xB=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Vo=ft("Trash2",xB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vB=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],yB=ft("TrendingDown",vB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bB=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Os=ft("TrendingUp",bB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],vi=ft("TriangleAlert",jB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wB=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],NB=ft("Twitter",wB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],ml=ft("Upload",_B);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],iA=ft("UserCheck",SB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],AB=ft("UserPlus",CB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],EB=ft("UserX",kB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Aa=ft("User",TB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PB=[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]],LB=ft("UsersRound",PB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],gn=ft("Users",RB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],MB=ft("Video",OB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DB=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],aA=ft("Wallet",DB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],ay=ft("WandSparkles",IB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Lr=ft("X",FB);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],e4=ft("Zap",BB);function t4(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function Xd(...n){return t=>{let s=!1;const r=n.map(i=>{const a=t4(i,t);return!s&&typeof a=="function"&&(s=!0),a});if(s)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():t4(n[i],null)}}}}function Ss(...n){return w.useCallback(Xd(...n),n)}var zB=Symbol.for("react.lazy"),oy=Y1[" use ".trim().toString()];function qB(n){return typeof n=="object"&&n!==null&&"then"in n}function oA(n){return n!=null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===zB&&"_payload"in n&&qB(n._payload)}function ex(n){const t=UB(n),s=w.forwardRef((r,i)=>{let{children:a,...l}=r;oA(a)&&typeof oy=="function"&&(a=oy(a._payload));const c=w.Children.toArray(a),u=c.find(VB);if(u){const m=u.props.children,g=c.map(p=>p===u?w.Children.count(m)>1?w.Children.only(null):w.isValidElement(m)?m.props.children:null:p);return e.jsx(t,{...l,ref:i,children:w.isValidElement(m)?w.cloneElement(m,void 0,g):null})}return e.jsx(t,{...l,ref:i,children:a})});return s.displayName=`${n}.Slot`,s}var lA=ex("Slot");function UB(n){const t=w.forwardRef((s,r)=>{let{children:i,...a}=s;if(oA(i)&&typeof oy=="function"&&(i=oy(i._payload)),w.isValidElement(i)){const l=GB(i),c=HB(a,i.props);return i.type!==w.Fragment&&(c.ref=r?Xd(r,l):l),w.cloneElement(i,c)}return w.Children.count(i)>1?w.Children.only(null):null});return t.displayName=`${n}.SlotClone`,t}var $B=Symbol("radix.slottable");function VB(n){return w.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===$B}function HB(n,t){const s={...t};for(const r in t){const i=n[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?s[r]=(...c)=>{const u=a(...c);return i(...c),u}:i&&(s[r]=i):r==="style"?s[r]={...i,...a}:r==="className"&&(s[r]=[i,a].filter(Boolean).join(" "))}return{...n,...s}}function GB(n){var r,i;let t=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?n.ref:(t=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?n.props.ref:n.props.ref||n.ref)}function cA(n){var t,s,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(t=0;t<i;t++)n[t]&&(s=cA(n[t]))&&(r&&(r+=" "),r+=s)}else for(s in n)n[s]&&(r&&(r+=" "),r+=s);return r}function dA(){for(var n,t,s=0,r="",i=arguments.length;s<i;s++)(n=arguments[s])&&(t=cA(n))&&(r&&(r+=" "),r+=t);return r}const s4=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,n4=dA,tx=(n,t)=>s=>{var r;if((t==null?void 0:t.variants)==null)return n4(n,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:i,defaultVariants:a}=t,l=Object.keys(i).map(m=>{const g=s==null?void 0:s[m],p=a==null?void 0:a[m];if(g===null)return null;const y=s4(g)||s4(p);return i[m][y]}),c=s&&Object.entries(s).reduce((m,g)=>{let[p,y]=g;return y===void 0||(m[p]=y),m},{}),u=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((m,g)=>{let{class:p,className:y,...x}=g;return Object.entries(x).every(_=>{let[j,A]=_;return Array.isArray(A)?A.includes({...a,...c}[j]):{...a,...c}[j]===A})?[...m,p,y]:m},[]);return n4(n,l,u,s==null?void 0:s.class,s==null?void 0:s.className)},WB=(n,t)=>{const s=new Array(n.length+t.length);for(let r=0;r<n.length;r++)s[r]=n[r];for(let r=0;r<t.length;r++)s[n.length+r]=t[r];return s},YB=(n,t)=>({classGroupId:n,validator:t}),uA=(n=new Map,t=null,s)=>({nextPart:n,validators:t,classGroupId:s}),ly="-",r4=[],ZB="arbitrary..",KB=n=>{const t=XB(n),{conflictingClassGroups:s,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return JB(l);const c=l.split(ly),u=c[0]===""&&c.length>1?1:0;return hA(c,u,t)},getConflictingClassGroupIds:(l,c)=>{if(c){const u=r[l],m=s[l];return u?m?WB(m,u):u:m||r4}return s[l]||r4}}},hA=(n,t,s)=>{if(n.length-t===0)return s.classGroupId;const i=n[t],a=s.nextPart.get(i);if(a){const m=hA(n,t+1,a);if(m)return m}const l=s.validators;if(l===null)return;const c=t===0?n.join(ly):n.slice(t).join(ly),u=l.length;for(let m=0;m<u;m++){const g=l[m];if(g.validator(c))return g.classGroupId}},JB=n=>n.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=n.slice(1,-1),s=t.indexOf(":"),r=t.slice(0,s);return r?ZB+r:void 0})(),XB=n=>{const{theme:t,classGroups:s}=n;return QB(s,t)},QB=(n,t)=>{const s=uA();for(const r in n){const i=n[r];bw(i,s,r,t)}return s},bw=(n,t,s,r)=>{const i=n.length;for(let a=0;a<i;a++){const l=n[a];e9(l,t,s,r)}},e9=(n,t,s,r)=>{if(typeof n=="string"){t9(n,t,s);return}if(typeof n=="function"){s9(n,t,s,r);return}n9(n,t,s,r)},t9=(n,t,s)=>{const r=n===""?t:mA(t,n);r.classGroupId=s},s9=(n,t,s,r)=>{if(r9(n)){bw(n(r),t,s,r);return}t.validators===null&&(t.validators=[]),t.validators.push(YB(s,n))},n9=(n,t,s,r)=>{const i=Object.entries(n),a=i.length;for(let l=0;l<a;l++){const[c,u]=i[l];bw(u,mA(t,c),s,r)}},mA=(n,t)=>{let s=n;const r=t.split(ly),i=r.length;for(let a=0;a<i;a++){const l=r[a];let c=s.nextPart.get(l);c||(c=uA(),s.nextPart.set(l,c)),s=c}return s},r9=n=>"isThemeGetter"in n&&n.isThemeGetter===!0,i9=n=>{if(n<1)return{get:()=>{},set:()=>{}};let t=0,s=Object.create(null),r=Object.create(null);const i=(a,l)=>{s[a]=l,t++,t>n&&(t=0,r=s,s=Object.create(null))};return{get(a){let l=s[a];if(l!==void 0)return l;if((l=r[a])!==void 0)return i(a,l),l},set(a,l){a in s?s[a]=l:i(a,l)}}},s1="!",i4=":",a9=[],a4=(n,t,s,r,i)=>({modifiers:n,hasImportantModifier:t,baseClassName:s,maybePostfixModifierPosition:r,isExternal:i}),o9=n=>{const{prefix:t,experimentalParseClassName:s}=n;let r=i=>{const a=[];let l=0,c=0,u=0,m;const g=i.length;for(let j=0;j<g;j++){const A=i[j];if(l===0&&c===0){if(A===i4){a.push(i.slice(u,j)),u=j+1;continue}if(A==="/"){m=j;continue}}A==="["?l++:A==="]"?l--:A==="("?c++:A===")"&&c--}const p=a.length===0?i:i.slice(u);let y=p,x=!1;p.endsWith(s1)?(y=p.slice(0,-1),x=!0):p.startsWith(s1)&&(y=p.slice(1),x=!0);const _=m&&m>u?m-u:void 0;return a4(a,x,y,_)};if(t){const i=t+i4,a=r;r=l=>l.startsWith(i)?a(l.slice(i.length)):a4(a9,!1,l,void 0,!0)}if(s){const i=r;r=a=>s({className:a,parseClassName:i})}return r},l9=n=>{const t=new Map;return n.orderSensitiveModifiers.forEach((s,r)=>{t.set(s,1e6+r)}),s=>{const r=[];let i=[];for(let a=0;a<s.length;a++){const l=s[a],c=l[0]==="[",u=t.has(l);c||u?(i.length>0&&(i.sort(),r.push(...i),i=[]),r.push(l)):i.push(l)}return i.length>0&&(i.sort(),r.push(...i)),r}},c9=n=>({cache:i9(n.cacheSize),parseClassName:o9(n),sortModifiers:l9(n),...KB(n)}),d9=/\s+/,u9=(n,t)=>{const{parseClassName:s,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:a}=t,l=[],c=n.trim().split(d9);let u="";for(let m=c.length-1;m>=0;m-=1){const g=c[m],{isExternal:p,modifiers:y,hasImportantModifier:x,baseClassName:_,maybePostfixModifierPosition:j}=s(g);if(p){u=g+(u.length>0?" "+u:u);continue}let A=!!j,C=r(A?_.substring(0,j):_);if(!C){if(!A){u=g+(u.length>0?" "+u:u);continue}if(C=r(_),!C){u=g+(u.length>0?" "+u:u);continue}A=!1}const P=y.length===0?"":y.length===1?y[0]:a(y).join(":"),S=x?P+s1:P,O=S+C;if(l.indexOf(O)>-1)continue;l.push(O);const z=i(C,A);for(let V=0;V<z.length;++V){const B=z[V];l.push(S+B)}u=g+(u.length>0?" "+u:u)}return u},h9=(...n)=>{let t=0,s,r,i="";for(;t<n.length;)(s=n[t++])&&(r=fA(s))&&(i&&(i+=" "),i+=r);return i},fA=n=>{if(typeof n=="string")return n;let t,s="";for(let r=0;r<n.length;r++)n[r]&&(t=fA(n[r]))&&(s&&(s+=" "),s+=t);return s},m9=(n,...t)=>{let s,r,i,a;const l=u=>{const m=t.reduce((g,p)=>p(g),n());return s=c9(m),r=s.cache.get,i=s.cache.set,a=c,c(u)},c=u=>{const m=r(u);if(m)return m;const g=u9(u,s);return i(u,g),g};return a=l,(...u)=>a(h9(...u))},f9=[],wa=n=>{const t=s=>s[n]||f9;return t.isThemeGetter=!0,t},pA=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,gA=/^\((?:(\w[\w-]*):)?(.+)\)$/i,p9=/^\d+\/\d+$/,g9=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,x9=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,v9=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,y9=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,b9=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Nf=n=>p9.test(n),nn=n=>!!n&&!Number.isNaN(Number(n)),yh=n=>!!n&&Number.isInteger(Number(n)),rj=n=>n.endsWith("%")&&nn(n.slice(0,-1)),ku=n=>g9.test(n),j9=()=>!0,w9=n=>x9.test(n)&&!v9.test(n),xA=()=>!1,N9=n=>y9.test(n),_9=n=>b9.test(n),S9=n=>!ns(n)&&!rs(n),C9=n=>vp(n,bA,xA),ns=n=>pA.test(n),um=n=>vp(n,jA,w9),ij=n=>vp(n,P9,nn),o4=n=>vp(n,vA,xA),A9=n=>vp(n,yA,_9),bv=n=>vp(n,wA,N9),rs=n=>gA.test(n),ag=n=>yp(n,jA),k9=n=>yp(n,L9),l4=n=>yp(n,vA),E9=n=>yp(n,bA),T9=n=>yp(n,yA),jv=n=>yp(n,wA,!0),vp=(n,t,s)=>{const r=pA.exec(n);return r?r[1]?t(r[1]):s(r[2]):!1},yp=(n,t,s=!1)=>{const r=gA.exec(n);return r?r[1]?t(r[1]):s:!1},vA=n=>n==="position"||n==="percentage",yA=n=>n==="image"||n==="url",bA=n=>n==="length"||n==="size"||n==="bg-size",jA=n=>n==="length",P9=n=>n==="number",L9=n=>n==="family-name",wA=n=>n==="shadow",R9=()=>{const n=wa("color"),t=wa("font"),s=wa("text"),r=wa("font-weight"),i=wa("tracking"),a=wa("leading"),l=wa("breakpoint"),c=wa("container"),u=wa("spacing"),m=wa("radius"),g=wa("shadow"),p=wa("inset-shadow"),y=wa("text-shadow"),x=wa("drop-shadow"),_=wa("blur"),j=wa("perspective"),A=wa("aspect"),C=wa("ease"),P=wa("animate"),S=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],z=()=>[...O(),rs,ns],V=()=>["auto","hidden","clip","visible","scroll"],B=()=>["auto","contain","none"],D=()=>[rs,ns,u],K=()=>[Nf,"full","auto",...D()],H=()=>[yh,"none","subgrid",rs,ns],$=()=>["auto",{span:["full",yh,rs,ns]},yh,rs,ns],W=()=>[yh,"auto",rs,ns],Q=()=>["auto","min","max","fr",rs,ns],Z=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ie=()=>["start","end","center","stretch","center-safe","end-safe"],q=()=>["auto",...D()],ce=()=>[Nf,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...D()],te=()=>[n,rs,ns],oe=()=>[...O(),l4,o4,{position:[rs,ns]}],ne=()=>["no-repeat",{repeat:["","x","y","space","round"]}],re=()=>["auto","cover","contain",E9,C9,{size:[rs,ns]}],U=()=>[rj,ag,um],J=()=>["","none","full",m,rs,ns],se=()=>["",nn,ag,um],ue=()=>["solid","dashed","dotted","double"],be=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],we=()=>[nn,rj,l4,o4],Ce=()=>["","none",_,rs,ns],Re=()=>["none",nn,rs,ns],Xe=()=>["none",nn,rs,ns],tt=()=>[nn,rs,ns],lt=()=>[Nf,"full",...D()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ku],breakpoint:[ku],color:[j9],container:[ku],"drop-shadow":[ku],ease:["in","out","in-out"],font:[S9],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ku],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ku],shadow:[ku],spacing:["px",nn],text:[ku],"text-shadow":[ku],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Nf,ns,rs,A]}],container:["container"],columns:[{columns:[nn,ns,rs,c]}],"break-after":[{"break-after":S()}],"break-before":[{"break-before":S()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:z()}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:B()}],"overscroll-x":[{"overscroll-x":B()}],"overscroll-y":[{"overscroll-y":B()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:K()}],"inset-x":[{"inset-x":K()}],"inset-y":[{"inset-y":K()}],start:[{start:K()}],end:[{end:K()}],top:[{top:K()}],right:[{right:K()}],bottom:[{bottom:K()}],left:[{left:K()}],visibility:["visible","invisible","collapse"],z:[{z:[yh,"auto",rs,ns]}],basis:[{basis:[Nf,"full","auto",c,...D()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[nn,Nf,"auto","initial","none",ns]}],grow:[{grow:["",nn,rs,ns]}],shrink:[{shrink:["",nn,rs,ns]}],order:[{order:[yh,"first","last","none",rs,ns]}],"grid-cols":[{"grid-cols":H()}],"col-start-end":[{col:$()}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":H()}],"row-start-end":[{row:$()}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Q()}],"auto-rows":[{"auto-rows":Q()}],gap:[{gap:D()}],"gap-x":[{"gap-x":D()}],"gap-y":[{"gap-y":D()}],"justify-content":[{justify:[...Z(),"normal"]}],"justify-items":[{"justify-items":[...ie(),"normal"]}],"justify-self":[{"justify-self":["auto",...ie()]}],"align-content":[{content:["normal",...Z()]}],"align-items":[{items:[...ie(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ie(),{baseline:["","last"]}]}],"place-content":[{"place-content":Z()}],"place-items":[{"place-items":[...ie(),"baseline"]}],"place-self":[{"place-self":["auto",...ie()]}],p:[{p:D()}],px:[{px:D()}],py:[{py:D()}],ps:[{ps:D()}],pe:[{pe:D()}],pt:[{pt:D()}],pr:[{pr:D()}],pb:[{pb:D()}],pl:[{pl:D()}],m:[{m:q()}],mx:[{mx:q()}],my:[{my:q()}],ms:[{ms:q()}],me:[{me:q()}],mt:[{mt:q()}],mr:[{mr:q()}],mb:[{mb:q()}],ml:[{ml:q()}],"space-x":[{"space-x":D()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":D()}],"space-y-reverse":["space-y-reverse"],size:[{size:ce()}],w:[{w:[c,"screen",...ce()]}],"min-w":[{"min-w":[c,"screen","none",...ce()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[l]},...ce()]}],h:[{h:["screen","lh",...ce()]}],"min-h":[{"min-h":["screen","lh","none",...ce()]}],"max-h":[{"max-h":["screen","lh",...ce()]}],"font-size":[{text:["base",s,ag,um]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,rs,ij]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",rj,ns]}],"font-family":[{font:[k9,ns,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,rs,ns]}],"line-clamp":[{"line-clamp":[nn,"none",rs,ij]}],leading:[{leading:[a,...D()]}],"list-image":[{"list-image":["none",rs,ns]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",rs,ns]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:te()}],"text-color":[{text:te()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ue(),"wavy"]}],"text-decoration-thickness":[{decoration:[nn,"from-font","auto",rs,um]}],"text-decoration-color":[{decoration:te()}],"underline-offset":[{"underline-offset":[nn,"auto",rs,ns]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",rs,ns]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",rs,ns]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:oe()}],"bg-repeat":[{bg:ne()}],"bg-size":[{bg:re()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},yh,rs,ns],radial:["",rs,ns],conic:[yh,rs,ns]},T9,A9]}],"bg-color":[{bg:te()}],"gradient-from-pos":[{from:U()}],"gradient-via-pos":[{via:U()}],"gradient-to-pos":[{to:U()}],"gradient-from":[{from:te()}],"gradient-via":[{via:te()}],"gradient-to":[{to:te()}],rounded:[{rounded:J()}],"rounded-s":[{"rounded-s":J()}],"rounded-e":[{"rounded-e":J()}],"rounded-t":[{"rounded-t":J()}],"rounded-r":[{"rounded-r":J()}],"rounded-b":[{"rounded-b":J()}],"rounded-l":[{"rounded-l":J()}],"rounded-ss":[{"rounded-ss":J()}],"rounded-se":[{"rounded-se":J()}],"rounded-ee":[{"rounded-ee":J()}],"rounded-es":[{"rounded-es":J()}],"rounded-tl":[{"rounded-tl":J()}],"rounded-tr":[{"rounded-tr":J()}],"rounded-br":[{"rounded-br":J()}],"rounded-bl":[{"rounded-bl":J()}],"border-w":[{border:se()}],"border-w-x":[{"border-x":se()}],"border-w-y":[{"border-y":se()}],"border-w-s":[{"border-s":se()}],"border-w-e":[{"border-e":se()}],"border-w-t":[{"border-t":se()}],"border-w-r":[{"border-r":se()}],"border-w-b":[{"border-b":se()}],"border-w-l":[{"border-l":se()}],"divide-x":[{"divide-x":se()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":se()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ue(),"hidden","none"]}],"divide-style":[{divide:[...ue(),"hidden","none"]}],"border-color":[{border:te()}],"border-color-x":[{"border-x":te()}],"border-color-y":[{"border-y":te()}],"border-color-s":[{"border-s":te()}],"border-color-e":[{"border-e":te()}],"border-color-t":[{"border-t":te()}],"border-color-r":[{"border-r":te()}],"border-color-b":[{"border-b":te()}],"border-color-l":[{"border-l":te()}],"divide-color":[{divide:te()}],"outline-style":[{outline:[...ue(),"none","hidden"]}],"outline-offset":[{"outline-offset":[nn,rs,ns]}],"outline-w":[{outline:["",nn,ag,um]}],"outline-color":[{outline:te()}],shadow:[{shadow:["","none",g,jv,bv]}],"shadow-color":[{shadow:te()}],"inset-shadow":[{"inset-shadow":["none",p,jv,bv]}],"inset-shadow-color":[{"inset-shadow":te()}],"ring-w":[{ring:se()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:te()}],"ring-offset-w":[{"ring-offset":[nn,um]}],"ring-offset-color":[{"ring-offset":te()}],"inset-ring-w":[{"inset-ring":se()}],"inset-ring-color":[{"inset-ring":te()}],"text-shadow":[{"text-shadow":["none",y,jv,bv]}],"text-shadow-color":[{"text-shadow":te()}],opacity:[{opacity:[nn,rs,ns]}],"mix-blend":[{"mix-blend":[...be(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":be()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[nn]}],"mask-image-linear-from-pos":[{"mask-linear-from":we()}],"mask-image-linear-to-pos":[{"mask-linear-to":we()}],"mask-image-linear-from-color":[{"mask-linear-from":te()}],"mask-image-linear-to-color":[{"mask-linear-to":te()}],"mask-image-t-from-pos":[{"mask-t-from":we()}],"mask-image-t-to-pos":[{"mask-t-to":we()}],"mask-image-t-from-color":[{"mask-t-from":te()}],"mask-image-t-to-color":[{"mask-t-to":te()}],"mask-image-r-from-pos":[{"mask-r-from":we()}],"mask-image-r-to-pos":[{"mask-r-to":we()}],"mask-image-r-from-color":[{"mask-r-from":te()}],"mask-image-r-to-color":[{"mask-r-to":te()}],"mask-image-b-from-pos":[{"mask-b-from":we()}],"mask-image-b-to-pos":[{"mask-b-to":we()}],"mask-image-b-from-color":[{"mask-b-from":te()}],"mask-image-b-to-color":[{"mask-b-to":te()}],"mask-image-l-from-pos":[{"mask-l-from":we()}],"mask-image-l-to-pos":[{"mask-l-to":we()}],"mask-image-l-from-color":[{"mask-l-from":te()}],"mask-image-l-to-color":[{"mask-l-to":te()}],"mask-image-x-from-pos":[{"mask-x-from":we()}],"mask-image-x-to-pos":[{"mask-x-to":we()}],"mask-image-x-from-color":[{"mask-x-from":te()}],"mask-image-x-to-color":[{"mask-x-to":te()}],"mask-image-y-from-pos":[{"mask-y-from":we()}],"mask-image-y-to-pos":[{"mask-y-to":we()}],"mask-image-y-from-color":[{"mask-y-from":te()}],"mask-image-y-to-color":[{"mask-y-to":te()}],"mask-image-radial":[{"mask-radial":[rs,ns]}],"mask-image-radial-from-pos":[{"mask-radial-from":we()}],"mask-image-radial-to-pos":[{"mask-radial-to":we()}],"mask-image-radial-from-color":[{"mask-radial-from":te()}],"mask-image-radial-to-color":[{"mask-radial-to":te()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":O()}],"mask-image-conic-pos":[{"mask-conic":[nn]}],"mask-image-conic-from-pos":[{"mask-conic-from":we()}],"mask-image-conic-to-pos":[{"mask-conic-to":we()}],"mask-image-conic-from-color":[{"mask-conic-from":te()}],"mask-image-conic-to-color":[{"mask-conic-to":te()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:oe()}],"mask-repeat":[{mask:ne()}],"mask-size":[{mask:re()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",rs,ns]}],filter:[{filter:["","none",rs,ns]}],blur:[{blur:Ce()}],brightness:[{brightness:[nn,rs,ns]}],contrast:[{contrast:[nn,rs,ns]}],"drop-shadow":[{"drop-shadow":["","none",x,jv,bv]}],"drop-shadow-color":[{"drop-shadow":te()}],grayscale:[{grayscale:["",nn,rs,ns]}],"hue-rotate":[{"hue-rotate":[nn,rs,ns]}],invert:[{invert:["",nn,rs,ns]}],saturate:[{saturate:[nn,rs,ns]}],sepia:[{sepia:["",nn,rs,ns]}],"backdrop-filter":[{"backdrop-filter":["","none",rs,ns]}],"backdrop-blur":[{"backdrop-blur":Ce()}],"backdrop-brightness":[{"backdrop-brightness":[nn,rs,ns]}],"backdrop-contrast":[{"backdrop-contrast":[nn,rs,ns]}],"backdrop-grayscale":[{"backdrop-grayscale":["",nn,rs,ns]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[nn,rs,ns]}],"backdrop-invert":[{"backdrop-invert":["",nn,rs,ns]}],"backdrop-opacity":[{"backdrop-opacity":[nn,rs,ns]}],"backdrop-saturate":[{"backdrop-saturate":[nn,rs,ns]}],"backdrop-sepia":[{"backdrop-sepia":["",nn,rs,ns]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":D()}],"border-spacing-x":[{"border-spacing-x":D()}],"border-spacing-y":[{"border-spacing-y":D()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",rs,ns]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[nn,"initial",rs,ns]}],ease:[{ease:["linear","initial",C,rs,ns]}],delay:[{delay:[nn,rs,ns]}],animate:[{animate:["none",P,rs,ns]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[j,rs,ns]}],"perspective-origin":[{"perspective-origin":z()}],rotate:[{rotate:Re()}],"rotate-x":[{"rotate-x":Re()}],"rotate-y":[{"rotate-y":Re()}],"rotate-z":[{"rotate-z":Re()}],scale:[{scale:Xe()}],"scale-x":[{"scale-x":Xe()}],"scale-y":[{"scale-y":Xe()}],"scale-z":[{"scale-z":Xe()}],"scale-3d":["scale-3d"],skew:[{skew:tt()}],"skew-x":[{"skew-x":tt()}],"skew-y":[{"skew-y":tt()}],transform:[{transform:[rs,ns,"","none","gpu","cpu"]}],"transform-origin":[{origin:z()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:lt()}],"translate-x":[{"translate-x":lt()}],"translate-y":[{"translate-y":lt()}],"translate-z":[{"translate-z":lt()}],"translate-none":["translate-none"],accent:[{accent:te()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:te()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",rs,ns]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",rs,ns]}],fill:[{fill:["none",...te()]}],"stroke-w":[{stroke:[nn,ag,um,ij]}],stroke:[{stroke:["none",...te()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},O9=m9(R9);function nt(...n){return O9(dA(n))}const jw=tx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),ee=w.forwardRef(({className:n,variant:t,size:s,asChild:r=!1,...i},a)=>{const l=r?lA:"button";return e.jsx(l,{className:nt(jw({variant:t,size:s,className:n})),ref:a,...i})});ee.displayName="Button";const M9=tx("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Be({className:n,variant:t,...s}){return e.jsx("div",{className:nt(M9({variant:t}),n),...s})}function D9(n,t=[]){let s=[];function r(a,l){const c=w.createContext(l);c.displayName=a+"Context";const u=s.length;s=[...s,l];const m=p=>{var C;const{scope:y,children:x,..._}=p,j=((C=y==null?void 0:y[n])==null?void 0:C[u])||c,A=w.useMemo(()=>_,Object.values(_));return e.jsx(j.Provider,{value:A,children:x})};m.displayName=a+"Provider";function g(p,y){var j;const x=((j=y==null?void 0:y[n])==null?void 0:j[u])||c,_=w.useContext(x);if(_)return _;if(l!==void 0)return l;throw new Error(`\`${p}\` must be used within \`${a}\``)}return[m,g]}const i=()=>{const a=s.map(l=>w.createContext(l));return function(c){const u=(c==null?void 0:c[n])||a;return w.useMemo(()=>({[`__scope${n}`]:{...c,[n]:u}}),[c,u])}};return i.scopeName=n,[r,I9(i,...t)]}function I9(...n){const t=n[0];if(n.length===1)return t;const s=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=r.reduce((c,{useScope:u,scopeName:m})=>{const p=u(a)[`__scope${m}`];return{...c,...p}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return s.scopeName=t.scopeName,s}function Fa(n){const t=w.useRef(n);return w.useEffect(()=>{t.current=n}),w.useMemo(()=>(...s)=>{var r;return(r=t.current)==null?void 0:r.call(t,...s)},[])}var qi=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},F9=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ww=F9.reduce((n,t)=>{const s=ex(`Primitive.${t}`),r=w.forwardRef((i,a)=>{const{asChild:l,...c}=i,u=l?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(u,{...c,ref:a})});return r.displayName=`Primitive.${t}`,{...n,[t]:r}},{}),aj={exports:{}},oj={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c4;function B9(){if(c4)return oj;c4=1;var n=Fy();function t(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var s=typeof Object.is=="function"?Object.is:t,r=n.useState,i=n.useEffect,a=n.useLayoutEffect,l=n.useDebugValue;function c(p,y){var x=y(),_=r({inst:{value:x,getSnapshot:y}}),j=_[0].inst,A=_[1];return a(function(){j.value=x,j.getSnapshot=y,u(j)&&A({inst:j})},[p,x,y]),i(function(){return u(j)&&A({inst:j}),p(function(){u(j)&&A({inst:j})})},[p]),l(x),x}function u(p){var y=p.getSnapshot;p=p.value;try{var x=y();return!s(p,x)}catch{return!0}}function m(p,y){return y()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:c;return oj.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:g,oj}var d4;function z9(){return d4||(d4=1,aj.exports=B9()),aj.exports}var q9=z9();function U9(){return q9.useSyncExternalStore($9,()=>!0,()=>!1)}function $9(){return()=>{}}var Nw="Avatar",[V9]=D9(Nw),[H9,NA]=V9(Nw),_A=w.forwardRef((n,t)=>{const{__scopeAvatar:s,...r}=n,[i,a]=w.useState("idle");return e.jsx(H9,{scope:s,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:e.jsx(ww.span,{...r,ref:t})})});_A.displayName=Nw;var SA="AvatarImage",CA=w.forwardRef((n,t)=>{const{__scopeAvatar:s,src:r,onLoadingStatusChange:i=()=>{},...a}=n,l=NA(SA,s),c=G9(r,a),u=Fa(m=>{i(m),l.onImageLoadingStatusChange(m)});return qi(()=>{c!=="idle"&&u(c)},[c,u]),c==="loaded"?e.jsx(ww.img,{...a,ref:t,src:r}):null});CA.displayName=SA;var AA="AvatarFallback",kA=w.forwardRef((n,t)=>{const{__scopeAvatar:s,delayMs:r,...i}=n,a=NA(AA,s),[l,c]=w.useState(r===void 0);return w.useEffect(()=>{if(r!==void 0){const u=window.setTimeout(()=>c(!0),r);return()=>window.clearTimeout(u)}},[r]),l&&a.imageLoadingStatus!=="loaded"?e.jsx(ww.span,{...i,ref:t}):null});kA.displayName=AA;function u4(n,t){return n?t?(n.src!==t&&(n.src=t),n.complete&&n.naturalWidth>0?"loaded":"loading"):"error":"idle"}function G9(n,{referrerPolicy:t,crossOrigin:s}){const r=U9(),i=w.useRef(null),a=r?(i.current||(i.current=new window.Image),i.current):null,[l,c]=w.useState(()=>u4(a,n));return qi(()=>{c(u4(a,n))},[a,n]),qi(()=>{const u=p=>()=>{c(p)};if(!a)return;const m=u("loaded"),g=u("error");return a.addEventListener("load",m),a.addEventListener("error",g),t&&(a.referrerPolicy=t),typeof s=="string"&&(a.crossOrigin=s),()=>{a.removeEventListener("load",m),a.removeEventListener("error",g)}},[a,s,t]),l}var EA=_A,TA=CA,PA=kA;const ai=w.forwardRef(({className:n,...t},s)=>e.jsx(EA,{ref:s,className:nt("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",n),...t}));ai.displayName=EA.displayName;const Bi=w.forwardRef(({className:n,...t},s)=>e.jsx(TA,{ref:s,className:nt("aspect-square h-full w-full",n),...t}));Bi.displayName=TA.displayName;const gi=w.forwardRef(({className:n,...t},s)=>e.jsx(PA,{ref:s,className:nt("flex h-full w-full items-center justify-center rounded-full bg-muted",n),...t}));gi.displayName=PA.displayName;function kt(n,t,{checkForDefaultPrevented:s=!0}={}){return function(i){if(n==null||n(i),s===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function W9(n,t){const s=w.createContext(t),r=a=>{const{children:l,...c}=a,u=w.useMemo(()=>c,Object.values(c));return e.jsx(s.Provider,{value:u,children:l})};r.displayName=n+"Provider";function i(a){const l=w.useContext(s);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${n}\``)}return[r,i]}function qa(n,t=[]){let s=[];function r(a,l){const c=w.createContext(l),u=s.length;s=[...s,l];const m=p=>{var C;const{scope:y,children:x,..._}=p,j=((C=y==null?void 0:y[n])==null?void 0:C[u])||c,A=w.useMemo(()=>_,Object.values(_));return e.jsx(j.Provider,{value:A,children:x})};m.displayName=a+"Provider";function g(p,y){var j;const x=((j=y==null?void 0:y[n])==null?void 0:j[u])||c,_=w.useContext(x);if(_)return _;if(l!==void 0)return l;throw new Error(`\`${p}\` must be used within \`${a}\``)}return[m,g]}const i=()=>{const a=s.map(l=>w.createContext(l));return function(c){const u=(c==null?void 0:c[n])||a;return w.useMemo(()=>({[`__scope${n}`]:{...c,[n]:u}}),[c,u])}};return i.scopeName=n,[r,Y9(i,...t)]}function Y9(...n){const t=n[0];if(n.length===1)return t;const s=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=r.reduce((c,{useScope:u,scopeName:m})=>{const p=u(a)[`__scope${m}`];return{...c,...p}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return s.scopeName=t.scopeName,s}var Z9=Y1[" useInsertionEffect ".trim().toString()]||qi;function $l({prop:n,defaultProp:t,onChange:s=()=>{},caller:r}){const[i,a,l]=K9({defaultProp:t,onChange:s}),c=n!==void 0,u=c?n:i;{const g=w.useRef(n!==void 0);w.useEffect(()=>{const p=g.current;p!==c&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=c},[c,r])}const m=w.useCallback(g=>{var p;if(c){const y=J9(g)?g(n):g;y!==n&&((p=l.current)==null||p.call(l,y))}else a(g)},[c,n,a,l]);return[u,m]}function K9({defaultProp:n,onChange:t}){const[s,r]=w.useState(n),i=w.useRef(s),a=w.useRef(t);return Z9(()=>{a.current=t},[t]),w.useEffect(()=>{var l;i.current!==s&&((l=a.current)==null||l.call(a,s),i.current=s)},[s,i]),[s,r,a]}function J9(n){return typeof n=="function"}function X9(n){const t=Q9(n),s=w.forwardRef((r,i)=>{const{children:a,...l}=r,c=w.Children.toArray(a),u=c.find(tz);if(u){const m=u.props.children,g=c.map(p=>p===u?w.Children.count(m)>1?w.Children.only(null):w.isValidElement(m)?m.props.children:null:p);return e.jsx(t,{...l,ref:i,children:w.isValidElement(m)?w.cloneElement(m,void 0,g):null})}return e.jsx(t,{...l,ref:i,children:a})});return s.displayName=`${n}.Slot`,s}function Q9(n){const t=w.forwardRef((s,r)=>{const{children:i,...a}=s;if(w.isValidElement(i)){const l=nz(i),c=sz(a,i.props);return i.type!==w.Fragment&&(c.ref=r?Xd(r,l):l),w.cloneElement(i,c)}return w.Children.count(i)>1?w.Children.only(null):null});return t.displayName=`${n}.SlotClone`,t}var ez=Symbol("radix.slottable");function tz(n){return w.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===ez}function sz(n,t){const s={...t};for(const r in t){const i=n[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?s[r]=(...c)=>{const u=a(...c);return i(...c),u}:i&&(s[r]=i):r==="style"?s[r]={...i,...a}:r==="className"&&(s[r]=[i,a].filter(Boolean).join(" "))}return{...n,...s}}function nz(n){var r,i;let t=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?n.ref:(t=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?n.props.ref:n.props.ref||n.ref)}var rz=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],as=rz.reduce((n,t)=>{const s=X9(`Primitive.${t}`),r=w.forwardRef((i,a)=>{const{asChild:l,...c}=i,u=l?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(u,{...c,ref:a})});return r.displayName=`Primitive.${t}`,{...n,[t]:r}},{});function LA(n,t){n&&hp.flushSync(()=>n.dispatchEvent(t))}function h4(n){const t=iz(n),s=w.forwardRef((r,i)=>{const{children:a,...l}=r,c=w.Children.toArray(a),u=c.find(oz);if(u){const m=u.props.children,g=c.map(p=>p===u?w.Children.count(m)>1?w.Children.only(null):w.isValidElement(m)?m.props.children:null:p);return e.jsx(t,{...l,ref:i,children:w.isValidElement(m)?w.cloneElement(m,void 0,g):null})}return e.jsx(t,{...l,ref:i,children:a})});return s.displayName=`${n}.Slot`,s}function iz(n){const t=w.forwardRef((s,r)=>{const{children:i,...a}=s;if(w.isValidElement(i)){const l=cz(i),c=lz(a,i.props);return i.type!==w.Fragment&&(c.ref=r?Xd(r,l):l),w.cloneElement(i,c)}return w.Children.count(i)>1?w.Children.only(null):null});return t.displayName=`${n}.SlotClone`,t}var az=Symbol("radix.slottable");function oz(n){return w.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===az}function lz(n,t){const s={...t};for(const r in t){const i=n[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?s[r]=(...c)=>{const u=a(...c);return i(...c),u}:i&&(s[r]=i):r==="style"?s[r]={...i,...a}:r==="className"&&(s[r]=[i,a].filter(Boolean).join(" "))}return{...n,...s}}function cz(n){var r,i;let t=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?n.ref:(t=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?n.props.ref:n.props.ref||n.ref)}function Wy(n){const t=n+"CollectionProvider",[s,r]=qa(t),[i,a]=s(t,{collectionRef:{current:null},itemMap:new Map}),l=j=>{const{scope:A,children:C}=j,P=ot.useRef(null),S=ot.useRef(new Map).current;return e.jsx(i,{scope:A,itemMap:S,collectionRef:P,children:C})};l.displayName=t;const c=n+"CollectionSlot",u=h4(c),m=ot.forwardRef((j,A)=>{const{scope:C,children:P}=j,S=a(c,C),O=Ss(A,S.collectionRef);return e.jsx(u,{ref:O,children:P})});m.displayName=c;const g=n+"CollectionItemSlot",p="data-radix-collection-item",y=h4(g),x=ot.forwardRef((j,A)=>{const{scope:C,children:P,...S}=j,O=ot.useRef(null),z=Ss(A,O),V=a(g,C);return ot.useEffect(()=>(V.itemMap.set(O,{ref:O,...S}),()=>void V.itemMap.delete(O))),e.jsx(y,{[p]:"",ref:z,children:P})});x.displayName=g;function _(j){const A=a(n+"CollectionConsumer",j);return ot.useCallback(()=>{const P=A.collectionRef.current;if(!P)return[];const S=Array.from(P.querySelectorAll(`[${p}]`));return Array.from(A.itemMap.values()).sort((V,B)=>S.indexOf(V.ref.current)-S.indexOf(B.ref.current))},[A.collectionRef,A.itemMap])}return[{Provider:l,Slot:m,ItemSlot:x},_,r]}var dz=w.createContext(void 0);function $m(n){const t=w.useContext(dz);return n||t||"ltr"}function uz(n,t=globalThis==null?void 0:globalThis.document){const s=Fa(n);w.useEffect(()=>{const r=i=>{i.key==="Escape"&&s(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[s,t])}var hz="DismissableLayer",n1="dismissableLayer.update",mz="dismissableLayer.pointerDownOutside",fz="dismissableLayer.focusOutside",m4,RA=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),bp=w.forwardRef((n,t)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:l,onDismiss:c,...u}=n,m=w.useContext(RA),[g,p]=w.useState(null),y=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=w.useState({}),_=Ss(t,B=>p(B)),j=Array.from(m.layers),[A]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),C=j.indexOf(A),P=g?j.indexOf(g):-1,S=m.layersWithOutsidePointerEventsDisabled.size>0,O=P>=C,z=xz(B=>{const D=B.target,K=[...m.branches].some(H=>H.contains(D));!O||K||(i==null||i(B),l==null||l(B),B.defaultPrevented||c==null||c())},y),V=vz(B=>{const D=B.target;[...m.branches].some(H=>H.contains(D))||(a==null||a(B),l==null||l(B),B.defaultPrevented||c==null||c())},y);return uz(B=>{P===m.layers.size-1&&(r==null||r(B),!B.defaultPrevented&&c&&(B.preventDefault(),c()))},y),w.useEffect(()=>{if(g)return s&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(m4=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(g)),m.layers.add(g),f4(),()=>{s&&m.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=m4)}},[g,y,s,m]),w.useEffect(()=>()=>{g&&(m.layers.delete(g),m.layersWithOutsidePointerEventsDisabled.delete(g),f4())},[g,m]),w.useEffect(()=>{const B=()=>x({});return document.addEventListener(n1,B),()=>document.removeEventListener(n1,B)},[]),e.jsx(as.div,{...u,ref:_,style:{pointerEvents:S?O?"auto":"none":void 0,...n.style},onFocusCapture:kt(n.onFocusCapture,V.onFocusCapture),onBlurCapture:kt(n.onBlurCapture,V.onBlurCapture),onPointerDownCapture:kt(n.onPointerDownCapture,z.onPointerDownCapture)})});bp.displayName=hz;var pz="DismissableLayerBranch",gz=w.forwardRef((n,t)=>{const s=w.useContext(RA),r=w.useRef(null),i=Ss(t,r);return w.useEffect(()=>{const a=r.current;if(a)return s.branches.add(a),()=>{s.branches.delete(a)}},[s.branches]),e.jsx(as.div,{...n,ref:i})});gz.displayName=pz;function xz(n,t=globalThis==null?void 0:globalThis.document){const s=Fa(n),r=w.useRef(!1),i=w.useRef(()=>{});return w.useEffect(()=>{const a=c=>{if(c.target&&!r.current){let u=function(){OA(mz,s,m,{discrete:!0})};const m={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=u,t.addEventListener("click",i.current,{once:!0})):u()}else t.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,s]),{onPointerDownCapture:()=>r.current=!0}}function vz(n,t=globalThis==null?void 0:globalThis.document){const s=Fa(n),r=w.useRef(!1);return w.useEffect(()=>{const i=a=>{a.target&&!r.current&&OA(fz,s,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,s]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function f4(){const n=new CustomEvent(n1);document.dispatchEvent(n)}function OA(n,t,s,{discrete:r}){const i=s.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:s});t&&i.addEventListener(n,t,{once:!0}),r?LA(i,a):i.dispatchEvent(a)}var lj=0;function Yy(){w.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??p4()),document.body.insertAdjacentElement("beforeend",n[1]??p4()),lj++,()=>{lj===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),lj--}},[])}function p4(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var cj="focusScope.autoFocusOnMount",dj="focusScope.autoFocusOnUnmount",g4={bubbles:!1,cancelable:!0},yz="FocusScope",sx=w.forwardRef((n,t)=>{const{loop:s=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...l}=n,[c,u]=w.useState(null),m=Fa(i),g=Fa(a),p=w.useRef(null),y=Ss(t,j=>u(j)),x=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(r){let j=function(S){if(x.paused||!c)return;const O=S.target;c.contains(O)?p.current=O:Nh(p.current,{select:!0})},A=function(S){if(x.paused||!c)return;const O=S.relatedTarget;O!==null&&(c.contains(O)||Nh(p.current,{select:!0}))},C=function(S){if(document.activeElement===document.body)for(const z of S)z.removedNodes.length>0&&Nh(c)};document.addEventListener("focusin",j),document.addEventListener("focusout",A);const P=new MutationObserver(C);return c&&P.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",j),document.removeEventListener("focusout",A),P.disconnect()}}},[r,c,x.paused]),w.useEffect(()=>{if(c){v4.add(x);const j=document.activeElement;if(!c.contains(j)){const C=new CustomEvent(cj,g4);c.addEventListener(cj,m),c.dispatchEvent(C),C.defaultPrevented||(bz(Sz(MA(c)),{select:!0}),document.activeElement===j&&Nh(c))}return()=>{c.removeEventListener(cj,m),setTimeout(()=>{const C=new CustomEvent(dj,g4);c.addEventListener(dj,g),c.dispatchEvent(C),C.defaultPrevented||Nh(j??document.body,{select:!0}),c.removeEventListener(dj,g),v4.remove(x)},0)}}},[c,m,g,x]);const _=w.useCallback(j=>{if(!s&&!r||x.paused)return;const A=j.key==="Tab"&&!j.altKey&&!j.ctrlKey&&!j.metaKey,C=document.activeElement;if(A&&C){const P=j.currentTarget,[S,O]=jz(P);S&&O?!j.shiftKey&&C===O?(j.preventDefault(),s&&Nh(S,{select:!0})):j.shiftKey&&C===S&&(j.preventDefault(),s&&Nh(O,{select:!0})):C===P&&j.preventDefault()}},[s,r,x.paused]);return e.jsx(as.div,{tabIndex:-1,...l,ref:y,onKeyDown:_})});sx.displayName=yz;function bz(n,{select:t=!1}={}){const s=document.activeElement;for(const r of n)if(Nh(r,{select:t}),document.activeElement!==s)return}function jz(n){const t=MA(n),s=x4(t,n),r=x4(t.reverse(),n);return[s,r]}function MA(n){const t=[],s=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function x4(n,t){for(const s of n)if(!wz(s,{upTo:t}))return s}function wz(n,{upTo:t}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(t!==void 0&&n===t)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function Nz(n){return n instanceof HTMLInputElement&&"select"in n}function Nh(n,{select:t=!1}={}){if(n&&n.focus){const s=document.activeElement;n.focus({preventScroll:!0}),n!==s&&Nz(n)&&t&&n.select()}}var v4=_z();function _z(){let n=[];return{add(t){const s=n[0];t!==s&&(s==null||s.pause()),n=y4(n,t),n.unshift(t)},remove(t){var s;n=y4(n,t),(s=n[0])==null||s.resume()}}}function y4(n,t){const s=[...n],r=s.indexOf(t);return r!==-1&&s.splice(r,1),s}function Sz(n){return n.filter(t=>t.tagName!=="A")}var Cz=Y1[" useId ".trim().toString()]||(()=>{}),Az=0;function Bl(n){const[t,s]=w.useState(Cz());return qi(()=>{s(r=>r??String(Az++))},[n]),t?`radix-${t}`:""}const kz=["top","right","bottom","left"],Ih=Math.min,Ll=Math.max,cy=Math.round,wv=Math.floor,qd=n=>({x:n,y:n}),Ez={left:"right",right:"left",bottom:"top",top:"bottom"},Tz={start:"end",end:"start"};function r1(n,t,s){return Ll(n,Ih(t,s))}function zu(n,t){return typeof n=="function"?n(t):n}function qu(n){return n.split("-")[0]}function jp(n){return n.split("-")[1]}function _w(n){return n==="x"?"y":"x"}function Sw(n){return n==="y"?"height":"width"}const Pz=new Set(["top","bottom"]);function Bd(n){return Pz.has(qu(n))?"y":"x"}function Cw(n){return _w(Bd(n))}function Lz(n,t,s){s===void 0&&(s=!1);const r=jp(n),i=Cw(n),a=Sw(i);let l=i==="x"?r===(s?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(l=dy(l)),[l,dy(l)]}function Rz(n){const t=dy(n);return[i1(n),t,i1(t)]}function i1(n){return n.replace(/start|end/g,t=>Tz[t])}const b4=["left","right"],j4=["right","left"],Oz=["top","bottom"],Mz=["bottom","top"];function Dz(n,t,s){switch(n){case"top":case"bottom":return s?t?j4:b4:t?b4:j4;case"left":case"right":return t?Oz:Mz;default:return[]}}function Iz(n,t,s,r){const i=jp(n);let a=Dz(qu(n),s==="start",r);return i&&(a=a.map(l=>l+"-"+i),t&&(a=a.concat(a.map(i1)))),a}function dy(n){return n.replace(/left|right|bottom|top/g,t=>Ez[t])}function Fz(n){return{top:0,right:0,bottom:0,left:0,...n}}function DA(n){return typeof n!="number"?Fz(n):{top:n,right:n,bottom:n,left:n}}function uy(n){const{x:t,y:s,width:r,height:i}=n;return{width:r,height:i,top:s,left:t,right:t+r,bottom:s+i,x:t,y:s}}function w4(n,t,s){let{reference:r,floating:i}=n;const a=Bd(t),l=Cw(t),c=Sw(l),u=qu(t),m=a==="y",g=r.x+r.width/2-i.width/2,p=r.y+r.height/2-i.height/2,y=r[c]/2-i[c]/2;let x;switch(u){case"top":x={x:g,y:r.y-i.height};break;case"bottom":x={x:g,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:p};break;case"left":x={x:r.x-i.width,y:p};break;default:x={x:r.x,y:r.y}}switch(jp(t)){case"start":x[l]-=y*(s&&m?-1:1);break;case"end":x[l]+=y*(s&&m?-1:1);break}return x}const Bz=async(n,t,s)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:l}=s,c=a.filter(Boolean),u=await(l.isRTL==null?void 0:l.isRTL(t));let m=await l.getElementRects({reference:n,floating:t,strategy:i}),{x:g,y:p}=w4(m,r,u),y=r,x={},_=0;for(let j=0;j<c.length;j++){const{name:A,fn:C}=c[j],{x:P,y:S,data:O,reset:z}=await C({x:g,y:p,initialPlacement:r,placement:y,strategy:i,middlewareData:x,rects:m,platform:l,elements:{reference:n,floating:t}});g=P??g,p=S??p,x={...x,[A]:{...x[A],...O}},z&&_<=50&&(_++,typeof z=="object"&&(z.placement&&(y=z.placement),z.rects&&(m=z.rects===!0?await l.getElementRects({reference:n,floating:t,strategy:i}):z.rects),{x:g,y:p}=w4(m,y,u)),j=-1)}return{x:g,y:p,placement:y,strategy:i,middlewareData:x}};async function Ig(n,t){var s;t===void 0&&(t={});const{x:r,y:i,platform:a,rects:l,elements:c,strategy:u}=n,{boundary:m="clippingAncestors",rootBoundary:g="viewport",elementContext:p="floating",altBoundary:y=!1,padding:x=0}=zu(t,n),_=DA(x),A=c[y?p==="floating"?"reference":"floating":p],C=uy(await a.getClippingRect({element:(s=await(a.isElement==null?void 0:a.isElement(A)))==null||s?A:A.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:m,rootBoundary:g,strategy:u})),P=p==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,S=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),O=await(a.isElement==null?void 0:a.isElement(S))?await(a.getScale==null?void 0:a.getScale(S))||{x:1,y:1}:{x:1,y:1},z=uy(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:P,offsetParent:S,strategy:u}):P);return{top:(C.top-z.top+_.top)/O.y,bottom:(z.bottom-C.bottom+_.bottom)/O.y,left:(C.left-z.left+_.left)/O.x,right:(z.right-C.right+_.right)/O.x}}const zz=n=>({name:"arrow",options:n,async fn(t){const{x:s,y:r,placement:i,rects:a,platform:l,elements:c,middlewareData:u}=t,{element:m,padding:g=0}=zu(n,t)||{};if(m==null)return{};const p=DA(g),y={x:s,y:r},x=Cw(i),_=Sw(x),j=await l.getDimensions(m),A=x==="y",C=A?"top":"left",P=A?"bottom":"right",S=A?"clientHeight":"clientWidth",O=a.reference[_]+a.reference[x]-y[x]-a.floating[_],z=y[x]-a.reference[x],V=await(l.getOffsetParent==null?void 0:l.getOffsetParent(m));let B=V?V[S]:0;(!B||!await(l.isElement==null?void 0:l.isElement(V)))&&(B=c.floating[S]||a.floating[_]);const D=O/2-z/2,K=B/2-j[_]/2-1,H=Ih(p[C],K),$=Ih(p[P],K),W=H,Q=B-j[_]-$,Z=B/2-j[_]/2+D,ie=r1(W,Z,Q),q=!u.arrow&&jp(i)!=null&&Z!==ie&&a.reference[_]/2-(Z<W?H:$)-j[_]/2<0,ce=q?Z<W?Z-W:Z-Q:0;return{[x]:y[x]+ce,data:{[x]:ie,centerOffset:Z-ie-ce,...q&&{alignmentOffset:ce}},reset:q}}}),qz=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(t){var s,r;const{placement:i,middlewareData:a,rects:l,initialPlacement:c,platform:u,elements:m}=t,{mainAxis:g=!0,crossAxis:p=!0,fallbackPlacements:y,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:j=!0,...A}=zu(n,t);if((s=a.arrow)!=null&&s.alignmentOffset)return{};const C=qu(i),P=Bd(c),S=qu(c)===c,O=await(u.isRTL==null?void 0:u.isRTL(m.floating)),z=y||(S||!j?[dy(c)]:Rz(c)),V=_!=="none";!y&&V&&z.push(...Iz(c,j,_,O));const B=[c,...z],D=await Ig(t,A),K=[];let H=((r=a.flip)==null?void 0:r.overflows)||[];if(g&&K.push(D[C]),p){const Z=Lz(i,l,O);K.push(D[Z[0]],D[Z[1]])}if(H=[...H,{placement:i,overflows:K}],!K.every(Z=>Z<=0)){var $,W;const Z=((($=a.flip)==null?void 0:$.index)||0)+1,ie=B[Z];if(ie&&(!(p==="alignment"?P!==Bd(ie):!1)||H.every(te=>Bd(te.placement)===P?te.overflows[0]>0:!0)))return{data:{index:Z,overflows:H},reset:{placement:ie}};let q=(W=H.filter(ce=>ce.overflows[0]<=0).sort((ce,te)=>ce.overflows[1]-te.overflows[1])[0])==null?void 0:W.placement;if(!q)switch(x){case"bestFit":{var Q;const ce=(Q=H.filter(te=>{if(V){const oe=Bd(te.placement);return oe===P||oe==="y"}return!0}).map(te=>[te.placement,te.overflows.filter(oe=>oe>0).reduce((oe,ne)=>oe+ne,0)]).sort((te,oe)=>te[1]-oe[1])[0])==null?void 0:Q[0];ce&&(q=ce);break}case"initialPlacement":q=c;break}if(i!==q)return{reset:{placement:q}}}return{}}}};function N4(n,t){return{top:n.top-t.height,right:n.right-t.width,bottom:n.bottom-t.height,left:n.left-t.width}}function _4(n){return kz.some(t=>n[t]>=0)}const Uz=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(t){const{rects:s}=t,{strategy:r="referenceHidden",...i}=zu(n,t);switch(r){case"referenceHidden":{const a=await Ig(t,{...i,elementContext:"reference"}),l=N4(a,s.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:_4(l)}}}case"escaped":{const a=await Ig(t,{...i,altBoundary:!0}),l=N4(a,s.floating);return{data:{escapedOffsets:l,escaped:_4(l)}}}default:return{}}}}},IA=new Set(["left","top"]);async function $z(n,t){const{placement:s,platform:r,elements:i}=n,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),l=qu(s),c=jp(s),u=Bd(s)==="y",m=IA.has(l)?-1:1,g=a&&u?-1:1,p=zu(t,n);let{mainAxis:y,crossAxis:x,alignmentAxis:_}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return c&&typeof _=="number"&&(x=c==="end"?_*-1:_),u?{x:x*g,y:y*m}:{x:y*m,y:x*g}}const Vz=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(t){var s,r;const{x:i,y:a,placement:l,middlewareData:c}=t,u=await $z(t,n);return l===((s=c.offset)==null?void 0:s.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:a+u.y,data:{...u,placement:l}}}}},Hz=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(t){const{x:s,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:l=!1,limiter:c={fn:A=>{let{x:C,y:P}=A;return{x:C,y:P}}},...u}=zu(n,t),m={x:s,y:r},g=await Ig(t,u),p=Bd(qu(i)),y=_w(p);let x=m[y],_=m[p];if(a){const A=y==="y"?"top":"left",C=y==="y"?"bottom":"right",P=x+g[A],S=x-g[C];x=r1(P,x,S)}if(l){const A=p==="y"?"top":"left",C=p==="y"?"bottom":"right",P=_+g[A],S=_-g[C];_=r1(P,_,S)}const j=c.fn({...t,[y]:x,[p]:_});return{...j,data:{x:j.x-s,y:j.y-r,enabled:{[y]:a,[p]:l}}}}}},Gz=function(n){return n===void 0&&(n={}),{options:n,fn(t){const{x:s,y:r,placement:i,rects:a,middlewareData:l}=t,{offset:c=0,mainAxis:u=!0,crossAxis:m=!0}=zu(n,t),g={x:s,y:r},p=Bd(i),y=_w(p);let x=g[y],_=g[p];const j=zu(c,t),A=typeof j=="number"?{mainAxis:j,crossAxis:0}:{mainAxis:0,crossAxis:0,...j};if(u){const S=y==="y"?"height":"width",O=a.reference[y]-a.floating[S]+A.mainAxis,z=a.reference[y]+a.reference[S]-A.mainAxis;x<O?x=O:x>z&&(x=z)}if(m){var C,P;const S=y==="y"?"width":"height",O=IA.has(qu(i)),z=a.reference[p]-a.floating[S]+(O&&((C=l.offset)==null?void 0:C[p])||0)+(O?0:A.crossAxis),V=a.reference[p]+a.reference[S]+(O?0:((P=l.offset)==null?void 0:P[p])||0)-(O?A.crossAxis:0);_<z?_=z:_>V&&(_=V)}return{[y]:x,[p]:_}}}},Wz=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(t){var s,r;const{placement:i,rects:a,platform:l,elements:c}=t,{apply:u=()=>{},...m}=zu(n,t),g=await Ig(t,m),p=qu(i),y=jp(i),x=Bd(i)==="y",{width:_,height:j}=a.floating;let A,C;p==="top"||p==="bottom"?(A=p,C=y===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(C=p,A=y==="end"?"top":"bottom");const P=j-g.top-g.bottom,S=_-g.left-g.right,O=Ih(j-g[A],P),z=Ih(_-g[C],S),V=!t.middlewareData.shift;let B=O,D=z;if((s=t.middlewareData.shift)!=null&&s.enabled.x&&(D=S),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(B=P),V&&!y){const H=Ll(g.left,0),$=Ll(g.right,0),W=Ll(g.top,0),Q=Ll(g.bottom,0);x?D=_-2*(H!==0||$!==0?H+$:Ll(g.left,g.right)):B=j-2*(W!==0||Q!==0?W+Q:Ll(g.top,g.bottom))}await u({...t,availableWidth:D,availableHeight:B});const K=await l.getDimensions(c.floating);return _!==K.width||j!==K.height?{reset:{rects:!0}}:{}}}};function Zy(){return typeof window<"u"}function wp(n){return FA(n)?(n.nodeName||"").toLowerCase():"#document"}function zl(n){var t;return(n==null||(t=n.ownerDocument)==null?void 0:t.defaultView)||window}function Qd(n){var t;return(t=(FA(n)?n.ownerDocument:n.document)||window.document)==null?void 0:t.documentElement}function FA(n){return Zy()?n instanceof Node||n instanceof zl(n).Node:!1}function td(n){return Zy()?n instanceof Element||n instanceof zl(n).Element:!1}function Wd(n){return Zy()?n instanceof HTMLElement||n instanceof zl(n).HTMLElement:!1}function S4(n){return!Zy()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof zl(n).ShadowRoot}const Yz=new Set(["inline","contents"]);function nx(n){const{overflow:t,overflowX:s,overflowY:r,display:i}=sd(n);return/auto|scroll|overlay|hidden|clip/.test(t+r+s)&&!Yz.has(i)}const Zz=new Set(["table","td","th"]);function Kz(n){return Zz.has(wp(n))}const Jz=[":popover-open",":modal"];function Ky(n){return Jz.some(t=>{try{return n.matches(t)}catch{return!1}})}const Xz=["transform","translate","scale","rotate","perspective"],Qz=["transform","translate","scale","rotate","perspective","filter"],eq=["paint","layout","strict","content"];function Aw(n){const t=kw(),s=td(n)?sd(n):n;return Xz.some(r=>s[r]?s[r]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!t&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!t&&(s.filter?s.filter!=="none":!1)||Qz.some(r=>(s.willChange||"").includes(r))||eq.some(r=>(s.contain||"").includes(r))}function tq(n){let t=Fh(n);for(;Wd(t)&&!np(t);){if(Aw(t))return t;if(Ky(t))return null;t=Fh(t)}return null}function kw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const sq=new Set(["html","body","#document"]);function np(n){return sq.has(wp(n))}function sd(n){return zl(n).getComputedStyle(n)}function Jy(n){return td(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Fh(n){if(wp(n)==="html")return n;const t=n.assignedSlot||n.parentNode||S4(n)&&n.host||Qd(n);return S4(t)?t.host:t}function BA(n){const t=Fh(n);return np(t)?n.ownerDocument?n.ownerDocument.body:n.body:Wd(t)&&nx(t)?t:BA(t)}function Fg(n,t,s){var r;t===void 0&&(t=[]),s===void 0&&(s=!0);const i=BA(n),a=i===((r=n.ownerDocument)==null?void 0:r.body),l=zl(i);if(a){const c=a1(l);return t.concat(l,l.visualViewport||[],nx(i)?i:[],c&&s?Fg(c):[])}return t.concat(i,Fg(i,[],s))}function a1(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function zA(n){const t=sd(n);let s=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Wd(n),a=i?n.offsetWidth:s,l=i?n.offsetHeight:r,c=cy(s)!==a||cy(r)!==l;return c&&(s=a,r=l),{width:s,height:r,$:c}}function Ew(n){return td(n)?n:n.contextElement}function Hf(n){const t=Ew(n);if(!Wd(t))return qd(1);const s=t.getBoundingClientRect(),{width:r,height:i,$:a}=zA(t);let l=(a?cy(s.width):s.width)/r,c=(a?cy(s.height):s.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const nq=qd(0);function qA(n){const t=zl(n);return!kw()||!t.visualViewport?nq:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function rq(n,t,s){return t===void 0&&(t=!1),!s||t&&s!==zl(n)?!1:t}function Pm(n,t,s,r){t===void 0&&(t=!1),s===void 0&&(s=!1);const i=n.getBoundingClientRect(),a=Ew(n);let l=qd(1);t&&(r?td(r)&&(l=Hf(r)):l=Hf(n));const c=rq(a,s,r)?qA(a):qd(0);let u=(i.left+c.x)/l.x,m=(i.top+c.y)/l.y,g=i.width/l.x,p=i.height/l.y;if(a){const y=zl(a),x=r&&td(r)?zl(r):r;let _=y,j=a1(_);for(;j&&r&&x!==_;){const A=Hf(j),C=j.getBoundingClientRect(),P=sd(j),S=C.left+(j.clientLeft+parseFloat(P.paddingLeft))*A.x,O=C.top+(j.clientTop+parseFloat(P.paddingTop))*A.y;u*=A.x,m*=A.y,g*=A.x,p*=A.y,u+=S,m+=O,_=zl(j),j=a1(_)}}return uy({width:g,height:p,x:u,y:m})}function Xy(n,t){const s=Jy(n).scrollLeft;return t?t.left+s:Pm(Qd(n)).left+s}function UA(n,t){const s=n.getBoundingClientRect(),r=s.left+t.scrollLeft-Xy(n,s),i=s.top+t.scrollTop;return{x:r,y:i}}function iq(n){let{elements:t,rect:s,offsetParent:r,strategy:i}=n;const a=i==="fixed",l=Qd(r),c=t?Ky(t.floating):!1;if(r===l||c&&a)return s;let u={scrollLeft:0,scrollTop:0},m=qd(1);const g=qd(0),p=Wd(r);if((p||!p&&!a)&&((wp(r)!=="body"||nx(l))&&(u=Jy(r)),Wd(r))){const x=Pm(r);m=Hf(r),g.x=x.x+r.clientLeft,g.y=x.y+r.clientTop}const y=l&&!p&&!a?UA(l,u):qd(0);return{width:s.width*m.x,height:s.height*m.y,x:s.x*m.x-u.scrollLeft*m.x+g.x+y.x,y:s.y*m.y-u.scrollTop*m.y+g.y+y.y}}function aq(n){return Array.from(n.getClientRects())}function oq(n){const t=Qd(n),s=Jy(n),r=n.ownerDocument.body,i=Ll(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=Ll(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let l=-s.scrollLeft+Xy(n);const c=-s.scrollTop;return sd(r).direction==="rtl"&&(l+=Ll(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:l,y:c}}const C4=25;function lq(n,t){const s=zl(n),r=Qd(n),i=s.visualViewport;let a=r.clientWidth,l=r.clientHeight,c=0,u=0;if(i){a=i.width,l=i.height;const g=kw();(!g||g&&t==="fixed")&&(c=i.offsetLeft,u=i.offsetTop)}const m=Xy(r);if(m<=0){const g=r.ownerDocument,p=g.body,y=getComputedStyle(p),x=g.compatMode==="CSS1Compat"&&parseFloat(y.marginLeft)+parseFloat(y.marginRight)||0,_=Math.abs(r.clientWidth-p.clientWidth-x);_<=C4&&(a-=_)}else m<=C4&&(a+=m);return{width:a,height:l,x:c,y:u}}const cq=new Set(["absolute","fixed"]);function dq(n,t){const s=Pm(n,!0,t==="fixed"),r=s.top+n.clientTop,i=s.left+n.clientLeft,a=Wd(n)?Hf(n):qd(1),l=n.clientWidth*a.x,c=n.clientHeight*a.y,u=i*a.x,m=r*a.y;return{width:l,height:c,x:u,y:m}}function A4(n,t,s){let r;if(t==="viewport")r=lq(n,s);else if(t==="document")r=oq(Qd(n));else if(td(t))r=dq(t,s);else{const i=qA(n);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return uy(r)}function $A(n,t){const s=Fh(n);return s===t||!td(s)||np(s)?!1:sd(s).position==="fixed"||$A(s,t)}function uq(n,t){const s=t.get(n);if(s)return s;let r=Fg(n,[],!1).filter(c=>td(c)&&wp(c)!=="body"),i=null;const a=sd(n).position==="fixed";let l=a?Fh(n):n;for(;td(l)&&!np(l);){const c=sd(l),u=Aw(l);!u&&c.position==="fixed"&&(i=null),(a?!u&&!i:!u&&c.position==="static"&&!!i&&cq.has(i.position)||nx(l)&&!u&&$A(n,l))?r=r.filter(g=>g!==l):i=c,l=Fh(l)}return t.set(n,r),r}function hq(n){let{element:t,boundary:s,rootBoundary:r,strategy:i}=n;const l=[...s==="clippingAncestors"?Ky(t)?[]:uq(t,this._c):[].concat(s),r],c=l[0],u=l.reduce((m,g)=>{const p=A4(t,g,i);return m.top=Ll(p.top,m.top),m.right=Ih(p.right,m.right),m.bottom=Ih(p.bottom,m.bottom),m.left=Ll(p.left,m.left),m},A4(t,c,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function mq(n){const{width:t,height:s}=zA(n);return{width:t,height:s}}function fq(n,t,s){const r=Wd(t),i=Qd(t),a=s==="fixed",l=Pm(n,!0,a,t);let c={scrollLeft:0,scrollTop:0};const u=qd(0);function m(){u.x=Xy(i)}if(r||!r&&!a)if((wp(t)!=="body"||nx(i))&&(c=Jy(t)),r){const x=Pm(t,!0,a,t);u.x=x.x+t.clientLeft,u.y=x.y+t.clientTop}else i&&m();a&&!r&&i&&m();const g=i&&!r&&!a?UA(i,c):qd(0),p=l.left+c.scrollLeft-u.x-g.x,y=l.top+c.scrollTop-u.y-g.y;return{x:p,y,width:l.width,height:l.height}}function uj(n){return sd(n).position==="static"}function k4(n,t){if(!Wd(n)||sd(n).position==="fixed")return null;if(t)return t(n);let s=n.offsetParent;return Qd(n)===s&&(s=s.ownerDocument.body),s}function VA(n,t){const s=zl(n);if(Ky(n))return s;if(!Wd(n)){let i=Fh(n);for(;i&&!np(i);){if(td(i)&&!uj(i))return i;i=Fh(i)}return s}let r=k4(n,t);for(;r&&Kz(r)&&uj(r);)r=k4(r,t);return r&&np(r)&&uj(r)&&!Aw(r)?s:r||tq(n)||s}const pq=async function(n){const t=this.getOffsetParent||VA,s=this.getDimensions,r=await s(n.floating);return{reference:fq(n.reference,await t(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function gq(n){return sd(n).direction==="rtl"}const xq={convertOffsetParentRelativeRectToViewportRelativeRect:iq,getDocumentElement:Qd,getClippingRect:hq,getOffsetParent:VA,getElementRects:pq,getClientRects:aq,getDimensions:mq,getScale:Hf,isElement:td,isRTL:gq};function HA(n,t){return n.x===t.x&&n.y===t.y&&n.width===t.width&&n.height===t.height}function vq(n,t){let s=null,r;const i=Qd(n);function a(){var c;clearTimeout(r),(c=s)==null||c.disconnect(),s=null}function l(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),a();const m=n.getBoundingClientRect(),{left:g,top:p,width:y,height:x}=m;if(c||t(),!y||!x)return;const _=wv(p),j=wv(i.clientWidth-(g+y)),A=wv(i.clientHeight-(p+x)),C=wv(g),S={rootMargin:-_+"px "+-j+"px "+-A+"px "+-C+"px",threshold:Ll(0,Ih(1,u))||1};let O=!0;function z(V){const B=V[0].intersectionRatio;if(B!==u){if(!O)return l();B?l(!1,B):r=setTimeout(()=>{l(!1,1e-7)},1e3)}B===1&&!HA(m,n.getBoundingClientRect())&&l(),O=!1}try{s=new IntersectionObserver(z,{...S,root:i.ownerDocument})}catch{s=new IntersectionObserver(z,S)}s.observe(n)}return l(!0),a}function yq(n,t,s,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,m=Ew(n),g=i||a?[...m?Fg(m):[],...Fg(t)]:[];g.forEach(C=>{i&&C.addEventListener("scroll",s,{passive:!0}),a&&C.addEventListener("resize",s)});const p=m&&c?vq(m,s):null;let y=-1,x=null;l&&(x=new ResizeObserver(C=>{let[P]=C;P&&P.target===m&&x&&(x.unobserve(t),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var S;(S=x)==null||S.observe(t)})),s()}),m&&!u&&x.observe(m),x.observe(t));let _,j=u?Pm(n):null;u&&A();function A(){const C=Pm(n);j&&!HA(j,C)&&s(),j=C,_=requestAnimationFrame(A)}return s(),()=>{var C;g.forEach(P=>{i&&P.removeEventListener("scroll",s),a&&P.removeEventListener("resize",s)}),p==null||p(),(C=x)==null||C.disconnect(),x=null,u&&cancelAnimationFrame(_)}}const bq=Vz,jq=Hz,wq=qz,Nq=Wz,_q=Uz,E4=zz,Sq=Gz,Cq=(n,t,s)=>{const r=new Map,i={platform:xq,...s},a={...i.platform,_c:r};return Bz(n,t,{...i,platform:a})};var Aq=typeof document<"u",kq=function(){},Uv=Aq?w.useLayoutEffect:kq;function hy(n,t){if(n===t)return!0;if(typeof n!=typeof t)return!1;if(typeof n=="function"&&n.toString()===t.toString())return!0;let s,r,i;if(n&&t&&typeof n=="object"){if(Array.isArray(n)){if(s=n.length,s!==t.length)return!1;for(r=s;r--!==0;)if(!hy(n[r],t[r]))return!1;return!0}if(i=Object.keys(n),s=i.length,s!==Object.keys(t).length)return!1;for(r=s;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=s;r--!==0;){const a=i[r];if(!(a==="_owner"&&n.$$typeof)&&!hy(n[a],t[a]))return!1}return!0}return n!==n&&t!==t}function GA(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function T4(n,t){const s=GA(n);return Math.round(t*s)/s}function hj(n){const t=w.useRef(n);return Uv(()=>{t.current=n}),t}function Eq(n){n===void 0&&(n={});const{placement:t="bottom",strategy:s="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:l}={},transform:c=!0,whileElementsMounted:u,open:m}=n,[g,p]=w.useState({x:0,y:0,strategy:s,placement:t,middlewareData:{},isPositioned:!1}),[y,x]=w.useState(r);hy(y,r)||x(r);const[_,j]=w.useState(null),[A,C]=w.useState(null),P=w.useCallback(te=>{te!==V.current&&(V.current=te,j(te))},[]),S=w.useCallback(te=>{te!==B.current&&(B.current=te,C(te))},[]),O=a||_,z=l||A,V=w.useRef(null),B=w.useRef(null),D=w.useRef(g),K=u!=null,H=hj(u),$=hj(i),W=hj(m),Q=w.useCallback(()=>{if(!V.current||!B.current)return;const te={placement:t,strategy:s,middleware:y};$.current&&(te.platform=$.current),Cq(V.current,B.current,te).then(oe=>{const ne={...oe,isPositioned:W.current!==!1};Z.current&&!hy(D.current,ne)&&(D.current=ne,hp.flushSync(()=>{p(ne)}))})},[y,t,s,$,W]);Uv(()=>{m===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,p(te=>({...te,isPositioned:!1})))},[m]);const Z=w.useRef(!1);Uv(()=>(Z.current=!0,()=>{Z.current=!1}),[]),Uv(()=>{if(O&&(V.current=O),z&&(B.current=z),O&&z){if(H.current)return H.current(O,z,Q);Q()}},[O,z,Q,H,K]);const ie=w.useMemo(()=>({reference:V,floating:B,setReference:P,setFloating:S}),[P,S]),q=w.useMemo(()=>({reference:O,floating:z}),[O,z]),ce=w.useMemo(()=>{const te={position:s,left:0,top:0};if(!q.floating)return te;const oe=T4(q.floating,g.x),ne=T4(q.floating,g.y);return c?{...te,transform:"translate("+oe+"px, "+ne+"px)",...GA(q.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:oe,top:ne}},[s,c,q.floating,g.x,g.y]);return w.useMemo(()=>({...g,update:Q,refs:ie,elements:q,floatingStyles:ce}),[g,Q,ie,q,ce])}const Tq=n=>{function t(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:n,fn(s){const{element:r,padding:i}=typeof n=="function"?n(s):n;return r&&t(r)?r.current!=null?E4({element:r.current,padding:i}).fn(s):{}:r?E4({element:r,padding:i}).fn(s):{}}}},Pq=(n,t)=>({...bq(n),options:[n,t]}),Lq=(n,t)=>({...jq(n),options:[n,t]}),Rq=(n,t)=>({...Sq(n),options:[n,t]}),Oq=(n,t)=>({...wq(n),options:[n,t]}),Mq=(n,t)=>({...Nq(n),options:[n,t]}),Dq=(n,t)=>({..._q(n),options:[n,t]}),Iq=(n,t)=>({...Tq(n),options:[n,t]});var Fq="Arrow",WA=w.forwardRef((n,t)=>{const{children:s,width:r=10,height:i=5,...a}=n;return e.jsx(as.svg,{...a,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?s:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});WA.displayName=Fq;var Bq=WA;function rx(n){const[t,s]=w.useState(void 0);return qi(()=>{if(n){s({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let l,c;if("borderBoxSize"in a){const u=a.borderBoxSize,m=Array.isArray(u)?u[0]:u;l=m.inlineSize,c=m.blockSize}else l=n.offsetWidth,c=n.offsetHeight;s({width:l,height:c})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else s(void 0)},[n]),t}var Tw="Popper",[YA,Zh]=qa(Tw),[zq,ZA]=YA(Tw),KA=n=>{const{__scopePopper:t,children:s}=n,[r,i]=w.useState(null);return e.jsx(zq,{scope:t,anchor:r,onAnchorChange:i,children:s})};KA.displayName=Tw;var JA="PopperAnchor",XA=w.forwardRef((n,t)=>{const{__scopePopper:s,virtualRef:r,...i}=n,a=ZA(JA,s),l=w.useRef(null),c=Ss(t,l),u=w.useRef(null);return w.useEffect(()=>{const m=u.current;u.current=(r==null?void 0:r.current)||l.current,m!==u.current&&a.onAnchorChange(u.current)}),r?null:e.jsx(as.div,{...i,ref:c})});XA.displayName=JA;var Pw="PopperContent",[qq,Uq]=YA(Pw),QA=w.forwardRef((n,t)=>{var we,Ce,Re,Xe,tt,lt;const{__scopePopper:s,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:u=!0,collisionBoundary:m=[],collisionPadding:g=0,sticky:p="partial",hideWhenDetached:y=!1,updatePositionStrategy:x="optimized",onPlaced:_,...j}=n,A=ZA(Pw,s),[C,P]=w.useState(null),S=Ss(t,jt=>P(jt)),[O,z]=w.useState(null),V=rx(O),B=(V==null?void 0:V.width)??0,D=(V==null?void 0:V.height)??0,K=r+(a!=="center"?"-"+a:""),H=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},$=Array.isArray(m)?m:[m],W=$.length>0,Q={padding:H,boundary:$.filter(Vq),altBoundary:W},{refs:Z,floatingStyles:ie,placement:q,isPositioned:ce,middlewareData:te}=Eq({strategy:"fixed",placement:K,whileElementsMounted:(...jt)=>yq(...jt,{animationFrame:x==="always"}),elements:{reference:A.anchor},middleware:[Pq({mainAxis:i+D,alignmentAxis:l}),u&&Lq({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?Rq():void 0,...Q}),u&&Oq({...Q}),Mq({...Q,apply:({elements:jt,rects:Et,availableWidth:Je,availableHeight:_e})=>{const{width:$t,height:Dt}=Et.reference,ht=jt.floating.style;ht.setProperty("--radix-popper-available-width",`${Je}px`),ht.setProperty("--radix-popper-available-height",`${_e}px`),ht.setProperty("--radix-popper-anchor-width",`${$t}px`),ht.setProperty("--radix-popper-anchor-height",`${Dt}px`)}}),O&&Iq({element:O,padding:c}),Hq({arrowWidth:B,arrowHeight:D}),y&&Dq({strategy:"referenceHidden",...Q})]}),[oe,ne]=sk(q),re=Fa(_);qi(()=>{ce&&(re==null||re())},[ce,re]);const U=(we=te.arrow)==null?void 0:we.x,J=(Ce=te.arrow)==null?void 0:Ce.y,se=((Re=te.arrow)==null?void 0:Re.centerOffset)!==0,[ue,be]=w.useState();return qi(()=>{C&&be(window.getComputedStyle(C).zIndex)},[C]),e.jsx("div",{ref:Z.setFloating,"data-radix-popper-content-wrapper":"",style:{...ie,transform:ce?ie.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ue,"--radix-popper-transform-origin":[(Xe=te.transformOrigin)==null?void 0:Xe.x,(tt=te.transformOrigin)==null?void 0:tt.y].join(" "),...((lt=te.hide)==null?void 0:lt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:e.jsx(qq,{scope:s,placedSide:oe,onArrowChange:z,arrowX:U,arrowY:J,shouldHideArrow:se,children:e.jsx(as.div,{"data-side":oe,"data-align":ne,...j,ref:S,style:{...j.style,animation:ce?void 0:"none"}})})})});QA.displayName=Pw;var ek="PopperArrow",$q={top:"bottom",right:"left",bottom:"top",left:"right"},tk=w.forwardRef(function(t,s){const{__scopePopper:r,...i}=t,a=Uq(ek,r),l=$q[a.placedSide];return e.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:e.jsx(Bq,{...i,ref:s,style:{...i.style,display:"block"}})})});tk.displayName=ek;function Vq(n){return n!==null}var Hq=n=>({name:"transformOrigin",options:n,fn(t){var A,C,P;const{placement:s,rects:r,middlewareData:i}=t,l=((A=i.arrow)==null?void 0:A.centerOffset)!==0,c=l?0:n.arrowWidth,u=l?0:n.arrowHeight,[m,g]=sk(s),p={start:"0%",center:"50%",end:"100%"}[g],y=(((C=i.arrow)==null?void 0:C.x)??0)+c/2,x=(((P=i.arrow)==null?void 0:P.y)??0)+u/2;let _="",j="";return m==="bottom"?(_=l?p:`${y}px`,j=`${-u}px`):m==="top"?(_=l?p:`${y}px`,j=`${r.floating.height+u}px`):m==="right"?(_=`${-u}px`,j=l?p:`${x}px`):m==="left"&&(_=`${r.floating.width+u}px`,j=l?p:`${x}px`),{data:{x:_,y:j}}}});function sk(n){const[t,s="center"]=n.split("-");return[t,s]}var Qy=KA,ix=XA,e0=QA,t0=tk,Gq="Portal",Np=w.forwardRef((n,t)=>{var c;const{container:s,...r}=n,[i,a]=w.useState(!1);qi(()=>a(!0),[]);const l=s||i&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return l?Z1.createPortal(e.jsx(as.div,{...r,ref:t}),l):null});Np.displayName=Gq;function Wq(n,t){return w.useReducer((s,r)=>t[s][r]??s,n)}var ma=n=>{const{present:t,children:s}=n,r=Yq(t),i=typeof s=="function"?s({present:r.isPresent}):w.Children.only(s),a=Ss(r.ref,Zq(i));return typeof s=="function"||r.isPresent?w.cloneElement(i,{ref:a}):null};ma.displayName="Presence";function Yq(n){const[t,s]=w.useState(),r=w.useRef(null),i=w.useRef(n),a=w.useRef("none"),l=n?"mounted":"unmounted",[c,u]=Wq(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const m=Nv(r.current);a.current=c==="mounted"?m:"none"},[c]),qi(()=>{const m=r.current,g=i.current;if(g!==n){const y=a.current,x=Nv(m);n?u("MOUNT"):x==="none"||(m==null?void 0:m.display)==="none"?u("UNMOUNT"):u(g&&y!==x?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,u]),qi(()=>{if(t){let m;const g=t.ownerDocument.defaultView??window,p=x=>{const j=Nv(r.current).includes(CSS.escape(x.animationName));if(x.target===t&&j&&(u("ANIMATION_END"),!i.current)){const A=t.style.animationFillMode;t.style.animationFillMode="forwards",m=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=A)})}},y=x=>{x.target===t&&(a.current=Nv(r.current))};return t.addEventListener("animationstart",y),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{g.clearTimeout(m),t.removeEventListener("animationstart",y),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:w.useCallback(m=>{r.current=m?getComputedStyle(m):null,s(m)},[])}}function Nv(n){return(n==null?void 0:n.animationName)||"none"}function Zq(n){var r,i;let t=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?n.ref:(t=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?n.props.ref:n.props.ref||n.ref)}var mj="rovingFocusGroup.onEntryFocus",Kq={bubbles:!1,cancelable:!0},ax="RovingFocusGroup",[o1,nk,Jq]=Wy(ax),[Xq,_p]=qa(ax,[Jq]),[Qq,eU]=Xq(ax),rk=w.forwardRef((n,t)=>e.jsx(o1.Provider,{scope:n.__scopeRovingFocusGroup,children:e.jsx(o1.Slot,{scope:n.__scopeRovingFocusGroup,children:e.jsx(tU,{...n,ref:t})})}));rk.displayName=ax;var tU=w.forwardRef((n,t)=>{const{__scopeRovingFocusGroup:s,orientation:r,loop:i=!1,dir:a,currentTabStopId:l,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:u,onEntryFocus:m,preventScrollOnEntryFocus:g=!1,...p}=n,y=w.useRef(null),x=Ss(t,y),_=$m(a),[j,A]=$l({prop:l,defaultProp:c??null,onChange:u,caller:ax}),[C,P]=w.useState(!1),S=Fa(m),O=nk(s),z=w.useRef(!1),[V,B]=w.useState(0);return w.useEffect(()=>{const D=y.current;if(D)return D.addEventListener(mj,S),()=>D.removeEventListener(mj,S)},[S]),e.jsx(Qq,{scope:s,orientation:r,dir:_,loop:i,currentTabStopId:j,onItemFocus:w.useCallback(D=>A(D),[A]),onItemShiftTab:w.useCallback(()=>P(!0),[]),onFocusableItemAdd:w.useCallback(()=>B(D=>D+1),[]),onFocusableItemRemove:w.useCallback(()=>B(D=>D-1),[]),children:e.jsx(as.div,{tabIndex:C||V===0?-1:0,"data-orientation":r,...p,ref:x,style:{outline:"none",...n.style},onMouseDown:kt(n.onMouseDown,()=>{z.current=!0}),onFocus:kt(n.onFocus,D=>{const K=!z.current;if(D.target===D.currentTarget&&K&&!C){const H=new CustomEvent(mj,Kq);if(D.currentTarget.dispatchEvent(H),!H.defaultPrevented){const $=O().filter(q=>q.focusable),W=$.find(q=>q.active),Q=$.find(q=>q.id===j),ie=[W,Q,...$].filter(Boolean).map(q=>q.ref.current);ok(ie,g)}}z.current=!1}),onBlur:kt(n.onBlur,()=>P(!1))})})}),ik="RovingFocusGroupItem",ak=w.forwardRef((n,t)=>{const{__scopeRovingFocusGroup:s,focusable:r=!0,active:i=!1,tabStopId:a,children:l,...c}=n,u=Bl(),m=a||u,g=eU(ik,s),p=g.currentTabStopId===m,y=nk(s),{onFocusableItemAdd:x,onFocusableItemRemove:_,currentTabStopId:j}=g;return w.useEffect(()=>{if(r)return x(),()=>_()},[r,x,_]),e.jsx(o1.ItemSlot,{scope:s,id:m,focusable:r,active:i,children:e.jsx(as.span,{tabIndex:p?0:-1,"data-orientation":g.orientation,...c,ref:t,onMouseDown:kt(n.onMouseDown,A=>{r?g.onItemFocus(m):A.preventDefault()}),onFocus:kt(n.onFocus,()=>g.onItemFocus(m)),onKeyDown:kt(n.onKeyDown,A=>{if(A.key==="Tab"&&A.shiftKey){g.onItemShiftTab();return}if(A.target!==A.currentTarget)return;const C=rU(A,g.orientation,g.dir);if(C!==void 0){if(A.metaKey||A.ctrlKey||A.altKey||A.shiftKey)return;A.preventDefault();let S=y().filter(O=>O.focusable).map(O=>O.ref.current);if(C==="last")S.reverse();else if(C==="prev"||C==="next"){C==="prev"&&S.reverse();const O=S.indexOf(A.currentTarget);S=g.loop?iU(S,O+1):S.slice(O+1)}setTimeout(()=>ok(S))}}),children:typeof l=="function"?l({isCurrentTabStop:p,hasTabStop:j!=null}):l})})});ak.displayName=ik;var sU={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function nU(n,t){return t!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function rU(n,t,s){const r=nU(n.key,s);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return sU[r]}function ok(n,t=!1){const s=document.activeElement;for(const r of n)if(r===s||(r.focus({preventScroll:t}),document.activeElement!==s))return}function iU(n,t){return n.map((s,r)=>n[(t+r)%n.length])}var Lw=rk,Rw=ak;function aU(n){const t=oU(n),s=w.forwardRef((r,i)=>{const{children:a,...l}=r,c=w.Children.toArray(a),u=c.find(cU);if(u){const m=u.props.children,g=c.map(p=>p===u?w.Children.count(m)>1?w.Children.only(null):w.isValidElement(m)?m.props.children:null:p);return e.jsx(t,{...l,ref:i,children:w.isValidElement(m)?w.cloneElement(m,void 0,g):null})}return e.jsx(t,{...l,ref:i,children:a})});return s.displayName=`${n}.Slot`,s}function oU(n){const t=w.forwardRef((s,r)=>{const{children:i,...a}=s;if(w.isValidElement(i)){const l=uU(i),c=dU(a,i.props);return i.type!==w.Fragment&&(c.ref=r?Xd(r,l):l),w.cloneElement(i,c)}return w.Children.count(i)>1?w.Children.only(null):null});return t.displayName=`${n}.SlotClone`,t}var lU=Symbol("radix.slottable");function cU(n){return w.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===lU}function dU(n,t){const s={...t};for(const r in t){const i=n[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?s[r]=(...c)=>{const u=a(...c);return i(...c),u}:i&&(s[r]=i):r==="style"?s[r]={...i,...a}:r==="className"&&(s[r]=[i,a].filter(Boolean).join(" "))}return{...n,...s}}function uU(n){var r,i;let t=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?n.ref:(t=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?n.props.ref:n.props.ref||n.ref)}var hU=function(n){if(typeof document>"u")return null;var t=Array.isArray(n)?n[0]:n;return t.ownerDocument.body},_f=new WeakMap,_v=new WeakMap,Sv={},fj=0,lk=function(n){return n&&(n.host||lk(n.parentNode))},mU=function(n,t){return t.map(function(s){if(n.contains(s))return s;var r=lk(s);return r&&n.contains(r)?r:(console.error("aria-hidden",s,"in not contained inside",n,". Doing nothing"),null)}).filter(function(s){return!!s})},fU=function(n,t,s,r){var i=mU(t,Array.isArray(n)?n:[n]);Sv[s]||(Sv[s]=new WeakMap);var a=Sv[s],l=[],c=new Set,u=new Set(i),m=function(p){!p||c.has(p)||(c.add(p),m(p.parentNode))};i.forEach(m);var g=function(p){!p||u.has(p)||Array.prototype.forEach.call(p.children,function(y){if(c.has(y))g(y);else try{var x=y.getAttribute(r),_=x!==null&&x!=="false",j=(_f.get(y)||0)+1,A=(a.get(y)||0)+1;_f.set(y,j),a.set(y,A),l.push(y),j===1&&_&&_v.set(y,!0),A===1&&y.setAttribute(s,"true"),_||y.setAttribute(r,"true")}catch(C){console.error("aria-hidden: cannot operate on ",y,C)}})};return g(t),c.clear(),fj++,function(){l.forEach(function(p){var y=_f.get(p)-1,x=a.get(p)-1;_f.set(p,y),a.set(p,x),y||(_v.has(p)||p.removeAttribute(r),_v.delete(p)),x||p.removeAttribute(s)}),fj--,fj||(_f=new WeakMap,_f=new WeakMap,_v=new WeakMap,Sv={})}},s0=function(n,t,s){s===void 0&&(s="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),i=hU(n);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),fU(r,i,s,"aria-hidden")):function(){return null}},$v="right-scroll-bar-position",Vv="width-before-scroll-bar",pU="with-scroll-bars-hidden",gU="--removed-body-scroll-bar-size";function pj(n,t){return typeof n=="function"?n(t):n&&(n.current=t),n}function xU(n,t){var s=w.useState(function(){return{value:n,callback:t,facade:{get current(){return s.value},set current(r){var i=s.value;i!==r&&(s.value=r,s.callback(r,i))}}}})[0];return s.callback=t,s.facade}var vU=typeof window<"u"?w.useLayoutEffect:w.useEffect,P4=new WeakMap;function yU(n,t){var s=xU(null,function(r){return n.forEach(function(i){return pj(i,r)})});return vU(function(){var r=P4.get(s);if(r){var i=new Set(r),a=new Set(n),l=s.current;i.forEach(function(c){a.has(c)||pj(c,null)}),a.forEach(function(c){i.has(c)||pj(c,l)})}P4.set(s,n)},[n]),s}function bU(n){return n}function jU(n,t){t===void 0&&(t=bU);var s=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:n},useMedium:function(a){var l=t(a,r);return s.push(l),function(){s=s.filter(function(c){return c!==l})}},assignSyncMedium:function(a){for(r=!0;s.length;){var l=s;s=[],l.forEach(a)}s={push:function(c){return a(c)},filter:function(){return s}}},assignMedium:function(a){r=!0;var l=[];if(s.length){var c=s;s=[],c.forEach(a),l=s}var u=function(){var g=l;l=[],g.forEach(a)},m=function(){return Promise.resolve().then(u)};m(),s={push:function(g){l.push(g),m()},filter:function(g){return l=l.filter(g),s}}}};return i}function wU(n){n===void 0&&(n={});var t=jU(null);return t.options=xc({async:!0,ssr:!1},n),t}var ck=function(n){var t=n.sideCar,s=Wh(n,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return w.createElement(r,xc({},s))};ck.isSideCarExport=!0;function NU(n,t){return n.useMedium(t),ck}var dk=wU(),gj=function(){},n0=w.forwardRef(function(n,t){var s=w.useRef(null),r=w.useState({onScrollCapture:gj,onWheelCapture:gj,onTouchMoveCapture:gj}),i=r[0],a=r[1],l=n.forwardProps,c=n.children,u=n.className,m=n.removeScrollBar,g=n.enabled,p=n.shards,y=n.sideCar,x=n.noRelative,_=n.noIsolation,j=n.inert,A=n.allowPinchZoom,C=n.as,P=C===void 0?"div":C,S=n.gapMode,O=Wh(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),z=y,V=yU([s,t]),B=xc(xc({},O),i);return w.createElement(w.Fragment,null,g&&w.createElement(z,{sideCar:dk,removeScrollBar:m,shards:p,noRelative:x,noIsolation:_,inert:j,setCallbacks:a,allowPinchZoom:!!A,lockRef:s,gapMode:S}),l?w.cloneElement(w.Children.only(c),xc(xc({},B),{ref:V})):w.createElement(P,xc({},B,{className:u,ref:V}),c))});n0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};n0.classNames={fullWidth:Vv,zeroRight:$v};var _U=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function SU(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var t=_U();return t&&n.setAttribute("nonce",t),n}function CU(n,t){n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}function AU(n){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(n)}var kU=function(){var n=0,t=null;return{add:function(s){n==0&&(t=SU())&&(CU(t,s),AU(t)),n++},remove:function(){n--,!n&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},EU=function(){var n=kU();return function(t,s){w.useEffect(function(){return n.add(t),function(){n.remove()}},[t&&s])}},uk=function(){var n=EU(),t=function(s){var r=s.styles,i=s.dynamic;return n(r,i),null};return t},TU={left:0,top:0,right:0,gap:0},xj=function(n){return parseInt(n||"",10)||0},PU=function(n){var t=window.getComputedStyle(document.body),s=t[n==="padding"?"paddingLeft":"marginLeft"],r=t[n==="padding"?"paddingTop":"marginTop"],i=t[n==="padding"?"paddingRight":"marginRight"];return[xj(s),xj(r),xj(i)]},LU=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return TU;var t=PU(n),s=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-s+t[2]-t[0])}},RU=uk(),Gf="data-scroll-locked",OU=function(n,t,s,r){var i=n.left,a=n.top,l=n.right,c=n.gap;return s===void 0&&(s="margin"),`
  .`.concat(pU,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(Gf,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),s==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),s==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat($v,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Vv,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat($v," .").concat($v,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Vv," .").concat(Vv,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Gf,`] {
    `).concat(gU,": ").concat(c,`px;
  }
`)},L4=function(){var n=parseInt(document.body.getAttribute(Gf)||"0",10);return isFinite(n)?n:0},MU=function(){w.useEffect(function(){return document.body.setAttribute(Gf,(L4()+1).toString()),function(){var n=L4()-1;n<=0?document.body.removeAttribute(Gf):document.body.setAttribute(Gf,n.toString())}},[])},DU=function(n){var t=n.noRelative,s=n.noImportant,r=n.gapMode,i=r===void 0?"margin":r;MU();var a=w.useMemo(function(){return LU(i)},[i]);return w.createElement(RU,{styles:OU(a,!t,i,s?"":"!important")})},l1=!1;if(typeof window<"u")try{var Cv=Object.defineProperty({},"passive",{get:function(){return l1=!0,!0}});window.addEventListener("test",Cv,Cv),window.removeEventListener("test",Cv,Cv)}catch{l1=!1}var Sf=l1?{passive:!1}:!1,IU=function(n){return n.tagName==="TEXTAREA"},hk=function(n,t){if(!(n instanceof Element))return!1;var s=window.getComputedStyle(n);return s[t]!=="hidden"&&!(s.overflowY===s.overflowX&&!IU(n)&&s[t]==="visible")},FU=function(n){return hk(n,"overflowY")},BU=function(n){return hk(n,"overflowX")},R4=function(n,t){var s=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=mk(n,r);if(i){var a=fk(n,r),l=a[1],c=a[2];if(l>c)return!0}r=r.parentNode}while(r&&r!==s.body);return!1},zU=function(n){var t=n.scrollTop,s=n.scrollHeight,r=n.clientHeight;return[t,s,r]},qU=function(n){var t=n.scrollLeft,s=n.scrollWidth,r=n.clientWidth;return[t,s,r]},mk=function(n,t){return n==="v"?FU(t):BU(t)},fk=function(n,t){return n==="v"?zU(t):qU(t)},UU=function(n,t){return n==="h"&&t==="rtl"?-1:1},$U=function(n,t,s,r,i){var a=UU(n,window.getComputedStyle(t).direction),l=a*r,c=s.target,u=t.contains(c),m=!1,g=l>0,p=0,y=0;do{if(!c)break;var x=fk(n,c),_=x[0],j=x[1],A=x[2],C=j-A-a*_;(_||C)&&mk(n,c)&&(p+=C,y+=_);var P=c.parentNode;c=P&&P.nodeType===Node.DOCUMENT_FRAGMENT_NODE?P.host:P}while(!u&&c!==document.body||u&&(t.contains(c)||t===c));return(g&&Math.abs(p)<1||!g&&Math.abs(y)<1)&&(m=!0),m},Av=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},O4=function(n){return[n.deltaX,n.deltaY]},M4=function(n){return n&&"current"in n?n.current:n},VU=function(n,t){return n[0]===t[0]&&n[1]===t[1]},HU=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},GU=0,Cf=[];function WU(n){var t=w.useRef([]),s=w.useRef([0,0]),r=w.useRef(),i=w.useState(GU++)[0],a=w.useState(uk)[0],l=w.useRef(n);w.useEffect(function(){l.current=n},[n]),w.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var j=rw([n.lockRef.current],(n.shards||[]).map(M4),!0).filter(Boolean);return j.forEach(function(A){return A.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),j.forEach(function(A){return A.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var c=w.useCallback(function(j,A){if("touches"in j&&j.touches.length===2||j.type==="wheel"&&j.ctrlKey)return!l.current.allowPinchZoom;var C=Av(j),P=s.current,S="deltaX"in j?j.deltaX:P[0]-C[0],O="deltaY"in j?j.deltaY:P[1]-C[1],z,V=j.target,B=Math.abs(S)>Math.abs(O)?"h":"v";if("touches"in j&&B==="h"&&V.type==="range")return!1;var D=R4(B,V);if(!D)return!0;if(D?z=B:(z=B==="v"?"h":"v",D=R4(B,V)),!D)return!1;if(!r.current&&"changedTouches"in j&&(S||O)&&(r.current=z),!z)return!0;var K=r.current||z;return $U(K,A,j,K==="h"?S:O)},[]),u=w.useCallback(function(j){var A=j;if(!(!Cf.length||Cf[Cf.length-1]!==a)){var C="deltaY"in A?O4(A):Av(A),P=t.current.filter(function(z){return z.name===A.type&&(z.target===A.target||A.target===z.shadowParent)&&VU(z.delta,C)})[0];if(P&&P.should){A.cancelable&&A.preventDefault();return}if(!P){var S=(l.current.shards||[]).map(M4).filter(Boolean).filter(function(z){return z.contains(A.target)}),O=S.length>0?c(A,S[0]):!l.current.noIsolation;O&&A.cancelable&&A.preventDefault()}}},[]),m=w.useCallback(function(j,A,C,P){var S={name:j,delta:A,target:C,should:P,shadowParent:YU(C)};t.current.push(S),setTimeout(function(){t.current=t.current.filter(function(O){return O!==S})},1)},[]),g=w.useCallback(function(j){s.current=Av(j),r.current=void 0},[]),p=w.useCallback(function(j){m(j.type,O4(j),j.target,c(j,n.lockRef.current))},[]),y=w.useCallback(function(j){m(j.type,Av(j),j.target,c(j,n.lockRef.current))},[]);w.useEffect(function(){return Cf.push(a),n.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:y}),document.addEventListener("wheel",u,Sf),document.addEventListener("touchmove",u,Sf),document.addEventListener("touchstart",g,Sf),function(){Cf=Cf.filter(function(j){return j!==a}),document.removeEventListener("wheel",u,Sf),document.removeEventListener("touchmove",u,Sf),document.removeEventListener("touchstart",g,Sf)}},[]);var x=n.removeScrollBar,_=n.inert;return w.createElement(w.Fragment,null,_?w.createElement(a,{styles:HU(i)}):null,x?w.createElement(DU,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function YU(n){for(var t=null;n!==null;)n instanceof ShadowRoot&&(t=n.host,n=n.host),n=n.parentNode;return t}const ZU=NU(dk,WU);var ox=w.forwardRef(function(n,t){return w.createElement(n0,xc({},n,{ref:t,sideCar:ZU}))});ox.classNames=n0.classNames;var c1=["Enter"," "],KU=["ArrowDown","PageUp","Home"],pk=["ArrowUp","PageDown","End"],JU=[...KU,...pk],XU={ltr:[...c1,"ArrowRight"],rtl:[...c1,"ArrowLeft"]},QU={ltr:["ArrowLeft"],rtl:["ArrowRight"]},lx="Menu",[Bg,e$,t$]=Wy(lx),[Vm,gk]=qa(lx,[t$,Zh,_p]),r0=Zh(),xk=_p(),[s$,Hm]=Vm(lx),[n$,cx]=Vm(lx),vk=n=>{const{__scopeMenu:t,open:s=!1,children:r,dir:i,onOpenChange:a,modal:l=!0}=n,c=r0(t),[u,m]=w.useState(null),g=w.useRef(!1),p=Fa(a),y=$m(i);return w.useEffect(()=>{const x=()=>{g.current=!0,document.addEventListener("pointerdown",_,{capture:!0,once:!0}),document.addEventListener("pointermove",_,{capture:!0,once:!0})},_=()=>g.current=!1;return document.addEventListener("keydown",x,{capture:!0}),()=>{document.removeEventListener("keydown",x,{capture:!0}),document.removeEventListener("pointerdown",_,{capture:!0}),document.removeEventListener("pointermove",_,{capture:!0})}},[]),e.jsx(Qy,{...c,children:e.jsx(s$,{scope:t,open:s,onOpenChange:p,content:u,onContentChange:m,children:e.jsx(n$,{scope:t,onClose:w.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:g,dir:y,modal:l,children:r})})})};vk.displayName=lx;var r$="MenuAnchor",Ow=w.forwardRef((n,t)=>{const{__scopeMenu:s,...r}=n,i=r0(s);return e.jsx(ix,{...i,...r,ref:t})});Ow.displayName=r$;var Mw="MenuPortal",[i$,yk]=Vm(Mw,{forceMount:void 0}),bk=n=>{const{__scopeMenu:t,forceMount:s,children:r,container:i}=n,a=Hm(Mw,t);return e.jsx(i$,{scope:t,forceMount:s,children:e.jsx(ma,{present:s||a.open,children:e.jsx(Np,{asChild:!0,container:i,children:r})})})};bk.displayName=Mw;var vc="MenuContent",[a$,Dw]=Vm(vc),jk=w.forwardRef((n,t)=>{const s=yk(vc,n.__scopeMenu),{forceMount:r=s.forceMount,...i}=n,a=Hm(vc,n.__scopeMenu),l=cx(vc,n.__scopeMenu);return e.jsx(Bg.Provider,{scope:n.__scopeMenu,children:e.jsx(ma,{present:r||a.open,children:e.jsx(Bg.Slot,{scope:n.__scopeMenu,children:l.modal?e.jsx(o$,{...i,ref:t}):e.jsx(l$,{...i,ref:t})})})})}),o$=w.forwardRef((n,t)=>{const s=Hm(vc,n.__scopeMenu),r=w.useRef(null),i=Ss(t,r);return w.useEffect(()=>{const a=r.current;if(a)return s0(a)},[]),e.jsx(Iw,{...n,ref:i,trapFocus:s.open,disableOutsidePointerEvents:s.open,disableOutsideScroll:!0,onFocusOutside:kt(n.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>s.onOpenChange(!1)})}),l$=w.forwardRef((n,t)=>{const s=Hm(vc,n.__scopeMenu);return e.jsx(Iw,{...n,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>s.onOpenChange(!1)})}),c$=aU("MenuContent.ScrollLock"),Iw=w.forwardRef((n,t)=>{const{__scopeMenu:s,loop:r=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:l,disableOutsidePointerEvents:c,onEntryFocus:u,onEscapeKeyDown:m,onPointerDownOutside:g,onFocusOutside:p,onInteractOutside:y,onDismiss:x,disableOutsideScroll:_,...j}=n,A=Hm(vc,s),C=cx(vc,s),P=r0(s),S=xk(s),O=e$(s),[z,V]=w.useState(null),B=w.useRef(null),D=Ss(t,B,A.onContentChange),K=w.useRef(0),H=w.useRef(""),$=w.useRef(0),W=w.useRef(null),Q=w.useRef("right"),Z=w.useRef(0),ie=_?ox:w.Fragment,q=_?{as:c$,allowPinchZoom:!0}:void 0,ce=oe=>{var we,Ce;const ne=H.current+oe,re=O().filter(Re=>!Re.disabled),U=document.activeElement,J=(we=re.find(Re=>Re.ref.current===U))==null?void 0:we.textValue,se=re.map(Re=>Re.textValue),ue=j$(se,ne,J),be=(Ce=re.find(Re=>Re.textValue===ue))==null?void 0:Ce.ref.current;(function Re(Xe){H.current=Xe,window.clearTimeout(K.current),Xe!==""&&(K.current=window.setTimeout(()=>Re(""),1e3))})(ne),be&&setTimeout(()=>be.focus())};w.useEffect(()=>()=>window.clearTimeout(K.current),[]),Yy();const te=w.useCallback(oe=>{var re,U;return Q.current===((re=W.current)==null?void 0:re.side)&&N$(oe,(U=W.current)==null?void 0:U.area)},[]);return e.jsx(a$,{scope:s,searchRef:H,onItemEnter:w.useCallback(oe=>{te(oe)&&oe.preventDefault()},[te]),onItemLeave:w.useCallback(oe=>{var ne;te(oe)||((ne=B.current)==null||ne.focus(),V(null))},[te]),onTriggerLeave:w.useCallback(oe=>{te(oe)&&oe.preventDefault()},[te]),pointerGraceTimerRef:$,onPointerGraceIntentChange:w.useCallback(oe=>{W.current=oe},[]),children:e.jsx(ie,{...q,children:e.jsx(sx,{asChild:!0,trapped:i,onMountAutoFocus:kt(a,oe=>{var ne;oe.preventDefault(),(ne=B.current)==null||ne.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:e.jsx(bp,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:m,onPointerDownOutside:g,onFocusOutside:p,onInteractOutside:y,onDismiss:x,children:e.jsx(Lw,{asChild:!0,...S,dir:C.dir,orientation:"vertical",loop:r,currentTabStopId:z,onCurrentTabStopIdChange:V,onEntryFocus:kt(u,oe=>{C.isUsingKeyboardRef.current||oe.preventDefault()}),preventScrollOnEntryFocus:!0,children:e.jsx(e0,{role:"menu","aria-orientation":"vertical","data-state":Ik(A.open),"data-radix-menu-content":"",dir:C.dir,...P,...j,ref:D,style:{outline:"none",...j.style},onKeyDown:kt(j.onKeyDown,oe=>{const re=oe.target.closest("[data-radix-menu-content]")===oe.currentTarget,U=oe.ctrlKey||oe.altKey||oe.metaKey,J=oe.key.length===1;re&&(oe.key==="Tab"&&oe.preventDefault(),!U&&J&&ce(oe.key));const se=B.current;if(oe.target!==se||!JU.includes(oe.key))return;oe.preventDefault();const be=O().filter(we=>!we.disabled).map(we=>we.ref.current);pk.includes(oe.key)&&be.reverse(),y$(be)}),onBlur:kt(n.onBlur,oe=>{oe.currentTarget.contains(oe.target)||(window.clearTimeout(K.current),H.current="")}),onPointerMove:kt(n.onPointerMove,zg(oe=>{const ne=oe.target,re=Z.current!==oe.clientX;if(oe.currentTarget.contains(ne)&&re){const U=oe.clientX>Z.current?"right":"left";Q.current=U,Z.current=oe.clientX}}))})})})})})})});jk.displayName=vc;var d$="MenuGroup",Fw=w.forwardRef((n,t)=>{const{__scopeMenu:s,...r}=n;return e.jsx(as.div,{role:"group",...r,ref:t})});Fw.displayName=d$;var u$="MenuLabel",wk=w.forwardRef((n,t)=>{const{__scopeMenu:s,...r}=n;return e.jsx(as.div,{...r,ref:t})});wk.displayName=u$;var my="MenuItem",D4="menu.itemSelect",i0=w.forwardRef((n,t)=>{const{disabled:s=!1,onSelect:r,...i}=n,a=w.useRef(null),l=cx(my,n.__scopeMenu),c=Dw(my,n.__scopeMenu),u=Ss(t,a),m=w.useRef(!1),g=()=>{const p=a.current;if(!s&&p){const y=new CustomEvent(D4,{bubbles:!0,cancelable:!0});p.addEventListener(D4,x=>r==null?void 0:r(x),{once:!0}),LA(p,y),y.defaultPrevented?m.current=!1:l.onClose()}};return e.jsx(Nk,{...i,ref:u,disabled:s,onClick:kt(n.onClick,g),onPointerDown:p=>{var y;(y=n.onPointerDown)==null||y.call(n,p),m.current=!0},onPointerUp:kt(n.onPointerUp,p=>{var y;m.current||(y=p.currentTarget)==null||y.click()}),onKeyDown:kt(n.onKeyDown,p=>{const y=c.searchRef.current!=="";s||y&&p.key===" "||c1.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});i0.displayName=my;var Nk=w.forwardRef((n,t)=>{const{__scopeMenu:s,disabled:r=!1,textValue:i,...a}=n,l=Dw(my,s),c=xk(s),u=w.useRef(null),m=Ss(t,u),[g,p]=w.useState(!1),[y,x]=w.useState("");return w.useEffect(()=>{const _=u.current;_&&x((_.textContent??"").trim())},[a.children]),e.jsx(Bg.ItemSlot,{scope:s,disabled:r,textValue:i??y,children:e.jsx(Rw,{asChild:!0,...c,focusable:!r,children:e.jsx(as.div,{role:"menuitem","data-highlighted":g?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:m,onPointerMove:kt(n.onPointerMove,zg(_=>{r?l.onItemLeave(_):(l.onItemEnter(_),_.defaultPrevented||_.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:kt(n.onPointerLeave,zg(_=>l.onItemLeave(_))),onFocus:kt(n.onFocus,()=>p(!0)),onBlur:kt(n.onBlur,()=>p(!1))})})})}),h$="MenuCheckboxItem",_k=w.forwardRef((n,t)=>{const{checked:s=!1,onCheckedChange:r,...i}=n;return e.jsx(Ek,{scope:n.__scopeMenu,checked:s,children:e.jsx(i0,{role:"menuitemcheckbox","aria-checked":fy(s)?"mixed":s,...i,ref:t,"data-state":zw(s),onSelect:kt(i.onSelect,()=>r==null?void 0:r(fy(s)?!0:!s),{checkForDefaultPrevented:!1})})})});_k.displayName=h$;var Sk="MenuRadioGroup",[m$,f$]=Vm(Sk,{value:void 0,onValueChange:()=>{}}),Ck=w.forwardRef((n,t)=>{const{value:s,onValueChange:r,...i}=n,a=Fa(r);return e.jsx(m$,{scope:n.__scopeMenu,value:s,onValueChange:a,children:e.jsx(Fw,{...i,ref:t})})});Ck.displayName=Sk;var Ak="MenuRadioItem",kk=w.forwardRef((n,t)=>{const{value:s,...r}=n,i=f$(Ak,n.__scopeMenu),a=s===i.value;return e.jsx(Ek,{scope:n.__scopeMenu,checked:a,children:e.jsx(i0,{role:"menuitemradio","aria-checked":a,...r,ref:t,"data-state":zw(a),onSelect:kt(r.onSelect,()=>{var l;return(l=i.onValueChange)==null?void 0:l.call(i,s)},{checkForDefaultPrevented:!1})})})});kk.displayName=Ak;var Bw="MenuItemIndicator",[Ek,p$]=Vm(Bw,{checked:!1}),Tk=w.forwardRef((n,t)=>{const{__scopeMenu:s,forceMount:r,...i}=n,a=p$(Bw,s);return e.jsx(ma,{present:r||fy(a.checked)||a.checked===!0,children:e.jsx(as.span,{...i,ref:t,"data-state":zw(a.checked)})})});Tk.displayName=Bw;var g$="MenuSeparator",Pk=w.forwardRef((n,t)=>{const{__scopeMenu:s,...r}=n;return e.jsx(as.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});Pk.displayName=g$;var x$="MenuArrow",Lk=w.forwardRef((n,t)=>{const{__scopeMenu:s,...r}=n,i=r0(s);return e.jsx(t0,{...i,...r,ref:t})});Lk.displayName=x$;var v$="MenuSub",[kte,Rk]=Vm(v$),jg="MenuSubTrigger",Ok=w.forwardRef((n,t)=>{const s=Hm(jg,n.__scopeMenu),r=cx(jg,n.__scopeMenu),i=Rk(jg,n.__scopeMenu),a=Dw(jg,n.__scopeMenu),l=w.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:u}=a,m={__scopeMenu:n.__scopeMenu},g=w.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return w.useEffect(()=>g,[g]),w.useEffect(()=>{const p=c.current;return()=>{window.clearTimeout(p),u(null)}},[c,u]),e.jsx(Ow,{asChild:!0,...m,children:e.jsx(Nk,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":i.contentId,"data-state":Ik(s.open),...n,ref:Xd(t,i.onTriggerChange),onClick:p=>{var y;(y=n.onClick)==null||y.call(n,p),!(n.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),s.open||s.onOpenChange(!0))},onPointerMove:kt(n.onPointerMove,zg(p=>{a.onItemEnter(p),!p.defaultPrevented&&!n.disabled&&!s.open&&!l.current&&(a.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{s.onOpenChange(!0),g()},100))})),onPointerLeave:kt(n.onPointerLeave,zg(p=>{var x,_;g();const y=(x=s.content)==null?void 0:x.getBoundingClientRect();if(y){const j=(_=s.content)==null?void 0:_.dataset.side,A=j==="right",C=A?-5:5,P=y[A?"left":"right"],S=y[A?"right":"left"];a.onPointerGraceIntentChange({area:[{x:p.clientX+C,y:p.clientY},{x:P,y:y.top},{x:S,y:y.top},{x:S,y:y.bottom},{x:P,y:y.bottom}],side:j}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(p),p.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:kt(n.onKeyDown,p=>{var x;const y=a.searchRef.current!=="";n.disabled||y&&p.key===" "||XU[r.dir].includes(p.key)&&(s.onOpenChange(!0),(x=s.content)==null||x.focus(),p.preventDefault())})})})});Ok.displayName=jg;var Mk="MenuSubContent",Dk=w.forwardRef((n,t)=>{const s=yk(vc,n.__scopeMenu),{forceMount:r=s.forceMount,...i}=n,a=Hm(vc,n.__scopeMenu),l=cx(vc,n.__scopeMenu),c=Rk(Mk,n.__scopeMenu),u=w.useRef(null),m=Ss(t,u);return e.jsx(Bg.Provider,{scope:n.__scopeMenu,children:e.jsx(ma,{present:r||a.open,children:e.jsx(Bg.Slot,{scope:n.__scopeMenu,children:e.jsx(Iw,{id:c.contentId,"aria-labelledby":c.triggerId,...i,ref:m,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:g=>{var p;l.isUsingKeyboardRef.current&&((p=u.current)==null||p.focus()),g.preventDefault()},onCloseAutoFocus:g=>g.preventDefault(),onFocusOutside:kt(n.onFocusOutside,g=>{g.target!==c.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:kt(n.onEscapeKeyDown,g=>{l.onClose(),g.preventDefault()}),onKeyDown:kt(n.onKeyDown,g=>{var x;const p=g.currentTarget.contains(g.target),y=QU[l.dir].includes(g.key);p&&y&&(a.onOpenChange(!1),(x=c.trigger)==null||x.focus(),g.preventDefault())})})})})})});Dk.displayName=Mk;function Ik(n){return n?"open":"closed"}function fy(n){return n==="indeterminate"}function zw(n){return fy(n)?"indeterminate":n?"checked":"unchecked"}function y$(n){const t=document.activeElement;for(const s of n)if(s===t||(s.focus(),document.activeElement!==t))return}function b$(n,t){return n.map((s,r)=>n[(t+r)%n.length])}function j$(n,t,s){const i=t.length>1&&Array.from(t).every(m=>m===t[0])?t[0]:t,a=s?n.indexOf(s):-1;let l=b$(n,Math.max(a,0));i.length===1&&(l=l.filter(m=>m!==s));const u=l.find(m=>m.toLowerCase().startsWith(i.toLowerCase()));return u!==s?u:void 0}function w$(n,t){const{x:s,y:r}=n;let i=!1;for(let a=0,l=t.length-1;a<t.length;l=a++){const c=t[a],u=t[l],m=c.x,g=c.y,p=u.x,y=u.y;g>r!=y>r&&s<(p-m)*(r-g)/(y-g)+m&&(i=!i)}return i}function N$(n,t){if(!t)return!1;const s={x:n.clientX,y:n.clientY};return w$(s,t)}function zg(n){return t=>t.pointerType==="mouse"?n(t):void 0}var _$=vk,S$=Ow,C$=bk,A$=jk,k$=Fw,E$=wk,T$=i0,P$=_k,L$=Ck,R$=kk,O$=Tk,M$=Pk,D$=Lk,I$=Ok,F$=Dk,a0="DropdownMenu",[B$]=qa(a0,[gk]),Go=gk(),[z$,Fk]=B$(a0),Bk=n=>{const{__scopeDropdownMenu:t,children:s,dir:r,open:i,defaultOpen:a,onOpenChange:l,modal:c=!0}=n,u=Go(t),m=w.useRef(null),[g,p]=$l({prop:i,defaultProp:a??!1,onChange:l,caller:a0});return e.jsx(z$,{scope:t,triggerId:Bl(),triggerRef:m,contentId:Bl(),open:g,onOpenChange:p,onOpenToggle:w.useCallback(()=>p(y=>!y),[p]),modal:c,children:e.jsx(_$,{...u,open:g,onOpenChange:p,dir:r,modal:c,children:s})})};Bk.displayName=a0;var zk="DropdownMenuTrigger",qk=w.forwardRef((n,t)=>{const{__scopeDropdownMenu:s,disabled:r=!1,...i}=n,a=Fk(zk,s),l=Go(s);return e.jsx(S$,{asChild:!0,...l,children:e.jsx(as.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Xd(t,a.triggerRef),onPointerDown:kt(n.onPointerDown,c=>{!r&&c.button===0&&c.ctrlKey===!1&&(a.onOpenToggle(),a.open||c.preventDefault())}),onKeyDown:kt(n.onKeyDown,c=>{r||(["Enter"," "].includes(c.key)&&a.onOpenToggle(),c.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});qk.displayName=zk;var q$="DropdownMenuPortal",Uk=n=>{const{__scopeDropdownMenu:t,...s}=n,r=Go(t);return e.jsx(C$,{...r,...s})};Uk.displayName=q$;var $k="DropdownMenuContent",Vk=w.forwardRef((n,t)=>{const{__scopeDropdownMenu:s,...r}=n,i=Fk($k,s),a=Go(s),l=w.useRef(!1);return e.jsx(A$,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...r,ref:t,onCloseAutoFocus:kt(n.onCloseAutoFocus,c=>{var u;l.current||(u=i.triggerRef.current)==null||u.focus(),l.current=!1,c.preventDefault()}),onInteractOutside:kt(n.onInteractOutside,c=>{const u=c.detail.originalEvent,m=u.button===0&&u.ctrlKey===!0,g=u.button===2||m;(!i.modal||g)&&(l.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Vk.displayName=$k;var U$="DropdownMenuGroup",$$=w.forwardRef((n,t)=>{const{__scopeDropdownMenu:s,...r}=n,i=Go(s);return e.jsx(k$,{...i,...r,ref:t})});$$.displayName=U$;var V$="DropdownMenuLabel",Hk=w.forwardRef((n,t)=>{const{__scopeDropdownMenu:s,...r}=n,i=Go(s);return e.jsx(E$,{...i,...r,ref:t})});Hk.displayName=V$;var H$="DropdownMenuItem",Gk=w.forwardRef((n,t)=>{const{__scopeDropdownMenu:s,...r}=n,i=Go(s);return e.jsx(T$,{...i,...r,ref:t})});Gk.displayName=H$;var G$="DropdownMenuCheckboxItem",Wk=w.forwardRef((n,t)=>{const{__scopeDropdownMenu:s,...r}=n,i=Go(s);return e.jsx(P$,{...i,...r,ref:t})});Wk.displayName=G$;var W$="DropdownMenuRadioGroup",Y$=w.forwardRef((n,t)=>{const{__scopeDropdownMenu:s,...r}=n,i=Go(s);return e.jsx(L$,{...i,...r,ref:t})});Y$.displayName=W$;var Z$="DropdownMenuRadioItem",Yk=w.forwardRef((n,t)=>{const{__scopeDropdownMenu:s,...r}=n,i=Go(s);return e.jsx(R$,{...i,...r,ref:t})});Yk.displayName=Z$;var K$="DropdownMenuItemIndicator",Zk=w.forwardRef((n,t)=>{const{__scopeDropdownMenu:s,...r}=n,i=Go(s);return e.jsx(O$,{...i,...r,ref:t})});Zk.displayName=K$;var J$="DropdownMenuSeparator",Kk=w.forwardRef((n,t)=>{const{__scopeDropdownMenu:s,...r}=n,i=Go(s);return e.jsx(M$,{...i,...r,ref:t})});Kk.displayName=J$;var X$="DropdownMenuArrow",Q$=w.forwardRef((n,t)=>{const{__scopeDropdownMenu:s,...r}=n,i=Go(s);return e.jsx(D$,{...i,...r,ref:t})});Q$.displayName=X$;var eV="DropdownMenuSubTrigger",Jk=w.forwardRef((n,t)=>{const{__scopeDropdownMenu:s,...r}=n,i=Go(s);return e.jsx(I$,{...i,...r,ref:t})});Jk.displayName=eV;var tV="DropdownMenuSubContent",Xk=w.forwardRef((n,t)=>{const{__scopeDropdownMenu:s,...r}=n,i=Go(s);return e.jsx(F$,{...i,...r,ref:t,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Xk.displayName=tV;var sV=Bk,nV=qk,rV=Uk,Qk=Vk,e6=Hk,t6=Gk,s6=Wk,n6=Yk,r6=Zk,i6=Kk,a6=Jk,o6=Xk;const yc=sV,bc=nV,iV=w.forwardRef(({className:n,inset:t,children:s,...r},i)=>e.jsxs(a6,{ref:i,className:nt("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",n),...r,children:[s,e.jsx(Qg,{className:"ml-auto"})]}));iV.displayName=a6.displayName;const aV=w.forwardRef(({className:n,...t},s)=>e.jsx(o6,{ref:s,className:nt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t}));aV.displayName=o6.displayName;const ql=w.forwardRef(({className:n,sideOffset:t=4,...s},r)=>e.jsx(rV,{children:e.jsx(Qk,{ref:r,sideOffset:t,className:nt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...s})}));ql.displayName=Qk.displayName;const Rn=w.forwardRef(({className:n,inset:t,...s},r)=>e.jsx(t6,{ref:r,className:nt("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",t&&"pl-8",n),...s}));Rn.displayName=t6.displayName;const oV=w.forwardRef(({className:n,children:t,checked:s,...r},i)=>e.jsxs(s6,{ref:i,className:nt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),checked:s,...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(r6,{children:e.jsx(Vu,{className:"h-4 w-4"})})}),t]}));oV.displayName=s6.displayName;const lV=w.forwardRef(({className:n,children:t,...s},r)=>e.jsxs(n6,{ref:r,className:nt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...s,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(r6,{children:e.jsx(fw,{className:"h-2 w-2 fill-current"})})}),t]}));lV.displayName=n6.displayName;const l6=w.forwardRef(({className:n,inset:t,...s},r)=>e.jsx(e6,{ref:r,className:nt("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",n),...s}));l6.displayName=e6.displayName;const Lm=w.forwardRef(({className:n,...t},s)=>e.jsx(i6,{ref:s,className:nt("-mx-1 my-1 h-px bg-muted",n),...t}));Lm.displayName=i6.displayName;function cV(n){const t=dV(n),s=w.forwardRef((r,i)=>{const{children:a,...l}=r,c=w.Children.toArray(a),u=c.find(hV);if(u){const m=u.props.children,g=c.map(p=>p===u?w.Children.count(m)>1?w.Children.only(null):w.isValidElement(m)?m.props.children:null:p);return e.jsx(t,{...l,ref:i,children:w.isValidElement(m)?w.cloneElement(m,void 0,g):null})}return e.jsx(t,{...l,ref:i,children:a})});return s.displayName=`${n}.Slot`,s}function dV(n){const t=w.forwardRef((s,r)=>{const{children:i,...a}=s;if(w.isValidElement(i)){const l=fV(i),c=mV(a,i.props);return i.type!==w.Fragment&&(c.ref=r?Xd(r,l):l),w.cloneElement(i,c)}return w.Children.count(i)>1?w.Children.only(null):null});return t.displayName=`${n}.SlotClone`,t}var uV=Symbol("radix.slottable");function hV(n){return w.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===uV}function mV(n,t){const s={...t};for(const r in t){const i=n[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?s[r]=(...c)=>{const u=a(...c);return i(...c),u}:i&&(s[r]=i):r==="style"?s[r]={...i,...a}:r==="className"&&(s[r]=[i,a].filter(Boolean).join(" "))}return{...n,...s}}function fV(n){var r,i;let t=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?n.ref:(t=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?n.props.ref:n.props.ref||n.ref)}var o0="Dialog",[c6,d6]=qa(o0),[pV,rd]=c6(o0),u6=n=>{const{__scopeDialog:t,children:s,open:r,defaultOpen:i,onOpenChange:a,modal:l=!0}=n,c=w.useRef(null),u=w.useRef(null),[m,g]=$l({prop:r,defaultProp:i??!1,onChange:a,caller:o0});return e.jsx(pV,{scope:t,triggerRef:c,contentRef:u,contentId:Bl(),titleId:Bl(),descriptionId:Bl(),open:m,onOpenChange:g,onOpenToggle:w.useCallback(()=>g(p=>!p),[g]),modal:l,children:s})};u6.displayName=o0;var h6="DialogTrigger",m6=w.forwardRef((n,t)=>{const{__scopeDialog:s,...r}=n,i=rd(h6,s),a=Ss(t,i.triggerRef);return e.jsx(as.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":$w(i.open),...r,ref:a,onClick:kt(n.onClick,i.onOpenToggle)})});m6.displayName=h6;var qw="DialogPortal",[gV,f6]=c6(qw,{forceMount:void 0}),p6=n=>{const{__scopeDialog:t,forceMount:s,children:r,container:i}=n,a=rd(qw,t);return e.jsx(gV,{scope:t,forceMount:s,children:w.Children.map(r,l=>e.jsx(ma,{present:s||a.open,children:e.jsx(Np,{asChild:!0,container:i,children:l})}))})};p6.displayName=qw;var py="DialogOverlay",g6=w.forwardRef((n,t)=>{const s=f6(py,n.__scopeDialog),{forceMount:r=s.forceMount,...i}=n,a=rd(py,n.__scopeDialog);return a.modal?e.jsx(ma,{present:r||a.open,children:e.jsx(vV,{...i,ref:t})}):null});g6.displayName=py;var xV=cV("DialogOverlay.RemoveScroll"),vV=w.forwardRef((n,t)=>{const{__scopeDialog:s,...r}=n,i=rd(py,s);return e.jsx(ox,{as:xV,allowPinchZoom:!0,shards:[i.contentRef],children:e.jsx(as.div,{"data-state":$w(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Rm="DialogContent",x6=w.forwardRef((n,t)=>{const s=f6(Rm,n.__scopeDialog),{forceMount:r=s.forceMount,...i}=n,a=rd(Rm,n.__scopeDialog);return e.jsx(ma,{present:r||a.open,children:a.modal?e.jsx(yV,{...i,ref:t}):e.jsx(bV,{...i,ref:t})})});x6.displayName=Rm;var yV=w.forwardRef((n,t)=>{const s=rd(Rm,n.__scopeDialog),r=w.useRef(null),i=Ss(t,s.contentRef,r);return w.useEffect(()=>{const a=r.current;if(a)return s0(a)},[]),e.jsx(v6,{...n,ref:i,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:kt(n.onCloseAutoFocus,a=>{var l;a.preventDefault(),(l=s.triggerRef.current)==null||l.focus()}),onPointerDownOutside:kt(n.onPointerDownOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&a.preventDefault()}),onFocusOutside:kt(n.onFocusOutside,a=>a.preventDefault())})}),bV=w.forwardRef((n,t)=>{const s=rd(Rm,n.__scopeDialog),r=w.useRef(!1),i=w.useRef(!1);return e.jsx(v6,{...n,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var l,c;(l=n.onCloseAutoFocus)==null||l.call(n,a),a.defaultPrevented||(r.current||(c=s.triggerRef.current)==null||c.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var u,m;(u=n.onInteractOutside)==null||u.call(n,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=a.target;((m=s.triggerRef.current)==null?void 0:m.contains(l))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),v6=w.forwardRef((n,t)=>{const{__scopeDialog:s,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...l}=n,c=rd(Rm,s),u=w.useRef(null),m=Ss(t,u);return Yy(),e.jsxs(e.Fragment,{children:[e.jsx(sx,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:e.jsx(bp,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":$w(c.open),...l,ref:m,onDismiss:()=>c.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(wV,{titleId:c.titleId}),e.jsx(_V,{contentRef:u,descriptionId:c.descriptionId})]})]})}),Uw="DialogTitle",y6=w.forwardRef((n,t)=>{const{__scopeDialog:s,...r}=n,i=rd(Uw,s);return e.jsx(as.h2,{id:i.titleId,...r,ref:t})});y6.displayName=Uw;var b6="DialogDescription",j6=w.forwardRef((n,t)=>{const{__scopeDialog:s,...r}=n,i=rd(b6,s);return e.jsx(as.p,{id:i.descriptionId,...r,ref:t})});j6.displayName=b6;var w6="DialogClose",N6=w.forwardRef((n,t)=>{const{__scopeDialog:s,...r}=n,i=rd(w6,s);return e.jsx(as.button,{type:"button",...r,ref:t,onClick:kt(n.onClick,()=>i.onOpenChange(!1))})});N6.displayName=w6;function $w(n){return n?"open":"closed"}var _6="DialogTitleWarning",[jV,S6]=W9(_6,{contentName:Rm,titleName:Uw,docsSlug:"dialog"}),wV=({titleId:n})=>{const t=S6(_6),s=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return w.useEffect(()=>{n&&(document.getElementById(n)||console.error(s))},[s,n]),null},NV="DialogDescriptionWarning",_V=({contentRef:n,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${S6(NV).contentName}}.`;return w.useEffect(()=>{var a;const i=(a=n.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,n,t]),null},Vw=u6,Hw=m6,Gw=p6,dx=g6,ux=x6,hx=y6,mx=j6,l0=N6;const C6=Vw,A6=Hw,SV=Gw,k6=w.forwardRef(({className:n,...t},s)=>e.jsx(dx,{className:nt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...t,ref:s}));k6.displayName=dx.displayName;const CV=tx("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Ww=w.forwardRef(({side:n="right",className:t,children:s,...r},i)=>e.jsxs(SV,{children:[e.jsx(k6,{}),e.jsxs(ux,{ref:i,className:nt(CV({side:n}),t),...r,children:[e.jsxs(l0,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[e.jsx(Lr,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]}),s]})]}));Ww.displayName=ux.displayName;const AV=w.forwardRef(({className:n,...t},s)=>e.jsx(hx,{ref:s,className:nt("text-lg font-semibold text-foreground",n),...t}));AV.displayName=hx.displayName;const kV=w.forwardRef(({className:n,...t},s)=>e.jsx(mx,{ref:s,className:nt("text-sm text-muted-foreground",n),...t}));kV.displayName=mx.displayName;function EV({onAIChatOpen:n,className:t}){const s=Ho(),r=[{name:"Home",href:"/",icon:Vy,isActive:s.pathname==="/"},{name:"Search",href:"/businesses",icon:xi,isActive:s.pathname.startsWith("/businesses")||s.pathname.startsWith("/franchises")},{name:"Saved",href:"/saved",icon:Iu,isActive:s.pathname==="/saved",badge:5},{name:"AI Chat",href:"#",icon:Gy,isActive:!1,isAIChat:!0},{name:"Profile",href:"/profile",icon:Aa,isActive:s.pathname==="/profile"}],i=a=>{a.isAIChat&&n&&n()};return e.jsxs("div",{className:`md:hidden ${t}`,children:[e.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 bg-background/95 backdrop-blur-sm border-t border-border",children:e.jsx("div",{className:"flex items-center justify-around py-2 px-4",children:r.map(a=>{const l=a.icon;return a.isAIChat?e.jsxs(ee,{variant:"ghost",size:"sm",onClick:()=>i(a),className:"flex flex-col items-center gap-1 h-auto py-2 px-3 relative",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"p-1.5 bg-primary rounded-full",children:e.jsx(l,{className:"h-4 w-4 text-white"})}),e.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-500 rounded-full animate-pulse"})]}),e.jsx("span",{className:"text-xs font-medium text-primary",children:a.name})]},a.name):e.jsxs(St,{to:a.href,className:`flex flex-col items-center gap-1 py-2 px-3 rounded-lg transition-colors relative ${a.isActive?"text-primary bg-primary/10":"text-muted-foreground hover:text-foreground"}`,children:[e.jsxs("div",{className:"relative",children:[e.jsx(l,{className:`h-5 w-5 ${a.isActive?"text-primary":""}`}),a.badge&&e.jsx(Be,{className:"absolute -top-2 -right-2 h-4 w-4 flex items-center justify-center p-0 text-xs",children:a.badge})]}),e.jsx("span",{className:"text-xs font-medium",children:a.name})]},a.name)})})}),e.jsx("div",{className:"h-20"})]})}const Ue=w.forwardRef(({className:n,type:t,...s},r)=>e.jsx("input",{type:t,className:nt("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:r,...s}));Ue.displayName="Input";const de=w.forwardRef(({className:n,...t},s)=>e.jsx("div",{ref:s,className:nt("rounded-xl border bg-card text-card-foreground shadow",n),...t}));de.displayName="Card";const Me=w.forwardRef(({className:n,...t},s)=>e.jsx("div",{ref:s,className:nt("flex flex-col space-y-1.5 p-6",n),...t}));Me.displayName="CardHeader";const Fe=w.forwardRef(({className:n,...t},s)=>e.jsx("div",{ref:s,className:nt("font-semibold leading-none tracking-tight",n),...t}));Fe.displayName="CardTitle";const ms=w.forwardRef(({className:n,...t},s)=>e.jsx("div",{ref:s,className:nt("text-sm text-muted-foreground",n),...t}));ms.displayName="CardDescription";const fe=w.forwardRef(({className:n,...t},s)=>e.jsx("div",{ref:s,className:nt("p-6 pt-0",n),...t}));fe.displayName="CardContent";const Yw=w.forwardRef(({className:n,...t},s)=>e.jsx("div",{ref:s,className:nt("flex items-center p-6 pt-0",n),...t}));Yw.displayName="CardFooter";function qg(n,[t,s]){return Math.min(s,Math.max(t,n))}function TV(n,t){return w.useReducer((s,r)=>t[s][r]??s,n)}var Zw="ScrollArea",[E6]=qa(Zw),[PV,wc]=E6(Zw),T6=w.forwardRef((n,t)=>{const{__scopeScrollArea:s,type:r="hover",dir:i,scrollHideDelay:a=600,...l}=n,[c,u]=w.useState(null),[m,g]=w.useState(null),[p,y]=w.useState(null),[x,_]=w.useState(null),[j,A]=w.useState(null),[C,P]=w.useState(0),[S,O]=w.useState(0),[z,V]=w.useState(!1),[B,D]=w.useState(!1),K=Ss(t,$=>u($)),H=$m(i);return e.jsx(PV,{scope:s,type:r,dir:H,scrollHideDelay:a,scrollArea:c,viewport:m,onViewportChange:g,content:p,onContentChange:y,scrollbarX:x,onScrollbarXChange:_,scrollbarXEnabled:z,onScrollbarXEnabledChange:V,scrollbarY:j,onScrollbarYChange:A,scrollbarYEnabled:B,onScrollbarYEnabledChange:D,onCornerWidthChange:P,onCornerHeightChange:O,children:e.jsx(as.div,{dir:H,...l,ref:K,style:{position:"relative","--radix-scroll-area-corner-width":C+"px","--radix-scroll-area-corner-height":S+"px",...n.style}})})});T6.displayName=Zw;var P6="ScrollAreaViewport",L6=w.forwardRef((n,t)=>{const{__scopeScrollArea:s,children:r,nonce:i,...a}=n,l=wc(P6,s),c=w.useRef(null),u=Ss(t,c,l.onViewportChange);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),e.jsx(as.div,{"data-radix-scroll-area-viewport":"",...a,ref:u,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...n.style},children:e.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});L6.displayName=P6;var eu="ScrollAreaScrollbar",Kw=w.forwardRef((n,t)=>{const{forceMount:s,...r}=n,i=wc(eu,n.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:l}=i,c=n.orientation==="horizontal";return w.useEffect(()=>(c?a(!0):l(!0),()=>{c?a(!1):l(!1)}),[c,a,l]),i.type==="hover"?e.jsx(LV,{...r,ref:t,forceMount:s}):i.type==="scroll"?e.jsx(RV,{...r,ref:t,forceMount:s}):i.type==="auto"?e.jsx(R6,{...r,ref:t,forceMount:s}):i.type==="always"?e.jsx(Jw,{...r,ref:t}):null});Kw.displayName=eu;var LV=w.forwardRef((n,t)=>{const{forceMount:s,...r}=n,i=wc(eu,n.__scopeScrollArea),[a,l]=w.useState(!1);return w.useEffect(()=>{const c=i.scrollArea;let u=0;if(c){const m=()=>{window.clearTimeout(u),l(!0)},g=()=>{u=window.setTimeout(()=>l(!1),i.scrollHideDelay)};return c.addEventListener("pointerenter",m),c.addEventListener("pointerleave",g),()=>{window.clearTimeout(u),c.removeEventListener("pointerenter",m),c.removeEventListener("pointerleave",g)}}},[i.scrollArea,i.scrollHideDelay]),e.jsx(ma,{present:s||a,children:e.jsx(R6,{"data-state":a?"visible":"hidden",...r,ref:t})})}),RV=w.forwardRef((n,t)=>{const{forceMount:s,...r}=n,i=wc(eu,n.__scopeScrollArea),a=n.orientation==="horizontal",l=d0(()=>u("SCROLL_END"),100),[c,u]=TV("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return w.useEffect(()=>{if(c==="idle"){const m=window.setTimeout(()=>u("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(m)}},[c,i.scrollHideDelay,u]),w.useEffect(()=>{const m=i.viewport,g=a?"scrollLeft":"scrollTop";if(m){let p=m[g];const y=()=>{const x=m[g];p!==x&&(u("SCROLL"),l()),p=x};return m.addEventListener("scroll",y),()=>m.removeEventListener("scroll",y)}},[i.viewport,a,u,l]),e.jsx(ma,{present:s||c!=="hidden",children:e.jsx(Jw,{"data-state":c==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:kt(n.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:kt(n.onPointerLeave,()=>u("POINTER_LEAVE"))})})}),R6=w.forwardRef((n,t)=>{const s=wc(eu,n.__scopeScrollArea),{forceMount:r,...i}=n,[a,l]=w.useState(!1),c=n.orientation==="horizontal",u=d0(()=>{if(s.viewport){const m=s.viewport.offsetWidth<s.viewport.scrollWidth,g=s.viewport.offsetHeight<s.viewport.scrollHeight;l(c?m:g)}},10);return rp(s.viewport,u),rp(s.content,u),e.jsx(ma,{present:r||a,children:e.jsx(Jw,{"data-state":a?"visible":"hidden",...i,ref:t})})}),Jw=w.forwardRef((n,t)=>{const{orientation:s="vertical",...r}=n,i=wc(eu,n.__scopeScrollArea),a=w.useRef(null),l=w.useRef(0),[c,u]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),m=F6(c.viewport,c.content),g={...r,sizes:c,onSizesChange:u,hasThumb:m>0&&m<1,onThumbChange:y=>a.current=y,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:y=>l.current=y};function p(y,x){return BV(y,l.current,c,x)}return s==="horizontal"?e.jsx(OV,{...g,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const y=i.viewport.scrollLeft,x=I4(y,c,i.dir);a.current.style.transform=`translate3d(${x}px, 0, 0)`}},onWheelScroll:y=>{i.viewport&&(i.viewport.scrollLeft=y)},onDragScroll:y=>{i.viewport&&(i.viewport.scrollLeft=p(y,i.dir))}}):s==="vertical"?e.jsx(MV,{...g,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const y=i.viewport.scrollTop,x=I4(y,c);a.current.style.transform=`translate3d(0, ${x}px, 0)`}},onWheelScroll:y=>{i.viewport&&(i.viewport.scrollTop=y)},onDragScroll:y=>{i.viewport&&(i.viewport.scrollTop=p(y))}}):null}),OV=w.forwardRef((n,t)=>{const{sizes:s,onSizesChange:r,...i}=n,a=wc(eu,n.__scopeScrollArea),[l,c]=w.useState(),u=w.useRef(null),m=Ss(t,u,a.onScrollbarXChange);return w.useEffect(()=>{u.current&&c(getComputedStyle(u.current))},[u]),e.jsx(M6,{"data-orientation":"horizontal",...i,ref:m,sizes:s,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":c0(s)+"px",...n.style},onThumbPointerDown:g=>n.onThumbPointerDown(g.x),onDragScroll:g=>n.onDragScroll(g.x),onWheelScroll:(g,p)=>{if(a.viewport){const y=a.viewport.scrollLeft+g.deltaX;n.onWheelScroll(y),z6(y,p)&&g.preventDefault()}},onResize:()=>{u.current&&a.viewport&&l&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:xy(l.paddingLeft),paddingEnd:xy(l.paddingRight)}})}})}),MV=w.forwardRef((n,t)=>{const{sizes:s,onSizesChange:r,...i}=n,a=wc(eu,n.__scopeScrollArea),[l,c]=w.useState(),u=w.useRef(null),m=Ss(t,u,a.onScrollbarYChange);return w.useEffect(()=>{u.current&&c(getComputedStyle(u.current))},[u]),e.jsx(M6,{"data-orientation":"vertical",...i,ref:m,sizes:s,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":c0(s)+"px",...n.style},onThumbPointerDown:g=>n.onThumbPointerDown(g.y),onDragScroll:g=>n.onDragScroll(g.y),onWheelScroll:(g,p)=>{if(a.viewport){const y=a.viewport.scrollTop+g.deltaY;n.onWheelScroll(y),z6(y,p)&&g.preventDefault()}},onResize:()=>{u.current&&a.viewport&&l&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:xy(l.paddingTop),paddingEnd:xy(l.paddingBottom)}})}})}),[DV,O6]=E6(eu),M6=w.forwardRef((n,t)=>{const{__scopeScrollArea:s,sizes:r,hasThumb:i,onThumbChange:a,onThumbPointerUp:l,onThumbPointerDown:c,onThumbPositionChange:u,onDragScroll:m,onWheelScroll:g,onResize:p,...y}=n,x=wc(eu,s),[_,j]=w.useState(null),A=Ss(t,K=>j(K)),C=w.useRef(null),P=w.useRef(""),S=x.viewport,O=r.content-r.viewport,z=Fa(g),V=Fa(u),B=d0(p,10);function D(K){if(C.current){const H=K.clientX-C.current.left,$=K.clientY-C.current.top;m({x:H,y:$})}}return w.useEffect(()=>{const K=H=>{const $=H.target;(_==null?void 0:_.contains($))&&z(H,O)};return document.addEventListener("wheel",K,{passive:!1}),()=>document.removeEventListener("wheel",K,{passive:!1})},[S,_,O,z]),w.useEffect(V,[r,V]),rp(_,B),rp(x.content,B),e.jsx(DV,{scope:s,scrollbar:_,hasThumb:i,onThumbChange:Fa(a),onThumbPointerUp:Fa(l),onThumbPositionChange:V,onThumbPointerDown:Fa(c),children:e.jsx(as.div,{...y,ref:A,style:{position:"absolute",...y.style},onPointerDown:kt(n.onPointerDown,K=>{K.button===0&&(K.target.setPointerCapture(K.pointerId),C.current=_.getBoundingClientRect(),P.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),D(K))}),onPointerMove:kt(n.onPointerMove,D),onPointerUp:kt(n.onPointerUp,K=>{const H=K.target;H.hasPointerCapture(K.pointerId)&&H.releasePointerCapture(K.pointerId),document.body.style.webkitUserSelect=P.current,x.viewport&&(x.viewport.style.scrollBehavior=""),C.current=null})})})}),gy="ScrollAreaThumb",D6=w.forwardRef((n,t)=>{const{forceMount:s,...r}=n,i=O6(gy,n.__scopeScrollArea);return e.jsx(ma,{present:s||i.hasThumb,children:e.jsx(IV,{ref:t,...r})})}),IV=w.forwardRef((n,t)=>{const{__scopeScrollArea:s,style:r,...i}=n,a=wc(gy,s),l=O6(gy,s),{onThumbPositionChange:c}=l,u=Ss(t,p=>l.onThumbChange(p)),m=w.useRef(void 0),g=d0(()=>{m.current&&(m.current(),m.current=void 0)},100);return w.useEffect(()=>{const p=a.viewport;if(p){const y=()=>{if(g(),!m.current){const x=zV(p,c);m.current=x,c()}};return c(),p.addEventListener("scroll",y),()=>p.removeEventListener("scroll",y)}},[a.viewport,g,c]),e.jsx(as.div,{"data-state":l.hasThumb?"visible":"hidden",...i,ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:kt(n.onPointerDownCapture,p=>{const x=p.target.getBoundingClientRect(),_=p.clientX-x.left,j=p.clientY-x.top;l.onThumbPointerDown({x:_,y:j})}),onPointerUp:kt(n.onPointerUp,l.onThumbPointerUp)})});D6.displayName=gy;var Xw="ScrollAreaCorner",I6=w.forwardRef((n,t)=>{const s=wc(Xw,n.__scopeScrollArea),r=!!(s.scrollbarX&&s.scrollbarY);return s.type!=="scroll"&&r?e.jsx(FV,{...n,ref:t}):null});I6.displayName=Xw;var FV=w.forwardRef((n,t)=>{const{__scopeScrollArea:s,...r}=n,i=wc(Xw,s),[a,l]=w.useState(0),[c,u]=w.useState(0),m=!!(a&&c);return rp(i.scrollbarX,()=>{var p;const g=((p=i.scrollbarX)==null?void 0:p.offsetHeight)||0;i.onCornerHeightChange(g),u(g)}),rp(i.scrollbarY,()=>{var p;const g=((p=i.scrollbarY)==null?void 0:p.offsetWidth)||0;i.onCornerWidthChange(g),l(g)}),m?e.jsx(as.div,{...r,ref:t,style:{width:a,height:c,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...n.style}}):null});function xy(n){return n?parseInt(n,10):0}function F6(n,t){const s=n/t;return isNaN(s)?0:s}function c0(n){const t=F6(n.viewport,n.content),s=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,r=(n.scrollbar.size-s)*t;return Math.max(r,18)}function BV(n,t,s,r="ltr"){const i=c0(s),a=i/2,l=t||a,c=i-l,u=s.scrollbar.paddingStart+l,m=s.scrollbar.size-s.scrollbar.paddingEnd-c,g=s.content-s.viewport,p=r==="ltr"?[0,g]:[g*-1,0];return B6([u,m],p)(n)}function I4(n,t,s="ltr"){const r=c0(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-i,l=t.content-t.viewport,c=a-r,u=s==="ltr"?[0,l]:[l*-1,0],m=qg(n,u);return B6([0,l],[0,c])(m)}function B6(n,t){return s=>{if(n[0]===n[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(n[1]-n[0]);return t[0]+r*(s-n[0])}}function z6(n,t){return n>0&&n<t}var zV=(n,t=()=>{})=>{let s={left:n.scrollLeft,top:n.scrollTop},r=0;return(function i(){const a={left:n.scrollLeft,top:n.scrollTop},l=s.left!==a.left,c=s.top!==a.top;(l||c)&&t(),s=a,r=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(r)};function d0(n,t){const s=Fa(n),r=w.useRef(0);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),w.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(s,t)},[s,t])}function rp(n,t){const s=Fa(t);qi(()=>{let r=0;if(n){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(s)});return i.observe(n),()=>{window.cancelAnimationFrame(r),i.unobserve(n)}}},[n,s])}var q6=T6,qV=L6,UV=I6;const Bh=w.forwardRef(({className:n,children:t,...s},r)=>e.jsxs(q6,{ref:r,className:nt("relative overflow-hidden",n),...s,children:[e.jsx(qV,{className:"h-full w-full rounded-[inherit]",children:t}),e.jsx(U6,{}),e.jsx(UV,{})]}));Bh.displayName=q6.displayName;const U6=w.forwardRef(({className:n,orientation:t="vertical",...s},r)=>e.jsx(Kw,{ref:r,orientation:t,className:nt("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",n),...s,children:e.jsx(D6,{className:"relative flex-1 rounded-full bg-border"})}));U6.displayName=Kw.displayName;var F4;(function(n){n.STRING="string",n.NUMBER="number",n.INTEGER="integer",n.BOOLEAN="boolean",n.ARRAY="array",n.OBJECT="object"})(F4||(F4={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var B4;(function(n){n.LANGUAGE_UNSPECIFIED="language_unspecified",n.PYTHON="python"})(B4||(B4={}));var z4;(function(n){n.OUTCOME_UNSPECIFIED="outcome_unspecified",n.OUTCOME_OK="outcome_ok",n.OUTCOME_FAILED="outcome_failed",n.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(z4||(z4={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4=["user","model","function","system"];var U4;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(U4||(U4={}));var $4;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})($4||($4={}));var V4;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(V4||(V4={}));var H4;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER"})(H4||(H4={}));var kg;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.OTHER="OTHER"})(kg||(kg={}));var G4;(function(n){n.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",n.RETRIEVAL_QUERY="RETRIEVAL_QUERY",n.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",n.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",n.CLASSIFICATION="CLASSIFICATION",n.CLUSTERING="CLUSTERING"})(G4||(G4={}));var W4;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE"})(W4||(W4={}));var Y4;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Y4||(Y4={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class Af extends So{constructor(t,s){super(t),this.response=s}}class $6 extends So{constructor(t,s,r,i){super(t),this.status=s,this.statusText=r,this.errorDetails=i}}class Ph extends So{}class V6 extends So{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V="https://generativelanguage.googleapis.com",VV="v1beta",HV="0.24.1",GV="genai-js";var Om;(function(n){n.GENERATE_CONTENT="generateContent",n.STREAM_GENERATE_CONTENT="streamGenerateContent",n.COUNT_TOKENS="countTokens",n.EMBED_CONTENT="embedContent",n.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Om||(Om={}));class WV{constructor(t,s,r,i,a){this.model=t,this.task=s,this.apiKey=r,this.stream=i,this.requestOptions=a}toString(){var t,s;const r=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||VV;let a=`${((s=this.requestOptions)===null||s===void 0?void 0:s.baseUrl)||$V}/${r}/${this.model}:${this.task}`;return this.stream&&(a+="?alt=sse"),a}}function YV(n){const t=[];return n!=null&&n.apiClient&&t.push(n.apiClient),t.push(`${GV}/${HV}`),t.join(" ")}async function ZV(n){var t;const s=new Headers;s.append("Content-Type","application/json"),s.append("x-goog-api-client",YV(n.requestOptions)),s.append("x-goog-api-key",n.apiKey);let r=(t=n.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(i){throw new Ph(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${i.message}`)}for(const[i,a]of r.entries()){if(i==="x-goog-api-key")throw new Ph(`Cannot set reserved header name ${i}`);if(i==="x-goog-api-client")throw new Ph(`Header name ${i} can only be set using the apiClient field`);s.append(i,a)}}return s}async function KV(n,t,s,r,i,a){const l=new WV(n,t,s,r,a);return{url:l.toString(),fetchOptions:Object.assign(Object.assign({},eH(a)),{method:"POST",headers:await ZV(l),body:i})}}async function fx(n,t,s,r,i,a={},l=fetch){const{url:c,fetchOptions:u}=await KV(n,t,s,r,i,a);return JV(c,u,l)}async function JV(n,t,s=fetch){let r;try{r=await s(n,t)}catch(i){XV(i,n)}return r.ok||await QV(r,n),r}function XV(n,t){let s=n;throw s.name==="AbortError"?(s=new V6(`Request aborted when fetching ${t.toString()}: ${n.message}`),s.stack=n.stack):n instanceof $6||n instanceof Ph||(s=new So(`Error fetching from ${t.toString()}: ${n.message}`),s.stack=n.stack),s}async function QV(n,t){let s="",r;try{const i=await n.json();s=i.error.message,i.error.details&&(s+=` ${JSON.stringify(i.error.details)}`,r=i.error.details)}catch{}throw new $6(`Error fetching from ${t.toString()}: [${n.status} ${n.statusText}] ${s}`,n.status,n.statusText,r)}function eH(n){const t={};if((n==null?void 0:n.signal)!==void 0||(n==null?void 0:n.timeout)>=0){const s=new AbortController;(n==null?void 0:n.timeout)>=0&&setTimeout(()=>s.abort(),n.timeout),n!=null&&n.signal&&n.signal.addEventListener("abort",()=>{s.abort()}),t.signal=s.signal}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(n){return n.text=()=>{if(n.candidates&&n.candidates.length>0){if(n.candidates.length>1&&console.warn(`This response had ${n.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Hv(n.candidates[0]))throw new Af(`${_h(n)}`,n);return tH(n)}else if(n.promptFeedback)throw new Af(`Text not available. ${_h(n)}`,n);return""},n.functionCall=()=>{if(n.candidates&&n.candidates.length>0){if(n.candidates.length>1&&console.warn(`This response had ${n.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Hv(n.candidates[0]))throw new Af(`${_h(n)}`,n);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),Z4(n)[0]}else if(n.promptFeedback)throw new Af(`Function call not available. ${_h(n)}`,n)},n.functionCalls=()=>{if(n.candidates&&n.candidates.length>0){if(n.candidates.length>1&&console.warn(`This response had ${n.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Hv(n.candidates[0]))throw new Af(`${_h(n)}`,n);return Z4(n)}else if(n.promptFeedback)throw new Af(`Function call not available. ${_h(n)}`,n)},n}function tH(n){var t,s,r,i;const a=[];if(!((s=(t=n.candidates)===null||t===void 0?void 0:t[0].content)===null||s===void 0)&&s.parts)for(const l of(i=(r=n.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)l.text&&a.push(l.text),l.executableCode&&a.push("\n```"+l.executableCode.language+`
`+l.executableCode.code+"\n```\n"),l.codeExecutionResult&&a.push("\n```\n"+l.codeExecutionResult.output+"\n```\n");return a.length>0?a.join(""):""}function Z4(n){var t,s,r,i;const a=[];if(!((s=(t=n.candidates)===null||t===void 0?void 0:t[0].content)===null||s===void 0)&&s.parts)for(const l of(i=(r=n.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)l.functionCall&&a.push(l.functionCall);if(a.length>0)return a}const sH=[kg.RECITATION,kg.SAFETY,kg.LANGUAGE];function Hv(n){return!!n.finishReason&&sH.includes(n.finishReason)}function _h(n){var t,s,r;let i="";if((!n.candidates||n.candidates.length===0)&&n.promptFeedback)i+="Response was blocked",!((t=n.promptFeedback)===null||t===void 0)&&t.blockReason&&(i+=` due to ${n.promptFeedback.blockReason}`),!((s=n.promptFeedback)===null||s===void 0)&&s.blockReasonMessage&&(i+=`: ${n.promptFeedback.blockReasonMessage}`);else if(!((r=n.candidates)===null||r===void 0)&&r[0]){const a=n.candidates[0];Hv(a)&&(i+=`Candidate was blocked due to ${a.finishReason}`,a.finishMessage&&(i+=`: ${a.finishMessage}`))}return i}function Ug(n){return this instanceof Ug?(this.v=n,this):new Ug(n)}function nH(n,t,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=s.apply(n,t||[]),i,a=[];return i={},l("next"),l("throw"),l("return"),i[Symbol.asyncIterator]=function(){return this},i;function l(y){r[y]&&(i[y]=function(x){return new Promise(function(_,j){a.push([y,x,_,j])>1||c(y,x)})})}function c(y,x){try{u(r[y](x))}catch(_){p(a[0][3],_)}}function u(y){y.value instanceof Ug?Promise.resolve(y.value.v).then(m,g):p(a[0][2],y)}function m(y){c("next",y)}function g(y){c("throw",y)}function p(y,x){y(x),a.shift(),a.length&&c(a[0][0],a[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function rH(n){const t=n.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),s=oH(t),[r,i]=s.tee();return{stream:aH(r),response:iH(i)}}async function iH(n){const t=[],s=n.getReader();for(;;){const{done:r,value:i}=await s.read();if(r)return Qw(lH(t));t.push(i)}}function aH(n){return nH(this,arguments,function*(){const s=n.getReader();for(;;){const{value:r,done:i}=yield Ug(s.read());if(i)break;yield yield Ug(Qw(r))}})}function oH(n){const t=n.getReader();return new ReadableStream({start(r){let i="";return a();function a(){return t.read().then(({value:l,done:c})=>{if(c){if(i.trim()){r.error(new So("Failed to parse stream"));return}r.close();return}i+=l;let u=i.match(K4),m;for(;u;){try{m=JSON.parse(u[1])}catch{r.error(new So(`Error parsing JSON response: "${u[1]}"`));return}r.enqueue(m),i=i.substring(u[0].length),u=i.match(K4)}return a()}).catch(l=>{let c=l;throw c.stack=l.stack,c.name==="AbortError"?c=new V6("Request aborted when reading from the stream"):c=new So("Error reading from the stream"),c})}}})}function lH(n){const t=n[n.length-1],s={promptFeedback:t==null?void 0:t.promptFeedback};for(const r of n){if(r.candidates){let i=0;for(const a of r.candidates)if(s.candidates||(s.candidates=[]),s.candidates[i]||(s.candidates[i]={index:i}),s.candidates[i].citationMetadata=a.citationMetadata,s.candidates[i].groundingMetadata=a.groundingMetadata,s.candidates[i].finishReason=a.finishReason,s.candidates[i].finishMessage=a.finishMessage,s.candidates[i].safetyRatings=a.safetyRatings,a.content&&a.content.parts){s.candidates[i].content||(s.candidates[i].content={role:a.content.role||"user",parts:[]});const l={};for(const c of a.content.parts)c.text&&(l.text=c.text),c.functionCall&&(l.functionCall=c.functionCall),c.executableCode&&(l.executableCode=c.executableCode),c.codeExecutionResult&&(l.codeExecutionResult=c.codeExecutionResult),Object.keys(l).length===0&&(l.text=""),s.candidates[i].content.parts.push(l)}i++}r.usageMetadata&&(s.usageMetadata=r.usageMetadata)}return s}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H6(n,t,s,r){const i=await fx(t,Om.STREAM_GENERATE_CONTENT,n,!0,JSON.stringify(s),r);return rH(i)}async function G6(n,t,s,r){const a=await(await fx(t,Om.GENERATE_CONTENT,n,!1,JSON.stringify(s),r)).json();return{response:Qw(a)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W6(n){if(n!=null){if(typeof n=="string")return{role:"system",parts:[{text:n}]};if(n.text)return{role:"system",parts:[n]};if(n.parts)return n.role?n:{role:"system",parts:n.parts}}}function $g(n){let t=[];if(typeof n=="string")t=[{text:n}];else for(const s of n)typeof s=="string"?t.push({text:s}):t.push(s);return cH(t)}function cH(n){const t={role:"user",parts:[]},s={role:"function",parts:[]};let r=!1,i=!1;for(const a of n)"functionResponse"in a?(s.parts.push(a),i=!0):(t.parts.push(a),r=!0);if(r&&i)throw new So("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!i)throw new So("No content is provided for sending chat message.");return r?t:s}function dH(n,t){var s;let r={model:t==null?void 0:t.model,generationConfig:t==null?void 0:t.generationConfig,safetySettings:t==null?void 0:t.safetySettings,tools:t==null?void 0:t.tools,toolConfig:t==null?void 0:t.toolConfig,systemInstruction:t==null?void 0:t.systemInstruction,cachedContent:(s=t==null?void 0:t.cachedContent)===null||s===void 0?void 0:s.name,contents:[]};const i=n.generateContentRequest!=null;if(n.contents){if(i)throw new Ph("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=n.contents}else if(i)r=Object.assign(Object.assign({},r),n.generateContentRequest);else{const a=$g(n);r.contents=[a]}return{generateContentRequest:r}}function J4(n){let t;return n.contents?t=n:t={contents:[$g(n)]},n.systemInstruction&&(t.systemInstruction=W6(n.systemInstruction)),t}function uH(n){return typeof n=="string"||Array.isArray(n)?{content:$g(n)}:n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],hH={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function mH(n){let t=!1;for(const s of n){const{role:r,parts:i}=s;if(!t&&r!=="user")throw new So(`First content should be with role 'user', got ${r}`);if(!q4.includes(r))throw new So(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(q4)}`);if(!Array.isArray(i))throw new So("Content should have 'parts' property with an array of Parts");if(i.length===0)throw new So("Each Content should have at least one part");const a={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const c of i)for(const u of X4)u in c&&(a[u]+=1);const l=hH[r];for(const c of X4)if(!l.includes(c)&&a[c]>0)throw new So(`Content with role '${r}' can't contain '${c}' part`);t=!0}}function Q4(n){var t;if(n.candidates===void 0||n.candidates.length===0)return!1;const s=(t=n.candidates[0])===null||t===void 0?void 0:t.content;if(s===void 0||s.parts===void 0||s.parts.length===0)return!1;for(const r of s.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS="SILENT_ERROR";class fH{constructor(t,s,r,i={}){this.model=s,this.params=r,this._requestOptions=i,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,r!=null&&r.history&&(mH(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,s={}){var r,i,a,l,c,u;await this._sendPromise;const m=$g(t),g={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(a=this.params)===null||a===void 0?void 0:a.tools,toolConfig:(l=this.params)===null||l===void 0?void 0:l.toolConfig,systemInstruction:(c=this.params)===null||c===void 0?void 0:c.systemInstruction,cachedContent:(u=this.params)===null||u===void 0?void 0:u.cachedContent,contents:[...this._history,m]},p=Object.assign(Object.assign({},this._requestOptions),s);let y;return this._sendPromise=this._sendPromise.then(()=>G6(this._apiKey,this.model,g,p)).then(x=>{var _;if(Q4(x.response)){this._history.push(m);const j=Object.assign({parts:[],role:"model"},(_=x.response.candidates)===null||_===void 0?void 0:_[0].content);this._history.push(j)}else{const j=_h(x.response);j&&console.warn(`sendMessage() was unsuccessful. ${j}. Inspect response object for details.`)}y=x}).catch(x=>{throw this._sendPromise=Promise.resolve(),x}),await this._sendPromise,y}async sendMessageStream(t,s={}){var r,i,a,l,c,u;await this._sendPromise;const m=$g(t),g={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(a=this.params)===null||a===void 0?void 0:a.tools,toolConfig:(l=this.params)===null||l===void 0?void 0:l.toolConfig,systemInstruction:(c=this.params)===null||c===void 0?void 0:c.systemInstruction,cachedContent:(u=this.params)===null||u===void 0?void 0:u.cachedContent,contents:[...this._history,m]},p=Object.assign(Object.assign({},this._requestOptions),s),y=H6(this._apiKey,this.model,g,p);return this._sendPromise=this._sendPromise.then(()=>y).catch(x=>{throw new Error(eS)}).then(x=>x.response).then(x=>{if(Q4(x)){this._history.push(m);const _=Object.assign({},x.candidates[0].content);_.role||(_.role="model"),this._history.push(_)}else{const _=_h(x);_&&console.warn(`sendMessageStream() was unsuccessful. ${_}. Inspect response object for details.`)}}).catch(x=>{x.message!==eS&&console.error(x)}),y}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pH(n,t,s,r){return(await fx(t,Om.COUNT_TOKENS,n,!1,JSON.stringify(s),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gH(n,t,s,r){return(await fx(t,Om.EMBED_CONTENT,n,!1,JSON.stringify(s),r)).json()}async function xH(n,t,s,r){const i=s.requests.map(l=>Object.assign(Object.assign({},l),{model:t}));return(await fx(t,Om.BATCH_EMBED_CONTENTS,n,!1,JSON.stringify({requests:i}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(t,s,r={}){this.apiKey=t,this._requestOptions=r,s.model.includes("/")?this.model=s.model:this.model=`models/${s.model}`,this.generationConfig=s.generationConfig||{},this.safetySettings=s.safetySettings||[],this.tools=s.tools,this.toolConfig=s.toolConfig,this.systemInstruction=W6(s.systemInstruction),this.cachedContent=s.cachedContent}async generateContent(t,s={}){var r;const i=J4(t),a=Object.assign(Object.assign({},this._requestOptions),s);return G6(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),a)}async generateContentStream(t,s={}){var r;const i=J4(t),a=Object.assign(Object.assign({},this._requestOptions),s);return H6(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),a)}startChat(t){var s;return new fH(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(s=this.cachedContent)===null||s===void 0?void 0:s.name},t),this._requestOptions)}async countTokens(t,s={}){const r=dH(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),i=Object.assign(Object.assign({},this._requestOptions),s);return pH(this.apiKey,this.model,r,i)}async embedContent(t,s={}){const r=uH(t),i=Object.assign(Object.assign({},this._requestOptions),s);return gH(this.apiKey,this.model,r,i)}async batchEmbedContents(t,s={}){const r=Object.assign(Object.assign({},this._requestOptions),s);return xH(this.apiKey,this.model,t,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(t){this.apiKey=t}getGenerativeModel(t,s){if(!t.model)throw new So("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new tS(this.apiKey,t,s)}getGenerativeModelFromCachedContent(t,s,r){if(!t.name)throw new Ph("Cached content must contain a `name` field.");if(!t.model)throw new Ph("Cached content must contain a `model` field.");const i=["model","systemInstruction"];for(const l of i)if(s!=null&&s[l]&&t[l]&&(s==null?void 0:s[l])!==t[l]){if(l==="model"){const c=s.model.startsWith("models/")?s.model.replace("models/",""):s.model,u=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(c===u)continue}throw new Ph(`Different value for "${l}" specified in modelParams (${s[l]}) and cachedContent (${t[l]})`)}const a=Object.assign(Object.assign({},s),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new tS(this.apiKey,a,r)}}const vH=new Hu("AIzaSyDA1C1RXqj1ZGGJMrBnPtCRG3KZrADJxkU"),yH={ajay:{name:"Ajay Kumar",role:"Business Acquisition Specialist",systemPrompt:`You are Ajay Kumar, a Business Acquisition Specialist with 8+ years of experience in business acquisitions, valuations, and due diligence. Your expertise includes:
- Business valuation using multiple methods (DCF, comparable sales, asset-based)
- Due diligence processes (financial, legal, operational)
- Market analysis and competitive positioning
- Negotiation strategies and deal structuring
- ROI calculations and financial projections

You provide practical, actionable advice to buyers looking to acquire businesses. Be professional, knowledgeable, and helpful. When discussing valuations or financials, always remind users to consult with financial advisors for final decisions.

Format your responses clearly with bullet points and specific numbers when possible. If you need more information to provide accurate advice, ask clarifying questions.`},vijay:{name:"Vijay Sharma",role:"Franchise Development Expert",systemPrompt:`You are Vijay Sharma, a Franchise Development Expert specializing in franchise models, territory planning, and franchisee success. Your expertise includes:
- Franchise business models and structures
- ROI analysis for franchise investments
- Territory planning and market assessment
- Franchise agreement evaluation
- Multi-unit development strategies
- Franchise compliance and legal considerations

You help aspiring franchisees evaluate opportunities and make informed decisions. Be encouraging yet realistic about franchise investments. Provide detailed analysis of costs, potential returns, and risks.

Format your responses clearly with specific numbers, timelines, and actionable steps. Always emphasize the importance of reviewing the Franchise Disclosure Document (FDD).`}};class Nm{static async sendMessage(t,s,r,i=[]){var a;try{const l=yH[s];let c="";r!=null&&r.businessData&&(c+=`

Business Context:
${JSON.stringify(r.businessData,null,2)}`),r!=null&&r.franchiseData&&(c+=`

Franchise Context:
${JSON.stringify(r.franchiseData,null,2)}`);const u=i.filter(x=>x.role==="user"||x.role==="model").map(x=>({role:x.role,parts:[{text:x.parts}]}));u.length>0&&u[0].role!=="user"&&u.shift();const m=this.model.startChat({history:u,generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:1024}}),g=u.length===0?`${l.systemPrompt}${c}

User: ${t}`:t;return(await(await m.sendMessage(g)).response).text()}catch(l){throw console.error("Gemini API Error:",l),(a=l.message)!=null&&a.includes("API key")?new Error("Invalid API key. Please check your Google AI API key in environment variables."):new Error(`AI service error: ${l.message||"Unknown error"}`)}}static async generateValuation(t){const s=`As a business valuation expert, provide a detailed valuation analysis for the following business:

Revenue: ${t.revenue?`${t.revenue.toLocaleString()}`:"Not provided"}
Annual Profit: ${t.profit?`${t.profit.toLocaleString()}`:"Not provided"}
Assets: ${t.assets?`${t.assets.toLocaleString()}`:"Not provided"}
Industry: ${t.industry||"Not specified"}
Location: ${t.location||"Not specified"}
Year Established: ${t.yearEstablished||"Not specified"}

Provide:
1. Estimated valuation range using multiple methods (revenue multiple, EBITDA multiple, asset-based)
2. Key valuation factors and assumptions
3. Industry-specific considerations
4. Potential risks and red flags
5. Recommended due diligence steps

Format the response clearly with specific numbers in Indian Rupees ().`;try{return(await(await this.model.generateContent(s)).response).text()}catch(r){throw console.error("Valuation generation error:",r),new Error("Failed to generate valuation analysis")}}static async generateFranchiseROI(t){const s=`As a franchise investment expert, provide a detailed ROI analysis for the following franchise opportunity:

Brand: ${t.brandName||"Franchise"}
Franchise Fee: ${t.franchiseFee?`${t.franchiseFee.toLocaleString()}`:"Not provided"}
Total Investment: ${t.totalInvestment?`${t.totalInvestment.toLocaleString()}`:"Not provided"}
Royalty: ${t.royaltyPercentage?`${t.royaltyPercentage}%`:"Not provided"}
Average Unit Revenue: ${t.averageRevenue?`${t.averageRevenue.toLocaleString()}`:"Not provided"}

Provide:
1. Estimated ROI and payback period
2. Year-by-year profit projections (first 5 years)
3. Break-even analysis
4. Cash flow considerations
5. Risk assessment
6. Comparison with industry benchmarks

Format the response with specific numbers in Indian Rupees () and realistic timelines.`;try{return(await(await this.model.generateContent(s)).response).text()}catch(r){throw console.error("ROI generation error:",r),new Error("Failed to generate ROI analysis")}}static async generateMarketAnalysis(t){const s=`Provide a comprehensive market analysis for:

Industry: ${t.industry||"Not specified"}
Location: ${t.location||"India"}
Business Type: ${t.businessType||"Not specified"}

Include:
1. Market size and growth trends in India
2. Competitive landscape
3. Target customer demographics
4. Entry barriers and opportunities
5. Regulatory considerations
6. Growth potential and risks
7. Key success factors

Provide specific insights relevant to the Indian market with data-driven recommendations.`;try{return(await(await this.model.generateContent(s)).response).text()}catch(r){throw console.error("Market analysis error:",r),new Error("Failed to generate market analysis")}}static async analyzeDocument(t,s){const i=`${{financial:"Analyze this financial document and provide key insights, red flags, and recommendations:",legal:"Review this legal document and highlight important clauses, risks, and compliance issues:",operational:"Analyze this operational document and provide insights on efficiency, processes, and improvements:"}[s]}

${t.substring(0,5e3)}`;try{return(await(await this.model.generateContent(i)).response).text()}catch(a){throw console.error("Document analysis error:",a),new Error("Failed to analyze document")}}static async generateDueDiligenceChecklist(t){const s=`Create a comprehensive due diligence checklist for acquiring a business with these details:

Industry: ${t.industry||"Not specified"}
Business Type: ${t.businessType||"Not specified"}
Transaction Size: ${t.transactionSize?`${t.transactionSize.toLocaleString()}`:"Not specified"}

Provide a detailed checklist covering:
1. Financial due diligence items
2. Legal and compliance review
3. Operational assessment
4. Market and competitive analysis
5. Human resources review
6. Technology and IP audit
7. Environmental and regulatory compliance

Format as a structured checklist with priorities (Critical, Important, Recommended).`;try{return(await(await this.model.generateContent(s)).response).text()}catch(r){throw console.error("Checklist generation error:",r),new Error("Failed to generate checklist")}}}Uc(Nm,"model",vH.getGenerativeModel({model:"gemini-pro"}));const Na={ajay:{name:"Ajay Kumar",role:"Business Acquisition Specialist",avatar:"https://github.com/yusufhilmi.png",expertise:["Business Valuation","Due Diligence","Negotiation","Market Analysis"],description:"Expert in business acquisitions with 8+ years experience"},vijay:{name:"Vijay Sharma",role:"Franchise Development Expert",avatar:"https://github.com/kdrnp.png",expertise:["Franchise Models","ROI Analysis","Brand Evaluation","Territory Planning"],description:"Franchise specialist helping entrepreneurs find the right opportunities"}},bH={ajay:[{icon:Gd,label:"Business Valuation",action:"valuation"},{icon:_s,label:"Due Diligence",action:"due-diligence"},{icon:Os,label:"Market Analysis",action:"market-analysis"},{icon:Hd,label:"ROI Calculator",action:"roi-calculator"}],vijay:[{icon:Zs,label:"Franchise Comparison",action:"comparison"},{icon:Hd,label:"Investment Calculator",action:"investment-calc"},{icon:Os,label:"ROI Projections",action:"roi-projections"},{icon:_s,label:"Franchise Guide",action:"guide"}]};function Y6({className:n}){const[t,s]=w.useState(!1),[r,i]=w.useState(null),[a,l]=w.useState([]),[c,u]=w.useState(""),[m,g]=w.useState(!1),p=w.useRef(null),y=w.useRef(null),x=()=>{var S;(S=p.current)==null||S.scrollIntoView({behavior:"smooth"})};w.useEffect(()=>{x()},[a]);const _=S=>{i(S);const O={id:Date.now().toString(),type:"agent",content:`Hi! I'm ${Na[S].name}, your ${Na[S].role}. ${Na[S].description}. How can I help you today?`,timestamp:new Date,agent:S,suggestions:S==="ajay"?["Find businesses under 50L","Help with due diligence","Business valuation","Market analysis"]:["Show franchise opportunities","Calculate ROI","Compare franchises","Investment planning"]};l([O])},j=async()=>{if(!c.trim()||!r||m)return;const S={id:Date.now().toString(),type:"user",content:c,timestamp:new Date};l(O=>[...O,S]),u(""),g(!0);try{const O=a.map(B=>({role:B.type==="user"?"user":"model",parts:B.content,timestamp:B.timestamp})),z=await Nm.sendMessage(c,r,{},O),V={id:(Date.now()+1).toString(),type:"agent",content:z,timestamp:new Date,agent:r,suggestions:A(c,r)};l(B=>[...B,V])}catch(O){console.error("AI Error:",O);const z={id:(Date.now()+1).toString(),type:"agent",content:`I apologize, but I'm having trouble connecting to the AI service. ${O.message||"Please try again."}`,timestamp:new Date,agent:r};l(V=>[...V,z])}finally{g(!1)}},A=(S,O)=>O==="ajay"?["Show similar businesses","Schedule due diligence","Get market report","Calculate financing options"]:["Compare with other franchises","Show ROI breakdown","Find similar opportunities","Get investment guide"],C=async S=>{const z={valuation:"I need help with business valuation for a potential acquisition","due-diligence":"Can you guide me through the due diligence process?","market-analysis":"I'd like a market analysis for this business sector","roi-calculator":"Help me calculate ROI for this business opportunity",comparison:"I want to compare different franchise opportunities","investment-calc":"Help me calculate total investment required","roi-projections":"Show me ROI projections for this franchise",guide:"I need a comprehensive franchise investment guide"}[S]||"";z&&(u(z),setTimeout(()=>{const V=document.querySelector('[data-send-button="true"]');V==null||V.click()},100))},P=S=>{u(S)};return t?e.jsxs(de,{className:`fixed bottom-24 md:bottom-6 right-4 md:right-6 w-[calc(100vw-2rem)] md:w-96 h-[calc(100vh-8rem)] md:h-[600px] shadow-xl z-50 flex flex-col ${n}`,children:[e.jsxs(Me,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Fe,{className:"text-lg",children:"AI Assistant"}),e.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>s(!1),children:e.jsx(Lr,{className:"h-4 w-4"})})]}),r&&e.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[e.jsxs(ai,{className:"h-8 w-8",children:[e.jsx(Bi,{src:Na[r].avatar}),e.jsx(gi,{children:Na[r].name.charAt(0)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm",children:Na[r].name}),e.jsx("div",{className:"text-xs text-muted-foreground",children:Na[r].role})]})]})]}),e.jsx(fe,{className:"flex-1 flex flex-col p-0",children:r?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-3 border-b",children:[e.jsx("div",{className:"text-xs font-medium mb-2",children:"Quick Actions"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:bH[r].map(S=>e.jsxs(ee,{variant:"outline",size:"sm",className:"h-8 text-xs justify-start",onClick:()=>C(S.action),children:[e.jsx(S.icon,{className:"h-3 w-3 mr-1"}),S.label]},S.action))})]}),e.jsx(Bh,{className:"flex-1 p-4",children:e.jsxs("div",{className:"space-y-4",children:[a.map(S=>e.jsx("div",{className:`flex ${S.type==="user"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-[80%] ${S.type==="user"?"order-2":"order-1"}`,children:[e.jsxs("div",{className:`flex items-start gap-2 ${S.type==="user"?"flex-row-reverse":"flex-row"}`,children:[e.jsx(ai,{className:"h-6 w-6",children:S.type==="user"?e.jsx(gi,{className:"bg-primary text-primary-foreground",children:e.jsx(Aa,{className:"h-3 w-3"})}):e.jsx(Bi,{src:Na[S.agent].avatar})}),e.jsx("div",{className:`rounded-lg p-3 ${S.type==="user"?"bg-primary text-primary-foreground":"bg-muted"}`,children:e.jsx("p",{className:"text-sm",children:S.content})})]}),S.suggestions&&e.jsx("div",{className:"mt-2 space-y-1",children:S.suggestions.map((O,z)=>e.jsx(ee,{variant:"ghost",size:"sm",className:"h-6 text-xs justify-start w-full",onClick:()=>P(O),children:O},z))})]})},S.id)),m&&e.jsx("div",{className:"flex justify-start",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ai,{className:"h-6 w-6",children:e.jsx(Bi,{src:Na[r].avatar})}),e.jsx("div",{className:"bg-muted rounded-lg p-3",children:e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce"}),e.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),e.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})}),e.jsx("div",{ref:p})]})}),e.jsxs("div",{className:"p-3 border-t",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ee,{variant:"outline",size:"icon",onClick:()=>{var S;return(S=y.current)==null?void 0:S.click()},children:e.jsx(FF,{className:"h-4 w-4"})}),e.jsx(Ue,{value:c,onChange:S=>u(S.target.value),placeholder:"Type your message...",onKeyPress:S=>{S.key==="Enter"&&!S.shiftKey&&(S.preventDefault(),j())},className:"flex-1"}),e.jsx(ee,{onClick:j,disabled:!c.trim()||m,"data-send-button":"true",children:m?e.jsx(Ht,{className:"h-4 w-4 animate-spin"}):e.jsx(Em,{className:"h-4 w-4"})})]}),e.jsx("input",{ref:y,type:"file",className:"hidden",multiple:!0,accept:".pdf,.doc,.docx,.jpg,.png"})]})]}):e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Choose Your AI Assistant"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Select the specialist who can best help you"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(de,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>_("ajay"),children:e.jsxs(fe,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsxs(ai,{children:[e.jsx(Bi,{src:Na.ajay.avatar}),e.jsx(gi,{children:"A"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:Na.ajay.name}),e.jsx("div",{className:"text-sm text-muted-foreground",children:Na.ajay.role})]}),e.jsx(Zs,{className:"h-5 w-5 text-blue-500 ml-auto"})]}),e.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:Na.ajay.description}),e.jsx("div",{className:"flex flex-wrap gap-1",children:Na.ajay.expertise.map(S=>e.jsx(Be,{variant:"secondary",className:"text-xs",children:S},S))})]})}),e.jsx(de,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>_("vijay"),children:e.jsxs(fe,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsxs(ai,{children:[e.jsx(Bi,{src:Na.vijay.avatar}),e.jsx(gi,{children:"V"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:Na.vijay.name}),e.jsx("div",{className:"text-sm text-muted-foreground",children:Na.vijay.role})]}),e.jsx(Vd,{className:"h-5 w-5 text-green-500 ml-auto"})]}),e.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:Na.vijay.description}),e.jsx("div",{className:"flex flex-wrap gap-1",children:Na.vijay.expertise.map(S=>e.jsx(Be,{variant:"secondary",className:"text-xs",children:S},S))})]})})]})]})})]}):e.jsx(ee,{onClick:()=>s(!0),className:`fixed bottom-24 md:bottom-6 right-4 md:right-6 h-14 w-14 rounded-full shadow-lg hover:shadow-xl transition-all duration-200 z-50 bg-primary hover:bg-primary/90 ${n}`,size:"icon",children:e.jsxs("div",{className:"relative",children:[e.jsx(Gy,{className:"h-6 w-6 text-white"}),e.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-500 rounded-full animate-pulse"})]})})}var jH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],wH=jH.reduce((n,t)=>{const s=ex(`Primitive.${t}`),r=w.forwardRef((i,a)=>{const{asChild:l,...c}=i,u=l?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(u,{...c,ref:a})});return r.displayName=`Primitive.${t}`,{...n,[t]:r}},{}),NH="Separator",sS="horizontal",_H=["horizontal","vertical"],Z6=w.forwardRef((n,t)=>{const{decorative:s,orientation:r=sS,...i}=n,a=SH(r)?r:sS,c=s?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return e.jsx(wH.div,{"data-orientation":a,...c,...i,ref:t})});Z6.displayName=NH;function SH(n){return _H.includes(n)}var K6=Z6;const cr=w.forwardRef(({className:n,orientation:t="horizontal",decorative:s=!0,...r},i)=>e.jsx(K6,{ref:i,decorative:s,orientation:t,className:nt("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",n),...r}));cr.displayName=K6.displayName;function J6(){const n=new Date().getFullYear();return e.jsx("footer",{className:"bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-slate-200",children:e.jsxs("div",{className:"container mx-auto px-4 py-12",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Zs,{className:"h-8 w-8 text-blue-400"}),e.jsx("span",{className:"text-2xl font-bold text-white",children:"BizSearch"})]}),e.jsx("p",{className:"text-sm text-slate-400 mb-4",children:"India's leading marketplace for buying, selling, and investing in verified businesses and franchise opportunities."}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-slate-800 hover:bg-blue-600 rounded-full transition-colors",children:e.jsx(z7,{className:"h-4 w-4"})}),e.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-slate-800 hover:bg-blue-400 rounded-full transition-colors",children:e.jsx(NB,{className:"h-4 w-4"})}),e.jsx("a",{href:"https://linkedin.com",target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-slate-800 hover:bg-blue-700 rounded-full transition-colors",children:e.jsx(pF,{className:"h-4 w-4"})}),e.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-slate-800 hover:bg-pink-600 rounded-full transition-colors",children:e.jsx(cF,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Quick Links"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx(St,{to:"/businesses",className:"text-sm text-slate-400 hover:text-blue-400 transition-colors",children:"Browse Businesses"})}),e.jsx("li",{children:e.jsx(St,{to:"/franchises",className:"text-sm text-slate-400 hover:text-blue-400 transition-colors",children:"Franchise Opportunities"})}),e.jsx("li",{children:e.jsx(St,{to:"/add-business-listing",className:"text-sm text-slate-400 hover:text-blue-400 transition-colors",children:"List Your Business"})}),e.jsx("li",{children:e.jsx(St,{to:"/about",className:"text-sm text-slate-400 hover:text-blue-400 transition-colors",children:"About Us"})}),e.jsx("li",{children:e.jsx(St,{to:"/contact",className:"text-sm text-slate-400 hover:text-blue-400 transition-colors",children:"Contact Support"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Legal"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx(St,{to:"/privacy",className:"text-sm text-slate-400 hover:text-blue-400 transition-colors",children:"Privacy Policy"})}),e.jsx("li",{children:e.jsx(St,{to:"/terms",className:"text-sm text-slate-400 hover:text-blue-400 transition-colors",children:"Terms of Service"})}),e.jsx("li",{children:e.jsx(St,{to:"/cookie-policy",className:"text-sm text-slate-400 hover:text-blue-400 transition-colors",children:"Cookie Policy"})}),e.jsx("li",{children:e.jsx(St,{to:"/refund-policy",className:"text-sm text-slate-400 hover:text-blue-400 transition-colors",children:"Refund Policy"})}),e.jsx("li",{children:e.jsx(St,{to:"/disclaimer",className:"text-sm text-slate-400 hover:text-blue-400 transition-colors",children:"Disclaimer"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Contact Us"}),e.jsxs("ul",{className:"space-y-3",children:[e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-400",children:[e.jsx(Ln,{className:"h-4 w-4 mt-0.5 flex-shrink-0 text-blue-400"}),e.jsxs("span",{children:["123 Business Hub, MG Road",e.jsx("br",{}),"Bangalore, Karnataka 560001"]})]}),e.jsxs("li",{className:"flex items-center gap-2 text-sm text-slate-400",children:[e.jsx(Or,{className:"h-4 w-4 flex-shrink-0 text-blue-400"}),e.jsx("a",{href:"mailto:support@bizsearch.in",className:"hover:text-blue-400 transition-colors",children:"support@bizsearch.in"})]}),e.jsxs("li",{className:"flex items-center gap-2 text-sm text-slate-400",children:[e.jsx(Mr,{className:"h-4 w-4 flex-shrink-0 text-blue-400"}),e.jsx("a",{href:"tel:+911800123456",className:"hover:text-blue-400 transition-colors",children:"+91 1800 123 456"})]})]})]})]}),e.jsx(cr,{className:"bg-slate-700 mb-6"}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-400",children:[e.jsx(Ds,{className:"h-4 w-4 text-blue-400"}),e.jsx("span",{children:"All businesses are verified and secure"})]}),e.jsxs("p",{className:"text-sm text-slate-400",children:[" ",n," BizSearch. All rights reserved."]})]})]})})}const vy=[{id:"automotive",name:"Automotive",slug:"automotive",icon:"Car",subcategories:[{id:"automobile-accessories",name:"Automobile Accessories",slug:"automobile-accessories"},{id:"automobile-garage",name:"Automobile Garage & Related",slug:"automobile-garage"},{id:"automobile-spares-tyre",name:"Automobile Spares / Tyre",slug:"automobile-spares-tyre"},{id:"charging-stations",name:"EV Charging Stations",slug:"charging-stations"},{id:"road-safety",name:"Road Safety Equipments",slug:"road-safety"},{id:"commercial-vehicles",name:"Commercial Vehicles",slug:"commercial-vehicles"},{id:"three-wheeler",name:"Three Wheeler (Auto) Showroom",slug:"three-wheeler"},{id:"tractors",name:"Tractors",slug:"tractors"},{id:"car-showroom",name:"Car Showroom",slug:"car-showroom"},{id:"car-maintenance-repair",name:"Car Maintenance & Repair",slug:"car-maintenance-repair"},{id:"car-wash-detailing",name:"Car Wash / Ceramic Coating / Detailing",slug:"car-wash-detailing"},{id:"car-rental",name:"Car Rental",slug:"car-rental"},{id:"car-reselling",name:"Used Car Reselling",slug:"car-reselling"},{id:"electric-vehicles-four",name:"Electric Vehicles Four Wheelers (EV)",slug:"electric-vehicles-four"},{id:"bike-showroom",name:"Bike Showroom",slug:"bike-showroom"},{id:"bike-maintenance-repair",name:"Bike Maintenance & Repair",slug:"bike-maintenance-repair"},{id:"bike-rental",name:"Bike Rental",slug:"bike-rental"},{id:"electric-vehicles-two",name:"Electric Vehicles Two Wheelers (EV)",slug:"electric-vehicles-two"},{id:"bicycle",name:"Bicycle",slug:"bicycle"},{id:"bikers-accessories",name:"Biker's Accessories",slug:"bikers-accessories"}]},{id:"beauty-health",name:"Beauty & Health",slug:"beauty-health",icon:"Sparkles",subcategories:[{id:"beauty-salons",name:"Beauty Salons / Unisex Salons",slug:"beauty-salons"},{id:"cosmetics-stores",name:"Cosmetics & Beauty Product Stores",slug:"cosmetics-stores"},{id:"beauty-equipments",name:"Beauty Equipments",slug:"beauty-equipments"},{id:"bath-products",name:"Bath Products",slug:"bath-products"},{id:"tattoo-nail-art",name:"Tattoo, Piercing & Nail Art",slug:"tattoo-nail-art"},{id:"pet-grooming",name:"Pet Grooming",slug:"pet-grooming"},{id:"ayurvedic-herbal",name:"Ayurvedic, Herbal & Organic Products",slug:"ayurvedic-herbal"},{id:"clinics-nursing",name:"Clinics & Nursing Homes",slug:"clinics-nursing"},{id:"hospitals",name:"Hospitals",slug:"hospitals"},{id:"healthcare-products",name:"Healthcare Products",slug:"healthcare-products"},{id:"pathological-labs",name:"Pathological Labs",slug:"pathological-labs"},{id:"pharmacies",name:"Pharmacies",slug:"pharmacies"},{id:"dental-clinics",name:"Dental Clinics",slug:"dental-clinics"},{id:"optical-stores",name:"Optical Stores",slug:"optical-stores"},{id:"gyms-fitness",name:"Gyms & Fitness Centres",slug:"gyms-fitness"},{id:"spas",name:"Spas",slug:"spas"},{id:"medical-spas",name:"Medical Spas",slug:"medical-spas"},{id:"massage-centres",name:"Massage Centres",slug:"massage-centres"},{id:"slimming-center",name:"Slimming Center",slug:"slimming-center"},{id:"yoga-classes",name:"Yoga Classes",slug:"yoga-classes"},{id:"meditation-centre",name:"Meditation Centre",slug:"meditation-centre"},{id:"diet-consultancy",name:"Diet Consultancy",slug:"diet-consultancy"},{id:"physiotherapy",name:"Physiotherapy Centre",slug:"physiotherapy"}]},{id:"business-services",name:"Business Services",slug:"business-services",icon:"Briefcase",subcategories:[{id:"ad-agencies",name:"Ad Agencies & Collection Centres",slug:"ad-agencies"},{id:"digital-marketing",name:"Digital Media & Internet Marketing",slug:"digital-marketing"},{id:"public-relations",name:"Public Relations (PR)",slug:"public-relations"},{id:"publications-print",name:"Publications & Print Media",slug:"publications-print"},{id:"bpo",name:"BPO",slug:"bpo"},{id:"career-counseling",name:"Career Counseling",slug:"career-counseling"},{id:"financial-consultancy",name:"Financial Consultancy",slug:"financial-consultancy"},{id:"hr-recruitment",name:"HR & Recruitment",slug:"hr-recruitment"},{id:"immigration",name:"Immigration Services",slug:"immigration"},{id:"legal-services",name:"Legal Services",slug:"legal-services"},{id:"matrimonial",name:"Matrimonial Services",slug:"matrimonial"},{id:"real-estate",name:"Real Estate Services",slug:"real-estate"},{id:"technology-consultancy",name:"Technology Consultancy",slug:"technology-consultancy"},{id:"accounting-auditing",name:"Accounting & Auditing",slug:"accounting-auditing"},{id:"finance-advisors",name:"Finance Advisors & Brokers",slug:"finance-advisors"},{id:"financial-trading",name:"Financial Investment & Trading",slug:"financial-trading"},{id:"forex",name:"Foreign Exchange (FOREX)",slug:"forex"},{id:"insurance",name:"Insurance",slug:"insurance"},{id:"microfinance",name:"Microfinance",slug:"microfinance"},{id:"nbfc",name:"NBFC",slug:"nbfc"},{id:"payment-solutions",name:"Payment Solution Services",slug:"payment-solutions"},{id:"tax-consulting",name:"Tax Consulting",slug:"tax-consulting"},{id:"wealth-management",name:"Wealth Management",slug:"wealth-management"},{id:"computer-ict",name:"Computer & ICT Services",slug:"computer-ict"},{id:"cartridge-refilling",name:"Cartridge Refilling",slug:"cartridge-refilling"},{id:"printing-services",name:"Printing Services",slug:"printing-services"},{id:"security-services",name:"Security Services",slug:"security-services"},{id:"telecom",name:"Telecom",slug:"telecom"},{id:"courier-delivery",name:"Courier & Delivery",slug:"courier-delivery"},{id:"logistics-outsourcing",name:"Logistics Outsourcing",slug:"logistics-outsourcing"},{id:"supply-chain",name:"Supply Chain Management",slug:"supply-chain"},{id:"transportation",name:"Transportation",slug:"transportation"},{id:"warehousing",name:"Warehousing",slug:"warehousing"}]},{id:"dealers-distributors",name:"Dealers & Distributors",slug:"dealers-distributors",icon:"Package",subcategories:[{id:"agro-products",name:"Agro Products & Commodities",slug:"agro-products"},{id:"poultry-feed",name:"Poultry Feed",slug:"poultry-feed"},{id:"farming-tools",name:"Farming Tools & Machines",slug:"farming-tools"},{id:"fishery",name:"Fishery",slug:"fishery"},{id:"auto-accessories-dist",name:"Automobile Accessories Distribution",slug:"auto-accessories-dist"},{id:"auto-components",name:"Automobile Components",slug:"auto-components"},{id:"auto-spare-parts",name:"Engine & Spare Parts",slug:"auto-spare-parts"},{id:"oil-lubricants",name:"Oil & Lubricants",slug:"oil-lubricants"},{id:"tyre-tube",name:"Tyre & Tube",slug:"tyre-tube"},{id:"bathroom-fittings",name:"Bathroom Fittings",slug:"bathroom-fittings"},{id:"bricks-cement",name:"Bricks & Cement",slug:"bricks-cement"},{id:"hardware",name:"Hardware",slug:"hardware"},{id:"paints",name:"Paints",slug:"paints"},{id:"tiles",name:"Tiles",slug:"tiles"},{id:"doors-windows",name:"Doors & Windows",slug:"doors-windows"},{id:"marble-granite",name:"Marble & Granite",slug:"marble-granite"},{id:"consumer-electronics-dist",name:"Consumer Electronics",slug:"consumer-electronics-dist"},{id:"led-lights",name:"LED Lights",slug:"led-lights"},{id:"solar-products",name:"Solar Products",slug:"solar-products"},{id:"inverters-batteries",name:"Inverters & Batteries",slug:"inverters-batteries"},{id:"beverages-dist",name:"Beverages Distribution",slug:"beverages-dist"},{id:"dairy-dist",name:"Dairy Distribution",slug:"dairy-dist"},{id:"packaged-food",name:"Packaged Food",slug:"packaged-food"},{id:"snacks-dist",name:"Snacks Distribution",slug:"snacks-dist"},{id:"spices-dist",name:"Spices Distribution",slug:"spices-dist"},{id:"tea-coffee-dist",name:"Tea & Coffee Distribution",slug:"tea-coffee-dist"},{id:"organic-food-dist",name:"Organic Food Distribution",slug:"organic-food-dist"},{id:"fmcg",name:"FMCG Products",slug:"fmcg"},{id:"pharmaceutical-dist",name:"Pharmaceutical Distribution",slug:"pharmaceutical-dist"},{id:"chemical-products",name:"Chemical Products",slug:"chemical-products"},{id:"direct-selling",name:"Direct Selling / MLM",slug:"direct-selling"}]},{id:"education",name:"Education",slug:"education",icon:"GraduationCap",subcategories:[{id:"school-tutoring",name:"School Tutoring",slug:"school-tutoring"},{id:"competitive-exam",name:"Competitive Exam Coaching",slug:"competitive-exam"},{id:"online-coaching",name:"Online Coaching",slug:"online-coaching"},{id:"robotics-ai",name:"Robotics & AI Training",slug:"robotics-ai"},{id:"cad-cam",name:"CAD/CAM Training",slug:"cad-cam"},{id:"preschools",name:"Preschools",slug:"preschools"},{id:"daycare-creches",name:"Day Care & Creches",slug:"daycare-creches"},{id:"activity-centres",name:"Activity Centres",slug:"activity-centres"},{id:"after-school",name:"After School Activities",slug:"after-school"},{id:"degree-diploma",name:"Degree/Diploma Colleges",slug:"degree-diploma"},{id:"distance-learning",name:"Distance Learning",slug:"distance-learning"},{id:"professional-education",name:"Professional Education Colleges",slug:"professional-education"},{id:"universities",name:"Universities",slug:"universities"},{id:"k12-schools",name:"K-12 Schools",slug:"k12-schools"},{id:"aviation-hospitality",name:"Aviation & Hospitality Training",slug:"aviation-hospitality"},{id:"banking-insurance-training",name:"Banking & Insurance Training",slug:"banking-insurance-training"},{id:"beauty-wellness-training",name:"Beauty & Wellness Training",slug:"beauty-wellness-training"},{id:"it-education",name:"IT Education",slug:"it-education"},{id:"language-schools",name:"Language Schools",slug:"language-schools"},{id:"paramedical",name:"Paramedical Training",slug:"paramedical"},{id:"retail-training",name:"Retail Training",slug:"retail-training"},{id:"skills-development",name:"Skills Development",slug:"skills-development"},{id:"abacus-brain",name:"Abacus & Brain Development",slug:"abacus-brain"},{id:"music-dance",name:"Music & Dance Schools",slug:"music-dance"},{id:"art-craft",name:"Art & Craft Classes",slug:"art-craft"},{id:"education-consultants",name:"Education Consultants",slug:"education-consultants"}]},{id:"fashion",name:"Fashion",slug:"fashion",icon:"Shirt",subcategories:[{id:"fashion-accessories",name:"Fashion Accessories",slug:"fashion-accessories"},{id:"leather-products",name:"Leather Products",slug:"leather-products"},{id:"luggage-bags",name:"Luggage & Bags",slug:"luggage-bags"},{id:"opticians-eyewear",name:"Opticians / Eye Wear",slug:"opticians-eyewear"},{id:"watches",name:"Watches",slug:"watches"},{id:"departmental-unisex",name:"Departmental / Unisex",slug:"departmental-unisex"},{id:"ethnic-stores",name:"Ethnic Stores",slug:"ethnic-stores"},{id:"kids-wear",name:"Kids Wear",slug:"kids-wear"},{id:"lingerie",name:"Lingerie",slug:"lingerie"},{id:"mens-wear",name:"Men's Wear",slug:"mens-wear"},{id:"readymade",name:"Readymade Garments",slug:"readymade"},{id:"sportswear",name:"Sports Wear",slug:"sportswear"},{id:"textiles",name:"Textiles",slug:"textiles"},{id:"womens-wear",name:"Women's Wear",slug:"womens-wear"},{id:"casual-footwear",name:"Casual Footwear",slug:"casual-footwear"},{id:"designer-footwear",name:"Designer Footwear",slug:"designer-footwear"},{id:"formal-footwear",name:"Formal Footwear",slug:"formal-footwear"},{id:"kids-footwear",name:"Kids Footwear",slug:"kids-footwear"},{id:"sports-footwear",name:"Sports Footwear",slug:"sports-footwear"},{id:"diamond-platinum",name:"Diamond & Platinum",slug:"diamond-platinum"},{id:"gems-stones",name:"Gems & Stones",slug:"gems-stones"},{id:"imitation-jewelry",name:"Imitation / Art / Junk Jewelry",slug:"imitation-jewelry"},{id:"precious-jewelry",name:"Precious Jewelry",slug:"precious-jewelry"}]},{id:"food-beverage",name:"Food & Beverage",slug:"food-beverage",icon:"UtensilsCrossed",subcategories:[{id:"bakery",name:"Bakery & Confectionary",slug:"bakery"},{id:"chocolate-stores",name:"Chocolate Stores",slug:"chocolate-stores"},{id:"ice-cream",name:"Ice Cream Parlors",slug:"ice-cream"},{id:"snacks-namkeen",name:"Snacks / Namkeen Shops",slug:"snacks-namkeen"},{id:"sweets-mithai",name:"Sweetshop / Mithai",slug:"sweets-mithai"},{id:"juice-smoothies",name:"Juices / Smoothies / Dairy Parlors",slug:"juice-smoothies"},{id:"tea-coffee-chain",name:"Tea & Coffee Chain",slug:"tea-coffee-chain"},{id:"express-food",name:"Express Food Joints",slug:"express-food"},{id:"food-trucks",name:"Mobile Vans & Food Trucks",slug:"food-trucks"},{id:"pizzeria",name:"Pizzeria",slug:"pizzeria"},{id:"qsr",name:"Quick Service Restaurants (QSR)",slug:"qsr"},{id:"street-food",name:"Street Food",slug:"street-food"},{id:"bars-lounges",name:"Bars & Lounges",slug:"bars-lounges"},{id:"casual-dine",name:"Casual Dine",slug:"casual-dine"},{id:"fine-dining",name:"Fine Dine Restaurants",slug:"fine-dining"},{id:"multi-cuisine",name:"Multi Cuisine",slug:"multi-cuisine"},{id:"theme-restaurants",name:"Theme Restaurants",slug:"theme-restaurants"},{id:"indian-cuisine",name:"Indian Cuisine",slug:"indian-cuisine"},{id:"chinese-asian",name:"Chinese & Asian Cuisine",slug:"chinese-asian"},{id:"biryani-kebabs",name:"Biryani & Kebabs",slug:"biryani-kebabs"},{id:"burgers",name:"Burger Joints",slug:"burgers"},{id:"cloud-kitchen",name:"Cloud Kitchen",slug:"cloud-kitchen"},{id:"catering",name:"Catering Services",slug:"catering"}]},{id:"home-based",name:"Home Based Business",slug:"home-based",icon:"Home",subcategories:[{id:"home-beauty",name:"Home Beauty Services",slug:"home-beauty"},{id:"home-fitness",name:"Home Fitness Training",slug:"home-fitness"},{id:"home-consulting",name:"Home Business Consulting",slug:"home-consulting"},{id:"home-accounting",name:"Home Accounting Services",slug:"home-accounting"},{id:"handicrafts",name:"Handicrafts",slug:"handicrafts"},{id:"gift-items",name:"Gift Items Manufacturing",slug:"gift-items"},{id:"crafts-handmade",name:"Crafts & Handmade Products",slug:"crafts-handmade"},{id:"home-dance-classes",name:"Home Dance Classes",slug:"home-dance-classes"},{id:"home-music-classes",name:"Home Music Classes",slug:"home-music-classes"},{id:"home-tutoring",name:"Home School Tutoring",slug:"home-tutoring"},{id:"home-cleaning",name:"Home Cleaning Services",slug:"home-cleaning"},{id:"interior-decor",name:"Interior Decor",slug:"interior-decor"},{id:"property-management",name:"Property Management",slug:"property-management"},{id:"app-design",name:"App Design & Development",slug:"app-design"},{id:"content-creation",name:"Content Creation",slug:"content-creation"},{id:"web-development",name:"Web Development",slug:"web-development"},{id:"tiffin-services",name:"Home Tiffin Services",slug:"tiffin-services"},{id:"reselling",name:"Reselling Business",slug:"reselling"},{id:"dropshipping",name:"Dropshipping",slug:"dropshipping"},{id:"online-business",name:"Online Businesses",slug:"online-business"}]},{id:"hotels-travel",name:"Hotels, Travel & Tourism",slug:"hotels-travel",icon:"Plane",subcategories:[{id:"booking-accommodation",name:"Booking & Accommodation",slug:"booking-accommodation"},{id:"guest-house",name:"Guest House / Service Apartments",slug:"guest-house"},{id:"hotel-chain",name:"Hotel Chain",slug:"hotel-chain"},{id:"motels",name:"Motels",slug:"motels"},{id:"pg-services",name:"PG Services",slug:"pg-services"},{id:"resorts",name:"Resorts",slug:"resorts"},{id:"budget-hotels",name:"Budget Hotels",slug:"budget-hotels"},{id:"adventure-tourism",name:"Adventure Tourism",slug:"adventure-tourism"},{id:"business-tourism",name:"Business Tourism",slug:"business-tourism"},{id:"holiday-services",name:"Holiday Services",slug:"holiday-services"},{id:"honeymoon-services",name:"Honeymoon Services",slug:"honeymoon-services"},{id:"online-travel",name:"Online Travel",slug:"online-travel"},{id:"passport-visa",name:"Passport & Visa Services",slug:"passport-visa"},{id:"tour-packages",name:"Tour Packages",slug:"tour-packages"},{id:"travel-agents",name:"Travel Agents",slug:"travel-agents"},{id:"pilgrimage-tourism",name:"Pilgrimage Tourism",slug:"pilgrimage-tourism"}]},{id:"retail",name:"Retail",slug:"retail",icon:"ShoppingBag",subcategories:[{id:"books-stationery",name:"Books & Stationery",slug:"books-stationery"},{id:"toys-games",name:"Toys & Games",slug:"toys-games"},{id:"gift-shops",name:"Gift Shops",slug:"gift-shops"},{id:"consumer-electronics",name:"Consumer Electronics",slug:"consumer-electronics"},{id:"mobile-gadgets",name:"Mobile & Gadget Stores",slug:"mobile-gadgets"},{id:"computer-stores",name:"Computer Stores",slug:"computer-stores"},{id:"e-retail",name:"E-Retail / Online Stores",slug:"e-retail"},{id:"art-decor",name:"Art & Decor",slug:"art-decor"},{id:"furniture",name:"Furniture",slug:"furniture"},{id:"garden-outdoor",name:"Garden & Outdoor",slug:"garden-outdoor"},{id:"hardware-tools",name:"Hardware & Tools",slug:"hardware-tools"},{id:"home-furnishing",name:"Home Furnishing",slug:"home-furnishing"},{id:"kitchen-appliances",name:"Kitchen Appliances",slug:"kitchen-appliances"},{id:"supermarkets",name:"Supermarkets & Grocery",slug:"supermarkets"},{id:"dairy-shops",name:"Dairy Shops",slug:"dairy-shops"},{id:"food-marts",name:"Food Marts",slug:"food-marts"},{id:"meat-shops",name:"Meat Shops",slug:"meat-shops"},{id:"organic-stores",name:"Organic Products Stores",slug:"organic-stores"},{id:"pet-stores",name:"Pet Stores",slug:"pet-stores"},{id:"wine-shops",name:"Wine Shops",slug:"wine-shops"},{id:"pharmacy",name:"Pharmacy & Medical Stores",slug:"pharmacy"},{id:"convenience-stores",name:"Convenience Stores",slug:"convenience-stores"},{id:"specialty-retail",name:"Specialty Retail",slug:"specialty-retail"},{id:"luxury-retail",name:"Luxury Retail",slug:"luxury-retail"}]},{id:"sports-entertainment",name:"Sports, Fitness & Entertainment",slug:"sports-entertainment",icon:"Dumbbell",subcategories:[{id:"childrens-parks",name:"Children's Parks",slug:"childrens-parks"},{id:"clubs",name:"Clubs",slug:"clubs"},{id:"kids-zones",name:"Kids Zones",slug:"kids-zones"},{id:"multiplexes",name:"Multiplexes / Cinema",slug:"multiplexes"},{id:"gaming-zones",name:"Gaming Zones & Arcades",slug:"gaming-zones"},{id:"amusement-parks",name:"Amusement Parks",slug:"amusement-parks"},{id:"bowling-alleys",name:"Bowling Alleys",slug:"bowling-alleys"},{id:"escape-rooms",name:"Escape Rooms",slug:"escape-rooms"},{id:"adventure-goods",name:"Adventure Goods",slug:"adventure-goods"},{id:"diet-supplements",name:"Diet Supplements",slug:"diet-supplements"},{id:"fitness-equipment",name:"Fitness Equipment",slug:"fitness-equipment"},{id:"golf-stores",name:"Golf Stores",slug:"golf-stores"},{id:"sports-accessories",name:"Sports Accessories",slug:"sports-accessories"},{id:"sports-garments",name:"Sports Garments",slug:"sports-garments"},{id:"sports-academies",name:"Sports Academies",slug:"sports-academies"},{id:"cricket-academies",name:"Cricket Academies",slug:"cricket-academies"},{id:"swimming-pools",name:"Swimming Pools",slug:"swimming-pools"},{id:"badminton-courts",name:"Badminton Courts",slug:"badminton-courts"},{id:"football-academies",name:"Football Academies",slug:"football-academies"}]}],og=["Technology","Healthcare","Finance & Banking","Retail","Manufacturing","Food & Beverage","Education","Real Estate","Automotive","Hospitality","E-commerce","Logistics & Supply Chain","Agriculture","Energy & Utilities","Media & Entertainment","Textiles & Apparel","Construction","Pharmaceuticals","Telecommunications","Travel & Tourism","Professional Services","Consumer Goods","Other"],vj=vy.map(n=>n.name);vy.flatMap(n=>n.subcategories.map(t=>({...t,categoryId:n.id,categoryName:n.name})));function pn({children:n}){var j,A,C,P;const[t,s]=w.useState(!1),[r,i]=w.useState(!1),a=Ho(),l=Mn(),{user:c,profile:u,signOut:m}=Bs(),{savedCount:g}=G3(),{unreadCount:p}=Y3(),y=async()=>{try{const{error:S}=await m();if(S){console.error("Sign out error:",S);return}l("/",{replace:!0})}catch(S){console.error("Sign out failed:",S)}},x=()=>{i(!0)},_=S=>S==="/"?a.pathname==="/":a.pathname.startsWith(S);return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("header",{className:"sticky top-0 z-50 w-full bg-white border-b border-gray-100",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex h-14 items-center justify-between",children:[e.jsx(St,{to:"/",className:"flex items-center gap-2",children:e.jsx("span",{className:"text-lg font-semibold tracking-tight",children:"BizSearch"})}),e.jsxs("nav",{className:"hidden md:flex items-center gap-6",children:[e.jsx(St,{to:"/businesses",className:`text-sm font-medium transition-colors hover:text-gray-900 ${_("/businesses")?"text-gray-900":"text-gray-500"}`,children:"Business for Sale"}),e.jsx(St,{to:"/franchises",className:`text-sm font-medium transition-colors hover:text-gray-900 ${_("/franchises")?"text-gray-900":"text-gray-500"}`,children:"Franchise"}),e.jsxs(yc,{children:[e.jsx(bc,{asChild:!0,children:e.jsxs("button",{className:"flex items-center gap-1 text-sm font-medium text-gray-500 hover:text-gray-900 transition-colors",children:["Categories",e.jsx(jm,{className:"h-4 w-4"})]})}),e.jsx(ql,{align:"center",className:"w-[600px] p-4",children:e.jsx("div",{className:"grid grid-cols-3 gap-4",children:vy.map(S=>e.jsxs("div",{className:"space-y-2",children:[e.jsx(St,{to:`/franchises?category=${S.slug}`,className:"font-medium text-sm text-gray-900 hover:text-blue-600 block",children:S.name}),e.jsxs("div",{className:"space-y-1",children:[S.subcategories.slice(0,4).map(O=>e.jsx(St,{to:`/franchises?category=${S.slug}&subcategory=${O.slug}`,className:"block text-xs text-gray-500 hover:text-gray-900 py-0.5",children:O.name},O.id)),S.subcategories.length>4&&e.jsxs(St,{to:`/franchises?category=${S.slug}`,className:"block text-xs text-blue-600 hover:text-blue-700 py-0.5 font-medium",children:["+",S.subcategories.length-4," more"]})]})]},S.id))})})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[c&&e.jsxs(yc,{children:[e.jsx(bc,{asChild:!0,children:e.jsxs(ee,{variant:"ghost",size:"sm",className:"hidden sm:flex items-center gap-1 text-gray-600 hover:text-gray-900",children:[e.jsx(la,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"List"})]})}),e.jsxs(ql,{align:"end",className:"w-48",children:[e.jsx(St,{to:"/add-business-listing",children:e.jsxs(Rn,{children:[e.jsx(Uo,{className:"mr-2 h-4 w-4"}),"Sell Business"]})}),e.jsx(St,{to:"/add-franchise-listing",children:e.jsxs(Rn,{children:[e.jsx(Vd,{className:"mr-2 h-4 w-4"}),"List Franchise"]})})]})]}),e.jsx(St,{to:"/businesses",children:e.jsx(ee,{variant:"ghost",size:"icon",className:"text-gray-500 hover:text-gray-900",children:e.jsx(xi,{className:"h-4 w-4"})})}),e.jsx(St,{to:"/saved",children:e.jsxs(ee,{variant:"ghost",size:"icon",className:"relative text-gray-500 hover:text-gray-900",children:[e.jsx(qv,{className:"h-4 w-4"}),g>0&&e.jsx("span",{className:"absolute -top-0.5 -right-0.5 h-4 w-4 flex items-center justify-center text-[10px] font-medium bg-gray-900 text-white rounded-full",children:g>9?"9+":g})]})}),e.jsx(St,{to:"/notifications",children:e.jsxs(ee,{variant:"ghost",size:"icon",className:"relative text-gray-500 hover:text-gray-900",children:[e.jsx(Qc,{className:"h-4 w-4"}),p>0&&e.jsx("span",{className:"absolute -top-0.5 -right-0.5 h-4 w-4 flex items-center justify-center text-[10px] font-medium bg-red-500 text-white rounded-full",children:p>9?"9+":p})]})}),c?e.jsxs(yc,{children:[e.jsx(bc,{asChild:!0,children:e.jsx(ee,{variant:"ghost",size:"icon",className:"ml-1",children:e.jsxs(ai,{className:"h-7 w-7",children:[e.jsx(Bi,{src:(u==null?void 0:u.avatar_url)||void 0}),e.jsx(gi,{className:"text-xs bg-gray-100 text-gray-600",children:((A=(j=u==null?void 0:u.display_name)==null?void 0:j[0])==null?void 0:A.toUpperCase())||((P=(C=c==null?void 0:c.email)==null?void 0:C[0])==null?void 0:P.toUpperCase())||"U"})]})})}),e.jsxs(ql,{align:"end",className:"w-48",children:[u&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"px-2 py-1.5",children:[e.jsx("p",{className:"text-sm font-medium",children:u.display_name}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:u.email})]}),e.jsx(Lm,{})]}),e.jsx(St,{to:"/profile",children:e.jsxs(Rn,{children:[e.jsx(Aa,{className:"mr-2 h-4 w-4"}),"Profile"]})}),e.jsx(St,{to:"/my-listings",children:e.jsxs(Rn,{children:[e.jsx(Uo,{className:"mr-2 h-4 w-4"}),"My Listings"]})}),e.jsx(Lm,{}),e.jsxs(Rn,{onClick:y,className:"text-red-600",children:[e.jsx(Q3,{className:"mr-2 h-4 w-4"}),"Sign Out"]})]})]}):e.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[e.jsx(St,{to:"/login",children:e.jsx(ee,{variant:"ghost",size:"sm",className:"text-gray-600 hover:text-gray-900",children:"Sign In"})}),e.jsx(St,{to:"/signup",children:e.jsx(ee,{size:"sm",className:"bg-gray-900 hover:bg-gray-800 text-white",children:"Get Started"})})]}),e.jsxs(C6,{open:t,onOpenChange:s,children:[e.jsx(A6,{asChild:!0,children:e.jsx(ee,{variant:"ghost",size:"icon",className:"md:hidden ml-1 text-gray-500",children:e.jsx(eA,{className:"h-5 w-5"})})}),e.jsx(Ww,{side:"right",className:"w-72 p-0",children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"p-4 border-b",children:e.jsx("span",{className:"text-lg font-semibold",children:"BizSearch"})}),e.jsxs("div",{className:"flex-1 py-4",children:[e.jsx("nav",{className:"space-y-1 px-2",children:[{name:"Businesses",href:"/businesses"},{name:"Franchises",href:"/franchises"},{name:"Advisors",href:"/advisors"},{name:"About",href:"/about"},{name:"Contact",href:"/contact"}].map(S=>e.jsx(St,{to:S.href,onClick:()=>s(!1),className:`block px-3 py-2 rounded-md text-sm font-medium transition-colors ${_(S.href)?"bg-gray-100 text-gray-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:S.name},S.name))}),e.jsxs("div",{className:"mt-4 px-2",children:[e.jsx("p",{className:"px-3 text-xs font-medium text-gray-400 uppercase tracking-wider mb-2",children:"Categories"}),e.jsxs("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:[vy.slice(0,8).map(S=>e.jsx(St,{to:`/franchises?category=${S.slug}`,onClick:()=>s(!1),className:"block px-3 py-1.5 rounded-md text-sm text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:S.name},S.id)),e.jsx(St,{to:"/franchises",onClick:()=>s(!1),className:"block px-3 py-1.5 rounded-md text-sm text-blue-600 hover:bg-blue-50 font-medium",children:"View All Categories "})]})]}),c&&e.jsxs("div",{className:"mt-6 px-2",children:[e.jsx("p",{className:"px-3 text-xs font-medium text-gray-400 uppercase tracking-wider mb-2",children:"List Your Business"}),e.jsx(St,{to:"/add-business-listing",onClick:()=>s(!1),className:"block px-3 py-2 rounded-md text-sm font-medium text-gray-600 hover:bg-gray-50",children:"Sell Business"}),e.jsx(St,{to:"/add-franchise-listing",onClick:()=>s(!1),className:"block px-3 py-2 rounded-md text-sm font-medium text-gray-600 hover:bg-gray-50",children:"List Franchise"})]})]})]})})]})]})]})})}),e.jsx("main",{className:"flex-1 pb-20 md:pb-0",children:n}),e.jsx(EV,{onAIChatOpen:x}),r&&e.jsx(Y6,{}),e.jsx("footer",{className:"bg-muted/50 border-t",children:e.jsxs("div",{className:"container mx-auto px-4 py-12",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-primary rounded-lg",children:e.jsx(Zs,{className:"h-5 w-5 text-primary-foreground"})}),e.jsx("span",{className:"text-xl font-bold",children:"BizSearch"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"India's leading AI-powered platform for business acquisitions and franchise opportunities."}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx(ee,{variant:"ghost",size:"icon",children:e.jsx(Mr,{className:"h-4 w-4"})}),e.jsx(ee,{variant:"ghost",size:"icon",children:e.jsx(Or,{className:"h-4 w-4"})}),e.jsx(ee,{variant:"ghost",size:"icon",children:e.jsx(Ln,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-semibold",children:"Quick Links"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:e.jsx(St,{to:"/businesses",className:"text-muted-foreground hover:text-foreground",children:"Browse Businesses"})}),e.jsx("li",{children:e.jsx(St,{to:"/franchises",className:"text-muted-foreground hover:text-foreground",children:"Franchise Opportunities"})}),e.jsx("li",{children:e.jsx(St,{to:"/sell",className:"text-muted-foreground hover:text-foreground",children:"Sell Your Business"})}),e.jsx("li",{children:e.jsx(St,{to:"/valuation",className:"text-muted-foreground hover:text-foreground",children:"Business Valuation"})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-semibold",children:"Support"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:e.jsx(St,{to:"/help",className:"text-muted-foreground hover:text-foreground",children:"Help Center"})}),e.jsx("li",{children:e.jsx(St,{to:"/contact",className:"text-muted-foreground hover:text-foreground",children:"Contact Us"})}),e.jsx("li",{children:e.jsx(St,{to:"/faq",className:"text-muted-foreground hover:text-foreground",children:"FAQ"})}),e.jsx("li",{children:e.jsx(St,{to:"/guides",className:"text-muted-foreground hover:text-foreground",children:"Buying Guides"})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-semibold",children:"Legal"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:e.jsx(St,{to:"/privacy",className:"text-muted-foreground hover:text-foreground",children:"Privacy Policy"})}),e.jsx("li",{children:e.jsx(St,{to:"/terms",className:"text-muted-foreground hover:text-foreground",children:"Terms of Service"})}),e.jsx("li",{children:e.jsx(St,{to:"/cookies",className:"text-muted-foreground hover:text-foreground",children:"Cookie Policy"})}),e.jsx("li",{children:e.jsx(St,{to:"/disclaimer",className:"text-muted-foreground hover:text-foreground",children:"Disclaimer"})})]})]})]}),e.jsxs("div",{className:"border-t mt-8 pt-8 flex flex-col md:flex-row justify-between items-center",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:" 2024 BizSearch. All rights reserved."}),e.jsxs("div",{className:"flex items-center space-x-4 mt-4 md:mt-0",children:[e.jsx(Be,{variant:"outline",className:"text-xs",children:"Trusted Platform"}),e.jsx(Be,{variant:"outline",className:"text-xs",children:"Verified Listings"}),e.jsx(Be,{variant:"outline",className:"text-xs",children:"Secure Transactions"})]})]})]})}),a.pathname!=="/"&&e.jsx(J6,{})]})}function CH(n){const t=AH(n),s=w.forwardRef((r,i)=>{const{children:a,...l}=r,c=w.Children.toArray(a),u=c.find(EH);if(u){const m=u.props.children,g=c.map(p=>p===u?w.Children.count(m)>1?w.Children.only(null):w.isValidElement(m)?m.props.children:null:p);return e.jsx(t,{...l,ref:i,children:w.isValidElement(m)?w.cloneElement(m,void 0,g):null})}return e.jsx(t,{...l,ref:i,children:a})});return s.displayName=`${n}.Slot`,s}function AH(n){const t=w.forwardRef((s,r)=>{const{children:i,...a}=s;if(w.isValidElement(i)){const l=PH(i),c=TH(a,i.props);return i.type!==w.Fragment&&(c.ref=r?Xd(r,l):l),w.cloneElement(i,c)}return w.Children.count(i)>1?w.Children.only(null):null});return t.displayName=`${n}.SlotClone`,t}var kH=Symbol("radix.slottable");function EH(n){return w.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===kH}function TH(n,t){const s={...t};for(const r in t){const i=n[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?s[r]=(...c)=>{const u=a(...c);return i(...c),u}:i&&(s[r]=i):r==="style"?s[r]={...i,...a}:r==="className"&&(s[r]=[i,a].filter(Boolean).join(" "))}return{...n,...s}}function PH(n){var r,i;let t=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?n.ref:(t=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?n.props.ref:n.props.ref||n.ref)}function px(n){const t=w.useRef({value:n,previous:n});return w.useMemo(()=>(t.current.value!==n&&(t.current.previous=t.current.value,t.current.value=n),t.current.previous),[n])}var X6=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),LH="VisuallyHidden",Q6=w.forwardRef((n,t)=>e.jsx(as.span,{...n,ref:t,style:{...X6,...n.style}}));Q6.displayName=LH;var RH=Q6,OH=[" ","Enter","ArrowUp","ArrowDown"],MH=[" ","Enter"],Mm="Select",[u0,h0,DH]=Wy(Mm),[Sp]=qa(Mm,[DH,Zh]),m0=Zh(),[IH,Kh]=Sp(Mm),[FH,BH]=Sp(Mm),eE=n=>{const{__scopeSelect:t,children:s,open:r,defaultOpen:i,onOpenChange:a,value:l,defaultValue:c,onValueChange:u,dir:m,name:g,autoComplete:p,disabled:y,required:x,form:_}=n,j=m0(t),[A,C]=w.useState(null),[P,S]=w.useState(null),[O,z]=w.useState(!1),V=$m(m),[B,D]=$l({prop:r,defaultProp:i??!1,onChange:a,caller:Mm}),[K,H]=$l({prop:l,defaultProp:c,onChange:u,caller:Mm}),$=w.useRef(null),W=A?_||!!A.closest("form"):!0,[Q,Z]=w.useState(new Set),ie=Array.from(Q).map(q=>q.props.value).join(";");return e.jsx(Qy,{...j,children:e.jsxs(IH,{required:x,scope:t,trigger:A,onTriggerChange:C,valueNode:P,onValueNodeChange:S,valueNodeHasChildren:O,onValueNodeHasChildrenChange:z,contentId:Bl(),value:K,onValueChange:H,open:B,onOpenChange:D,dir:V,triggerPointerDownPosRef:$,disabled:y,children:[e.jsx(u0.Provider,{scope:t,children:e.jsx(FH,{scope:n.__scopeSelect,onNativeOptionAdd:w.useCallback(q=>{Z(ce=>new Set(ce).add(q))},[]),onNativeOptionRemove:w.useCallback(q=>{Z(ce=>{const te=new Set(ce);return te.delete(q),te})},[]),children:s})}),W?e.jsxs(_E,{"aria-hidden":!0,required:x,tabIndex:-1,name:g,autoComplete:p,value:K,onChange:q=>H(q.target.value),disabled:y,form:_,children:[K===void 0?e.jsx("option",{value:""}):null,Array.from(Q)]},ie):null]})})};eE.displayName=Mm;var tE="SelectTrigger",sE=w.forwardRef((n,t)=>{const{__scopeSelect:s,disabled:r=!1,...i}=n,a=m0(s),l=Kh(tE,s),c=l.disabled||r,u=Ss(t,l.onTriggerChange),m=h0(s),g=w.useRef("touch"),[p,y,x]=CE(j=>{const A=m().filter(S=>!S.disabled),C=A.find(S=>S.value===l.value),P=AE(A,j,C);P!==void 0&&l.onValueChange(P.value)}),_=j=>{c||(l.onOpenChange(!0),x()),j&&(l.triggerPointerDownPosRef.current={x:Math.round(j.pageX),y:Math.round(j.pageY)})};return e.jsx(ix,{asChild:!0,...a,children:e.jsx(as.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":SE(l.value)?"":void 0,...i,ref:u,onClick:kt(i.onClick,j=>{j.currentTarget.focus(),g.current!=="mouse"&&_(j)}),onPointerDown:kt(i.onPointerDown,j=>{g.current=j.pointerType;const A=j.target;A.hasPointerCapture(j.pointerId)&&A.releasePointerCapture(j.pointerId),j.button===0&&j.ctrlKey===!1&&j.pointerType==="mouse"&&(_(j),j.preventDefault())}),onKeyDown:kt(i.onKeyDown,j=>{const A=p.current!=="";!(j.ctrlKey||j.altKey||j.metaKey)&&j.key.length===1&&y(j.key),!(A&&j.key===" ")&&OH.includes(j.key)&&(_(),j.preventDefault())})})})});sE.displayName=tE;var nE="SelectValue",rE=w.forwardRef((n,t)=>{const{__scopeSelect:s,className:r,style:i,children:a,placeholder:l="",...c}=n,u=Kh(nE,s),{onValueNodeHasChildrenChange:m}=u,g=a!==void 0,p=Ss(t,u.onValueNodeChange);return qi(()=>{m(g)},[m,g]),e.jsx(as.span,{...c,ref:p,style:{pointerEvents:"none"},children:SE(u.value)?e.jsx(e.Fragment,{children:l}):a})});rE.displayName=nE;var zH="SelectIcon",iE=w.forwardRef((n,t)=>{const{__scopeSelect:s,children:r,...i}=n;return e.jsx(as.span,{"aria-hidden":!0,...i,ref:t,children:r||""})});iE.displayName=zH;var qH="SelectPortal",aE=n=>e.jsx(Np,{asChild:!0,...n});aE.displayName=qH;var Dm="SelectContent",oE=w.forwardRef((n,t)=>{const s=Kh(Dm,n.__scopeSelect),[r,i]=w.useState();if(qi(()=>{i(new DocumentFragment)},[]),!s.open){const a=r;return a?hp.createPortal(e.jsx(lE,{scope:n.__scopeSelect,children:e.jsx(u0.Slot,{scope:n.__scopeSelect,children:e.jsx("div",{children:n.children})})}),a):null}return e.jsx(cE,{...n,ref:t})});oE.displayName=Dm;var Wc=10,[lE,Jh]=Sp(Dm),UH="SelectContentImpl",$H=CH("SelectContent.RemoveScroll"),cE=w.forwardRef((n,t)=>{const{__scopeSelect:s,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:l,side:c,sideOffset:u,align:m,alignOffset:g,arrowPadding:p,collisionBoundary:y,collisionPadding:x,sticky:_,hideWhenDetached:j,avoidCollisions:A,...C}=n,P=Kh(Dm,s),[S,O]=w.useState(null),[z,V]=w.useState(null),B=Ss(t,we=>O(we)),[D,K]=w.useState(null),[H,$]=w.useState(null),W=h0(s),[Q,Z]=w.useState(!1),ie=w.useRef(!1);w.useEffect(()=>{if(S)return s0(S)},[S]),Yy();const q=w.useCallback(we=>{const[Ce,...Re]=W().map(lt=>lt.ref.current),[Xe]=Re.slice(-1),tt=document.activeElement;for(const lt of we)if(lt===tt||(lt==null||lt.scrollIntoView({block:"nearest"}),lt===Ce&&z&&(z.scrollTop=0),lt===Xe&&z&&(z.scrollTop=z.scrollHeight),lt==null||lt.focus(),document.activeElement!==tt))return},[W,z]),ce=w.useCallback(()=>q([D,S]),[q,D,S]);w.useEffect(()=>{Q&&ce()},[Q,ce]);const{onOpenChange:te,triggerPointerDownPosRef:oe}=P;w.useEffect(()=>{if(S){let we={x:0,y:0};const Ce=Xe=>{var tt,lt;we={x:Math.abs(Math.round(Xe.pageX)-(((tt=oe.current)==null?void 0:tt.x)??0)),y:Math.abs(Math.round(Xe.pageY)-(((lt=oe.current)==null?void 0:lt.y)??0))}},Re=Xe=>{we.x<=10&&we.y<=10?Xe.preventDefault():S.contains(Xe.target)||te(!1),document.removeEventListener("pointermove",Ce),oe.current=null};return oe.current!==null&&(document.addEventListener("pointermove",Ce),document.addEventListener("pointerup",Re,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ce),document.removeEventListener("pointerup",Re,{capture:!0})}}},[S,te,oe]),w.useEffect(()=>{const we=()=>te(!1);return window.addEventListener("blur",we),window.addEventListener("resize",we),()=>{window.removeEventListener("blur",we),window.removeEventListener("resize",we)}},[te]);const[ne,re]=CE(we=>{const Ce=W().filter(tt=>!tt.disabled),Re=Ce.find(tt=>tt.ref.current===document.activeElement),Xe=AE(Ce,we,Re);Xe&&setTimeout(()=>Xe.ref.current.focus())}),U=w.useCallback((we,Ce,Re)=>{const Xe=!ie.current&&!Re;(P.value!==void 0&&P.value===Ce||Xe)&&(K(we),Xe&&(ie.current=!0))},[P.value]),J=w.useCallback(()=>S==null?void 0:S.focus(),[S]),se=w.useCallback((we,Ce,Re)=>{const Xe=!ie.current&&!Re;(P.value!==void 0&&P.value===Ce||Xe)&&$(we)},[P.value]),ue=r==="popper"?d1:dE,be=ue===d1?{side:c,sideOffset:u,align:m,alignOffset:g,arrowPadding:p,collisionBoundary:y,collisionPadding:x,sticky:_,hideWhenDetached:j,avoidCollisions:A}:{};return e.jsx(lE,{scope:s,content:S,viewport:z,onViewportChange:V,itemRefCallback:U,selectedItem:D,onItemLeave:J,itemTextRefCallback:se,focusSelectedItem:ce,selectedItemText:H,position:r,isPositioned:Q,searchRef:ne,children:e.jsx(ox,{as:$H,allowPinchZoom:!0,children:e.jsx(sx,{asChild:!0,trapped:P.open,onMountAutoFocus:we=>{we.preventDefault()},onUnmountAutoFocus:kt(i,we=>{var Ce;(Ce=P.trigger)==null||Ce.focus({preventScroll:!0}),we.preventDefault()}),children:e.jsx(bp,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:we=>we.preventDefault(),onDismiss:()=>P.onOpenChange(!1),children:e.jsx(ue,{role:"listbox",id:P.contentId,"data-state":P.open?"open":"closed",dir:P.dir,onContextMenu:we=>we.preventDefault(),...C,...be,onPlaced:()=>Z(!0),ref:B,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:kt(C.onKeyDown,we=>{const Ce=we.ctrlKey||we.altKey||we.metaKey;if(we.key==="Tab"&&we.preventDefault(),!Ce&&we.key.length===1&&re(we.key),["ArrowUp","ArrowDown","Home","End"].includes(we.key)){let Xe=W().filter(tt=>!tt.disabled).map(tt=>tt.ref.current);if(["ArrowUp","End"].includes(we.key)&&(Xe=Xe.slice().reverse()),["ArrowUp","ArrowDown"].includes(we.key)){const tt=we.target,lt=Xe.indexOf(tt);Xe=Xe.slice(lt+1)}setTimeout(()=>q(Xe)),we.preventDefault()}})})})})})})});cE.displayName=UH;var VH="SelectItemAlignedPosition",dE=w.forwardRef((n,t)=>{const{__scopeSelect:s,onPlaced:r,...i}=n,a=Kh(Dm,s),l=Jh(Dm,s),[c,u]=w.useState(null),[m,g]=w.useState(null),p=Ss(t,B=>g(B)),y=h0(s),x=w.useRef(!1),_=w.useRef(!0),{viewport:j,selectedItem:A,selectedItemText:C,focusSelectedItem:P}=l,S=w.useCallback(()=>{if(a.trigger&&a.valueNode&&c&&m&&j&&A&&C){const B=a.trigger.getBoundingClientRect(),D=m.getBoundingClientRect(),K=a.valueNode.getBoundingClientRect(),H=C.getBoundingClientRect();if(a.dir!=="rtl"){const tt=H.left-D.left,lt=K.left-tt,jt=B.left-lt,Et=B.width+jt,Je=Math.max(Et,D.width),_e=window.innerWidth-Wc,$t=qg(lt,[Wc,Math.max(Wc,_e-Je)]);c.style.minWidth=Et+"px",c.style.left=$t+"px"}else{const tt=D.right-H.right,lt=window.innerWidth-K.right-tt,jt=window.innerWidth-B.right-lt,Et=B.width+jt,Je=Math.max(Et,D.width),_e=window.innerWidth-Wc,$t=qg(lt,[Wc,Math.max(Wc,_e-Je)]);c.style.minWidth=Et+"px",c.style.right=$t+"px"}const $=y(),W=window.innerHeight-Wc*2,Q=j.scrollHeight,Z=window.getComputedStyle(m),ie=parseInt(Z.borderTopWidth,10),q=parseInt(Z.paddingTop,10),ce=parseInt(Z.borderBottomWidth,10),te=parseInt(Z.paddingBottom,10),oe=ie+q+Q+te+ce,ne=Math.min(A.offsetHeight*5,oe),re=window.getComputedStyle(j),U=parseInt(re.paddingTop,10),J=parseInt(re.paddingBottom,10),se=B.top+B.height/2-Wc,ue=W-se,be=A.offsetHeight/2,we=A.offsetTop+be,Ce=ie+q+we,Re=oe-Ce;if(Ce<=se){const tt=$.length>0&&A===$[$.length-1].ref.current;c.style.bottom="0px";const lt=m.clientHeight-j.offsetTop-j.offsetHeight,jt=Math.max(ue,be+(tt?J:0)+lt+ce),Et=Ce+jt;c.style.height=Et+"px"}else{const tt=$.length>0&&A===$[0].ref.current;c.style.top="0px";const jt=Math.max(se,ie+j.offsetTop+(tt?U:0)+be)+Re;c.style.height=jt+"px",j.scrollTop=Ce-se+j.offsetTop}c.style.margin=`${Wc}px 0`,c.style.minHeight=ne+"px",c.style.maxHeight=W+"px",r==null||r(),requestAnimationFrame(()=>x.current=!0)}},[y,a.trigger,a.valueNode,c,m,j,A,C,a.dir,r]);qi(()=>S(),[S]);const[O,z]=w.useState();qi(()=>{m&&z(window.getComputedStyle(m).zIndex)},[m]);const V=w.useCallback(B=>{B&&_.current===!0&&(S(),P==null||P(),_.current=!1)},[S,P]);return e.jsx(GH,{scope:s,contentWrapper:c,shouldExpandOnScrollRef:x,onScrollButtonChange:V,children:e.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:O},children:e.jsx(as.div,{...i,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});dE.displayName=VH;var HH="SelectPopperPosition",d1=w.forwardRef((n,t)=>{const{__scopeSelect:s,align:r="start",collisionPadding:i=Wc,...a}=n,l=m0(s);return e.jsx(e0,{...l,...a,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});d1.displayName=HH;var[GH,e2]=Sp(Dm,{}),u1="SelectViewport",uE=w.forwardRef((n,t)=>{const{__scopeSelect:s,nonce:r,...i}=n,a=Jh(u1,s),l=e2(u1,s),c=Ss(t,a.onViewportChange),u=w.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),e.jsx(u0.Slot,{scope:s,children:e.jsx(as.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:kt(i.onScroll,m=>{const g=m.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:y}=l;if(y!=null&&y.current&&p){const x=Math.abs(u.current-g.scrollTop);if(x>0){const _=window.innerHeight-Wc*2,j=parseFloat(p.style.minHeight),A=parseFloat(p.style.height),C=Math.max(j,A);if(C<_){const P=C+x,S=Math.min(_,P),O=P-S;p.style.height=S+"px",p.style.bottom==="0px"&&(g.scrollTop=O>0?O:0,p.style.justifyContent="flex-end")}}}u.current=g.scrollTop})})})]})});uE.displayName=u1;var hE="SelectGroup",[WH,YH]=Sp(hE),ZH=w.forwardRef((n,t)=>{const{__scopeSelect:s,...r}=n,i=Bl();return e.jsx(WH,{scope:s,id:i,children:e.jsx(as.div,{role:"group","aria-labelledby":i,...r,ref:t})})});ZH.displayName=hE;var mE="SelectLabel",fE=w.forwardRef((n,t)=>{const{__scopeSelect:s,...r}=n,i=YH(mE,s);return e.jsx(as.div,{id:i.id,...r,ref:t})});fE.displayName=mE;var yy="SelectItem",[KH,pE]=Sp(yy),gE=w.forwardRef((n,t)=>{const{__scopeSelect:s,value:r,disabled:i=!1,textValue:a,...l}=n,c=Kh(yy,s),u=Jh(yy,s),m=c.value===r,[g,p]=w.useState(a??""),[y,x]=w.useState(!1),_=Ss(t,P=>{var S;return(S=u.itemRefCallback)==null?void 0:S.call(u,P,r,i)}),j=Bl(),A=w.useRef("touch"),C=()=>{i||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(KH,{scope:s,value:r,disabled:i,textId:j,isSelected:m,onItemTextChange:w.useCallback(P=>{p(S=>S||((P==null?void 0:P.textContent)??"").trim())},[]),children:e.jsx(u0.ItemSlot,{scope:s,value:r,disabled:i,textValue:g,children:e.jsx(as.div,{role:"option","aria-labelledby":j,"data-highlighted":y?"":void 0,"aria-selected":m&&y,"data-state":m?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...l,ref:_,onFocus:kt(l.onFocus,()=>x(!0)),onBlur:kt(l.onBlur,()=>x(!1)),onClick:kt(l.onClick,()=>{A.current!=="mouse"&&C()}),onPointerUp:kt(l.onPointerUp,()=>{A.current==="mouse"&&C()}),onPointerDown:kt(l.onPointerDown,P=>{A.current=P.pointerType}),onPointerMove:kt(l.onPointerMove,P=>{var S;A.current=P.pointerType,i?(S=u.onItemLeave)==null||S.call(u):A.current==="mouse"&&P.currentTarget.focus({preventScroll:!0})}),onPointerLeave:kt(l.onPointerLeave,P=>{var S;P.currentTarget===document.activeElement&&((S=u.onItemLeave)==null||S.call(u))}),onKeyDown:kt(l.onKeyDown,P=>{var O;((O=u.searchRef)==null?void 0:O.current)!==""&&P.key===" "||(MH.includes(P.key)&&C(),P.key===" "&&P.preventDefault())})})})})});gE.displayName=yy;var wg="SelectItemText",xE=w.forwardRef((n,t)=>{const{__scopeSelect:s,className:r,style:i,...a}=n,l=Kh(wg,s),c=Jh(wg,s),u=pE(wg,s),m=BH(wg,s),[g,p]=w.useState(null),y=Ss(t,C=>p(C),u.onItemTextChange,C=>{var P;return(P=c.itemTextRefCallback)==null?void 0:P.call(c,C,u.value,u.disabled)}),x=g==null?void 0:g.textContent,_=w.useMemo(()=>e.jsx("option",{value:u.value,disabled:u.disabled,children:x},u.value),[u.disabled,u.value,x]),{onNativeOptionAdd:j,onNativeOptionRemove:A}=m;return qi(()=>(j(_),()=>A(_)),[j,A,_]),e.jsxs(e.Fragment,{children:[e.jsx(as.span,{id:u.textId,...a,ref:y}),u.isSelected&&l.valueNode&&!l.valueNodeHasChildren?hp.createPortal(a.children,l.valueNode):null]})});xE.displayName=wg;var vE="SelectItemIndicator",yE=w.forwardRef((n,t)=>{const{__scopeSelect:s,...r}=n;return pE(vE,s).isSelected?e.jsx(as.span,{"aria-hidden":!0,...r,ref:t}):null});yE.displayName=vE;var h1="SelectScrollUpButton",bE=w.forwardRef((n,t)=>{const s=Jh(h1,n.__scopeSelect),r=e2(h1,n.__scopeSelect),[i,a]=w.useState(!1),l=Ss(t,r.onScrollButtonChange);return qi(()=>{if(s.viewport&&s.isPositioned){let c=function(){const m=u.scrollTop>0;a(m)};const u=s.viewport;return c(),u.addEventListener("scroll",c),()=>u.removeEventListener("scroll",c)}},[s.viewport,s.isPositioned]),i?e.jsx(wE,{...n,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=s;c&&u&&(c.scrollTop=c.scrollTop-u.offsetHeight)}}):null});bE.displayName=h1;var m1="SelectScrollDownButton",jE=w.forwardRef((n,t)=>{const s=Jh(m1,n.__scopeSelect),r=e2(m1,n.__scopeSelect),[i,a]=w.useState(!1),l=Ss(t,r.onScrollButtonChange);return qi(()=>{if(s.viewport&&s.isPositioned){let c=function(){const m=u.scrollHeight-u.clientHeight,g=Math.ceil(u.scrollTop)<m;a(g)};const u=s.viewport;return c(),u.addEventListener("scroll",c),()=>u.removeEventListener("scroll",c)}},[s.viewport,s.isPositioned]),i?e.jsx(wE,{...n,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=s;c&&u&&(c.scrollTop=c.scrollTop+u.offsetHeight)}}):null});jE.displayName=m1;var wE=w.forwardRef((n,t)=>{const{__scopeSelect:s,onAutoScroll:r,...i}=n,a=Jh("SelectScrollButton",s),l=w.useRef(null),c=h0(s),u=w.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return w.useEffect(()=>()=>u(),[u]),qi(()=>{var g;const m=c().find(p=>p.ref.current===document.activeElement);(g=m==null?void 0:m.ref.current)==null||g.scrollIntoView({block:"nearest"})},[c]),e.jsx(as.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:kt(i.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:kt(i.onPointerMove,()=>{var m;(m=a.onItemLeave)==null||m.call(a),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:kt(i.onPointerLeave,()=>{u()})})}),JH="SelectSeparator",NE=w.forwardRef((n,t)=>{const{__scopeSelect:s,...r}=n;return e.jsx(as.div,{"aria-hidden":!0,...r,ref:t})});NE.displayName=JH;var f1="SelectArrow",XH=w.forwardRef((n,t)=>{const{__scopeSelect:s,...r}=n,i=m0(s),a=Kh(f1,s),l=Jh(f1,s);return a.open&&l.position==="popper"?e.jsx(t0,{...i,...r,ref:t}):null});XH.displayName=f1;var QH="SelectBubbleInput",_E=w.forwardRef(({__scopeSelect:n,value:t,...s},r)=>{const i=w.useRef(null),a=Ss(r,i),l=px(t);return w.useEffect(()=>{const c=i.current;if(!c)return;const u=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(u,"value").set;if(l!==t&&g){const p=new Event("change",{bubbles:!0});g.call(c,t),c.dispatchEvent(p)}},[l,t]),e.jsx(as.select,{...s,style:{...X6,...s.style},ref:a,defaultValue:t})});_E.displayName=QH;function SE(n){return n===""||n===void 0}function CE(n){const t=Fa(n),s=w.useRef(""),r=w.useRef(0),i=w.useCallback(l=>{const c=s.current+l;t(c),(function u(m){s.current=m,window.clearTimeout(r.current),m!==""&&(r.current=window.setTimeout(()=>u(""),1e3))})(c)},[t]),a=w.useCallback(()=>{s.current="",window.clearTimeout(r.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),[s,i,a]}function AE(n,t,s){const i=t.length>1&&Array.from(t).every(m=>m===t[0])?t[0]:t,a=s?n.indexOf(s):-1;let l=eG(n,Math.max(a,0));i.length===1&&(l=l.filter(m=>m!==s));const u=l.find(m=>m.textValue.toLowerCase().startsWith(i.toLowerCase()));return u!==s?u:void 0}function eG(n,t){return n.map((s,r)=>n[(t+r)%n.length])}var tG=eE,kE=sE,sG=rE,nG=iE,rG=aE,EE=oE,iG=uE,TE=fE,PE=gE,aG=xE,oG=yE,LE=bE,RE=jE,OE=NE;const Jt=tG,Xt=sG,Wt=w.forwardRef(({className:n,children:t,...s},r)=>e.jsxs(kE,{ref:r,className:nt("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n),...s,children:[t,e.jsx(nG,{asChild:!0,children:e.jsx(jm,{className:"h-4 w-4 opacity-50"})})]}));Wt.displayName=kE.displayName;const ME=w.forwardRef(({className:n,...t},s)=>e.jsx(LE,{ref:s,className:nt("flex cursor-default items-center justify-center py-1",n),...t,children:e.jsx(bg,{className:"h-4 w-4"})}));ME.displayName=LE.displayName;const DE=w.forwardRef(({className:n,...t},s)=>e.jsx(RE,{ref:s,className:nt("flex cursor-default items-center justify-center py-1",n),...t,children:e.jsx(jm,{className:"h-4 w-4"})}));DE.displayName=RE.displayName;const Yt=w.forwardRef(({className:n,children:t,position:s="popper",...r},i)=>e.jsx(rG,{children:e.jsxs(EE,{ref:i,className:nt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:s,...r,children:[e.jsx(ME,{}),e.jsx(iG,{className:nt("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),e.jsx(DE,{})]})}));Yt.displayName=EE.displayName;const lG=w.forwardRef(({className:n,...t},s)=>e.jsx(TE,{ref:s,className:nt("px-2 py-1.5 text-sm font-semibold",n),...t}));lG.displayName=TE.displayName;const Ee=w.forwardRef(({className:n,children:t,...s},r)=>e.jsxs(PE,{ref:r,className:nt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...s,children:[e.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(oG,{children:e.jsx(Vu,{className:"h-4 w-4"})})}),e.jsx(aG,{children:t})]}));Ee.displayName=PE.displayName;const cG=w.forwardRef(({className:n,...t},s)=>e.jsx(OE,{ref:s,className:nt("-mx-1 my-1 h-px bg-muted",n),...t}));cG.displayName=OE.displayName;var IE=["PageUp","PageDown"],FE=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],BE={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Cp="Slider",[p1,dG,uG]=Wy(Cp),[zE]=qa(Cp,[uG]),[hG,f0]=zE(Cp),qE=w.forwardRef((n,t)=>{const{name:s,min:r=0,max:i=100,step:a=1,orientation:l="horizontal",disabled:c=!1,minStepsBetweenThumbs:u=0,defaultValue:m=[r],value:g,onValueChange:p=()=>{},onValueCommit:y=()=>{},inverted:x=!1,form:_,...j}=n,A=w.useRef(new Set),C=w.useRef(0),S=l==="horizontal"?mG:fG,[O=[],z]=$l({prop:g,defaultProp:m,onChange:$=>{var Q;(Q=[...A.current][C.current])==null||Q.focus(),p($)}}),V=w.useRef(O);function B($){const W=yG(O,$);H($,W)}function D($){H($,C.current)}function K(){const $=V.current[C.current];O[C.current]!==$&&y(O)}function H($,W,{commit:Q}={commit:!1}){const Z=NG(a),ie=_G(Math.round(($-r)/a)*a+r,Z),q=qg(ie,[r,i]);z((ce=[])=>{const te=xG(ce,q,W);if(wG(te,u*a)){C.current=te.indexOf(q);const oe=String(te)!==String(ce);return oe&&Q&&y(te),oe?te:ce}else return ce})}return e.jsx(hG,{scope:n.__scopeSlider,name:s,disabled:c,min:r,max:i,valueIndexToChangeRef:C,thumbs:A.current,values:O,orientation:l,form:_,children:e.jsx(p1.Provider,{scope:n.__scopeSlider,children:e.jsx(p1.Slot,{scope:n.__scopeSlider,children:e.jsx(S,{"aria-disabled":c,"data-disabled":c?"":void 0,...j,ref:t,onPointerDown:kt(j.onPointerDown,()=>{c||(V.current=O)}),min:r,max:i,inverted:x,onSlideStart:c?void 0:B,onSlideMove:c?void 0:D,onSlideEnd:c?void 0:K,onHomeKeyDown:()=>!c&&H(r,0,{commit:!0}),onEndKeyDown:()=>!c&&H(i,O.length-1,{commit:!0}),onStepKeyDown:({event:$,direction:W})=>{if(!c){const ie=IE.includes($.key)||$.shiftKey&&FE.includes($.key)?10:1,q=C.current,ce=O[q],te=a*ie*W;H(ce+te,q,{commit:!0})}}})})})})});qE.displayName=Cp;var[UE,$E]=zE(Cp,{startEdge:"left",endEdge:"right",size:"width",direction:1}),mG=w.forwardRef((n,t)=>{const{min:s,max:r,dir:i,inverted:a,onSlideStart:l,onSlideMove:c,onSlideEnd:u,onStepKeyDown:m,...g}=n,[p,y]=w.useState(null),x=Ss(t,S=>y(S)),_=w.useRef(void 0),j=$m(i),A=j==="ltr",C=A&&!a||!A&&a;function P(S){const O=_.current||p.getBoundingClientRect(),z=[0,O.width],B=t2(z,C?[s,r]:[r,s]);return _.current=O,B(S-O.left)}return e.jsx(UE,{scope:n.__scopeSlider,startEdge:C?"left":"right",endEdge:C?"right":"left",direction:C?1:-1,size:"width",children:e.jsx(VE,{dir:j,"data-orientation":"horizontal",...g,ref:x,style:{...g.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:S=>{const O=P(S.clientX);l==null||l(O)},onSlideMove:S=>{const O=P(S.clientX);c==null||c(O)},onSlideEnd:()=>{_.current=void 0,u==null||u()},onStepKeyDown:S=>{const z=BE[C?"from-left":"from-right"].includes(S.key);m==null||m({event:S,direction:z?-1:1})}})})}),fG=w.forwardRef((n,t)=>{const{min:s,max:r,inverted:i,onSlideStart:a,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...m}=n,g=w.useRef(null),p=Ss(t,g),y=w.useRef(void 0),x=!i;function _(j){const A=y.current||g.current.getBoundingClientRect(),C=[0,A.height],S=t2(C,x?[r,s]:[s,r]);return y.current=A,S(j-A.top)}return e.jsx(UE,{scope:n.__scopeSlider,startEdge:x?"bottom":"top",endEdge:x?"top":"bottom",size:"height",direction:x?1:-1,children:e.jsx(VE,{"data-orientation":"vertical",...m,ref:p,style:{...m.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:j=>{const A=_(j.clientY);a==null||a(A)},onSlideMove:j=>{const A=_(j.clientY);l==null||l(A)},onSlideEnd:()=>{y.current=void 0,c==null||c()},onStepKeyDown:j=>{const C=BE[x?"from-bottom":"from-top"].includes(j.key);u==null||u({event:j,direction:C?-1:1})}})})}),VE=w.forwardRef((n,t)=>{const{__scopeSlider:s,onSlideStart:r,onSlideMove:i,onSlideEnd:a,onHomeKeyDown:l,onEndKeyDown:c,onStepKeyDown:u,...m}=n,g=f0(Cp,s);return e.jsx(as.span,{...m,ref:t,onKeyDown:kt(n.onKeyDown,p=>{p.key==="Home"?(l(p),p.preventDefault()):p.key==="End"?(c(p),p.preventDefault()):IE.concat(FE).includes(p.key)&&(u(p),p.preventDefault())}),onPointerDown:kt(n.onPointerDown,p=>{const y=p.target;y.setPointerCapture(p.pointerId),p.preventDefault(),g.thumbs.has(y)?y.focus():r(p)}),onPointerMove:kt(n.onPointerMove,p=>{p.target.hasPointerCapture(p.pointerId)&&i(p)}),onPointerUp:kt(n.onPointerUp,p=>{const y=p.target;y.hasPointerCapture(p.pointerId)&&(y.releasePointerCapture(p.pointerId),a(p))})})}),HE="SliderTrack",GE=w.forwardRef((n,t)=>{const{__scopeSlider:s,...r}=n,i=f0(HE,s);return e.jsx(as.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:t})});GE.displayName=HE;var g1="SliderRange",WE=w.forwardRef((n,t)=>{const{__scopeSlider:s,...r}=n,i=f0(g1,s),a=$E(g1,s),l=w.useRef(null),c=Ss(t,l),u=i.values.length,m=i.values.map(y=>KE(y,i.min,i.max)),g=u>1?Math.min(...m):0,p=100-Math.max(...m);return e.jsx(as.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:c,style:{...n.style,[a.startEdge]:g+"%",[a.endEdge]:p+"%"}})});WE.displayName=g1;var x1="SliderThumb",YE=w.forwardRef((n,t)=>{const s=dG(n.__scopeSlider),[r,i]=w.useState(null),a=Ss(t,c=>i(c)),l=w.useMemo(()=>r?s().findIndex(c=>c.ref.current===r):-1,[s,r]);return e.jsx(pG,{...n,ref:a,index:l})}),pG=w.forwardRef((n,t)=>{const{__scopeSlider:s,index:r,name:i,...a}=n,l=f0(x1,s),c=$E(x1,s),[u,m]=w.useState(null),g=Ss(t,P=>m(P)),p=u?l.form||!!u.closest("form"):!0,y=rx(u),x=l.values[r],_=x===void 0?0:KE(x,l.min,l.max),j=vG(r,l.values.length),A=y==null?void 0:y[c.size],C=A?bG(A,_,c.direction):0;return w.useEffect(()=>{if(u)return l.thumbs.add(u),()=>{l.thumbs.delete(u)}},[u,l.thumbs]),e.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${_}% + ${C}px)`},children:[e.jsx(p1.ItemSlot,{scope:n.__scopeSlider,children:e.jsx(as.span,{role:"slider","aria-label":n["aria-label"]||j,"aria-valuemin":l.min,"aria-valuenow":x,"aria-valuemax":l.max,"aria-orientation":l.orientation,"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,tabIndex:l.disabled?void 0:0,...a,ref:g,style:x===void 0?{display:"none"}:n.style,onFocus:kt(n.onFocus,()=>{l.valueIndexToChangeRef.current=r})})}),p&&e.jsx(ZE,{name:i??(l.name?l.name+(l.values.length>1?"[]":""):void 0),form:l.form,value:x},r)]})});YE.displayName=x1;var gG="RadioBubbleInput",ZE=w.forwardRef(({__scopeSlider:n,value:t,...s},r)=>{const i=w.useRef(null),a=Ss(i,r),l=px(t);return w.useEffect(()=>{const c=i.current;if(!c)return;const u=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(u,"value").set;if(l!==t&&g){const p=new Event("input",{bubbles:!0});g.call(c,t),c.dispatchEvent(p)}},[l,t]),e.jsx(as.input,{style:{display:"none"},...s,ref:a,defaultValue:t})});ZE.displayName=gG;function xG(n=[],t,s){const r=[...n];return r[s]=t,r.sort((i,a)=>i-a)}function KE(n,t,s){const a=100/(s-t)*(n-t);return qg(a,[0,100])}function vG(n,t){return t>2?`Value ${n+1} of ${t}`:t===2?["Minimum","Maximum"][n]:void 0}function yG(n,t){if(n.length===1)return 0;const s=n.map(i=>Math.abs(i-t)),r=Math.min(...s);return s.indexOf(r)}function bG(n,t,s){const r=n/2,a=t2([0,50],[0,r]);return(r-a(t)*s)*s}function jG(n){return n.slice(0,-1).map((t,s)=>n[s+1]-t)}function wG(n,t){if(t>0){const s=jG(n);return Math.min(...s)>=t}return!0}function t2(n,t){return s=>{if(n[0]===n[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(n[1]-n[0]);return t[0]+r*(s-n[0])}}function NG(n){return(String(n).split(".")[1]||"").length}function _G(n,t){const s=Math.pow(10,t);return Math.round(n*s)/s}var JE=qE,SG=GE,CG=WE,AG=YE;const _m=w.forwardRef(({className:n,...t},s)=>e.jsxs(JE,{ref:s,className:nt("relative flex w-full touch-none select-none items-center",n),...t,children:[e.jsx(SG,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:e.jsx(CG,{className:"absolute h-full bg-primary"})}),e.jsx(AG,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]}));_m.displayName=JE.displayName;function kG(n){const t=EG(n),s=w.forwardRef((r,i)=>{const{children:a,...l}=r,c=w.Children.toArray(a),u=c.find(PG);if(u){const m=u.props.children,g=c.map(p=>p===u?w.Children.count(m)>1?w.Children.only(null):w.isValidElement(m)?m.props.children:null:p);return e.jsx(t,{...l,ref:i,children:w.isValidElement(m)?w.cloneElement(m,void 0,g):null})}return e.jsx(t,{...l,ref:i,children:a})});return s.displayName=`${n}.Slot`,s}function EG(n){const t=w.forwardRef((s,r)=>{const{children:i,...a}=s;if(w.isValidElement(i)){const l=RG(i),c=LG(a,i.props);return i.type!==w.Fragment&&(c.ref=r?Xd(r,l):l),w.cloneElement(i,c)}return w.Children.count(i)>1?w.Children.only(null):null});return t.displayName=`${n}.SlotClone`,t}var TG=Symbol("radix.slottable");function PG(n){return w.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===TG}function LG(n,t){const s={...t};for(const r in t){const i=n[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?s[r]=(...c)=>{const u=a(...c);return i(...c),u}:i&&(s[r]=i):r==="style"?s[r]={...i,...a}:r==="className"&&(s[r]=[i,a].filter(Boolean).join(" "))}return{...n,...s}}function RG(n){var r,i;let t=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?n.ref:(t=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?n.props.ref:n.props.ref||n.ref)}var p0="Popover",[XE]=qa(p0,[Zh]),gx=Zh(),[OG,Xh]=XE(p0),QE=n=>{const{__scopePopover:t,children:s,open:r,defaultOpen:i,onOpenChange:a,modal:l=!1}=n,c=gx(t),u=w.useRef(null),[m,g]=w.useState(!1),[p,y]=$l({prop:r,defaultProp:i??!1,onChange:a,caller:p0});return e.jsx(Qy,{...c,children:e.jsx(OG,{scope:t,contentId:Bl(),triggerRef:u,open:p,onOpenChange:y,onOpenToggle:w.useCallback(()=>y(x=>!x),[y]),hasCustomAnchor:m,onCustomAnchorAdd:w.useCallback(()=>g(!0),[]),onCustomAnchorRemove:w.useCallback(()=>g(!1),[]),modal:l,children:s})})};QE.displayName=p0;var eT="PopoverAnchor",MG=w.forwardRef((n,t)=>{const{__scopePopover:s,...r}=n,i=Xh(eT,s),a=gx(s),{onCustomAnchorAdd:l,onCustomAnchorRemove:c}=i;return w.useEffect(()=>(l(),()=>c()),[l,c]),e.jsx(ix,{...a,...r,ref:t})});MG.displayName=eT;var tT="PopoverTrigger",sT=w.forwardRef((n,t)=>{const{__scopePopover:s,...r}=n,i=Xh(tT,s),a=gx(s),l=Ss(t,i.triggerRef),c=e.jsx(as.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":oT(i.open),...r,ref:l,onClick:kt(n.onClick,i.onOpenToggle)});return i.hasCustomAnchor?c:e.jsx(ix,{asChild:!0,...a,children:c})});sT.displayName=tT;var s2="PopoverPortal",[DG,IG]=XE(s2,{forceMount:void 0}),nT=n=>{const{__scopePopover:t,forceMount:s,children:r,container:i}=n,a=Xh(s2,t);return e.jsx(DG,{scope:t,forceMount:s,children:e.jsx(ma,{present:s||a.open,children:e.jsx(Np,{asChild:!0,container:i,children:r})})})};nT.displayName=s2;var ip="PopoverContent",rT=w.forwardRef((n,t)=>{const s=IG(ip,n.__scopePopover),{forceMount:r=s.forceMount,...i}=n,a=Xh(ip,n.__scopePopover);return e.jsx(ma,{present:r||a.open,children:a.modal?e.jsx(BG,{...i,ref:t}):e.jsx(zG,{...i,ref:t})})});rT.displayName=ip;var FG=kG("PopoverContent.RemoveScroll"),BG=w.forwardRef((n,t)=>{const s=Xh(ip,n.__scopePopover),r=w.useRef(null),i=Ss(t,r),a=w.useRef(!1);return w.useEffect(()=>{const l=r.current;if(l)return s0(l)},[]),e.jsx(ox,{as:FG,allowPinchZoom:!0,children:e.jsx(iT,{...n,ref:i,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:kt(n.onCloseAutoFocus,l=>{var c;l.preventDefault(),a.current||(c=s.triggerRef.current)==null||c.focus()}),onPointerDownOutside:kt(n.onPointerDownOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,m=c.button===2||u;a.current=m},{checkForDefaultPrevented:!1}),onFocusOutside:kt(n.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),zG=w.forwardRef((n,t)=>{const s=Xh(ip,n.__scopePopover),r=w.useRef(!1),i=w.useRef(!1);return e.jsx(iT,{...n,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var l,c;(l=n.onCloseAutoFocus)==null||l.call(n,a),a.defaultPrevented||(r.current||(c=s.triggerRef.current)==null||c.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var u,m;(u=n.onInteractOutside)==null||u.call(n,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=a.target;((m=s.triggerRef.current)==null?void 0:m.contains(l))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),iT=w.forwardRef((n,t)=>{const{__scopePopover:s,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:m,onInteractOutside:g,...p}=n,y=Xh(ip,s),x=gx(s);return Yy(),e.jsx(sx,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:e.jsx(bp,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:g,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:m,onDismiss:()=>y.onOpenChange(!1),children:e.jsx(e0,{"data-state":oT(y.open),role:"dialog",id:y.contentId,...x,...p,ref:t,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),aT="PopoverClose",qG=w.forwardRef((n,t)=>{const{__scopePopover:s,...r}=n,i=Xh(aT,s);return e.jsx(as.button,{type:"button",...r,ref:t,onClick:kt(n.onClick,()=>i.onOpenChange(!1))})});qG.displayName=aT;var UG="PopoverArrow",$G=w.forwardRef((n,t)=>{const{__scopePopover:s,...r}=n,i=gx(s);return e.jsx(t0,{...i,...r,ref:t})});$G.displayName=UG;function oT(n){return n?"open":"closed"}var VG=QE,HG=sT,GG=nT,lT=rT;const WG=VG,YG=HG,cT=w.forwardRef(({className:n,align:t="center",sideOffset:s=4,...r},i)=>e.jsx(GG,{children:e.jsx(lT,{ref:i,align:t,sideOffset:s,className:nt("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...r})}));cT.displayName=lT.displayName;const nS=["All Industries","Food & Beverage","Technology","Health & Fitness","Retail","Education","Agriculture","Manufacturing","Services"],ZG=["All Locations","Mumbai","Delhi","Bangalore","Pune","Chennai","Hyderabad","Kolkata","Ahmedabad"],KG=["All Types","Private Limited","Partnership","Sole Proprietorship","LLP","Franchise"],yj={business:[{icon:"",text:"Restaurant Mumbai",query:"restaurant in Mumbai"},{icon:"",text:"Caf under 25L",query:"caf under 25L"},{icon:"",text:"Tech Business",query:"tech business Bangalore"},{icon:"",text:"Manufacturing",query:"manufacturing business"},{icon:"",text:"Retail Store",query:"retail store"}],franchise:[{icon:"",text:"Food Franchise",query:"food franchise under 20L"},{icon:"",text:"Education",query:"education franchise"},{icon:"",text:"Fitness",query:"fitness franchise"},{icon:"",text:"Retail Franchise",query:"retail franchise under 15L"},{icon:"",text:"Convenience Store",query:"convenience store franchise"}]},JG={business:[{label:"Under 10L",priceRange:[0,1e6]},{label:"10L - 50L",priceRange:[1e6,5e6]},{label:"50L - 1Cr",priceRange:[5e6,1e7]}],franchise:[{label:"Under 5L",priceRange:[0,5e5]},{label:"5L - 20L",priceRange:[5e5,2e6]},{label:"20L+",priceRange:[2e6,1e7]}]};function n2({onSearch:n,onSearchTypeChange:t,className:s}){const[r,i]=w.useState("business"),[a,l]=w.useState(""),[c,u]=w.useState(!1),[m,g]=w.useState(!1),[p,y]=w.useState({industry:"All Industries",location:"All Locations",priceRange:[0,1e7],businessType:"All Types",employees:"Any",established:"Any"}),[x,_]=w.useState(!1),j=()=>{n==null||n(a,r,p)},A=()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const S=window.webkitSpeechRecognition||window.SpeechRecognition,O=new S;O.continuous=!1,O.interimResults=!1,O.lang="en-IN",O.onstart=()=>{_(!0)},O.onresult=z=>{const V=z.results[0][0].transcript;l(V),_(!1)},O.onerror=()=>{_(!1),alert("Voice recognition error. Please try again.")},O.onend=()=>{_(!1)},O.start()}else alert("Voice recognition not supported in this browser.")},C=(S,O)=>{y(z=>({...z,[S]:O}))},P=S=>S>=1e7?"1Cr+":S>=1e6?`${(S/1e6).toFixed(1)}Cr`:S>=1e5?`${(S/1e5).toFixed(1)}L`:`${S.toLocaleString()}`;return e.jsxs("div",{className:`w-full max-w-4xl mx-auto space-y-6 ${s}`,children:[e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("div",{className:"flex bg-muted rounded-xl p-1.5 w-full max-w-lg shadow-sm",children:[e.jsxs(ee,{variant:r==="business"?"default":"ghost",size:"lg",onClick:()=>{i("business"),t==null||t("business")},className:"flex items-center gap-3 relative flex-1 h-12 text-sm font-medium",children:[e.jsx("div",{className:`p-2 rounded-full ${r==="business"?"bg-white/20":"bg-muted-foreground/10"}`,children:e.jsx(Zs,{className:"h-5 w-5"})}),e.jsx("span",{className:"hidden sm:inline",children:"Businesses for Sale"}),e.jsx("span",{className:"sm:hidden",children:"Business"})]}),e.jsxs(ee,{variant:r==="franchise"?"default":"ghost",size:"lg",onClick:()=>{i("franchise"),t==null||t("franchise")},className:"flex items-center gap-3 relative flex-1 h-12 text-sm font-medium",children:[e.jsx("div",{className:`p-2 rounded-full ${r==="franchise"?"bg-white/20":"bg-muted-foreground/10"}`,children:e.jsx(Vd,{className:"h-5 w-5"})}),e.jsx("span",{className:"hidden sm:inline",children:"Franchise Opportunities"}),e.jsx("span",{className:"sm:hidden",children:"Franchise"})]})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-center",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(xi,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-muted-foreground h-5 w-5"}),e.jsx(Ue,{placeholder:r==="business"?" Search for restaurants, retail stores, tech startups...":" Search for food, education, fitness franchises...",value:a,onChange:S=>{l(S.target.value),g(S.target.value.length>0)},onFocus:()=>a.length===0&&g(!0),onBlur:()=>setTimeout(()=>g(!1),200),className:"pl-12 pr-12 h-14 text-base shadow-lg border-2 focus:border-primary transition-all duration-200 rounded-xl font-medium",onKeyPress:S=>{S.key==="Enter"&&(j(),g(!1))}}),m&&e.jsx("div",{className:"absolute top-full mt-2 left-0 right-0 bg-white rounded-xl shadow-2xl border-2 border-muted z-50 max-h-96 overflow-y-auto",children:a.length===0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide mb-3",children:" Popular Searches"}),e.jsx("div",{className:"space-y-1",children:yj[r].map((S,O)=>e.jsxs("button",{onClick:()=>{l(S.query),g(!1)},className:"w-full text-left px-3 py-2.5 hover:bg-primary/10 rounded-lg transition-colors flex items-center gap-3 group",children:[e.jsx("span",{className:"text-xl",children:S.icon}),e.jsx("span",{className:"font-medium group-hover:text-primary",children:S.text})]},O))})]}),e.jsx(cr,{}),e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide mb-3",children:" Quick Price Filters"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:JG[r].map((S,O)=>e.jsx("button",{onClick:()=>{C("priceRange",S.priceRange),g(!1)},className:"px-4 py-2 bg-muted hover:bg-primary hover:text-white rounded-full text-sm font-medium transition-colors",children:S.label},O))})]})]}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide mb-3",children:" Suggestions"}),e.jsxs("div",{className:"space-y-1",children:[yj[r].filter(S=>S.query.toLowerCase().includes(a.toLowerCase())).map((S,O)=>e.jsxs("button",{onClick:()=>{l(S.query),g(!1)},className:"w-full text-left px-3 py-2.5 hover:bg-primary/10 rounded-lg transition-colors flex items-center gap-3 group",children:[e.jsx(xi,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-medium group-hover:text-primary",children:S.query})]},O)),yj[r].filter(S=>S.query.toLowerCase().includes(a.toLowerCase())).length===0&&e.jsxs("div",{className:"px-3 py-4 text-center text-muted-foreground text-sm",children:['Press Enter to search for "',a,'"']})]})]})})}),e.jsx(ee,{type:"button",variant:"ghost",size:"sm",onClick:A,className:`absolute right-2 top-1/2 transform -translate-y-1/2 h-10 w-10 p-0 rounded-full ${x?"text-red-500 animate-pulse bg-red-50":"text-muted-foreground hover:text-primary hover:bg-primary/10"}`,children:x?e.jsx(LF,{className:"h-5 w-5"}):e.jsx(OF,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"flex gap-3 flex-shrink-0",children:[e.jsxs(WG,{open:c,onOpenChange:u,children:[e.jsx(YG,{asChild:!0,children:e.jsxs(ee,{variant:"outline",size:"lg",className:"flex items-center gap-2 h-12 shadow-sm border-2 hover:border-primary transition-all duration-200",children:[e.jsx(qm,{className:"h-4 w-4"}),"Filters",(p.industry!=="All Industries"||p.location!=="All Locations"||p.priceRange[0]>0||p.priceRange[1]<1e7)&&e.jsx(Be,{variant:"secondary",className:"ml-1",children:[p.industry!=="All Industries"?1:0,p.location!=="All Locations"?1:0,p.priceRange[0]>0||p.priceRange[1]<1e7?1:0].reduce((S,O)=>S+O,0)})]})}),e.jsx(cT,{className:"w-80",align:"end",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Industry"}),e.jsxs(Jt,{value:p.industry,onValueChange:S=>C("industry",S),children:[e.jsx(Wt,{children:e.jsx(Xt,{})}),e.jsx(Yt,{children:nS.map(S=>e.jsx(Ee,{value:S,children:S},S))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Location"}),e.jsxs(Jt,{value:p.location,onValueChange:S=>C("location",S),children:[e.jsx(Wt,{children:e.jsx(Xt,{})}),e.jsx(Yt,{children:ZG.map(S=>e.jsx(Ee,{value:S,children:S},S))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:r==="business"?"Price Range":"Investment Range"}),e.jsxs("div",{className:"px-2",children:[e.jsx(_m,{value:p.priceRange,onValueChange:S=>C("priceRange",S),max:1e7,min:0,step:1e5,className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[e.jsx("span",{children:P(p.priceRange[0])}),e.jsx("span",{children:P(p.priceRange[1])})]})]})]}),r==="business"&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Business Type"}),e.jsxs(Jt,{value:p.businessType,onValueChange:S=>C("businessType",S),children:[e.jsx(Wt,{children:e.jsx(Xt,{})}),e.jsx(Yt,{children:KG.map(S=>e.jsx(Ee,{value:S,children:S},S))})]})]}),e.jsx(cr,{}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ee,{variant:"outline",size:"sm",onClick:()=>{y({industry:"All Industries",location:"All Locations",priceRange:[0,1e7],businessType:"All Types",employees:"Any",established:"Any"})},className:"flex-1",children:"Clear"}),e.jsx(ee,{size:"sm",onClick:()=>{u(!1),j()},className:"flex-1",children:"Apply"})]})]})})]}),e.jsxs(ee,{onClick:()=>{j(),g(!1)},size:"lg",className:"px-10 h-14 shadow-lg bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 transition-all duration-200 font-bold text-base rounded-xl",children:[e.jsx(xi,{className:"h-5 w-5 mr-2"}),"Search"]})]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-3 font-semibold",children:" Browse by Industry:"}),e.jsx("div",{className:"flex flex-wrap justify-center gap-2 max-w-3xl mx-auto",children:nS.slice(1,7).map(S=>e.jsx("button",{onClick:()=>{C("industry",S),j()},className:"text-sm px-4 py-2 bg-white hover:bg-primary hover:text-white rounded-full transition-all duration-200 font-medium border-2 border-muted hover:border-primary shadow-sm",children:S},S))})]}),(p.industry!=="All Industries"||p.location!=="All Locations"||p.priceRange[0]>0||p.priceRange[1]<1e7)&&e.jsxs("div",{className:"flex flex-wrap justify-center gap-2",children:[p.industry!=="All Industries"&&e.jsxs(Be,{variant:"secondary",className:"flex items-center gap-1",children:[p.industry,e.jsx("button",{onClick:()=>C("industry","All Industries"),className:"ml-1 hover:bg-muted-foreground/20 rounded-full p-0.5",children:""})]}),p.location!=="All Locations"&&e.jsxs(Be,{variant:"secondary",className:"flex items-center gap-1",children:[e.jsx(Ln,{className:"h-3 w-3"}),p.location,e.jsx("button",{onClick:()=>C("location","All Locations"),className:"ml-1 hover:bg-muted-foreground/20 rounded-full p-0.5",children:""})]}),(p.priceRange[0]>0||p.priceRange[1]<1e7)&&e.jsxs(Be,{variant:"secondary",className:"flex items-center gap-1",children:[e.jsx(zi,{className:"h-3 w-3"}),P(p.priceRange[0])," -"," ",P(p.priceRange[1]),e.jsx("button",{onClick:()=>C("priceRange",[0,1e7]),className:"ml-1 hover:bg-muted-foreground/20 rounded-full p-0.5",children:""})]})]})]})}function XG({onSearch:n,className:t}){const[s,r]=w.useState("business"),i=(l,c,u)=>{r(c),n?n(l,c,u):console.log("Search submitted:",{query:l,type:c,filters:u})},a=[{label:"Buyers",value:"10,000+",icon:gn,emoji:""},{label:"Listings",value:"5,000+",icon:Os,emoji:""},{label:"Success Rate",value:"95%",icon:Fl,emoji:""},{label:"Deals Closed",value:"3,200+",icon:Ds,emoji:""}];return e.jsxs("section",{className:`relative overflow-hidden ${t}`,children:[e.jsxs("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600 via-blue-700 to-indigo-800",children:[e.jsx("div",{className:"absolute inset-0 bg-black/20"}),e.jsx("div",{className:"absolute inset-0 opacity-10",children:e.jsx("div",{className:"w-full h-full",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.5'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundRepeat:"repeat"}})})]}),e.jsx("div",{className:"relative z-10 container mx-auto px-4 py-16 lg:py-24",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsxs(Be,{className:"mb-6 bg-white/10 text-white border-white/20 hover:bg-white/20",children:[e.jsx(Ds,{className:"h-3 w-3 mr-1"}),"AI-Powered Business Discovery Platform"]}),e.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-6 leading-tight",children:["Find Your Perfect",e.jsx("span",{className:"block bg-gradient-to-r from-yellow-400 to-orange-400 bg-clip-text text-transparent",children:"Business Opportunity"})]}),e.jsx("p",{className:"text-xl md:text-2xl text-blue-100 mb-8 max-w-3xl mx-auto leading-relaxed",children:"Buy verified businesses or discover top franchise opportunities with AI-powered guidance."}),e.jsx("div",{className:"mb-12",children:e.jsx(n2,{onSearch:i,onSearchTypeChange:r,className:"bg-white/95 backdrop-blur-sm rounded-2xl p-6 shadow-2xl"})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-16",children:[e.jsx(St,{to:"/businesses",children:e.jsxs(ee,{size:"lg",className:"bg-white text-blue-600 hover:bg-blue-50 px-8 py-3 w-full sm:w-auto",children:["Browse Businesses",e.jsx(Ca,{className:"ml-2 h-5 w-5"})]})}),e.jsx(St,{to:"/add-business-listing",children:e.jsxs(ee,{size:"lg",variant:"outline",className:"border-white/30 text-white hover:bg-white/10 px-8 py-3 w-full sm:w-auto",children:[e.jsx($F,{className:"mr-2 h-5 w-5"}),"List Your Business"]})})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-8",children:a.map((l,c)=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-3",children:e.jsx("div",{className:"p-3 bg-white/10 rounded-full backdrop-blur-sm",children:e.jsx("div",{className:"text-2xl",children:l.emoji})})}),e.jsx("div",{className:"text-2xl md:text-3xl font-bold text-white mb-1",children:l.value}),e.jsx("div",{className:"text-xs md:text-sm text-blue-200 font-medium",children:l.label})]},c))})]})}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0",children:e.jsxs("svg",{viewBox:"0 0 1200 120",preserveAspectRatio:"none",className:"w-full h-12 md:h-20",children:[e.jsx("path",{d:"M0,0V46.29c47.79,22.2,103.59,32.17,158,28,70.36-5.37,136.33-33.31,206.8-37.5C438.64,32.43,512.34,53.67,583,72.05c69.27,18,138.3,24.88,209.4,13.08,36.15-6,69.85-17.84,104.45-29.34C989.49,25,1113-14.29,1200,52.47V0Z",opacity:".25",className:"fill-background"}),e.jsx("path",{d:"M0,0V15.81C13,36.92,27.64,56.86,47.69,72.05,99.41,111.27,165,111,224.58,91.58c31.15-10.15,60.09-26.07,89.67-39.8,40.92-19,84.73-46,130.83-49.67,36.26-2.85,70.9,9.42,98.6,31.56,31.77,25.39,62.32,62,103.63,73,40.44,10.79,81.35-6.69,119.13-24.28s75.16-39,116.92-43.05c59.73-5.85,113.28,22.88,168.9,38.84,30.2,8.66,59,6.17,87.09-7.5,22.43-10.89,48-26.93,60.65-49.24V0Z",opacity:".5",className:"fill-background"}),e.jsx("path",{d:"M0,0V5.63C149.93,59,314.09,71.32,475.83,42.57c43-7.64,84.23-20.12,127.61-26.46,59-8.63,112.48,12.24,165.56,35.4C827.93,77.22,886,95.24,951.2,90c86.53-7,172.46-45.71,248.8-84.81V0Z",className:"fill-background"})]})})]})}var QG=Symbol("radix.slottable");function eW(n){const t=({children:s})=>e.jsx(e.Fragment,{children:s});return t.displayName=`${n}.Slottable`,t.__radixId=QG,t}var[g0]=qa("Tooltip",[Zh]),x0=Zh(),dT="TooltipProvider",tW=700,v1="tooltip.open",[sW,r2]=g0(dT),uT=n=>{const{__scopeTooltip:t,delayDuration:s=tW,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=n,l=w.useRef(!0),c=w.useRef(!1),u=w.useRef(0);return w.useEffect(()=>{const m=u.current;return()=>window.clearTimeout(m)},[]),e.jsx(sW,{scope:t,isOpenDelayedRef:l,delayDuration:s,onOpen:w.useCallback(()=>{window.clearTimeout(u.current),l.current=!1},[]),onClose:w.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l.current=!0,r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:w.useCallback(m=>{c.current=m},[]),disableHoverableContent:i,children:a})};uT.displayName=dT;var Vg="Tooltip",[nW,xx]=g0(Vg),hT=n=>{const{__scopeTooltip:t,children:s,open:r,defaultOpen:i,onOpenChange:a,disableHoverableContent:l,delayDuration:c}=n,u=r2(Vg,n.__scopeTooltip),m=x0(t),[g,p]=w.useState(null),y=Bl(),x=w.useRef(0),_=l??u.disableHoverableContent,j=c??u.delayDuration,A=w.useRef(!1),[C,P]=$l({prop:r,defaultProp:i??!1,onChange:B=>{B?(u.onOpen(),document.dispatchEvent(new CustomEvent(v1))):u.onClose(),a==null||a(B)},caller:Vg}),S=w.useMemo(()=>C?A.current?"delayed-open":"instant-open":"closed",[C]),O=w.useCallback(()=>{window.clearTimeout(x.current),x.current=0,A.current=!1,P(!0)},[P]),z=w.useCallback(()=>{window.clearTimeout(x.current),x.current=0,P(!1)},[P]),V=w.useCallback(()=>{window.clearTimeout(x.current),x.current=window.setTimeout(()=>{A.current=!0,P(!0),x.current=0},j)},[j,P]);return w.useEffect(()=>()=>{x.current&&(window.clearTimeout(x.current),x.current=0)},[]),e.jsx(Qy,{...m,children:e.jsx(nW,{scope:t,contentId:y,open:C,stateAttribute:S,trigger:g,onTriggerChange:p,onTriggerEnter:w.useCallback(()=>{u.isOpenDelayedRef.current?V():O()},[u.isOpenDelayedRef,V,O]),onTriggerLeave:w.useCallback(()=>{_?z():(window.clearTimeout(x.current),x.current=0)},[z,_]),onOpen:O,onClose:z,disableHoverableContent:_,children:s})})};hT.displayName=Vg;var y1="TooltipTrigger",mT=w.forwardRef((n,t)=>{const{__scopeTooltip:s,...r}=n,i=xx(y1,s),a=r2(y1,s),l=x0(s),c=w.useRef(null),u=Ss(t,c,i.onTriggerChange),m=w.useRef(!1),g=w.useRef(!1),p=w.useCallback(()=>m.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),e.jsx(ix,{asChild:!0,...l,children:e.jsx(as.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:u,onPointerMove:kt(n.onPointerMove,y=>{y.pointerType!=="touch"&&!g.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),g.current=!0)}),onPointerLeave:kt(n.onPointerLeave,()=>{i.onTriggerLeave(),g.current=!1}),onPointerDown:kt(n.onPointerDown,()=>{i.open&&i.onClose(),m.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:kt(n.onFocus,()=>{m.current||i.onOpen()}),onBlur:kt(n.onBlur,i.onClose),onClick:kt(n.onClick,i.onClose)})})});mT.displayName=y1;var i2="TooltipPortal",[rW,iW]=g0(i2,{forceMount:void 0}),fT=n=>{const{__scopeTooltip:t,forceMount:s,children:r,container:i}=n,a=xx(i2,t);return e.jsx(rW,{scope:t,forceMount:s,children:e.jsx(ma,{present:s||a.open,children:e.jsx(Np,{asChild:!0,container:i,children:r})})})};fT.displayName=i2;var ap="TooltipContent",pT=w.forwardRef((n,t)=>{const s=iW(ap,n.__scopeTooltip),{forceMount:r=s.forceMount,side:i="top",...a}=n,l=xx(ap,n.__scopeTooltip);return e.jsx(ma,{present:r||l.open,children:l.disableHoverableContent?e.jsx(gT,{side:i,...a,ref:t}):e.jsx(aW,{side:i,...a,ref:t})})}),aW=w.forwardRef((n,t)=>{const s=xx(ap,n.__scopeTooltip),r=r2(ap,n.__scopeTooltip),i=w.useRef(null),a=Ss(t,i),[l,c]=w.useState(null),{trigger:u,onClose:m}=s,g=i.current,{onPointerInTransitChange:p}=r,y=w.useCallback(()=>{c(null),p(!1)},[p]),x=w.useCallback((_,j)=>{const A=_.currentTarget,C={x:_.clientX,y:_.clientY},P=uW(C,A.getBoundingClientRect()),S=hW(C,P),O=mW(j.getBoundingClientRect()),z=pW([...S,...O]);c(z),p(!0)},[p]);return w.useEffect(()=>()=>y(),[y]),w.useEffect(()=>{if(u&&g){const _=A=>x(A,g),j=A=>x(A,u);return u.addEventListener("pointerleave",_),g.addEventListener("pointerleave",j),()=>{u.removeEventListener("pointerleave",_),g.removeEventListener("pointerleave",j)}}},[u,g,x,y]),w.useEffect(()=>{if(l){const _=j=>{const A=j.target,C={x:j.clientX,y:j.clientY},P=(u==null?void 0:u.contains(A))||(g==null?void 0:g.contains(A)),S=!fW(C,l);P?y():S&&(y(),m())};return document.addEventListener("pointermove",_),()=>document.removeEventListener("pointermove",_)}},[u,g,l,m,y]),e.jsx(gT,{...n,ref:a})}),[oW,lW]=g0(Vg,{isInside:!1}),cW=eW("TooltipContent"),gT=w.forwardRef((n,t)=>{const{__scopeTooltip:s,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:l,...c}=n,u=xx(ap,s),m=x0(s),{onClose:g}=u;return w.useEffect(()=>(document.addEventListener(v1,g),()=>document.removeEventListener(v1,g)),[g]),w.useEffect(()=>{if(u.trigger){const p=y=>{const x=y.target;x!=null&&x.contains(u.trigger)&&g()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[u.trigger,g]),e.jsx(bp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:p=>p.preventDefault(),onDismiss:g,children:e.jsxs(e0,{"data-state":u.stateAttribute,...m,...c,ref:t,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[e.jsx(cW,{children:r}),e.jsx(oW,{scope:s,isInside:!0,children:e.jsx(RH,{id:u.contentId,role:"tooltip",children:i||r})})]})})});pT.displayName=ap;var xT="TooltipArrow",dW=w.forwardRef((n,t)=>{const{__scopeTooltip:s,...r}=n,i=x0(s);return lW(xT,s).isInside?null:e.jsx(t0,{...i,...r,ref:t})});dW.displayName=xT;function uW(n,t){const s=Math.abs(t.top-n.y),r=Math.abs(t.bottom-n.y),i=Math.abs(t.right-n.x),a=Math.abs(t.left-n.x);switch(Math.min(s,r,i,a)){case a:return"left";case i:return"right";case s:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function hW(n,t,s=5){const r=[];switch(t){case"top":r.push({x:n.x-s,y:n.y+s},{x:n.x+s,y:n.y+s});break;case"bottom":r.push({x:n.x-s,y:n.y-s},{x:n.x+s,y:n.y-s});break;case"left":r.push({x:n.x+s,y:n.y-s},{x:n.x+s,y:n.y+s});break;case"right":r.push({x:n.x-s,y:n.y-s},{x:n.x-s,y:n.y+s});break}return r}function mW(n){const{top:t,right:s,bottom:r,left:i}=n;return[{x:i,y:t},{x:s,y:t},{x:s,y:r},{x:i,y:r}]}function fW(n,t){const{x:s,y:r}=n;let i=!1;for(let a=0,l=t.length-1;a<t.length;l=a++){const c=t[a],u=t[l],m=c.x,g=c.y,p=u.x,y=u.y;g>r!=y>r&&s<(p-m)*(r-g)/(y-g)+m&&(i=!i)}return i}function pW(n){const t=n.slice();return t.sort((s,r)=>s.x<r.x?-1:s.x>r.x?1:s.y<r.y?-1:s.y>r.y?1:0),gW(t)}function gW(n){if(n.length<=1)return n.slice();const t=[];for(let r=0;r<n.length;r++){const i=n[r];for(;t.length>=2;){const a=t[t.length-1],l=t[t.length-2];if((a.x-l.x)*(i.y-l.y)>=(a.y-l.y)*(i.x-l.x))t.pop();else break}t.push(i)}t.pop();const s=[];for(let r=n.length-1;r>=0;r--){const i=n[r];for(;s.length>=2;){const a=s[s.length-1],l=s[s.length-2];if((a.x-l.x)*(i.y-l.y)>=(a.y-l.y)*(i.x-l.x))s.pop();else break}s.push(i)}return s.pop(),t.length===1&&s.length===1&&t[0].x===s[0].x&&t[0].y===s[0].y?t:t.concat(s)}var xW=uT,vW=hT,yW=mT,bW=fT,vT=pT;const b1=xW,j1=vW,w1=yW,by=w.forwardRef(({className:n,sideOffset:t=4,...s},r)=>e.jsx(bW,{children:e.jsx(vT,{ref:r,sideOffset:t,className:nt("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...s})}));by.displayName=vT.displayName;const jW={0:{label:"Unverified",description:"Email not confirmed",color:"text-gray-500",bgColor:"bg-gray-100",borderColor:"border-gray-200",icon:"shield"},1:{label:"Email Verified",description:"Basic verification complete",color:"text-yellow-600",bgColor:"bg-yellow-50",borderColor:"border-yellow-200",icon:"shield-check"},2:{label:"Phone Verified",description:"Contact verified",color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200",icon:"shield-plus"},3:{label:"Identity Verified",description:"ID documents verified",color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200",icon:"badge-check"},4:{label:"Business Verified",description:"Fully verified business",color:"text-purple-600",bgColor:"bg-purple-50",borderColor:"border-purple-200",icon:"verified"}};function rS(n){return{tier:n,...jW[n]}}const wW={shield:Ds,"shield-check":Fu,"shield-plus":iB,"badge-check":Z5,verified:Z5},NW={sm:{badge:"px-1.5 py-0.5 text-xs",icon:"h-3 w-3",iconOnly:"p-1"},md:{badge:"px-2 py-1 text-xs",icon:"h-4 w-4",iconOnly:"p-1.5"},lg:{badge:"px-3 py-1.5 text-sm",icon:"h-5 w-5",iconOnly:"p-2"}};function _W({tier:n,size:t="md",showLabel:s=!0,showTooltip:r=!0,className:i}){const a=rS(n),l=wW[a.icon],c=NW[t],u=e.jsxs(Be,{variant:"outline",className:nt(a.bgColor,a.color,a.borderColor,s?c.badge:c.iconOnly,"inline-flex items-center gap-1 font-medium",i),children:[e.jsx(l,{className:c.icon}),s&&e.jsx("span",{children:a.label})]});return r?e.jsx(b1,{children:e.jsxs(j1,{children:[e.jsx(w1,{asChild:!0,children:u}),e.jsx(by,{side:"bottom",className:"max-w-xs",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"font-medium flex items-center gap-2",children:[e.jsx(l,{className:"h-4 w-4"}),"Tier ",n,": ",a.label]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:a.description}),n<4&&e.jsxs("div",{className:"pt-1 border-t",children:[e.jsx("p",{className:"text-xs font-medium mb-1",children:"Verification Tiers:"}),e.jsx("ul",{className:"text-xs text-muted-foreground space-y-0.5",children:[1,2,3,4].map(m=>{const g=rS(m),p=m<=n;return e.jsxs("li",{className:nt("flex items-center gap-1",p&&g.color),children:[p?e.jsx(tp,{className:"h-3 w-3"}):e.jsx("div",{className:"h-3 w-3 rounded-full border border-current opacity-40"}),"Tier ",m,": ",g.label]},m)})})]})]})})]})}):u}function SW({tier:n,className:t}){return e.jsx(_W,{tier:n,size:"sm",showLabel:!1,className:t})}function Lh({business:n,onSave:t,onShare:s,onContact:r,onViewDetails:i,onMoreLikeThis:a,isSaved:l=!1,className:c}){var g;const u=p=>p>=1e7?`${(p/1e7).toFixed(1)}Cr`:p>=1e6?`${(p/1e6).toFixed(1)}Cr`:p>=1e5?`${(p/1e5).toFixed(1)}L`:`${p.toLocaleString()}`,m=p=>p>=1e7?`${(p/1e7).toFixed(1)}Cr`:p>=1e6?`${(p/1e6).toFixed(1)}Cr`:p>=1e5?`${(p/1e5).toFixed(1)}L`:`${p.toLocaleString()}`;return e.jsxs(de,{className:`group hover:shadow-2xl transition-all duration-300 card-hover-lift cursor-pointer ${c}`,onClick:()=>i==null?void 0:i(n.id),children:[e.jsxs(fe,{className:"p-0",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"aspect-video bg-muted rounded-t-lg overflow-hidden",children:n.images&&n.images.length>0?e.jsx("img",{src:n.images[0],alt:n.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-100 to-blue-200 flex items-center justify-center",children:e.jsx("span",{className:"text-2xl font-bold text-blue-600",children:n.name.charAt(0)})})}),n.logo&&e.jsxs(ai,{className:"absolute -bottom-6 left-4 h-12 w-12 border-2 border-background",children:[e.jsx(Bi,{src:n.logo,alt:n.name}),e.jsx(gi,{children:n.name.charAt(0)})]}),e.jsx(ee,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 bg-background/80 backdrop-blur-sm hover:bg-background",onClick:p=>{p.stopPropagation(),t==null||t(n.id)},children:e.jsx(Iu,{className:`h-4 w-4 ${l?"fill-red-500 text-red-500":""}`})}),e.jsxs("div",{className:"absolute top-2 left-2 flex flex-col gap-1",children:[n.trending&&e.jsxs(Be,{className:"bg-orange-500 hover:bg-orange-600 text-white",children:[e.jsx(Os,{className:"h-3 w-3 mr-1"}),"Trending"]}),n.featured&&e.jsxs(Be,{className:"bg-yellow-500 hover:bg-yellow-600 text-white",children:[e.jsx(Fl,{className:"h-3 w-3 mr-1"}),"Featured"]}),n.badges.includes("Hot Deal")&&e.jsx(Be,{className:"bg-red-500 hover:bg-red-600 text-white animate-pulse",children:" Hot Deal"}),n.badges.includes("New")&&e.jsx(Be,{className:"bg-green-500 hover:bg-green-600 text-white",children:" New"})]})]}),e.jsxs("div",{className:"p-4 pt-8",children:[e.jsxs("div",{className:"space-y-2 mb-3",children:[e.jsx("h3",{className:"font-semibold text-lg leading-tight line-clamp-1",children:n.name}),e.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[e.jsx(Ln,{className:"h-4 w-4 mr-1 flex-shrink-0"}),e.jsx("span",{className:"line-clamp-1",children:n.location})]})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Be,{variant:"secondary",children:n.industry}),e.jsx(Be,{variant:"outline",children:n.businessType}),((g=n.verification)==null?void 0:g.verified)&&e.jsx(SW,{tier:n.verification.documentsVerified?4:3})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Price"}),e.jsx("div",{className:"font-semibold text-lg",children:u(n.price)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Revenue"}),e.jsx("div",{className:"font-semibold text-lg",children:n.revenue?m(n.revenue):"N/A"})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(za,{className:"h-4 w-4 mr-1"}),e.jsxs("span",{children:["Est. ",n.establishedYear]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(gn,{className:"h-4 w-4 mr-1"}),e.jsxs("span",{children:[n.employees," employees"]})]})]}),e.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:n.badges&&n.badges.map(p=>e.jsxs(Be,{variant:p==="Verified"?"default":"secondary",className:`text-xs ${p==="Verified"?"bg-green-500 hover:bg-green-600":""}`,children:[p==="Verified"&&e.jsx(Ds,{className:"h-3 w-3 mr-1"}),p]},p))}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-4",children:n.description}),n.highlights&&n.highlights.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"text-sm font-medium mb-2",children:"Key Highlights"}),e.jsx("ul",{className:"text-sm text-muted-foreground space-y-1",children:n.highlights.slice(0,2).map((p,y)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx(Fl,{className:"h-3 w-3 mr-2 mt-0.5 flex-shrink-0 text-yellow-500"}),e.jsx("span",{className:"line-clamp-1",children:p})]},y))})]})]})]}),e.jsx(Yw,{className:"p-4 pt-0",children:e.jsxs("div",{className:"w-full space-y-3",children:[e.jsx(cr,{}),n.broker_name&&e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Contact: ",n.broker_name]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(ee,{variant:"outline",size:"sm",className:"flex-1",onClick:p=>{p.stopPropagation(),r==null||r(n.id)},children:[e.jsx(Mr,{className:"h-4 w-4 mr-2"}),"Contact"]}),e.jsx(ee,{variant:"outline",size:"sm",onClick:p=>{p.stopPropagation(),s==null||s(n.id)},children:e.jsx(xp,{className:"h-4 w-4"})}),e.jsx(ee,{size:"sm",className:"flex-1",onClick:p=>{p.stopPropagation(),i==null||i(n.id)},children:"View Details"})]}),a&&e.jsx(ee,{variant:"ghost",size:"sm",className:"w-full text-xs text-muted-foreground hover:text-primary",onClick:p=>{p.stopPropagation(),a==null||a(n.id)},children:" More Like This (AI)"})]})]})})]})}function Sm({franchise:n,onSave:t,onShare:s,onContact:r,onViewDetails:i,onMoreLikeThis:a,isSaved:l=!1,className:c}){var _;const u=j=>!j||j===0?"0":j>=1e7?`${(j/1e7).toFixed(1)}Cr`:j>=1e6?`${(j/1e6).toFixed(1)}Cr`:j>=1e5?`${(j/1e5).toFixed(1)}L`:`${j.toLocaleString()}`,m=j=>j>=50?"text-green-600":j>=30?"text-yellow-600":"text-red-600",g=n.expected_roi_percentage||0,p=n.brand_name||n.brandName||"Franchise",y=n.logo_url||n.logo,x=n.total_outlets||n.outlets||0;return e.jsxs(de,{className:`group hover:shadow-2xl transition-all duration-300 card-hover-lift cursor-pointer ${c}`,onClick:()=>i==null?void 0:i(n.id),children:[e.jsxs(fe,{className:"p-0",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"aspect-video bg-gradient-to-br from-blue-50 to-indigo-100 rounded-t-lg overflow-hidden",children:n.images&&n.images.length>0?e.jsx("img",{src:typeof n.images=="string"?n.images:n.images[0],alt:p,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center",children:e.jsx("span",{className:"text-3xl font-bold text-purple-600",children:p.charAt(0)})})}),e.jsxs(ai,{className:"absolute -bottom-6 left-4 h-12 w-12 border-2 border-background",children:[e.jsx(Bi,{src:y,alt:p}),e.jsx(gi,{className:"bg-primary text-primary-foreground",children:p.charAt(0)})]}),e.jsx(ee,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 bg-background/80 backdrop-blur-sm hover:bg-background",onClick:j=>{j.stopPropagation(),t==null||t(n.id)},children:e.jsx(Iu,{className:`h-4 w-4 ${l?"fill-red-500 text-red-500":""}`})}),e.jsxs("div",{className:"absolute top-2 left-2 flex flex-col gap-1",children:[n.featured&&e.jsxs(Be,{className:"bg-yellow-500 hover:bg-yellow-600 text-white",children:[e.jsx(Mh,{className:"h-3 w-3 mr-1"}),"Featured"]}),n.trending&&e.jsxs(Be,{className:"bg-orange-500 hover:bg-orange-600 text-white",children:[e.jsx(Os,{className:"h-3 w-3 mr-1"}),"Trending"]}),n.badges&&n.badges.includes&&n.badges.includes("Hot Deal")&&e.jsx(Be,{className:"bg-red-500 hover:bg-red-600 text-white animate-pulse",children:" Hot Deal"}),n.badges&&n.badges.includes&&n.badges.includes("New")&&e.jsx(Be,{className:"bg-green-500 hover:bg-green-600 text-white",children:" New"}),g>=50&&e.jsx(Be,{className:"bg-emerald-500 hover:bg-emerald-600 text-white",children:" High ROI"})]})]}),e.jsxs("div",{className:"p-4 pt-8",children:[e.jsxs("div",{className:"space-y-2 mb-3",children:[e.jsx("h3",{className:"font-semibold text-lg leading-tight line-clamp-1",children:p}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Be,{variant:"secondary",children:n.industry}),e.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[e.jsx(ed,{className:"h-4 w-4 mr-1"}),e.jsxs("span",{children:[x," outlets"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Investment"}),e.jsxs("div",{className:"font-semibold text-lg",children:["",u(n.total_investment_min||0)," - ",u(n.total_investment_max||0)]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Expected ROI"}),e.jsxs("div",{className:`font-semibold text-lg ${m(g)}`,children:[g,"% (Y1)"]})]})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Franchise Fee:"}),e.jsx("span",{className:"font-medium",children:u(n.franchise_fee)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Royalty:"}),e.jsxs("span",{className:"font-medium flex items-center",children:[e.jsx(sA,{className:"h-3 w-3 mr-1"}),n.royalty_percentage||0,"%"]})]})]}),e.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:n.badges&&Array.isArray(n.badges)&&n.badges.map(j=>e.jsxs(Be,{variant:j==="Verified"?"default":"secondary",className:`text-xs ${j==="Verified"?"bg-green-500 hover:bg-green-600":""}`,children:[j==="Verified"&&e.jsx(Ds,{className:"h-3 w-3 mr-1"}),j]},j))}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-4",children:n.description}),n.highlights&&n.highlights.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"text-sm font-medium mb-2",children:"Key Highlights"}),e.jsx("ul",{className:"text-sm text-muted-foreground space-y-1",children:n.highlights.slice(0,2).map((j,A)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx(Fl,{className:"h-3 w-3 mr-2 mt-0.5 flex-shrink-0 text-yellow-500"}),e.jsx("span",{className:"line-clamp-1",children:j})]},A))})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[n.support_provided&&n.support_provided.length>0&&e.jsxs(Be,{variant:"outline",className:"text-xs",children:[e.jsx(LB,{className:"h-3 w-3 mr-1"}),"Training & Support"]}),n.marketing_support&&e.jsx(Be,{variant:"outline",className:"text-xs",children:"Financing Available"})]}),n.territories&&n.territories.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"text-sm font-medium mb-1",children:"Available Territories"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[n.territories.slice(0,3).map((j,A)=>e.jsxs(Be,{variant:"outline",className:"text-xs",children:[e.jsx(Ln,{className:"h-3 w-3 mr-1"}),j]},A)),n.territories.length>3&&e.jsxs(Be,{variant:"outline",className:"text-xs",children:["+",n.territories.length-3," more"]})]})]})]})]}),e.jsx(Yw,{className:"p-4 pt-0",children:e.jsxs("div",{className:"w-full space-y-3",children:[e.jsx(cr,{}),((_=n.contact)==null?void 0:_.franchiseDeveloper)&&e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Contact: ",n.contact.franchiseDeveloper]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(ee,{variant:"outline",size:"sm",className:"flex-1",onClick:j=>{j.stopPropagation(),r==null||r(n.id)},children:[e.jsx(Mr,{className:"h-4 w-4 mr-2"}),"Contact"]}),e.jsx(ee,{variant:"outline",size:"sm",onClick:j=>{j.stopPropagation(),s==null||s(n.id)},children:e.jsx(xp,{className:"h-4 w-4"})}),e.jsx(ee,{size:"sm",className:"flex-1",onClick:j=>{j.stopPropagation(),i==null||i(n.id)},children:"View Details"})]}),a&&e.jsx(ee,{variant:"ghost",size:"sm",className:"w-full text-xs text-muted-foreground hover:text-primary",onClick:j=>{j.stopPropagation(),a==null||a(n.id)},children:" More Like This (AI)"})]})]})})]})}const a2=[{id:"biz-001",name:"Mumbai Cafe Chain",industry:"Food & Beverage",location:"Bandra, Mumbai",city:"Mumbai",state:"Maharashtra",priceRange:"45L - 50L",price:475e4,revenueRange:"80L - 1Cr",revenue:9e6,establishedYear:2018,employees:25,businessType:"Franchise",description:"Established cafe chain with 3 outlets in prime Mumbai locations. Known for specialty coffee and continental cuisine. Strong brand presence and loyal customer base.",highlights:["3 prime location outlets","Established brand with loyal customers","Consistent 15% annual growth","Trained staff and management systems"],badges:["Verified","Trending","Hot Deal"],images:["https://images.unsplash.com/photo-1554118811-1e0d58224f24?w=800","https://images.unsplash.com/photo-1559925393-8be0ec4767c8?w=800","https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=800"],logo:"https://images.unsplash.com/photo-1572442388796-11668a67e53d?w=200",financials:[{year:2023,revenue:9e6,profit:135e4,expenses:765e4},{year:2022,revenue:78e5,profit:117e4,expenses:663e4},{year:2021,revenue:65e5,profit:975e3,expenses:5525e3}],assets:["Kitchen equipment","Furniture & fixtures","POS systems","Inventory","Brand rights"],operations:{hours:"7:00 AM - 11:00 PM",daysOpen:7,seasonality:"Year-round with peak during festivals"},verification:{verified:!0,documentsVerified:!0,identityVerified:!0},contact:{brokerName:"Rajesh Sharma",phone:"+91 98765 43210",email:"rajesh@bizsearch.com"},featured:!0,trending:!0,createdAt:"2024-01-15"},{id:"biz-002",name:"Tech Solutions Pvt Ltd",industry:"Technology",location:"Whitefield, Bangalore",city:"Bangalore",state:"Karnataka",priceRange:"1.2Cr - 1.5Cr",price:135e5,revenueRange:"2Cr - 3Cr",revenue:25e6,establishedYear:2015,employees:45,businessType:"Private Limited",description:"Software development company specializing in web and mobile applications. Strong client base across US and Europe with recurring revenue model.",highlights:["45+ skilled developers","International client base","Recurring revenue model","Modern office setup"],badges:["Verified","High Growth","New"],images:["https://images.unsplash.com/photo-1497366216548-37526070297c?w=800","https://images.unsplash.com/photo-1522071820081-009f0129c71c?w=800"],financials:[{year:2023,revenue:25e6,profit:5e6,expenses:2e7},{year:2022,revenue:2e7,profit:4e6,expenses:16e6},{year:2021,revenue:15e6,profit:3e6,expenses:12e6}],assets:["Office space","Computer equipment","Software licenses","Client contracts"],operations:{hours:"9:00 AM - 6:00 PM",daysOpen:5,seasonality:"Consistent year-round"},verification:{verified:!0,documentsVerified:!0,identityVerified:!0},contact:{brokerName:"Priya Nair",phone:"+91 98765 43211",email:"priya@bizsearch.com"},featured:!0,trending:!1,createdAt:"2024-01-10"},{id:"biz-003",name:"Fitness First Gym",industry:"Health & Fitness",location:"Koramangala, Bangalore",city:"Bangalore",state:"Karnataka",priceRange:"25L - 30L",price:275e4,revenueRange:"40L - 50L",revenue:45e5,establishedYear:2019,employees:12,businessType:"Partnership",description:"Well-equipped gym with modern facilities and experienced trainers. Located in prime Koramangala area with high footfall and membership base.",highlights:["Modern equipment worth 15L","500+ active members","Prime location","Experienced trainer team"],badges:["Verified","Prime Location"],images:["https://images.unsplash.com/photo-1534438327276-14e5300c3a48?w=800","https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=800"],financials:[{year:2023,revenue:45e5,profit:9e5,expenses:36e5},{year:2022,revenue:38e5,profit:76e4,expenses:304e4},{year:2021,revenue:32e5,profit:64e4,expenses:256e4}],assets:["Gym equipment","Sound system","AC units","Membership database"],operations:{hours:"5:00 AM - 11:00 PM",daysOpen:7,seasonality:"Peak during Jan-Mar and Sep-Nov"},verification:{verified:!0,documentsVerified:!0,identityVerified:!1},contact:{phone:"+91 98765 43212",email:"fitness@bizsearch.com"},featured:!1,trending:!0,createdAt:"2024-01-08"},{id:"biz-004",name:"Organic Farm & Store",industry:"Agriculture",location:"Pune, Maharashtra",city:"Pune",state:"Maharashtra",priceRange:"60L - 75L",price:68e5,revenueRange:"1Cr - 1.5Cr",revenue:12e6,establishedYear:2016,employees:20,businessType:"Private Limited",description:"Organic farming operation with retail store and online presence. Certified organic produce with direct-to-consumer sales model.",highlights:["50 acres certified organic farm","Retail store + online sales","Government certifications","Growing demand for organic"],badges:["Verified","Certified Organic","Sustainable"],images:["https://images.unsplash.com/photo-1500937386664-56d1dfef3854?w=800","https://images.unsplash.com/photo-1416879595882-3373a0480b5b?w=800"],financials:[{year:2023,revenue:12e6,profit:24e5,expenses:96e5},{year:2022,revenue:1e7,profit:2e6,expenses:8e6},{year:2021,revenue:85e5,profit:17e5,expenses:68e5}],assets:["50 acres farmland","Farm equipment","Retail store","Inventory","Certifications"],operations:{hours:"6:00 AM - 8:00 PM",daysOpen:6,seasonality:"Seasonal crop cycles"},verification:{verified:!0,documentsVerified:!0,identityVerified:!0},contact:{brokerName:"Amit Patil",phone:"+91 98765 43213",email:"amit@bizsearch.com"},featured:!0,trending:!1,createdAt:"2024-01-05"},{id:"biz-005",name:"Fashion Boutique Chain",industry:"Retail",location:"Khan Market, Delhi",city:"Delhi",state:"Delhi",priceRange:"35L - 40L",price:375e4,revenueRange:"60L - 80L",revenue:72e5,establishedYear:2017,employees:18,businessType:"Partnership",description:"Trendy fashion boutique with 2 outlets in premium Delhi locations. Curated collection of designer wear and accessories with strong social media presence.",highlights:["2 premium location stores","Strong social media following","Curated designer collection","Loyal customer base"],badges:["Verified","Trendy","Hot Deal"],images:["https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=800","https://images.unsplash.com/photo-1445205170230-053b83016050?w=800"],financials:[{year:2023,revenue:72e5,profit:108e4,expenses:612e4},{year:2022,revenue:65e5,profit:975e3,expenses:5525e3},{year:2021,revenue:58e5,profit:87e4,expenses:493e4}],assets:["Store fixtures","Inventory","POS systems","Brand assets"],operations:{hours:"10:00 AM - 9:00 PM",daysOpen:7,seasonality:"Peak during festivals and wedding season"},verification:{verified:!0,documentsVerified:!0,identityVerified:!0},contact:{brokerName:"Sneha Gupta",phone:"+91 98765 43214",email:"sneha@bizsearch.com"},featured:!1,trending:!0,createdAt:"2024-01-12"}],iS=()=>a2.filter(n=>n.featured),aS=()=>a2.filter(n=>n.trending),o2=[{id:"fran-001",brandName:"CoffeeHub Express",industry:"Food & Beverage",investmentRequired:"15L - 25L",investmentMin:15e5,investmentMax:25e5,franchiseFee:5e5,royaltyPercentage:6,outlets:150,territories:["Mumbai","Delhi","Bangalore","Pune","Chennai"],description:"Leading coffee franchise with proven business model and strong brand recognition. Perfect for entrepreneurs looking to enter the booming coffee market.",brandStory:"Started in 2015, CoffeeHub Express has revolutionized the coffee experience in India with premium quality coffee at affordable prices.",businessModel:"Quick service coffee shop with takeaway and limited seating. Focus on high-quality coffee, quick service, and strategic locations.",competitiveEdge:["Proprietary coffee blend","30-second service guarantee","Prime location strategy","Strong digital presence"],investmentBreakdown:{franchiseFee:5e5,equipment:8e5,inventory:2e5,marketing:15e4,workingCapital:3e5,other:5e4},support:{training:"2 weeks intensive training + ongoing support",marketing:"National campaigns + local marketing support",operations:"Operations manual + regular audits",technology:"POS system + mobile app integration"},roiProjections:[{year:1,revenue:36e5,profit:54e4,roi:27},{year:2,revenue:42e5,profit:84e4,roi:42},{year:3,revenue:48e5,profit:12e5,roi:60}],requirements:{spaceRequired:"200-400 sq ft",experience:"No prior experience required",investment:"15L - 25L liquid capital",location:"High footfall areas, malls, offices"},badges:["Verified","Top Performer","Hot Deal"],images:["https://images.unsplash.com/photo-1554118811-1e0d58224f24?w=800","https://images.unsplash.com/photo-1559925393-8be0ec4767c8?w=800"],logo:"https://images.unsplash.com/photo-1572442388796-11668a67e53d?w=200",verification:{verified:!0,documentsVerified:!0,brandVerified:!0},contact:{franchiseDeveloper:"Rohit Mehta",phone:"+91 98765 54321",email:"rohit@coffeehub.com",website:"www.coffeehubexpress.com"},featured:!0,trending:!0,multiUnit:!0,financing:!0,createdAt:"2024-01-15"},{id:"fran-002",brandName:"FitZone Gym",industry:"Health & Fitness",investmentRequired:"40L - 60L",investmentMin:4e6,investmentMax:6e6,franchiseFee:1e6,royaltyPercentage:8,outlets:85,territories:["Tier 1 & Tier 2 cities"],description:"Premium fitness franchise with state-of-the-art equipment and comprehensive fitness programs. Proven track record of successful franchisees.",brandStory:"FitZone has been transforming lives through fitness for over 8 years, with a focus on personalized training and community building.",businessModel:"Full-service gym with personal training, group classes, and wellness programs. Membership-based recurring revenue model.",competitiveEdge:["Latest fitness equipment","Certified trainer network","Comprehensive wellness programs","Strong member retention"],investmentBreakdown:{franchiseFee:1e6,equipment:3e6,inventory:2e5,marketing:3e5,workingCapital:5e5,other:0},support:{training:"4 weeks comprehensive training program",marketing:"Grand opening support + ongoing campaigns",operations:"Operations support + business coaching",technology:"Gym management software + member app"},roiProjections:[{year:1,revenue:72e5,profit:144e4,roi:24},{year:2,revenue:84e5,profit:252e4,roi:42},{year:3,revenue:96e5,profit:384e4,roi:64}],requirements:{spaceRequired:"3000-5000 sq ft",experience:"Business or fitness background preferred",investment:"40L - 60L total investment",location:"Residential areas with parking"},badges:["Verified","Premium Brand","High ROI"],images:["https://images.unsplash.com/photo-1534438327276-14e5300c3a48?w=800","https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=800"],logo:"https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=200",verification:{verified:!0,documentsVerified:!0,brandVerified:!0},contact:{franchiseDeveloper:"Priya Sharma",phone:"+91 98765 54322",email:"priya@fitzone.com",website:"www.fitzonegym.com"},featured:!0,trending:!1,multiUnit:!0,financing:!0,createdAt:"2024-01-12"},{id:"fran-003",brandName:"EduSmart Learning Center",industry:"Education",investmentRequired:"8L - 15L",investmentMin:8e5,investmentMax:15e5,franchiseFee:3e5,royaltyPercentage:5,outlets:200,territories:["Pan India"],description:"Leading education franchise offering after-school programs, test prep, and skill development courses for students aged 6-18.",brandStory:"EduSmart has been empowering students for academic excellence for over 10 years with innovative teaching methodologies.",businessModel:"After-school learning center with structured programs, small batch sizes, and personalized attention.",competitiveEdge:["Proven curriculum","Technology-enabled learning","Experienced faculty training","Strong parent satisfaction"],investmentBreakdown:{franchiseFee:3e5,equipment:2e5,inventory:1e5,marketing:1e5,workingCapital:2e5,other:1e5},support:{training:"3 weeks training + curriculum support",marketing:"Enrollment campaigns + digital marketing",operations:"Academic support + quality monitoring",technology:"Learning management system + parent app"},roiProjections:[{year:1,revenue:18e5,profit:36e4,roi:36},{year:2,revenue:24e5,profit:72e4,roi:72},{year:3,revenue:3e6,profit:12e5,roi:120}],requirements:{spaceRequired:"1000-1500 sq ft",experience:"Education background preferred",investment:"8L - 15L total investment",location:"Residential areas near schools"},badges:["Verified","Education Leader","New"],images:["https://images.unsplash.com/photo-1497486751825-1233686d5d80?w=800","https://images.unsplash.com/photo-1503676260728-1c00da094a0b?w=800"],logo:"https://images.unsplash.com/photo-1503676260728-1c00da094a0b?w=200",verification:{verified:!0,documentsVerified:!0,brandVerified:!0},contact:{franchiseDeveloper:"Dr. Anita Rao",phone:"+91 98765 54323",email:"anita@edusmart.com",website:"www.edusmartlearning.com"},featured:!1,trending:!0,multiUnit:!0,financing:!1,createdAt:"2024-01-10"},{id:"fran-004",brandName:"QuickBite Food Truck",industry:"Food & Beverage",investmentRequired:"12L - 18L",investmentMin:12e5,investmentMax:18e5,franchiseFee:4e5,royaltyPercentage:4,outlets:75,territories:["Metro cities"],description:"Mobile food franchise specializing in healthy fast food. Perfect for entrepreneurs wanting flexibility and lower overhead costs.",brandStory:"QuickBite revolutionized street food with healthy, hygienic, and delicious options served from custom-designed food trucks.",businessModel:"Mobile food service with fixed routes and event catering. Focus on healthy fast food and premium ingredients.",competitiveEdge:["Healthy fast food concept","Mobile flexibility","Lower overhead costs","Event catering opportunities"],investmentBreakdown:{franchiseFee:4e5,equipment:6e5,inventory:1e5,marketing:1e5,workingCapital:2e5,other:4e5},support:{training:"2 weeks operational training",marketing:"Launch support + social media marketing",operations:"Route planning + vendor support",technology:"Mobile POS + order management app"},roiProjections:[{year:1,revenue:24e5,profit:48e4,roi:32},{year:2,revenue:3e6,profit:75e4,roi:50},{year:3,revenue:36e5,profit:108e4,roi:72}],requirements:{spaceRequired:"Food truck provided",experience:"Food service experience preferred",investment:"12L - 18L total investment",location:"High traffic areas, events"},badges:["Verified","Mobile Business","Hot Deal"],images:["https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=800","https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=800"],logo:"https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=200",verification:{verified:!0,documentsVerified:!0,brandVerified:!0},contact:{franchiseDeveloper:"Vikram Singh",phone:"+91 98765 54324",email:"vikram@quickbite.com",website:"www.quickbitefoodtruck.com"},featured:!1,trending:!0,multiUnit:!1,financing:!0,createdAt:"2024-01-08"},{id:"fran-005",brandName:"TechRepair Pro",industry:"Technology",investmentRequired:"5L - 10L",investmentMin:5e5,investmentMax:1e6,franchiseFee:2e5,royaltyPercentage:6,outlets:120,territories:["All major cities"],description:"Mobile and laptop repair franchise with doorstep service model. Growing demand for device repair services with excellent margins.",brandStory:"TechRepair Pro has been the trusted name in device repair for 6 years, known for quality service and quick turnaround times.",businessModel:"Device repair service with both store and doorstep service options. Focus on smartphones, laptops, and tablets.",competitiveEdge:["Doorstep service model","Quick turnaround time","Genuine spare parts","Skilled technician training"],investmentBreakdown:{franchiseFee:2e5,equipment:3e5,inventory:2e5,marketing:5e4,workingCapital:15e4,other:1e5},support:{training:"3 weeks technical training",marketing:"Digital marketing + local campaigns",operations:"Technical support + spare parts supply",technology:"Service management app + customer portal"},roiProjections:[{year:1,revenue:15e5,profit:45e4,roi:45},{year:2,revenue:2e6,profit:7e5,roi:70},{year:3,revenue:25e5,profit:1e6,roi:100}],requirements:{spaceRequired:"300-500 sq ft + service vehicle",experience:"Technical background preferred",investment:"5L - 10L total investment",location:"Commercial areas with good connectivity"},badges:["Verified","Tech Service","Doorstep Service"],images:["https://images.unsplash.com/photo-1581092160562-40aa08e78837?w=800","https://images.unsplash.com/photo-1517077304055-6e89abbf09b0?w=800"],logo:"https://images.unsplash.com/photo-1517077304055-6e89abbf09b0?w=200",verification:{verified:!0,documentsVerified:!0,brandVerified:!0},contact:{franchiseDeveloper:"Suresh Kumar",phone:"+91 98765 54325",email:"suresh@techrepairpro.com",website:"www.techrepairpro.com"},featured:!0,trending:!1,multiUnit:!0,financing:!1,createdAt:"2024-01-05"}],oS=()=>o2.filter(n=>n.featured),CW=()=>o2.filter(n=>n.trending);function bj({type:n="mixed",title:t,subtitle:s,onViewAll:r,onMoreLikeThis:i,className:a}){const l=Mn(),[c,u]=w.useState(0),[m,g]=w.useState(!0),[p,y]=w.useState(0),[x,_]=w.useState(0),A=(()=>{switch(n){case"business":return[...iS(),...aS()].slice(0,8);case"franchise":return[...oS(),...CW()].slice(0,8);case"mixed":default:return[...iS().slice(0,3),...oS().slice(0,3),...aS().slice(0,2)]}})(),C=window.innerWidth<768?1:3,P=Math.max(0,A.length-C);w.useEffect(()=>{if(!m)return;const $=setInterval(()=>{u(W=>W>=P?0:W+1)},4e3);return()=>clearInterval($)},[m,P]);const S=()=>{g(!1),u($=>$<=0?P:$-1)},O=()=>{g(!1),u($=>$>=P?0:$+1)},z=$=>{g(!1),u($)},V=$=>{y($.targetTouches[0].clientX)},B=$=>{_($.targetTouches[0].clientX)},D=()=>{p-x>75&&O(),p-x<-75&&S()},K={business:"Featured Businesses",franchise:"Top Franchise Opportunities",mixed:"Featured Opportunities"},H={business:"Discover verified businesses ready for acquisition",franchise:"Explore profitable franchise opportunities",mixed:"Handpicked businesses and franchises for you"};return e.jsx("section",{className:`py-12 ${a}`,children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold mb-2",children:t||K[n]}),e.jsx("p",{className:"text-muted-foreground",children:s||H[n]})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-4 md:mt-0",children:[e.jsx("div",{className:"hidden md:flex gap-2",children:Array.from({length:P+1}).map(($,W)=>e.jsx("button",{onClick:()=>z(W),className:`w-2 h-2 rounded-full transition-colors ${W===c?"bg-primary":"bg-muted"}`},W))}),e.jsxs("div",{className:"hidden md:flex gap-2",children:[e.jsx(ee,{variant:"outline",size:"icon",onClick:S,disabled:A.length<=C,children:e.jsx($y,{className:"h-4 w-4"})}),e.jsx(ee,{variant:"outline",size:"icon",onClick:O,disabled:A.length<=C,children:e.jsx(Qg,{className:"h-4 w-4"})})]}),r&&e.jsxs(ee,{onClick:r,className:"hidden md:flex",children:["View All",e.jsx(dn,{className:"ml-2 h-4 w-4"})]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"md:hidden",children:e.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 snap-x snap-mandatory scrollbar-hide",onTouchStart:V,onTouchMove:B,onTouchEnd:D,style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:A.map(($,W)=>e.jsx("div",{className:"flex-shrink-0 w-80 snap-start",children:"brandName"in $?e.jsx(Sm,{franchise:$,onSave:Q=>console.log("Save franchise:",Q),onShare:Q=>console.log("Share franchise:",Q),onContact:Q=>console.log("Contact franchise:",Q),onViewDetails:Q=>l(`/franchise/${Q}`),onMoreLikeThis:Q=>i==null?void 0:i(Q,"franchise")}):e.jsx(Lh,{business:$,onSave:Q=>console.log("Save business:",Q),onShare:Q=>console.log("Share business:",Q),onContact:Q=>console.log("Contact business:",Q),onViewDetails:Q=>l(`/business/${Q}`),onMoreLikeThis:Q=>i==null?void 0:i(Q,"business")})},`${$.id}-${W}`))})}),e.jsx("div",{className:"hidden md:block overflow-hidden",children:e.jsx("div",{className:"flex transition-transform duration-500 ease-in-out",style:{transform:`translateX(-${c*(100/C)}%)`,width:`${A.length/C*100}%`},children:A.map(($,W)=>e.jsx("div",{className:"flex-shrink-0 px-2",style:{width:`${100/A.length}%`},children:"brandName"in $?e.jsx(Sm,{franchise:$,onSave:Q=>console.log("Save franchise:",Q),onShare:Q=>console.log("Share franchise:",Q),onContact:Q=>console.log("Contact franchise:",Q),onViewDetails:Q=>l(`/franchise/${Q}`),onMoreLikeThis:Q=>i==null?void 0:i(Q,"franchise")}):e.jsx(Lh,{business:$,onSave:Q=>console.log("Save business:",Q),onShare:Q=>console.log("Share business:",Q),onContact:Q=>console.log("Contact business:",Q),onViewDetails:Q=>l(`/business/${Q}`),onMoreLikeThis:Q=>i==null?void 0:i(Q,"business")})},`${$.id}-${W}`))})})]}),r&&e.jsx("div",{className:"flex justify-center mt-8 md:hidden",children:e.jsxs(ee,{onClick:r,children:["View All Opportunities",e.jsx(dn,{className:"ml-2 h-4 w-4"})]})}),e.jsx("div",{className:"hidden md:flex justify-center mt-6",children:e.jsxs(ee,{variant:"ghost",size:"sm",onClick:()=>g(!m),className:"text-muted-foreground hover:text-foreground",children:[m?"Pause":"Play"," Auto-scroll"]})}),e.jsx("div",{className:"md:hidden flex justify-center gap-2 mt-6",children:Array.from({length:Math.min(A.length,5)}).map(($,W)=>e.jsx("div",{className:`h-2 rounded-full transition-all ${W===c%Math.min(A.length,5)?"bg-primary w-8":"bg-muted w-2"}`},W))})]})})}function AW({variant:n="full",className:t}){const s=[{icon:Ds,label:"Verified Platform",description:"All listings verified by our experts",color:"bg-green-500"},{icon:Lt,label:"Document Verified",description:"Legal documents authenticated",color:"bg-blue-500"},{icon:Il,label:"Secure Transactions",description:"Bank-grade security & escrow",color:"bg-purple-500"},{icon:Mh,label:"Industry Recognition",description:"Trusted by leading brokers",color:"bg-orange-500"}],r=[{icon:gn,value:"25,000+",label:"Happy Customers",growth:"+15%",color:"text-blue-600"},{icon:Lt,value:"95%",label:"Success Rate",growth:"+2%",color:"text-green-600"},{icon:Fl,value:"4.9/5",label:"Customer Rating",growth:"",color:"text-yellow-600"},{icon:Du,value:"50+",label:"Cities Covered",growth:"+5 new",color:"text-purple-600"}],i=[{icon:Mr,title:"24/7 Support",description:"Round-the-clock customer assistance"},{icon:Hn,title:"Quick Response",description:"Average response time under 2 hours"},{icon:Ds,title:"Money Back Guarantee",description:"100% satisfaction guaranteed"},{icon:Il,title:"Privacy Protected",description:"Your data is safe and secure"}],a=[{name:"Rajesh Sharma",role:"Business Owner",avatar:"https://github.com/yusufhilmi.png",rating:5,text:"Found my dream restaurant through BizSearch. The AI assistant made the process so smooth!"},{name:"Priya Nair",role:"Franchise Owner",avatar:"https://github.com/kdrnp.png",rating:5,text:"Excellent platform with verified listings. Vijay helped me choose the perfect franchise opportunity."},{name:"Amit Patil",role:"Investor",avatar:"https://github.com/yahyabedirhan.png",rating:5,text:"Professional service and genuine listings. Highly recommend for serious business buyers."}];return n==="minimal"?e.jsxs("div",{className:`flex items-center gap-4 ${t}`,children:[s.slice(0,2).map((l,c)=>e.jsxs(Be,{className:`${l.color} text-white`,children:[e.jsx(l.icon,{className:"h-3 w-3 mr-1"}),l.label]},c)),e.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[e.jsx(Fl,{className:"h-4 w-4 text-yellow-500 mr-1"}),"4.9/5 (2,500+ reviews)"]})]}):n==="compact"?e.jsxs("div",{className:`space-y-6 ${t}`,children:[e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:s.map((l,c)=>e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-muted/50 rounded-lg",children:[e.jsx("div",{className:`p-2 ${l.color} rounded-full`,children:e.jsx(l.icon,{className:"h-4 w-4 text-white"})}),e.jsx("div",{children:e.jsx("div",{className:"font-medium text-sm",children:l.label})})]},c))}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:r.map((l,c)=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`text-2xl font-bold ${l.color}`,children:l.value}),e.jsx("div",{className:"text-sm text-muted-foreground",children:l.label})]},c))})]}):e.jsx("section",{className:`py-12 bg-muted/30 ${t}`,children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Why Choose BizSearch?"}),e.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"India's most trusted platform for business acquisitions and franchise opportunities, backed by industry-leading security and verification processes."})]}),e.jsxs("div",{className:"space-y-12",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:s.map((l,c)=>e.jsx(de,{className:"text-center hover:shadow-lg transition-shadow",children:e.jsxs(fe,{className:"p-6",children:[e.jsx("div",{className:`inline-flex p-4 ${l.color} rounded-full mb-4`,children:e.jsx(l.icon,{className:"h-8 w-8 text-white"})}),e.jsx("h3",{className:"font-semibold mb-2",children:l.label}),e.jsx("p",{className:"text-sm text-muted-foreground",children:l.description})]})},c))}),e.jsxs("div",{className:"bg-white rounded-2xl p-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-center mb-8",children:"Our Track Record"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:r.map((l,c)=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-3",children:e.jsx("div",{className:"p-3 bg-muted rounded-full",children:e.jsx(l.icon,{className:`h-6 w-6 ${l.color}`})})}),e.jsx("div",{className:`text-3xl font-bold ${l.color} mb-1`,children:l.value}),e.jsx("div",{className:"text-sm font-medium mb-1",children:l.label}),e.jsxs("div",{className:"text-xs text-muted-foreground flex items-center justify-center",children:[e.jsx(Os,{className:"h-3 w-3 mr-1"}),l.growth]})]},c))})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:i.map((l,c)=>e.jsxs("div",{className:"flex items-start gap-4 p-4 bg-white rounded-lg",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(l.icon,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-1",children:l.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:l.description})]})]},c))}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-center mb-8",children:"What Our Customers Say"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:a.map((l,c)=>e.jsx(de,{className:"hover:shadow-lg transition-shadow",children:e.jsxs(fe,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("img",{src:l.avatar,alt:l.name,className:"w-12 h-12 rounded-full"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:l.name}),e.jsx("div",{className:"text-sm text-muted-foreground",children:l.role})]})]}),e.jsx("div",{className:"flex mb-3",children:Array.from({length:l.rating}).map((u,m)=>e.jsx(Fl,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"},m))}),e.jsxs("p",{className:"text-sm text-muted-foreground italic",children:['"',l.text,'"']})]})},c))})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-xl font-semibold mb-6",children:"Trusted & Certified"}),e.jsxs("div",{className:"flex justify-center items-center gap-8 opacity-60",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ds,{className:"h-6 w-6"}),e.jsx("span",{className:"text-sm font-medium",children:"SSL Secured"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Lt,{className:"h-6 w-6"}),e.jsx("span",{className:"text-sm font-medium",children:"ISO Certified"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Il,{className:"h-6 w-6"}),e.jsx("span",{className:"text-sm font-medium",children:"GDPR Compliant"})]})]})]})]})]})})}const kW=new Hu("AIzaSyDA1C1RXqj1ZGGJMrBnPtCRG3KZrADJxkU");class Gv{static async parseSearchQuery(t){const s=`Parse this natural language business search query into structured search parameters:

Query: "${t}"

Extract and return ONLY a JSON object (no markdown, no code blocks) with these fields:
{
  "industries": [<array of industry names if mentioned>],
  "locations": [<array of cities/states if mentioned>],
  "priceRange": {"min": <number or null>, "max": <number or null>},
  "revenueRange": {"min": <number or null>, "max": <number or null>},
  "businessType": "<type if mentioned like restaurant, retail, manufacturing, etc>",
  "keywords": [<array of relevant keywords>],
  "investmentGoal": "<buyer's goal if implied like passive income, growth, etc>"
}

Examples:
- "coffee shop in Mumbai under 50 lakhs"  {"industries":["food & beverage","cafe"],"locations":["Mumbai"],"priceRange":{"max":5000000},"businessType":"cafe","keywords":["coffee","shop"]}
- "profitable tech startup Bangalore"  {"industries":["technology","software"],"locations":["Bangalore"],"businessType":"startup","keywords":["tech","profitable"]}
- "franchise opportunities with passive income"  {"businessType":"franchise","investmentGoal":"passive income","keywords":["franchise"]}

Convert lakhs/crores to numbers (1 lakh = 100000, 1 crore = 10000000).
Return ONLY the JSON:`;try{const l=(await(await this.model.generateContent(s)).response).text().replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();return JSON.parse(l)}catch(r){return console.error("Query parsing error:",r),this.basicParse(t)}}static basicParse(t){const s=t.toLowerCase(),r={keywords:t.split(" ").filter(g=>g.length>3)},i=t.match(/(\d+)\s*(?:lakh|lac)/i),a=t.match(/(\d+)\s*crore/i);if(i){const g=parseInt(i[1]);(s.includes("under")||s.includes("below"))&&(r.priceRange={max:g*1e5})}if(a){const g=parseInt(a[1]);(s.includes("under")||s.includes("below"))&&(r.priceRange={max:g*1e7})}const c=["restaurant","cafe","food","retail","shop","store","tech","software","saas","manufacturing","franchise","hotel","gym","fitness","education","school"].filter(g=>s.includes(g));c.length>0&&(r.industries=c);const m=["Mumbai","Delhi","Bangalore","Hyderabad","Chennai","Kolkata","Pune","Ahmedabad","Jaipur","Surat"].filter(g=>t.toLowerCase().includes(g.toLowerCase()));return m.length>0&&(r.locations=m),r}static async smartSearch(t){try{const s=await this.parseSearchQuery(t);let r=Le.from("businesses").select("*").eq("status","active");if(s.industries&&s.industries.length>0){const c=s.industries.map(u=>`industry.ilike.%${u}%`).join(",");r=r.or(c)}if(s.locations&&s.locations.length>0){const c=s.locations.map(u=>`city.ilike.%${u}%,state.ilike.%${u}%`).join(",");r=r.or(c)}if(s.priceRange&&(s.priceRange.min&&(r=r.gte("price",s.priceRange.min)),s.priceRange.max&&(r=r.lte("price",s.priceRange.max))),s.revenueRange&&(s.revenueRange.min&&(r=r.gte("revenue",s.revenueRange.min)),s.revenueRange.max&&(r=r.lte("revenue",s.revenueRange.max))),s.keywords&&s.keywords.length>0){const c=s.keywords.map(u=>`name.ilike.%${u}%,description.ilike.%${u}%`).join(",");r=r.or(c)}const{data:i,error:a}=await r.order("created_at",{ascending:!1}).limit(50);if(a)throw a;const l=await this.generateSuggestions(t,s);return{businesses:i||[],searchIntent:s,totalResults:(i==null?void 0:i.length)||0,suggestions:l}}catch(s){throw console.error("Smart search error:",s),s}}static async generateSuggestions(t,s){var i;const r=`Given this business search query: "${t}"

Generate 3-5 related search suggestions that might help the user find better matches.

Suggestions should:
- Be more specific or explore related options
- Include location variations if applicable
- Suggest price range adjustments
- Explore similar industries
- Be natural language queries

Provide ONLY the suggestions, one per line:`;try{return(await(await this.model.generateContent(r)).response).text().trim().split(`
`).filter(u=>u.trim().length>0).map(u=>u.replace(/^\d+\.\s*/,"").replace(/^-\s*/,"").trim()).slice(0,5)}catch(a){console.error("Suggestion generation error:",a);const l=[];return s.industries&&s.industries[0]&&l.push(`Successful ${s.industries[0]} businesses for sale`),s.locations&&s.locations[0]&&l.push(`High-profit businesses in ${s.locations[0]}`),(i=s.priceRange)!=null&&i.max&&l.push(`Businesses under ${s.priceRange.max/1e5} lakhs`),l}}static async getAutocompleteSuggestions(t){if(t.length<3)return[];try{const{data:s}=await Le.from("businesses").select("name, industry, city").or(`name.ilike.%${t}%,industry.ilike.%${t}%,city.ilike.%${t}%`).limit(10);if(!s)return[];const r=new Set;return s.forEach(i=>{var a,l,c;(a=i.name)!=null&&a.toLowerCase().includes(t.toLowerCase())&&r.add(i.name),(l=i.industry)!=null&&l.toLowerCase().includes(t.toLowerCase())&&r.add(`${i.industry} businesses`),(c=i.city)!=null&&c.toLowerCase().includes(t.toLowerCase())&&r.add(`Businesses in ${i.city}`)}),Array.from(r).slice(0,5)}catch(s){return console.error("Autocomplete error:",s),[]}}static async explainResults(t,s,r){const i=`Explain to the user what businesses you're showing them based on their search.

Original Query: "${t}"
Extracted Intent: ${JSON.stringify(s)}
Results Found: ${r}

Write a friendly 1-2 sentence explanation of what we found and why.

Examples:
- "I found 12 cafes and restaurants in Mumbai within your budget of 50 lakhs."
- "Here are 8 profitable tech startups in Bangalore that match your criteria."
- "Showing you 15 franchise opportunities focused on passive income."

Write ONLY the explanation:`;try{return(await(await this.model.generateContent(i)).response).text().trim()}catch{return`Found ${r} businesses matching "${t}"`}}}Uc(Gv,"model",kW.getGenerativeModel({model:"gemini-pro"}));function EW({onSearch:n,onResultsFound:t,placeholder:s="Try: 'coffee shop in Mumbai under 50 lakhs' or 'profitable tech startup Bangalore'",className:r,showSuggestions:i=!0}){const[a,l]=w.useState(""),[c,u]=w.useState(!1),[m,g]=w.useState([]),[p,y]=w.useState(!1),[x,_]=w.useState(""),j=w.useRef(null),A=w.useRef(null);w.useEffect(()=>{const V=setTimeout(async()=>{if(a.length>=3&&i)try{const B=await Gv.getAutocompleteSuggestions(a);g(B),y(!0)}catch(B){console.error("Autocomplete error:",B)}else g([]),y(!1)},300);return()=>clearTimeout(V)},[a,i]),w.useEffect(()=>{const z=V=>{var B;A.current&&!A.current.contains(V.target)&&!((B=j.current)!=null&&B.contains(V.target))&&y(!1)};return document.addEventListener("mousedown",z),()=>document.removeEventListener("mousedown",z)},[]);const C=async z=>{const V=z||a;if(V.trim()){u(!0),y(!1),_("");try{const B=await Gv.smartSearch(V),D=await Gv.explainResults(V,B.searchIntent,B.totalResults);_(D),n(V,B.searchIntent),t&&t(B.businesses,B.searchIntent)}catch(B){console.error("Search error:",B),n(V)}finally{u(!1)}}},P=z=>{z.key==="Enter"&&C()},S=z=>{l(z),C(z)},O=["Restaurant Mumbai under 1 crore","Tech startup Bangalore","Franchise opportunities","Profitable retail business","Manufacturing business"];return e.jsxs("div",{className:nt("relative w-full",r),children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:e.jsx(xi,{className:"h-5 w-5 text-muted-foreground"})}),e.jsx(Ue,{ref:j,type:"text",placeholder:s,value:a,onChange:z=>l(z.target.value),onKeyDown:P,onFocus:()=>a.length>=3&&y(!0),className:"pl-11 pr-24 h-12 text-base",disabled:c}),e.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex items-center gap-2",children:c?e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-primary/10 rounded-md",children:[e.jsx(Ht,{className:"h-4 w-4 animate-spin text-primary"}),e.jsx("span",{className:"text-xs font-medium text-primary",children:"Searching..."})]}):e.jsxs(ee,{size:"sm",onClick:()=>C(),disabled:!a.trim(),className:"h-8",children:[e.jsx(ko,{className:"h-4 w-4 mr-1"}),"Search"]})})]}),x&&e.jsx("div",{className:"mt-3 p-3 bg-blue-50 dark:bg-blue-950/20 rounded-lg border border-blue-200 dark:border-blue-800",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(ko,{className:"h-4 w-4 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-blue-900 dark:text-blue-100",children:x})]})}),p&&m.length>0&&e.jsx(de,{ref:A,className:"absolute top-full left-0 right-0 mt-2 p-2 z-50 shadow-lg",children:e.jsx("div",{className:"space-y-1",children:m.map((z,V)=>e.jsxs("button",{onClick:()=>S(z),className:"w-full text-left px-3 py-2 hover:bg-muted rounded-md transition-colors flex items-center gap-2 group",children:[e.jsx(xi,{className:"h-4 w-4 text-muted-foreground group-hover:text-foreground"}),e.jsx("span",{className:"text-sm",children:z})]},V))})}),!a&&i&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Os,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Popular Searches"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:O.map((z,V)=>e.jsx(Be,{variant:"outline",className:"cursor-pointer hover:bg-muted transition-colors",onClick:()=>{l(z),C(z)},children:z},V))})]})]})}var TW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],PW=TW.reduce((n,t)=>{const s=ex(`Primitive.${t}`),r=w.forwardRef((i,a)=>{const{asChild:l,...c}=i,u=l?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(u,{...c,ref:a})});return r.displayName=`Primitive.${t}`,{...n,[t]:r}},{}),LW="Label",yT=w.forwardRef((n,t)=>e.jsx(PW.label,{...n,ref:t,onMouseDown:s=>{var i;s.target.closest("button, input, select, textarea")||((i=n.onMouseDown)==null||i.call(n,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));yT.displayName=LW;var bT=yT;const RW=tx("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ve=w.forwardRef(({className:n,...t},s)=>e.jsx(bT,{ref:s,className:nt(RW(),n),...t}));ve.displayName=bT.displayName;const OW=new Hu("AIzaSyDA1C1RXqj1ZGGJMrBnPtCRG3KZrADJxkU");class jT{static async findMatches(t,s){try{const{data:r,error:i}=await Le.from("businesses").select("*").eq("status","active").order("created_at",{ascending:!1});if(i)throw i;if(!r||r.length===0)return[];let a=r;t.budget&&(a=r.filter(c=>{const u=c.price||0;return u>=(t.budget.min||0)&&u<=(t.budget.max||1/0)})),t.industries&&t.industries.length>0&&(a=a.filter(c=>t.industries.some(u=>{var m;return(m=c.industry)==null?void 0:m.toLowerCase().includes(u.toLowerCase())}))),t.locations&&t.locations.length>0&&(a=a.filter(c=>t.locations.some(u=>{var m,g;return((m=c.city)==null?void 0:m.toLowerCase().includes(u.toLowerCase()))||((g=c.state)==null?void 0:g.toLowerCase().includes(u.toLowerCase()))})));const l=[];for(const c of a.slice(0,20))try{const u=await this.analyzeMatch(c,t,s);u.matchScore>=60&&l.push({businessId:c.id,business:c,...u})}catch(u){console.error("Error analyzing business match:",u)}return l.sort((c,u)=>u.matchScore-c.matchScore),l.slice(0,10)}catch(r){throw console.error("Matchmaker error:",r),r}}static async analyzeMatch(t,s,r){var a,l,c,u,m,g,p,y,x,_,j;const i=`As an AI business matchmaker, analyze how well this business matches the buyer's profile:

BUSINESS:
- Name: ${t.name}
- Industry: ${t.industry}
- Location: ${t.city}, ${t.state}
- Price: ${((a=t.price)==null?void 0:a.toLocaleString())||"N/A"}
- Revenue: ${((l=t.revenue)==null?void 0:l.toLocaleString())||"N/A"}
- Employees: ${t.employees||"N/A"}
- Description: ${(c=t.description)==null?void 0:c.substring(0,300)}

BUYER PREFERENCES:
- Budget: ${((m=(u=s.budget)==null?void 0:u.min)==null?void 0:m.toLocaleString())||0} - ${((p=(g=s.budget)==null?void 0:g.max)==null?void 0:p.toLocaleString())||"unlimited"}
- Interested Industries: ${((y=s.industries)==null?void 0:y.join(", "))||"Any"}
- Preferred Locations: ${((x=s.locations)==null?void 0:x.join(", "))||"Any"}
- Experience: ${((_=s.experience)==null?void 0:_.join(", "))||"N/A"}
- Investment Goals: ${s.investmentGoals||"N/A"}
- Risk Tolerance: ${s.riskTolerance||"medium"}
- Time Commitment: ${s.timeCommitment||"N/A"}
- Skills: ${((j=s.skills)==null?void 0:j.join(", "))||"N/A"}

Provide your analysis in this EXACT JSON format (no markdown, no code blocks):
{
  "matchScore": <number 0-100>,
  "matchReasons": ["reason 1", "reason 2", "reason 3"],
  "concerns": ["concern 1", "concern 2"],
  "aiRecommendation": "<one paragraph recommendation>"
}`;try{const S=(await(await this.model.generateContent(i)).response).text().replace(/```json\n?/g,"").replace(/```\n?/g,"").trim(),O=JSON.parse(S);return{matchScore:Math.min(100,Math.max(0,O.matchScore||50)),matchReasons:O.matchReasons||[],concerns:O.concerns||[],aiRecommendation:O.aiRecommendation||"Further analysis recommended."}}catch(A){return console.error("AI analysis error:",A),this.basicMatch(t,s)}}static basicMatch(t,s){let r=50;const i=[],a=[];if(s.budget){const l=t.price||0;l>=s.budget.min&&l<=s.budget.max?(r+=20,i.push("Price within budget")):a.push("Price outside preferred budget range")}return s.industries&&s.industries.length>0&&s.industries.some(c=>{var u;return(u=t.industry)==null?void 0:u.toLowerCase().includes(c.toLowerCase())})&&(r+=15,i.push("Matches industry preference")),s.locations&&s.locations.length>0&&s.locations.some(c=>{var u,m;return((u=t.city)==null?void 0:u.toLowerCase().includes(c.toLowerCase()))||((m=t.state)==null?void 0:m.toLowerCase().includes(c.toLowerCase()))})&&(r+=15,i.push("In preferred location")),{matchScore:Math.min(100,r),matchReasons:i.length>0?i:["Basic compatibility"],concerns:a.length>0?a:[],aiRecommendation:`This business has a ${r}% compatibility match with your profile. ${i.join(". ")}.`}}static async getPersonalizedRecommendations(t,s=5){try{const{data:r}=await Le.from("saved_listings").select("*, businesses(*)").eq("user_id",t).eq("listing_type","business"),{data:i}=await Le.from("inquiries").select("*, businesses(*)").eq("sender_id",t).eq("listing_type","business"),a=[...(r||[]).map(p=>p.businesses),...(i||[]).map(p=>p.businesses)].filter(Boolean),l=[...new Set(a.map(p=>p.industry))],c=[...new Set(a.map(p=>p.city))],u=a.reduce((p,y)=>p+(y.price||0),0)/a.length||0,m={industries:l,locations:c,budget:{min:u*.7,max:u*1.3}};return(await this.findMatches(m)).slice(0,s).map(p=>p.business)}catch(r){return console.error("Recommendation error:",r),[]}}}Uc(jT,"model",OW.getGenerativeModel({model:"gemini-pro"}));function MW({userId:n,onClose:t,className:s}){const[r,i]=w.useState("preferences"),[a,l]=w.useState(!1),[c,u]=w.useState([]),[m,g]=w.useState([1e6,1e7]),[p,y]=w.useState([]),[x,_]=w.useState([]),[j,A]=w.useState([]),[C,P]=w.useState(""),[S,O]=w.useState("medium"),[z,V]=w.useState("full-time"),B=["Food & Beverage","Technology","Retail","Healthcare","Education","Manufacturing","Services","E-commerce"],D=["Mumbai","Delhi","Bangalore","Hyderabad","Chennai","Pune","Ahmedabad","Kolkata"],K=async()=>{l(!0);try{const Q={budget:{min:m[0],max:m[1]},industries:p.length>0?p:void 0,locations:x.length>0?x:void 0,experience:j.length>0?j:void 0,investmentGoals:C||void 0,riskTolerance:S,timeCommitment:z},Z=await jT.findMatches(Q);u(Z),i("results")}catch(Q){console.error("Matchmaker error:",Q)}finally{l(!1)}},H=Q=>{y(Z=>Z.includes(Q)?Z.filter(ie=>ie!==Q):[...Z,Q])},$=Q=>{_(Z=>Z.includes(Q)?Z.filter(ie=>ie!==Q):[...Z,Q])},W=Q=>Q>=1e7?`${(Q/1e7).toFixed(1)}Cr`:Q>=1e5?`${(Q/1e5).toFixed(1)}L`:`${Q.toLocaleString()}`;return e.jsx("div",{className:nt("w-full",s),children:r==="preferences"?e.jsxs(de,{children:[e.jsx(Me,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(ko,{className:"h-5 w-5 text-purple-500"}),"AI Business Matchmaker"]}),e.jsx(ms,{children:"Tell us what you're looking for, and our AI will find perfect business matches"})]}),t&&e.jsx(ee,{variant:"ghost",size:"icon",onClick:t,children:e.jsx(Lr,{className:"h-4 w-4"})})]})}),e.jsxs(fe,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(ve,{children:"Budget Range"}),e.jsx("div",{className:"px-2",children:e.jsx(_m,{value:m,onValueChange:Q=>g(Q),min:5e5,max:5e7,step:5e5,className:"w-full"})}),e.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[e.jsx("span",{children:W(m[0])}),e.jsx("span",{children:W(m[1])})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(ve,{children:"Preferred Industries (Select multiple)"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:B.map(Q=>e.jsxs(Be,{variant:p.includes(Q)?"default":"outline",className:"cursor-pointer transition-colors",onClick:()=>H(Q),children:[Q,p.includes(Q)&&e.jsx(Lt,{className:"h-3 w-3 ml-1"})]},Q))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(ve,{children:"Preferred Locations (Select multiple)"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:D.map(Q=>e.jsxs(Be,{variant:x.includes(Q)?"default":"outline",className:"cursor-pointer transition-colors",onClick:()=>$(Q),children:[Q,x.includes(Q)&&e.jsx(Lt,{className:"h-3 w-3 ml-1"})]},Q))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(ve,{children:"Risk Tolerance"}),e.jsxs(Jt,{value:S,onValueChange:Q=>O(Q),children:[e.jsx(Wt,{children:e.jsx(Xt,{})}),e.jsxs(Yt,{children:[e.jsx(Ee,{value:"low",children:"Low - Stable, established businesses"}),e.jsx(Ee,{value:"medium",children:"Medium - Balanced risk-reward"}),e.jsx(Ee,{value:"high",children:"High - Growth potential, higher risk"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(ve,{children:"Time Commitment"}),e.jsxs(Jt,{value:z,onValueChange:Q=>V(Q),children:[e.jsx(Wt,{children:e.jsx(Xt,{})}),e.jsxs(Yt,{children:[e.jsx(Ee,{value:"part-time",children:"Part-time / Passive Income"}),e.jsx(Ee,{value:"full-time",children:"Full-time Involvement"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(ve,{children:"Investment Goal (Optional)"}),e.jsx(Ue,{placeholder:"e.g., Passive income, Quick growth, Long-term stability",value:C,onChange:Q=>P(Q.target.value)})]}),e.jsx(ee,{onClick:K,disabled:a,className:"w-full",size:"lg",children:a?e.jsxs(e.Fragment,{children:[e.jsx(Ht,{className:"mr-2 h-4 w-4 animate-spin"}),"Finding Perfect Matches..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ko,{className:"mr-2 h-4 w-4"}),"Find My Perfect Businesses"]})})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsx(de,{children:e.jsx(Me,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(Os,{className:"h-5 w-5 text-green-500"}),c.length," Perfect Matches Found"]}),e.jsx(ms,{children:"Ranked by AI compatibility with your preferences"})]}),e.jsx(ee,{variant:"outline",onClick:()=>i("preferences"),children:"Refine Search"})]})})}),c.length===0?e.jsx(de,{children:e.jsxs(fe,{className:"py-12 text-center",children:[e.jsx(Ea,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"font-semibold text-lg mb-2",children:"No matches found"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Try adjusting your preferences to see more results"}),e.jsx(ee,{onClick:()=>i("preferences"),children:"Update Preferences"})]})}):c.map((Q,Z)=>e.jsxs(de,{className:"overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-950/20 dark:to-blue-950/20 p-4 border-b",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs(Be,{variant:"secondary",className:"text-base px-3 py-1",children:["#",Z+1," Match Score: ",Q.matchScore,"%"]}),e.jsx("div",{className:"flex gap-1",children:Array.from({length:5}).map((ie,q)=>e.jsx("div",{className:nt("h-2 w-8 rounded-full",q<Math.round(Q.matchScore/20)?"bg-green-500":"bg-gray-200 dark:bg-gray-700")},q))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Lt,{className:"h-4 w-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Why this matches:"}),e.jsx("ul",{className:"text-xs text-muted-foreground space-y-1 mt-1",children:Q.matchReasons.map((ie,q)=>e.jsxs("li",{children:[" ",ie]},q))})]})]}),Q.concerns.length>0&&e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ea,{className:"h-4 w-4 text-amber-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Points to consider:"}),e.jsx("ul",{className:"text-xs text-muted-foreground space-y-1 mt-1",children:Q.concerns.map((ie,q)=>e.jsxs("li",{children:[" ",ie]},q))})]})]}),e.jsx("div",{className:"bg-white/50 dark:bg-black/20 rounded-lg p-3 mt-3",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(ko,{className:"h-4 w-4 text-purple-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-purple-900 dark:text-purple-100",children:"AI Recommendation:"}),e.jsx("p",{className:"text-xs text-purple-800 dark:text-purple-200 mt-1",children:Q.aiRecommendation})]})]})})]})]}),e.jsx(fe,{className:"p-4",children:e.jsx(Lh,{business:Q.business})})]},Q.businessId))]})})}function DW(n,t=[]){let s=[];function r(a,l){const c=w.createContext(l);c.displayName=a+"Context";const u=s.length;s=[...s,l];const m=p=>{var C;const{scope:y,children:x,..._}=p,j=((C=y==null?void 0:y[n])==null?void 0:C[u])||c,A=w.useMemo(()=>_,Object.values(_));return e.jsx(j.Provider,{value:A,children:x})};m.displayName=a+"Provider";function g(p,y){var j;const x=((j=y==null?void 0:y[n])==null?void 0:j[u])||c,_=w.useContext(x);if(_)return _;if(l!==void 0)return l;throw new Error(`\`${p}\` must be used within \`${a}\``)}return[m,g]}const i=()=>{const a=s.map(l=>w.createContext(l));return function(c){const u=(c==null?void 0:c[n])||a;return w.useMemo(()=>({[`__scope${n}`]:{...c,[n]:u}}),[c,u])}};return i.scopeName=n,[r,IW(i,...t)]}function IW(...n){const t=n[0];if(n.length===1)return t;const s=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=r.reduce((c,{useScope:u,scopeName:m})=>{const p=u(a)[`__scope${m}`];return{...c,...p}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return s.scopeName=t.scopeName,s}var FW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],wT=FW.reduce((n,t)=>{const s=ex(`Primitive.${t}`),r=w.forwardRef((i,a)=>{const{asChild:l,...c}=i,u=l?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(u,{...c,ref:a})});return r.displayName=`Primitive.${t}`,{...n,[t]:r}},{}),l2="Progress",c2=100,[BW]=DW(l2),[zW,qW]=BW(l2),NT=w.forwardRef((n,t)=>{const{__scopeProgress:s,value:r=null,max:i,getValueLabel:a=UW,...l}=n;(i||i===0)&&!lS(i)&&console.error($W(`${i}`,"Progress"));const c=lS(i)?i:c2;r!==null&&!cS(r,c)&&console.error(VW(`${r}`,"Progress"));const u=cS(r,c)?r:null,m=jy(u)?a(u,c):void 0;return e.jsx(zW,{scope:s,value:u,max:c,children:e.jsx(wT.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":jy(u)?u:void 0,"aria-valuetext":m,role:"progressbar","data-state":CT(u,c),"data-value":u??void 0,"data-max":c,...l,ref:t})})});NT.displayName=l2;var _T="ProgressIndicator",ST=w.forwardRef((n,t)=>{const{__scopeProgress:s,...r}=n,i=qW(_T,s);return e.jsx(wT.div,{"data-state":CT(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:t})});ST.displayName=_T;function UW(n,t){return`${Math.round(n/t*100)}%`}function CT(n,t){return n==null?"indeterminate":n===t?"complete":"loading"}function jy(n){return typeof n=="number"}function lS(n){return jy(n)&&!isNaN(n)&&n>0}function cS(n,t){return jy(n)&&!isNaN(n)&&n<=t&&n>=0}function $W(n,t){return`Invalid prop \`max\` of value \`${n}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${c2}\`.`}function VW(n,t){return`Invalid prop \`value\` of value \`${n}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${c2} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var AT=NT,HW=ST;const On=w.forwardRef(({className:n,value:t,...s},r)=>e.jsx(AT,{ref:r,className:nt("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",n),...s,children:e.jsx(HW,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));On.displayName=AT.displayName;var v0="Tabs",[GW]=qa(v0,[_p]),kT=_p(),[WW,d2]=GW(v0),ET=w.forwardRef((n,t)=>{const{__scopeTabs:s,value:r,onValueChange:i,defaultValue:a,orientation:l="horizontal",dir:c,activationMode:u="automatic",...m}=n,g=$m(c),[p,y]=$l({prop:r,onChange:i,defaultProp:a??"",caller:v0});return e.jsx(WW,{scope:s,baseId:Bl(),value:p,onValueChange:y,orientation:l,dir:g,activationMode:u,children:e.jsx(as.div,{dir:g,"data-orientation":l,...m,ref:t})})});ET.displayName=v0;var TT="TabsList",PT=w.forwardRef((n,t)=>{const{__scopeTabs:s,loop:r=!0,...i}=n,a=d2(TT,s),l=kT(s);return e.jsx(Lw,{asChild:!0,...l,orientation:a.orientation,dir:a.dir,loop:r,children:e.jsx(as.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});PT.displayName=TT;var LT="TabsTrigger",RT=w.forwardRef((n,t)=>{const{__scopeTabs:s,value:r,disabled:i=!1,...a}=n,l=d2(LT,s),c=kT(s),u=DT(l.baseId,r),m=IT(l.baseId,r),g=r===l.value;return e.jsx(Rw,{asChild:!0,...c,focusable:!i,active:g,children:e.jsx(as.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":m,"data-state":g?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:u,...a,ref:t,onMouseDown:kt(n.onMouseDown,p=>{!i&&p.button===0&&p.ctrlKey===!1?l.onValueChange(r):p.preventDefault()}),onKeyDown:kt(n.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&l.onValueChange(r)}),onFocus:kt(n.onFocus,()=>{const p=l.activationMode!=="manual";!g&&!i&&p&&l.onValueChange(r)})})})});RT.displayName=LT;var OT="TabsContent",MT=w.forwardRef((n,t)=>{const{__scopeTabs:s,value:r,forceMount:i,children:a,...l}=n,c=d2(OT,s),u=DT(c.baseId,r),m=IT(c.baseId,r),g=r===c.value,p=w.useRef(g);return w.useEffect(()=>{const y=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(y)},[]),e.jsx(ma,{present:i||g,children:({present:y})=>e.jsx(as.div,{"data-state":g?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":u,hidden:!y,id:m,tabIndex:0,...l,ref:t,style:{...n.style,animationDuration:p.current?"0s":void 0},children:y&&a})})});MT.displayName=OT;function DT(n,t){return`${n}-trigger-${t}`}function IT(n,t){return`${n}-content-${t}`}var YW=ET,FT=PT,BT=RT,zT=MT;const Ui=YW,yi=w.forwardRef(({className:n,...t},s)=>e.jsx(FT,{ref:s,className:nt("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",n),...t}));yi.displayName=FT.displayName;const zt=w.forwardRef(({className:n,...t},s)=>e.jsx(BT,{ref:s,className:nt("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",n),...t}));zt.displayName=BT.displayName;const Es=w.forwardRef(({className:n,...t},s)=>e.jsx(zT,{ref:s,className:nt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n),...t}));Es.displayName=zT.displayName;var y0="Checkbox",[ZW]=qa(y0),[KW,u2]=ZW(y0);function JW(n){const{__scopeCheckbox:t,checked:s,children:r,defaultChecked:i,disabled:a,form:l,name:c,onCheckedChange:u,required:m,value:g="on",internal_do_not_use_render:p}=n,[y,x]=$l({prop:s,defaultProp:i??!1,onChange:u,caller:y0}),[_,j]=w.useState(null),[A,C]=w.useState(null),P=w.useRef(!1),S=_?!!l||!!_.closest("form"):!0,O={checked:y,disabled:a,setChecked:x,control:_,setControl:j,name:c,form:l,value:g,hasConsumerStoppedPropagationRef:P,required:m,defaultChecked:Rh(i)?!1:i,isFormControl:S,bubbleInput:A,setBubbleInput:C};return e.jsx(KW,{scope:t,...O,children:XW(p)?p(O):r})}var qT="CheckboxTrigger",UT=w.forwardRef(({__scopeCheckbox:n,onKeyDown:t,onClick:s,...r},i)=>{const{control:a,value:l,disabled:c,checked:u,required:m,setControl:g,setChecked:p,hasConsumerStoppedPropagationRef:y,isFormControl:x,bubbleInput:_}=u2(qT,n),j=Ss(i,g),A=w.useRef(u);return w.useEffect(()=>{const C=a==null?void 0:a.form;if(C){const P=()=>p(A.current);return C.addEventListener("reset",P),()=>C.removeEventListener("reset",P)}},[a,p]),e.jsx(as.button,{type:"button",role:"checkbox","aria-checked":Rh(u)?"mixed":u,"aria-required":m,"data-state":WT(u),"data-disabled":c?"":void 0,disabled:c,value:l,...r,ref:j,onKeyDown:kt(t,C=>{C.key==="Enter"&&C.preventDefault()}),onClick:kt(s,C=>{p(P=>Rh(P)?!0:!P),_&&x&&(y.current=C.isPropagationStopped(),y.current||C.stopPropagation())})})});UT.displayName=qT;var h2=w.forwardRef((n,t)=>{const{__scopeCheckbox:s,name:r,checked:i,defaultChecked:a,required:l,disabled:c,value:u,onCheckedChange:m,form:g,...p}=n;return e.jsx(JW,{__scopeCheckbox:s,checked:i,defaultChecked:a,disabled:c,required:l,onCheckedChange:m,name:r,form:g,value:u,internal_do_not_use_render:({isFormControl:y})=>e.jsxs(e.Fragment,{children:[e.jsx(UT,{...p,ref:t,__scopeCheckbox:s}),y&&e.jsx(GT,{__scopeCheckbox:s})]})})});h2.displayName=y0;var $T="CheckboxIndicator",VT=w.forwardRef((n,t)=>{const{__scopeCheckbox:s,forceMount:r,...i}=n,a=u2($T,s);return e.jsx(ma,{present:r||Rh(a.checked)||a.checked===!0,children:e.jsx(as.span,{"data-state":WT(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...n.style}})})});VT.displayName=$T;var HT="CheckboxBubbleInput",GT=w.forwardRef(({__scopeCheckbox:n,...t},s)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:l,required:c,disabled:u,name:m,value:g,form:p,bubbleInput:y,setBubbleInput:x}=u2(HT,n),_=Ss(s,x),j=px(a),A=rx(r);w.useEffect(()=>{const P=y;if(!P)return;const S=window.HTMLInputElement.prototype,z=Object.getOwnPropertyDescriptor(S,"checked").set,V=!i.current;if(j!==a&&z){const B=new Event("click",{bubbles:V});P.indeterminate=Rh(a),z.call(P,Rh(a)?!1:a),P.dispatchEvent(B)}},[y,j,a,i]);const C=w.useRef(Rh(a)?!1:a);return e.jsx(as.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??C.current,required:c,disabled:u,name:m,value:g,form:p,...t,tabIndex:-1,ref:_,style:{...t.style,...A,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});GT.displayName=HT;function XW(n){return typeof n=="function"}function Rh(n){return n==="indeterminate"}function WT(n){return Rh(n)?"indeterminate":n?"checked":"unchecked"}const ln=w.forwardRef(({className:n,...t},s)=>e.jsx(h2,{ref:s,className:nt("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",n),...t,children:e.jsx(VT,{className:nt("flex items-center justify-center text-current"),children:e.jsx(Vu,{className:"h-4 w-4"})})}));ln.displayName=h2.displayName;const QW=new Hu("AIzaSyDA1C1RXqj1ZGGJMrBnPtCRG3KZrADJxkU");class YT{static async generateDueDiligenceReport(t){var r;const s=`As a senior M&A advisor, conduct a comprehensive due diligence analysis for this business acquisition:

BUSINESS DETAILS:
- Name: ${t.name}
- Industry: ${t.industry}
- Asking Price: ${t.price.toLocaleString()}
- Annual Revenue: ${t.revenue?`${t.revenue.toLocaleString()}`:"Not disclosed"}
- Annual Profit: ${t.profit?`${t.profit.toLocaleString()}`:"Not disclosed"}
- Employees: ${t.employees||"Not specified"}
- Years in Business: ${t.established_year?new Date().getFullYear()-t.established_year:"Unknown"}
- Location: ${t.location||"Not specified"}
- Assets: ${t.assets?`${t.assets.toLocaleString()}`:"Not disclosed"}
- Liabilities: ${t.liabilities?`${t.liabilities.toLocaleString()}`:"Not disclosed"}
- Description: ${(r=t.description)==null?void 0:r.substring(0,500)}

Provide a detailed due diligence report in this EXACT JSON format (no markdown):
{
  "overallRiskScore": <number 0-100>,
  "recommendation": "<Proceed|Proceed with Caution|High Risk|Do Not Proceed>",
  "criticalIssues": ["issue 1", "issue 2"],
  "warnings": ["warning 1", "warning 2", "warning 3"],
  "positiveFactors": ["factor 1", "factor 2", "factor 3"],
  "financialAnalysis": {
    "score": <number 0-100>,
    "findings": ["finding 1", "finding 2", "finding 3"],
    "redFlags": ["flag 1", "flag 2"]
  },
  "legalAnalysis": {
    "score": <number 0-100>,
    "findings": ["finding 1", "finding 2"],
    "redFlags": ["flag 1"]
  },
  "operationalAnalysis": {
    "score": <number 0-100>,
    "findings": ["finding 1", "finding 2"],
    "redFlags": ["flag 1"]
  },
  "marketAnalysis": {
    "score": <number 0-100>,
    "findings": ["finding 1", "finding 2"],
    "opportunities": ["opportunity 1", "opportunity 2"]
  }
}`;try{const l=(await(await this.model.generateContent(s)).response).text().replace(/```json\n?/g,"").replace(/```\n?/g,"").trim(),c=JSON.parse(l),u=await Nm.generateDueDiligenceChecklist({industry:t.industry,transactionSize:t.price}),m=this.parseChecklistText(u);return{...c,checklist:m}}catch(i){return console.error("Due diligence generation error:",i),this.generateBasicReport(t)}}static parseChecklistText(t){const s=[],r=t.split(`
`);let i="General";for(const a of r){const l=a.trim();if(l){if(l.match(/^\d+\.\s+[A-Z]/)){i=l.replace(/^\d+\.\s+/,"").replace(/:$/,"");continue}if(l.startsWith("-")||l.startsWith("")||l.match(/^\d+\)/)){const c=l.replace(/^[-]\s*/,"").replace(/^\d+\)\s*/,"");let u="Recommended";c.toLowerCase().includes("critical")||c.toLowerCase().includes("must")?u="Critical":(c.toLowerCase().includes("important")||c.toLowerCase().includes("should"))&&(u="Important"),s.push({category:i,item:c.replace(/\(Critical\)/gi,"").replace(/\(Important\)/gi,"").trim(),priority:u,completed:!1})}}}return s}static generateBasicReport(t){const s=t.revenue?t.price/t.revenue:0,r=t.revenue&&t.profit?t.profit/t.revenue*100:0,i=s>5?70:s>3?50:30;return{overallRiskScore:i,recommendation:i>60?"Proceed with Caution":"Proceed",criticalIssues:s>5?["High price-to-revenue ratio"]:[],warnings:["Request complete financial statements for last 3 years","Verify all legal licenses and permits","Conduct customer concentration analysis"],positiveFactors:[t.established_year&&new Date().getFullYear()-t.established_year>5?"Established business with proven track record":"Business opportunity in growing market",r>15?"Healthy profit margins":"Revenue generating business"],financialAnalysis:{score:r>15?75:60,findings:[`Price-to-revenue multiple: ${s.toFixed(2)}x`,r>0?`Profit margin: ${r.toFixed(1)}%`:"Profit data needed"],redFlags:s>5?["Valuation appears high"]:[]},legalAnalysis:{score:70,findings:["Legal verification required","Check for pending litigation"],redFlags:[]},operationalAnalysis:{score:70,findings:["Operational assessment needed","Review customer contracts"],redFlags:[]},marketAnalysis:{score:75,findings:[`${t.industry} industry analysis needed`],opportunities:["Market expansion potential","Digital transformation opportunities"]},checklist:[{category:"Financial",item:"Review 3 years of tax returns",priority:"Critical",completed:!1},{category:"Financial",item:"Analyze profit & loss statements",priority:"Critical",completed:!1},{category:"Financial",item:"Verify accounts receivable/payable",priority:"Important",completed:!1},{category:"Legal",item:"Verify business licenses",priority:"Critical",completed:!1},{category:"Legal",item:"Check for litigation history",priority:"Important",completed:!1},{category:"Operational",item:"Interview key employees",priority:"Important",completed:!1},{category:"Operational",item:"Review supplier contracts",priority:"Recommended",completed:!1},{category:"Market",item:"Analyze competitive landscape",priority:"Important",completed:!1}]}}static async analyzeSpecificArea(t,s,r){var l,c;const a=`${{financial:`Conduct detailed financial due diligence for ${s.name}. Revenue: ${(l=s.revenue)==null?void 0:l.toLocaleString()}, Profit: ${(c=s.profit)==null?void 0:c.toLocaleString()}.`,legal:`Conduct legal due diligence for ${s.name} in ${s.industry} industry, located in ${s.location}.`,operational:`Analyze operational aspects of ${s.name}. Employees: ${s.employees}, Years: ${s.established_year?new Date().getFullYear()-s.established_year:"Unknown"}.`,market:`Analyze market position for ${s.name} in ${s.industry} industry in ${s.location}.`}[t]}

Provide analysis in this JSON format:
{
  "score": <number 0-100>,
  "findings": ["finding 1", "finding 2", "finding 3"],
  "recommendations": ["recommendation 1", "recommendation 2"]
}`;try{const g=(await(await this.model.generateContent(a)).response).text().replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();return JSON.parse(g)}catch{return{score:70,findings:[`Detailed ${t} analysis required`,"Request additional documentation"],recommendations:[`Engage ${t} specialist`,"Conduct thorough review"]}}}static async generateRiskAssessment(t){var r,i;const s=`Assess investment risks for acquiring ${t.name}:

Price: ${(r=t.price)==null?void 0:r.toLocaleString()}
Revenue: ${((i=t.revenue)==null?void 0:i.toLocaleString())||"Not disclosed"}
Industry: ${t.industry}
Location: ${t.location}

Provide risk assessment in JSON:
{
  "riskLevel": "<Low|Medium|High|Very High>",
  "riskScore": <number 0-100>,
  "keyRisks": [
    {"risk": "Risk description", "impact": "Impact description", "mitigation": "Mitigation strategy"}
  ]
}`;try{const c=(await(await this.model.generateContent(s)).response).text().replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();return JSON.parse(c)}catch{return{riskLevel:"Medium",riskScore:50,keyRisks:[{risk:"Financial verification needed",impact:"Cannot fully assess financial health",mitigation:"Request 3 years of audited financials"}]}}}}Uc(YT,"model",QW.getGenerativeModel({model:"gemini-pro"}));function eY({businessData:n,onClose:t,className:s}){const[r,i]=w.useState(null),[a,l]=w.useState(!1),[c,u]=w.useState("overview"),m=async()=>{l(!0);try{const y=await YT.generateDueDiligenceReport(n);i(y)}catch(y){console.error("Error generating due diligence report:",y)}finally{l(!1)}},g=y=>y>=75?"text-red-600 bg-red-50 border-red-200":y>=50?"text-orange-600 bg-orange-50 border-orange-200":y>=25?"text-yellow-600 bg-yellow-50 border-yellow-200":"text-green-600 bg-green-50 border-green-200",p=y=>y>=75?e.jsx(pi,{className:"h-5 w-5"}):y>=50?e.jsx(vi,{className:"h-5 w-5"}):y>=25?e.jsx(Ea,{className:"h-5 w-5"}):e.jsx(Lt,{className:"h-5 w-5"});return e.jsx("div",{className:nt("w-full",s),children:e.jsxs(de,{children:[e.jsx(Me,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(Ds,{className:"h-6 w-6 text-blue-600"}),"Due Diligence Report"]}),e.jsxs(ms,{children:["AI-powered comprehensive analysis for ",n.name]})]}),!r&&e.jsx(ee,{onClick:m,disabled:a,children:a?e.jsxs(e.Fragment,{children:[e.jsx(Ht,{className:"mr-2 h-4 w-4 animate-spin"}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ds,{className:"mr-2 h-4 w-4"}),"Generate Report"]})})]})}),r&&e.jsxs(fe,{children:[e.jsxs(Ui,{value:c,onValueChange:u,children:[e.jsxs(yi,{className:"grid w-full grid-cols-5",children:[e.jsx(zt,{value:"overview",children:"Overview"}),e.jsx(zt,{value:"financial",children:"Financial"}),e.jsx(zt,{value:"legal",children:"Legal"}),e.jsx(zt,{value:"operational",children:"Operational"}),e.jsx(zt,{value:"checklist",children:"Checklist"})]}),e.jsxs(Es,{value:"overview",className:"space-y-4",children:[e.jsx(de,{className:nt("border-2",g(r.overallRiskScore)),children:e.jsxs(fe,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[p(r.overallRiskScore),e.jsx("h3",{className:"font-semibold",children:"Overall Risk Assessment"})]}),e.jsx(Be,{variant:r.overallRiskScore>=50?"destructive":"default",children:r.recommendation})]}),e.jsx(On,{value:100-r.overallRiskScore,className:"h-3"}),e.jsxs("p",{className:"text-sm mt-2",children:["Risk Score: ",r.overallRiskScore,"/100 (Lower is better)"]})]})}),r.criticalIssues.length>0&&e.jsxs(de,{className:"border-red-200 bg-red-50",children:[e.jsx(Me,{children:e.jsxs(Fe,{className:"text-red-800 flex items-center gap-2",children:[e.jsx(pi,{className:"h-5 w-5"}),"Critical Issues"]})}),e.jsx(fe,{children:e.jsx("ul",{className:"space-y-2",children:r.criticalIssues.map((y,x)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm text-red-700",children:[e.jsx(vi,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),y]},x))})})]}),r.warnings.length>0&&e.jsxs(de,{className:"border-orange-200 bg-orange-50",children:[e.jsx(Me,{children:e.jsxs(Fe,{className:"text-orange-800 flex items-center gap-2",children:[e.jsx(vi,{className:"h-5 w-5"}),"Warnings"]})}),e.jsx(fe,{children:e.jsx("ul",{className:"space-y-2",children:r.warnings.map((y,x)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm text-orange-700",children:[e.jsx(Ea,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),y]},x))})})]}),r.positiveFactors.length>0&&e.jsxs(de,{className:"border-green-200 bg-green-50",children:[e.jsx(Me,{children:e.jsxs(Fe,{className:"text-green-800 flex items-center gap-2",children:[e.jsx(Lt,{className:"h-5 w-5"}),"Positive Factors"]})}),e.jsx(fe,{children:e.jsx("ul",{className:"space-y-2",children:r.positiveFactors.map((y,x)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm text-green-700",children:[e.jsx(Lt,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),y]},x))})})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(kv,{title:"Financial",score:r.financialAnalysis.score,icon:e.jsx(Gd,{className:"h-5 w-5"})}),e.jsx(kv,{title:"Legal",score:r.legalAnalysis.score,icon:e.jsx(J5,{className:"h-5 w-5"})}),e.jsx(kv,{title:"Operational",score:r.operationalAnalysis.score,icon:e.jsx(Vd,{className:"h-5 w-5"})}),e.jsx(kv,{title:"Market",score:r.marketAnalysis.score,icon:e.jsx(Os,{className:"h-5 w-5"})})]})]}),e.jsx(Es,{value:"financial",children:e.jsx(jj,{title:"Financial Due Diligence",score:r.financialAnalysis.score,findings:r.financialAnalysis.findings,redFlags:r.financialAnalysis.redFlags,icon:e.jsx(Gd,{className:"h-6 w-6 text-blue-600"})})}),e.jsx(Es,{value:"legal",children:e.jsx(jj,{title:"Legal Due Diligence",score:r.legalAnalysis.score,findings:r.legalAnalysis.findings,redFlags:r.legalAnalysis.redFlags,icon:e.jsx(J5,{className:"h-6 w-6 text-purple-600"})})}),e.jsx(Es,{value:"operational",children:e.jsx(jj,{title:"Operational Due Diligence",score:r.operationalAnalysis.score,findings:r.operationalAnalysis.findings,redFlags:r.operationalAnalysis.redFlags,icon:e.jsx(Vd,{className:"h-6 w-6 text-green-600"})})}),e.jsx(Es,{value:"checklist",children:e.jsx(tY,{checklist:r.checklist})})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsxs(ee,{className:"flex-1",children:[e.jsx(oi,{className:"mr-2 h-4 w-4"}),"Download Report"]}),e.jsxs(ee,{variant:"outline",className:"flex-1",children:[e.jsx(_s,{className:"mr-2 h-4 w-4"}),"Share with Advisor"]})]})]})]})})}function kv({title:n,score:t,icon:s}){const r=i=>i>=75?"text-green-600":i>=50?"text-yellow-600":"text-red-600";return e.jsx(de,{children:e.jsxs(fe,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:r(t),children:s}),e.jsx("h4",{className:"font-medium text-sm",children:n})]}),e.jsxs("div",{className:nt("text-2xl font-bold",r(t)),children:[t,e.jsx("span",{className:"text-sm text-muted-foreground",children:"/100"})]})]})})}function jj({title:n,score:t,findings:s,redFlags:r,icon:i}){return e.jsxs(de,{children:[e.jsxs(Me,{children:[e.jsxs(Fe,{className:"flex items-center gap-2",children:[i,n]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(On,{value:t,className:"h-3"}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Score: ",t,"/100"]})]})]}),e.jsxs(fe,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Key Findings:"}),e.jsx("ul",{className:"space-y-2",children:s.map((a,l)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[e.jsx(Lt,{className:"h-4 w-4 text-blue-600 mt-0.5 flex-shrink-0"}),a]},l))})]}),r.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2 text-red-600",children:"Red Flags:"}),e.jsx("ul",{className:"space-y-2",children:r.map((a,l)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm text-red-600",children:[e.jsx(vi,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),a]},l))})]})]})]})}function tY({checklist:n}){const[t,s]=w.useState(n),r=a=>{const l=[...t];l[a].completed=!l[a].completed,s(l)},i=[...new Set(t.map(a=>a.category))];return e.jsx("div",{className:"space-y-4",children:i.map(a=>e.jsxs(de,{children:[e.jsx(Me,{children:e.jsx(Fe,{className:"text-lg",children:a})}),e.jsx(fe,{children:e.jsx("ul",{className:"space-y-3",children:t.filter(l=>l.category===a).map((l,c)=>e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx(ln,{checked:l.completed,onCheckedChange:()=>{const u=t.findIndex(m=>m.category===l.category&&m.item===l.item);r(u)}}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:nt("text-sm",l.completed&&"line-through text-muted-foreground"),children:l.item}),e.jsx(Be,{variant:l.priority==="Critical"?"destructive":l.priority==="Important"?"default":"secondary",className:"text-xs mt-1",children:l.priority})]})]},c))})})]},a))})}const sY=tx("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Xn=w.forwardRef(({className:n,variant:t,...s},r)=>e.jsx("div",{ref:r,role:"alert",className:nt(sY({variant:t}),n),...s}));Xn.displayName="Alert";const ZT=w.forwardRef(({className:n,...t},s)=>e.jsx("h5",{ref:s,className:nt("mb-1 font-medium leading-none tracking-tight",n),...t}));ZT.displayName="AlertTitle";const Qn=w.forwardRef(({className:n,...t},s)=>e.jsx("div",{ref:s,className:nt("text-sm [&_p]:leading-relaxed",n),...t}));Qn.displayName="AlertDescription";const nY=new Hu("AIzaSyDA1C1RXqj1ZGGJMrBnPtCRG3KZrADJxkU");class N1{static async analyzeDocument(t,s){const r=s||this.detectDocumentType(t),i=`Analyze this ${r} document and provide insights:

DOCUMENT TEXT:
${t.substring(0,15e3)}

Provide analysis in this EXACT JSON format (no markdown):
{
  "documentType": "${r}",
  "summary": "<2-3 sentence summary>",
  "keyFindings": ["finding 1", "finding 2", "finding 3"],
  "redFlags": ["red flag 1", "red flag 2"],
  "recommendations": ["recommendation 1", "recommendation 2"],
  "extractedData": {
    "revenue": <number or null>,
    "profit": <number or null>,
    "assets": <number or null>,
    "liabilities": <number or null>,
    "dates": ["date1", "date2"],
    "parties": ["party1", "party2"],
    "amounts": [amount1, amount2]
  },
  "confidenceScore": <number 0-100>
}`;try{const c=(await(await this.model.generateContent(i)).response).text().replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();return JSON.parse(c)}catch(a){return console.error("Document analysis error:",a),this.generateBasicAnalysis(t,r)}}static async extractTextFromFile(t){const s=t.type;if(s==="text/plain")return await t.text();if(s==="application/pdf")try{return await this.extractPDFText(t)}catch{throw new Error("PDF extraction not yet implemented. Please use text files.")}throw s==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"?new Error("DOCX extraction not yet implemented. Please use text or PDF files."):new Error("Unsupported file type. Please upload PDF or TXT files.")}static async extractPDFText(t){try{if(typeof window<"u"&&window.pdfjsLib){const s=window.pdfjsLib,r=await t.arrayBuffer(),i=await s.getDocument({data:r}).promise;let a="";for(let l=1;l<=i.numPages;l++){const m=(await(await i.getPage(l)).getTextContent()).items.map(g=>g.str).join(" ");a+=m+`
`}return a}}catch(s){console.error("PDF extraction error:",s)}try{return await t.text()}catch{return`[PDF Document: ${t.name}]

Note: PDF text extraction requires pdf.js library. Please install pdfjs-dist or provide the text manually.`}}static detectDocumentType(t){const s=t.toLowerCase(),i=["revenue","profit","loss","balance sheet","income statement","cash flow","assets","liabilities","ebitda"].some(m=>s.includes(m)),l=["agreement","contract","terms","conditions","liability","indemnity","clause","party","whereas"].some(m=>s.includes(m)),u=["process","procedure","workflow","operations","staff","inventory","production"].some(m=>s.includes(m));return i?"financial":l?"legal":u?"operational":"financial"}static generateBasicAnalysis(t,s){const r=t.split(/\s+/).length;return{documentType:s,summary:`${s.charAt(0).toUpperCase()+s.slice(1)} document with approximately ${r} words. Manual review recommended.`,keyFindings:["Document uploaded successfully","Preliminary scan completed","Detailed analysis requires expert review"],redFlags:[],recommendations:["Share with financial advisor for detailed review","Verify all numbers and dates","Request clarification on any unclear terms"],confidenceScore:50}}static async compareDocuments(t){if(t.length<2)throw new Error("Need at least 2 documents to compare");const s=`Compare these ${t.length} business documents and identify discrepancies:

${t.map((r,i)=>`
DOCUMENT ${i+1}: ${r.name}
${r.text.substring(0,3e3)}
`).join(`
`)}

Provide comparison in JSON:
{
  "summary": "<overall comparison summary>",
  "discrepancies": ["discrepancy 1", "discrepancy 2"],
  "consistentFactors": ["consistent factor 1", "consistent factor 2"]
}`;try{const a=(await(await this.model.generateContent(s)).response).text().replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();return JSON.parse(a)}catch{return{summary:"Documents uploaded for comparison",discrepancies:["Manual comparison required"],consistentFactors:["All documents received"]}}}static async extractDataFields(t,s){const r=`Extract these specific fields from the document:

Fields to extract: ${s.join(", ")}

Document text:
${t.substring(0,5e3)}

Return JSON object with field names as keys and extracted values.`;try{const l=(await(await this.model.generateContent(r)).response).text().replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();return JSON.parse(l)}catch{const a={};return s.forEach(l=>{a[l]=null}),a}}static async verifyDocument(t,s,r){const i=`As a document verification expert, analyze this ${s} document for authenticity:

DOCUMENT TEXT:
${t.substring(0,1e4)}

METADATA:
${r?JSON.stringify(r,null,2):"None provided"}

Check for:
1. Document structure and formatting consistency
2. Numerical consistency and plausibility
3. Professional language and terminology
4. Completeness of required information
5. Signs of alteration or tampering
6. Date and timeline consistency
7. Signature and authorization presence
8. Industry-standard format compliance

Provide analysis in EXACT JSON format (no markdown):
{
  "isAuthentic": <boolean>,
  "authenticityScore": <0-100>,
  "issues": ["issue 1", "issue 2"],
  "suggestions": ["suggestion 1", "suggestion 2"],
  "documentIntegrity": "<High|Medium|Low|Questionable>",
  "tamperedSections": ["section 1 if found"]
}`;try{const c=(await(await this.model.generateContent(i)).response).text().replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();return JSON.parse(c)}catch(a){return console.error("Document verification error:",a),{isAuthentic:!0,authenticityScore:70,issues:[],suggestions:["Manual verification recommended"],documentIntegrity:"Medium",tamperedSections:[]}}}static async redactSensitiveData(t,s){const r={redactEmails:!0,redactPhones:!0,redactSSN:!0,redactAccountNumbers:!0,redactNames:!1,...s};let i=t;const a=[];if(r.redactEmails){const l=/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b/g,c=t.matchAll(l);for(const u of c){const m=u[0],g="[EMAIL REDACTED]";i=i.replace(m,g),a.push({type:"email",originalValue:m,redactedValue:g,location:{start:u.index||0,end:(u.index||0)+m.length}})}}if(r.redactPhones){const l=/(\+?\d{1,3}[-.\s]?)?(\(?\d{3}\)?[-.\s]?)?\d{3}[-.\s]?\d{4}/g,c=t.matchAll(l);for(const u of c){const m=u[0];if(m.length>=10){const g="[PHONE REDACTED]";i=i.replace(m,g),a.push({type:"phone",originalValue:m,redactedValue:g,location:{start:u.index||0,end:(u.index||0)+m.length}})}}}if(r.redactSSN){const l=/\b\d{3}-\d{2}-\d{4}\b/g,c=/\b\d{4}\s\d{4}\s\d{4}\b/g,u=t.matchAll(l);for(const g of u){const p=g[0],y="[SSN REDACTED]";i=i.replace(p,y),a.push({type:"ssn",originalValue:p,redactedValue:y,location:{start:g.index||0,end:(g.index||0)+p.length}})}const m=t.matchAll(c);for(const g of m){const p=g[0],y="[AADHAAR REDACTED]";i=i.replace(p,y),a.push({type:"ssn",originalValue:p,redactedValue:y,location:{start:g.index||0,end:(g.index||0)+p.length}})}}if(r.redactAccountNumbers){const l=/\b(?:Account|A\/C|Acct)[:\s#]*([0-9]{6,18})\b/gi,c=t.matchAll(l);for(const u of c){const m=u[0],g="[ACCOUNT REDACTED]";i=i.replace(m,g),a.push({type:"account",originalValue:m,redactedValue:g,location:{start:u.index||0,end:(u.index||0)+m.length}})}}if(r.redactNames){const l=await this.redactNamesWithAI(i);i=l.text,a.push(...l.items)}if(r.customPatterns)for(const{pattern:l,replacement:c}of r.customPatterns){const u=t.matchAll(l);for(const m of u){const g=m[0];i=i.replace(g,c),a.push({type:"custom",originalValue:g,redactedValue:c,location:{start:m.index||0,end:(m.index||0)+g.length}})}}return{originalText:t,redactedText:i,redactedItems:a,redactionCount:a.length}}static async redactNamesWithAI(t){const s=`Identify all person names in this text and list them:

TEXT:
${t.substring(0,5e3)}

Return JSON array of names found:
["Name 1", "Name 2", ...]`;try{const a=(await(await this.model.generateContent(s)).response).text().replace(/```json\n?/g,"").replace(/```\n?/g,"").trim(),l=JSON.parse(a);let c=t;const u=[];return l.forEach(m=>{const g=c.indexOf(m);if(g!==-1){const p="[NAME REDACTED]";c=c.replace(m,p),u.push({type:"name",originalValue:m,redactedValue:p,location:{start:g,end:g+m.length}})}}),{text:c,items:u}}catch{return{text:t,items:[]}}}static async autoFillFromDocument(t,s){s.map(i=>i.fieldName).join(", ");const r=`Extract data from this document to auto-fill form fields:

DOCUMENT:
${t.substring(0,8e3)}

FORM FIELDS TO FILL:
${s.map(i=>`- ${i.fieldName} (${i.fieldType}): ${i.label}`).join(`
`)}

Return EXACT JSON format (no markdown):
{
  "<field_name>": "<extracted value>",
  ...
}

Only include fields where you found relevant data. Leave out fields with no data.`;try{const l=(await(await this.model.generateContent(r)).response).text().replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();return JSON.parse(l)}catch(i){return console.error("Auto-fill extraction error:",i),{}}}}Uc(N1,"model",nY.getGenerativeModel({model:"gemini-pro"}));function rY({onClose:n,className:t}){const[s,r]=w.useState([]),[i,a]=w.useState(new Map),[l,c]=w.useState(!1),[u,m]=w.useState(null),g=w.useRef(null),p=A=>{const C=Array.from(A.target.files||[]);r(P=>[...P,...C]),m(null)},y=A=>{r(C=>C.filter((P,S)=>S!==A)),a(C=>{const P=new Map(C);return P.delete(s[A].name),P})},x=async()=>{if(s.length===0)return;c(!0),m(null);const A=new Map(i);for(const C of s)try{const P=await N1.extractTextFromFile(C),S=await N1.analyzeDocument(P);A.set(C.name,S)}catch(P){m(`Error analyzing ${C.name}: ${P.message}`)}a(A),c(!1)},_=A=>{switch(A){case"financial":return"bg-blue-100 text-blue-800 border-blue-200";case"legal":return"bg-purple-100 text-purple-800 border-purple-200";case"operational":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},j=A=>A>=75?"text-green-600":A>=50?"text-yellow-600":"text-red-600";return e.jsx("div",{className:nt("w-full",t),children:e.jsxs(de,{children:[e.jsx(Me,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(_s,{className:"h-6 w-6 text-blue-600"}),"AI Document Analyzer"]}),e.jsx(ms,{children:"Upload business documents for AI-powered analysis"})]}),n&&e.jsx(ee,{variant:"ghost",size:"icon",onClick:n,children:e.jsx(Lr,{className:"h-4 w-4"})})]})}),e.jsxs(fe,{className:"space-y-6",children:[e.jsxs("div",{className:nt("border-2 border-dashed rounded-lg p-8 text-center transition-colors",s.length>0?"border-blue-300 bg-blue-50":"border-gray-300 hover:border-blue-400"),onClick:()=>{var A;return(A=g.current)==null?void 0:A.click()},style:{cursor:"pointer"},children:[e.jsx(ml,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),e.jsx("p",{className:"text-sm font-medium mb-1",children:"Click to upload or drag and drop"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"PDF, TXT files (Max 10MB per file)"}),e.jsx("input",{ref:g,type:"file",multiple:!0,accept:".pdf,.txt",onChange:p,className:"hidden"})]}),u&&e.jsx(Xn,{variant:"destructive",children:e.jsx(Qn,{children:u})}),s.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"font-medium",children:["Uploaded Documents (",s.length,")"]}),e.jsx(ee,{onClick:x,disabled:l,size:"sm",children:l?e.jsxs(e.Fragment,{children:[e.jsx(Ht,{className:"mr-2 h-4 w-4 animate-spin"}),"Analyzing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(dn,{className:"mr-2 h-4 w-4"}),"Analyze All"]})})]}),e.jsx("div",{className:"space-y-2",children:s.map((A,C)=>{const P=i.get(A.name);return e.jsx(de,{className:"border-2",children:e.jsx(fe,{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(_s,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"font-medium text-sm",children:A.name}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",(A.size/1024).toFixed(1)," KB)"]}),P&&e.jsx(Be,{className:nt("text-xs",_(P.documentType)),children:P.documentType.toUpperCase()})]}),P&&e.jsxs("div",{className:"space-y-3 mt-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Confidence:"}),e.jsxs("span",{className:nt("text-sm font-semibold",j(P.confidenceScore)),children:[P.confidenceScore,"%"]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-xs font-medium text-gray-700 mb-1",children:"Summary:"}),e.jsx("p",{className:"text-sm text-gray-600",children:P.summary})]}),P.keyFindings.length>0&&e.jsxs("div",{children:[e.jsx("h5",{className:"text-xs font-medium text-gray-700 mb-1",children:"Key Findings:"}),e.jsx("ul",{className:"space-y-1",children:P.keyFindings.map((S,O)=>e.jsxs("li",{className:"flex items-start gap-2 text-xs",children:[e.jsx(Lt,{className:"h-3 w-3 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:S})]},O))})]}),P.redFlags.length>0&&e.jsxs("div",{children:[e.jsx("h5",{className:"text-xs font-medium text-red-700 mb-1",children:"Red Flags:"}),e.jsx("ul",{className:"space-y-1",children:P.redFlags.map((S,O)=>e.jsxs("li",{className:"flex items-start gap-2 text-xs text-red-600",children:[e.jsx(vi,{className:"h-3 w-3 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:S})]},O))})]}),P.recommendations.length>0&&e.jsxs("div",{children:[e.jsx("h5",{className:"text-xs font-medium text-blue-700 mb-1",children:"Recommendations:"}),e.jsx("ul",{className:"space-y-1",children:P.recommendations.map((S,O)=>e.jsxs("li",{className:"text-xs text-blue-600",children:[" ",S]},O))})]}),P.extractedData&&Object.keys(P.extractedData).length>0&&e.jsxs("div",{className:"bg-gray-50 p-3 rounded-md",children:[e.jsx("h5",{className:"text-xs font-medium text-gray-700 mb-2",children:"Extracted Data:"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[P.extractedData.revenue&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Revenue: "}),e.jsxs("span",{className:"font-medium",children:["",P.extractedData.revenue.toLocaleString()]})]}),P.extractedData.profit&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Profit: "}),e.jsxs("span",{className:"font-medium",children:["",P.extractedData.profit.toLocaleString()]})]}),P.extractedData.assets&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Assets: "}),e.jsxs("span",{className:"font-medium",children:["",P.extractedData.assets.toLocaleString()]})]}),P.extractedData.liabilities&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Liabilities: "}),e.jsxs("span",{className:"font-medium",children:["",P.extractedData.liabilities.toLocaleString()]})]})]})]})]})]}),e.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>y(C),className:"ml-2",children:e.jsx(Lr,{className:"h-4 w-4"})})]})})},C)})})]}),i.size>0&&e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(ee,{className:"flex-1",children:[e.jsx(oi,{className:"mr-2 h-4 w-4"}),"Download Analysis Report"]}),e.jsx(ee,{variant:"outline",className:"flex-1",children:"Share with Advisor"})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"Supported Documents:"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-blue-800",children:[e.jsx("div",{children:" Financial Statements (P&L, Balance Sheet)"}),e.jsx("div",{children:" Tax Returns"}),e.jsx("div",{children:" Legal Agreements"}),e.jsx("div",{children:" Contracts"}),e.jsx("div",{children:" Operational Reports"}),e.jsx("div",{children:" Business Plans"})]})]})]})]})})}const iY=new Hu("AIzaSyDA1C1RXqj1ZGGJMrBnPtCRG3KZrADJxkU");class KT{static async qualifyBuyer(t,s){try{const r=this.calculateFinancialScore(t,s),i=this.calculateExperienceScore(t,s),a=this.calculateSeriousnessScore(t),l=this.calculateFitScore(t,s),c=Math.round(r*.35+i*.25+a*.25+l*.15),u=await this.analyzeWithAI(t,s,{financialScore:r,experienceScore:i,seriousnessScore:a,fitScore:l,overallScore:c}),m=this.getQualificationLevel(c),g=this.getPriorityRank(c,a),p=this.estimateCloseProbability(c,a,t.previousInquiries||0);return{leadId:t.userId,overallScore:c,qualificationLevel:m,financialScore:r,experienceScore:i,seriousnessScore:a,fitScore:l,strengths:u.strengths,concerns:u.concerns,recommendedAction:u.recommendedAction,nextSteps:u.nextSteps,estimatedCloseProbability:p,priorityRank:g}}catch(r){throw console.error("Buyer qualification error:",r),r}}static calculateFinancialScore(t,s){if(!t.budget||!s.price)return 50;const r=t.budget.max,i=t.budget.min,a=s.price;return a>=i&&a<=r?100:a<=r*1.2?80:a<=r*1.4?60:a>r*1.5?30:a<i*.7?40:50}static calculateExperienceScore(t,s){return!t.experience||t.experience.length===0?40:t.experience.some(i=>{var a,l;return((a=s.industry)==null?void 0:a.toLowerCase().includes(i.toLowerCase()))||i.toLowerCase().includes(((l=s.industry)==null?void 0:l.toLowerCase())||"")})?90:t.experience.length>0?65:40}static calculateSeriousnessScore(t){let s=0;s+=(t.profileCompleteness||0)*.3,t.verificationStatus==="verified"?s+=25:t.verificationStatus==="pending"&&(s+=15);const r=t.previousInquiries||0;r>=5?s+=15:r>=3?s+=10:r>=1&&(s+=5);const i=t.savedListings||0;i>=10?s+=10:i>=5?s+=7:i>=1&&(s+=4);const a=t.timeOnPlatform||0;if(a>=30?s+=10:a>=14?s+=7:a>=7&&(s+=4),t.inquiryMessage){const l=t.inquiryMessage.split(" ").length;l>=50?s+=10:l>=20?s+=7:l>=10&&(s+=4)}return Math.min(100,Math.round(s))}static calculateFitScore(t,s){let r=50;return t.industries&&s.industry&&t.industries.some(a=>{var l;return(l=s.industry)==null?void 0:l.toLowerCase().includes(a.toLowerCase())})&&(r+=30),t.investmentTimeline==="immediate"||t.investmentTimeline==="1-3 months"?r+=20:t.investmentTimeline==="3-6 months"&&(r+=10),Math.min(100,r)}static async analyzeWithAI(t,s,r){var a,l,c,u,m,g,p,y;const i=`As a lead qualification expert, analyze this buyer inquiry:

BUYER PROFILE:
- Budget: ${((l=(a=t.budget)==null?void 0:a.min)==null?void 0:l.toLocaleString())||"N/A"} - ${((u=(c=t.budget)==null?void 0:c.max)==null?void 0:u.toLocaleString())||"N/A"}
- Industries: ${((m=t.industries)==null?void 0:m.join(", "))||"Not specified"}
- Experience: ${((g=t.experience)==null?void 0:g.join(", "))||"No experience listed"}
- Occupation: ${t.currentOccupation||"Not specified"}
- Timeline: ${t.investmentTimeline||"Not specified"}
- Previous Inquiries: ${t.previousInquiries||0}
- Profile Completeness: ${t.profileCompleteness||0}%
- Verification: ${t.verificationStatus||"unverified"}
- Message: "${t.inquiryMessage||"No message"}"

BUSINESS:
- Price: ${((p=s.price)==null?void 0:p.toLocaleString())||"N/A"}
- Industry: ${s.industry||"N/A"}
- Revenue: ${((y=s.revenue)==null?void 0:y.toLocaleString())||"N/A"}

SCORES:
- Financial: ${r.financialScore}/100
- Experience: ${r.experienceScore}/100
- Seriousness: ${r.seriousnessScore}/100
- Overall: ${r.overallScore}/100

Provide analysis in this EXACT JSON format (no markdown):
{
  "strengths": ["strength 1", "strength 2", "strength 3"],
  "concerns": ["concern 1", "concern 2"],
  "recommendedAction": "One clear action to take",
  "nextSteps": ["step 1", "step 2", "step 3"]
}`;try{const j=(await(await this.model.generateContent(i)).response).text().replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();return JSON.parse(j)}catch{return this.generateFallbackAnalysis(t,s,r)}}static generateFallbackAnalysis(t,s,r){const i=[],a=[];r.financialScore>=80&&i.push("Budget aligns well with business price"),r.experienceScore>=70&&i.push("Has relevant industry experience"),r.seriousnessScore>=70&&i.push("Shows high engagement on platform"),t.verificationStatus==="verified"&&i.push("Verified buyer profile"),r.financialScore<60&&a.push("Budget may be insufficient"),r.experienceScore<50&&a.push("Limited industry experience"),r.seriousnessScore<50&&a.push("Low engagement signals"),(!t.verificationStatus||t.verificationStatus==="unverified")&&a.push("Profile not verified");const l=r.overallScore>=70?"Schedule a call or meeting to discuss the opportunity":r.overallScore>=50?"Send detailed information and gauge interest":"Request more information before investing time";return{strengths:i,concerns:a,recommendedAction:l,nextSteps:["Review buyer's complete profile","Verify financial capability","Schedule discovery call"]}}static getQualificationLevel(t){return t>=75?"Hot Lead":t>=55?"Warm Lead":t>=35?"Cold Lead":"Unqualified"}static getPriorityRank(t,s){return t>=75&&s>=70?"High":t>=55?"Medium":"Low"}static estimateCloseProbability(t,s,r){let i=t*.6+s*.4;return r>=5&&(i*=1.1),r===0&&(i*=.8),Math.min(100,Math.round(i))}static async qualifyAndRankBuyers(t,s){return(await Promise.all(t.map(i=>this.qualifyBuyer(i,s)))).sort((i,a)=>a.overallScore-i.overallScore)}static async getBuyerInsights(t){var s,r,i,a,l;try{const{data:c}=await Le.from("inquiries").select("*, sender:profiles!sender_id(*)").eq("recipient_id",t).order("created_at",{ascending:!1});if(!c||c.length===0)return{totalInquiries:0,hotLeads:0,warmLeads:0,coldLeads:0,averageQualificationScore:0,topLeads:[]};const u=[];for(const x of c.slice(0,50)){const _={userId:x.sender_id,name:(s=x.sender)==null?void 0:s.full_name,email:(r=x.sender)==null?void 0:r.email,phone:(i=x.sender)==null?void 0:i.phone,inquiryMessage:x.message,previousInquiries:c.filter(A=>A.sender_id===x.sender_id).length},j=await this.qualifyBuyer(_,{id:x.listing_id,price:(a=x.business)==null?void 0:a.price,industry:(l=x.business)==null?void 0:l.industry});u.push(j)}const m=u.filter(x=>x.qualificationLevel==="Hot Lead").length,g=u.filter(x=>x.qualificationLevel==="Warm Lead").length,p=u.filter(x=>x.qualificationLevel==="Cold Lead").length,y=u.reduce((x,_)=>x+_.overallScore,0)/u.length;return{totalInquiries:c.length,hotLeads:m,warmLeads:g,coldLeads:p,averageQualificationScore:Math.round(y),topLeads:u.slice(0,10)}}catch(c){throw console.error("Buyer insights error:",c),c}}}Uc(KT,"model",iY.getGenerativeModel({model:"gemini-pro"}));function aY({sellerId:n,onClose:t,className:s}){var y;const[r,i]=w.useState(null),[a,l]=w.useState(!0),[c,u]=w.useState(null);w.useEffect(()=>{m()},[n]);const m=async()=>{l(!0);try{const x=await KT.getBuyerInsights(n);i(x)}catch(x){console.error("Error loading buyer insights:",x)}finally{l(!1)}},g=x=>{switch(x){case"Hot Lead":return e.jsx(ry,{className:"h-5 w-5 text-red-500"});case"Warm Lead":return e.jsx(Q5,{className:"h-5 w-5 text-orange-500"});case"Cold Lead":return e.jsx(X5,{className:"h-5 w-5 text-blue-500"});default:return e.jsx(Ea,{className:"h-5 w-5 text-gray-500"})}},p=x=>{switch(x){case"Hot Lead":return"bg-red-50 border-red-200 dark:bg-red-950/20";case"Warm Lead":return"bg-orange-50 border-orange-200 dark:bg-orange-950/20";case"Cold Lead":return"bg-blue-50 border-blue-200 dark:bg-blue-950/20";default:return"bg-gray-50 border-gray-200"}};return a?e.jsx(de,{className:nt("w-full",s),children:e.jsxs(fe,{className:"p-8 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),e.jsx("p",{className:"mt-4 text-muted-foreground",children:"Analyzing your leads..."})]})}):e.jsxs("div",{className:nt("w-full max-w-6xl mx-auto",s),children:[t&&e.jsx("div",{className:"flex justify-end mb-4",children:e.jsx(ee,{variant:"ghost",size:"icon",onClick:t,children:e.jsx(Lr,{className:"h-4 w-4"})})}),e.jsxs(de,{children:[e.jsxs(Me,{children:[e.jsxs(Fe,{className:"text-2xl flex items-center gap-2",children:[e.jsx(gn,{className:"h-6 w-6"}),"AI Buyer Qualification Dashboard"]}),e.jsx(ms,{children:"AI-powered lead scoring and prioritization for your listings"})]}),e.jsxs(fe,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(de,{children:e.jsxs(fe,{className:"p-4",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Inquiries"}),e.jsx("div",{className:"text-2xl font-bold",children:(r==null?void 0:r.totalInquiries)||0})]})}),e.jsx(de,{className:"bg-red-50 border-red-200 dark:bg-red-950/20",children:e.jsxs(fe,{className:"p-4",children:[e.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[e.jsx(ry,{className:"h-4 w-4"}),"Hot Leads"]}),e.jsx("div",{className:"text-2xl font-bold text-red-600",children:(r==null?void 0:r.hotLeads)||0})]})}),e.jsx(de,{className:"bg-orange-50 border-orange-200 dark:bg-orange-950/20",children:e.jsxs(fe,{className:"p-4",children:[e.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[e.jsx(Q5,{className:"h-4 w-4"}),"Warm Leads"]}),e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:(r==null?void 0:r.warmLeads)||0})]})}),e.jsx(de,{className:"bg-blue-50 border-blue-200 dark:bg-blue-950/20",children:e.jsxs(fe,{className:"p-4",children:[e.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[e.jsx(X5,{className:"h-4 w-4"}),"Cold Leads"]}),e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:(r==null?void 0:r.coldLeads)||0})]})})]}),e.jsx(de,{children:e.jsxs(fe,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Average Lead Quality Score"}),e.jsxs("span",{className:"text-xl font-bold",children:[(r==null?void 0:r.averageQualificationScore)||0,"/100"]})]}),e.jsx(On,{value:(r==null?void 0:r.averageQualificationScore)||0,className:"h-2"})]})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Top Qualified Leads"}),e.jsxs("div",{className:"space-y-3",children:[(y=r==null?void 0:r.topLeads)==null?void 0:y.map((x,_)=>e.jsx(de,{className:nt("cursor-pointer transition-all hover:shadow-lg",p(x.qualificationLevel),(c==null?void 0:c.leadId)===x.leadId&&"ring-2 ring-primary"),onClick:()=>u((c==null?void 0:c.leadId)===x.leadId?null:x),children:e.jsx(fe,{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[g(x.qualificationLevel),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsxs("span",{className:"font-semibold",children:["Lead #",_+1]}),e.jsxs(Be,{variant:x.priorityRank==="High"?"destructive":"secondary",children:[x.priorityRank," Priority"]}),e.jsx(Be,{variant:"outline",children:x.qualificationLevel})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 mt-2",children:[e.jsxs("div",{className:"text-xs",children:[e.jsx("div",{className:"text-muted-foreground",children:"Financial"}),e.jsxs("div",{className:"font-semibold",children:[x.financialScore,"/100"]})]}),e.jsxs("div",{className:"text-xs",children:[e.jsx("div",{className:"text-muted-foreground",children:"Experience"}),e.jsxs("div",{className:"font-semibold",children:[x.experienceScore,"/100"]})]}),e.jsxs("div",{className:"text-xs",children:[e.jsx("div",{className:"text-muted-foreground",children:"Seriousness"}),e.jsxs("div",{className:"font-semibold",children:[x.seriousnessScore,"/100"]})]}),e.jsxs("div",{className:"text-xs",children:[e.jsx("div",{className:"text-muted-foreground",children:"Overall"}),e.jsxs("div",{className:"font-bold text-primary",children:[x.overallScore,"/100"]})]})]}),(c==null?void 0:c.leadId)===x.leadId&&e.jsxs("div",{className:"mt-4 pt-4 border-t space-y-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm font-semibold mb-2 flex items-center gap-1",children:[e.jsx(tp,{className:"h-4 w-4 text-green-600"}),"Strengths"]}),e.jsx("ul",{className:"space-y-1",children:x.strengths.map((j,A)=>e.jsxs("li",{className:"text-sm text-muted-foreground flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600",children:""}),e.jsx("span",{children:j})]},A))})]}),x.concerns.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm font-semibold mb-2 flex items-center gap-1",children:[e.jsx(Ea,{className:"h-4 w-4 text-orange-600"}),"Concerns"]}),e.jsx("ul",{className:"space-y-1",children:x.concerns.map((j,A)=>e.jsxs("li",{className:"text-sm text-muted-foreground flex items-start gap-2",children:[e.jsx("span",{className:"text-orange-600",children:""}),e.jsx("span",{children:j})]},A))})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-900 p-3 rounded-lg",children:[e.jsx("div",{className:"text-sm font-semibold mb-1",children:"AI Recommendation"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:x.recommendedAction})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold mb-2",children:"Next Steps"}),e.jsx("ol",{className:"space-y-1",children:x.nextSteps.map((j,A)=>e.jsxs("li",{className:"text-sm text-muted-foreground flex items-start gap-2",children:[e.jsxs("span",{className:"font-semibold",children:[A+1,"."]}),e.jsx("span",{children:j})]},A))})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950/20 p-3 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-sm font-semibold",children:"Estimated Close Probability"}),e.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[x.estimatedCloseProbability,"%"]})]}),e.jsx(On,{value:x.estimatedCloseProbability,className:"h-2"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(ee,{size:"sm",className:"flex-1",children:[e.jsx(Or,{className:"h-4 w-4 mr-2"}),"Contact Lead"]}),e.jsxs(ee,{size:"sm",variant:"outline",className:"flex-1",children:[e.jsx(za,{className:"h-4 w-4 mr-2"}),"Schedule Call"]})]})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Score"}),e.jsx("div",{className:"text-2xl font-bold",children:x.overallScore})]})]})})},x.leadId)),(!(r!=null&&r.topLeads)||r.topLeads.length===0)&&e.jsx(de,{children:e.jsxs(fe,{className:"p-8 text-center text-muted-foreground",children:[e.jsx(gn,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"No buyer inquiries yet. Start promoting your listings to attract qualified buyers!"})]})})]})]})]})]})]})}const oY=new Hu("AIzaSyDA1C1RXqj1ZGGJMrBnPtCRG3KZrADJxkU");class JT{static async matchFranchisee(t,s){const r=[];for(const i of s){const a=await this.scoreMatch(t,i);a.matchScore>=40&&r.push(a)}return r.sort((i,a)=>a.matchScore-i.matchScore)}static async scoreMatch(t,s){const r=this.calculateFinancialFit(t,s),i=this.calculateExperienceFit(t,s),a=this.calculatePersonalityFit(t,s),l=this.calculateCommitmentFit(t,s),c=Math.round(r*.35+i*.3+a*.2+l*.15),u=await this.analyzeMatchWithAI(t,s,{financialFitScore:r,experienceFitScore:i,personalityFitScore:a,commitmentFitScore:l,matchScore:c}),m=this.getMatchLevel(c),g=this.calculateSuccessProbability(c,t,s);return{franchiseeId:t.userId,franchise:s,matchScore:c,financialFitScore:r,experienceFitScore:i,personalityFitScore:a,commitmentFitScore:l,successProbability:g,matchLevel:m,strengths:u.strengths,concerns:u.concerns,recommendation:u.recommendation,expectedROI:u.expectedROI,estimatedBreakEven:u.estimatedBreakEven}}static calculateFinancialFit(t,s){let r=0;if(t.budget){const i=s.totalInvestment.max,a=t.budget.max;a>=i?r+=40:a>=i*.8?r+=30:a>=i*.6?r+=20:r+=10}if(t.liquidCapital&&s.minimumLiquidCapital){const i=t.liquidCapital/s.minimumLiquidCapital;i>=1.5?r+=30:i>=1.2?r+=25:i>=1?r+=20:i>=.8&&(r+=10)}else r+=15;if(t.netWorth&&s.minimumNetWorth){const i=t.netWorth/s.minimumNetWorth;i>=2?r+=20:i>=1.5?r+=15:i>=1?r+=10:i>=.8&&(r+=5)}else r+=10;return t.creditScore&&(t.creditScore>=750?r+=10:t.creditScore>=700?r+=7:t.creditScore>=650&&(r+=4)),Math.min(100,r)}static calculateExperienceFit(t,s){let r=0;if(t.businessExperience&&t.businessExperience.length>0){const i=t.businessExperience.some(a=>s.industry.toLowerCase().includes(a.toLowerCase())||a.toLowerCase().includes(s.industry.toLowerCase()));i&&t.industryExperience?t.industryExperience>=5?r+=40:t.industryExperience>=3?r+=30:t.industryExperience>=1&&(r+=20):i?r+=25:t.businessExperience.length>0&&(r+=15)}if(t.managementExperience&&(t.managementExperience>=10?r+=30:t.managementExperience>=5?r+=25:t.managementExperience>=3?r+=20:t.managementExperience>=1&&(r+=15)),t.educationLevel)switch(t.educationLevel){case"phd":case"masters":r+=20;break;case"bachelors":r+=15;break;case"high-school":r+=10;break}return t.multiUnitInterest&&s.multiUnitDiscount&&(r+=10),Math.min(100,r)}static calculatePersonalityFit(t,s){let r=50;if(t.personalityTraits&&t.personalityTraits.length>0){const i=["leadership","decisive","ambitious","confident"];t.personalityTraits.some(g=>i.some(p=>g.toLowerCase().includes(p)))&&(r+=15);const l=["collaborative","team player","cooperative"];t.personalityTraits.some(g=>l.some(p=>g.toLowerCase().includes(p)))&&(r+=15);const u=["detail-oriented","organized","systematic"];if(t.personalityTraits.some(g=>u.some(p=>g.toLowerCase().includes(p)))&&(r+=10),s.industry.includes("Service")||s.industry.includes("Food")){const g=["customer-focused","friendly","service-oriented"];t.personalityTraits.some(y=>g.some(x=>y.toLowerCase().includes(x)))&&(r+=10)}}return Math.min(100,r)}static calculateCommitmentFit(t,s){let r=50;return t.timeCommitment==="full-time"?r+=50:t.timeCommitment==="semi-absentee"?s.successRate&&s.successRate>=80?r+=35:r+=25:t.timeCommitment==="part-time"?r+=20:t.timeCommitment==="absentee"&&(r+=15),t.preferredLocations&&s.territoriesAvailable&&(t.preferredLocations.some(a=>s.territoriesAvailable.some(l=>l.toLowerCase().includes(a.toLowerCase())))?r+=25:r+=10),t.hasReferencesChecked&&(r+=25),Math.min(100,r)}static async analyzeMatchWithAI(t,s,r){var a,l,c,u,m,g,p;const i=`As a franchise matching expert, analyze this franchisee-franchise match:

FRANCHISEE PROFILE:
- Experience: ${t.managementExperience||0} years management, ${t.industryExperience||0} years in industry
- Education: ${t.educationLevel||"not specified"}
- Budget: ${((l=(a=t.budget)==null?void 0:a.min)==null?void 0:l.toLocaleString())||"N/A"} - ${((u=(c=t.budget)==null?void 0:c.max)==null?void 0:u.toLocaleString())||"N/A"}
- Liquid Capital: ${((m=t.liquidCapital)==null?void 0:m.toLocaleString())||"N/A"}
- Net Worth: ${((g=t.netWorth)==null?void 0:g.toLocaleString())||"N/A"}
- Time Commitment: ${t.timeCommitment||"not specified"}
- Multi-unit Interest: ${t.multiUnitInterest?"Yes":"No"}

FRANCHISE OPPORTUNITY:
- Brand: ${s.brandName}
- Industry: ${s.industry}
- Franchise Fee: ${s.franchiseFee.toLocaleString()}
- Total Investment: ${s.totalInvestment.min.toLocaleString()} - ${s.totalInvestment.max.toLocaleString()}
- Royalty: ${s.royaltyPercentage}%
- Required Net Worth: ${((p=s.minimumNetWorth)==null?void 0:p.toLocaleString())||"N/A"}
- Success Rate: ${s.successRate||"N/A"}%
- Average ROI: ${s.averageROI||"N/A"}%

MATCH SCORES:
- Financial Fit: ${r.financialFitScore}/100
- Experience Fit: ${r.experienceFitScore}/100
- Personality Fit: ${r.personalityFitScore}/100
- Overall Match: ${r.matchScore}/100

Provide analysis in EXACT JSON format (no markdown):
{
  "strengths": ["strength 1", "strength 2", "strength 3"],
  "concerns": ["concern 1", "concern 2"],
  "recommendation": "One clear recommendation",
  "expectedROI": {"year1": <number>, "year3": <number>, "year5": <number>},
  "estimatedBreakEven": <months as number>
}`;try{const _=(await(await this.model.generateContent(i)).response).text().replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();return JSON.parse(_)}catch(y){return console.error("AI analysis error:",y),this.generateFallbackAnalysis(t,s,r)}}static generateFallbackAnalysis(t,s,r){const i=[],a=[];r.financialFitScore>=80&&i.push("Strong financial capacity"),r.experienceFitScore>=70&&i.push("Relevant industry experience"),t.multiUnitInterest&&s.multiUnitDiscount&&i.push("Multi-unit potential for growth"),r.financialFitScore<60&&a.push("Financial capacity may be stretched"),r.experienceFitScore<50&&a.push("Limited relevant experience"),r.commitmentFitScore<60&&a.push("Time commitment alignment unclear");const l=r.matchScore>=75?"Excellent match - recommend proceeding with franchise application":r.matchScore>=60?"Good match - schedule discovery day to learn more":"Fair match - consider other franchise options as well";return{strengths:i,concerns:a,recommendation:l,expectedROI:s.averageROI?{year1:s.averageROI*.6,year3:s.averageROI,year5:s.averageROI*1.3}:void 0,estimatedBreakEven:18}}static getMatchLevel(t){return t>=80?"Excellent Match":t>=65?"Good Match":t>=45?"Fair Match":"Poor Match"}static calculateSuccessProbability(t,s,r){let i=t;return r.successRate&&(i=(i+r.successRate)/2),s.hasReferencesChecked&&(i*=1.1),s.multiUnitInterest&&(i*=1.05),Math.min(100,Math.round(i))}static async findBestMatches(t,s=10){try{const{data:r,error:i}=await Le.from("franchises").select("*").eq("status","active").order("created_at",{ascending:!1});if(i)throw i;if(!r||r.length===0)return[];const a=r.map(c=>({franchiseId:c.id,brandName:c.brand_name||c.name,industry:c.industry,franchiseFee:c.franchise_fee,totalInvestment:c.total_investment||{min:c.franchise_fee,max:c.franchise_fee*3},royaltyPercentage:c.royalty_percentage||6,requiredExperience:c.required_experience,idealFranchiseeProfile:c.ideal_franchisee,supportProvided:c.support_provided||[],trainingDuration:c.training_duration,territoriesAvailable:c.territories_available||[],minimumNetWorth:c.minimum_net_worth,minimumLiquidCapital:c.minimum_liquid_capital,multiUnitDiscount:c.multi_unit_discount,successRate:c.success_rate,averageROI:c.average_roi}));return(await this.matchFranchisee(t,a)).slice(0,s)}catch(r){return console.error("Find matches error:",r),[]}}}Uc(JT,"model",oY.getGenerativeModel({model:"gemini-pro"}));function lY({onClose:n,className:t}){var y,x;const[s,r]=w.useState("profile"),[i,a]=w.useState({}),[l,c]=w.useState([]),[u,m]=w.useState(!1),g=async()=>{var _,j;m(!0);try{const A={userId:"current_user",budget:{min:Number((_=i.budget)==null?void 0:_.min)||0,max:Number((j=i.budget)==null?void 0:j.max)||0},liquidCapital:Number(i.liquidCapital)||0,netWorth:Number(i.netWorth)||0,managementExperience:Number(i.managementExperience)||0,timeCommitment:i.timeCommitment||"full-time"},C=await JT.findBestMatches(A,10);c(C),r("results")}catch(A){console.error("Error finding matches:",A)}finally{m(!1)}},p=_=>_>=80?"text-green-600 bg-green-50 border-green-200":_>=65?"text-blue-600 bg-blue-50 border-blue-200":_>=45?"text-orange-600 bg-orange-50 border-orange-200":"text-gray-600 bg-gray-50 border-gray-200";return e.jsxs("div",{className:nt("w-full max-w-4xl mx-auto",t),children:[n&&e.jsx("div",{className:"flex justify-end mb-4",children:e.jsx(ee,{variant:"ghost",size:"icon",onClick:n,children:e.jsx(Lr,{className:"h-4 w-4"})})}),e.jsxs(de,{children:[e.jsxs(Me,{children:[e.jsxs(Fe,{className:"text-2xl flex items-center gap-2",children:[e.jsx(Tm,{className:"h-6 w-6"}),"AI Franchisee Matcher"]}),e.jsx(ms,{children:"Find franchise opportunities that match your profile and goals"})]}),e.jsx(fe,{children:s==="profile"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ve,{children:"Budget Range (Min)"}),e.jsx(Ue,{type:"number",placeholder:"e.g., 1000000",value:((y=i.budget)==null?void 0:y.min)||"",onChange:_=>{var j;return a({...i,budget:{...i.budget,min:Number(_.target.value),max:((j=i.budget)==null?void 0:j.max)||0}})}})]}),e.jsxs("div",{children:[e.jsx(ve,{children:"Budget Range (Max)"}),e.jsx(Ue,{type:"number",placeholder:"e.g., 5000000",value:((x=i.budget)==null?void 0:x.max)||"",onChange:_=>{var j;return a({...i,budget:{...i.budget,max:Number(_.target.value),min:((j=i.budget)==null?void 0:j.min)||0}})}})]}),e.jsxs("div",{children:[e.jsx(ve,{children:"Liquid Capital Available"}),e.jsx(Ue,{type:"number",placeholder:"Cash available",value:i.liquidCapital||"",onChange:_=>a({...i,liquidCapital:Number(_.target.value)})})]}),e.jsxs("div",{children:[e.jsx(ve,{children:"Net Worth"}),e.jsx(Ue,{type:"number",placeholder:"Total assets - liabilities",value:i.netWorth||"",onChange:_=>a({...i,netWorth:Number(_.target.value)})})]}),e.jsxs("div",{children:[e.jsx(ve,{children:"Management Experience (years)"}),e.jsx(Ue,{type:"number",placeholder:"e.g., 5",value:i.managementExperience||"",onChange:_=>a({...i,managementExperience:Number(_.target.value)})})]}),e.jsxs("div",{children:[e.jsx(ve,{children:"Time Commitment"}),e.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm",value:i.timeCommitment||"full-time",onChange:_=>a({...i,timeCommitment:_.target.value}),children:[e.jsx("option",{value:"full-time",children:"Full-time"}),e.jsx("option",{value:"part-time",children:"Part-time"}),e.jsx("option",{value:"semi-absentee",children:"Semi-absentee"}),e.jsx("option",{value:"absentee",children:"Absentee"})]})]})]}),e.jsx(ee,{onClick:g,disabled:u,className:"w-full",children:u?"Finding Matches...":"Find My Perfect Franchise"})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold",children:["Top ",l.length," Franchise Matches"]}),e.jsx(ee,{variant:"outline",size:"sm",onClick:()=>r("profile"),children:"Refine Search"})]}),l.map((_,j)=>e.jsx(de,{className:nt("border-2",p(_.matchScore)),children:e.jsxs(fe,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-lg",children:_.franchise.brandName}),e.jsx("p",{className:"text-sm text-muted-foreground",children:_.franchise.industry})]}),e.jsxs(Be,{className:p(_.matchScore),children:[_.matchScore,"% Match"]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Financial Fit"}),e.jsx(On,{value:_.financialFitScore,className:"h-1.5 mt-1"}),e.jsxs("div",{className:"text-xs font-semibold mt-1",children:[_.financialFitScore,"/100"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Experience Fit"}),e.jsx(On,{value:_.experienceFitScore,className:"h-1.5 mt-1"}),e.jsxs("div",{className:"text-xs font-semibold mt-1",children:[_.experienceFitScore,"/100"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Success Probability"}),e.jsx(On,{value:_.successProbability,className:"h-1.5 mt-1"}),e.jsxs("div",{className:"text-xs font-semibold mt-1",children:[_.successProbability,"%"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Match Level"}),e.jsx(Be,{variant:"outline",className:"mt-1",children:_.matchLevel})]})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(zi,{className:"h-4 w-4"}),e.jsxs("span",{children:["Investment: ",_.franchise.totalInvestment.min.toLocaleString()," - ",_.franchise.totalInvestment.max.toLocaleString()]})]}),_.estimatedBreakEven&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Os,{className:"h-4 w-4"}),e.jsxs("span",{children:["Break-even: ",_.estimatedBreakEven," months"]})]})]}),e.jsxs("div",{className:"mt-3 pt-3 border-t",children:[e.jsx("div",{className:"text-xs font-semibold mb-1",children:"Why this matches you:"}),e.jsx("ul",{className:"text-xs space-y-1",children:_.strengths.slice(0,3).map((A,C)=>e.jsxs("li",{className:"flex items-start gap-1",children:[e.jsx("span",{className:"text-green-600",children:""}),e.jsx("span",{children:A})]},C))})]}),e.jsx(ee,{className:"w-full mt-3",size:"sm",children:"View Franchise Details"})]})},_.franchiseeId+j)),l.length===0&&e.jsx(de,{children:e.jsxs(fe,{className:"p-8 text-center text-muted-foreground",children:[e.jsx(Tm,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"No matches found. Try adjusting your criteria."})]})})]})})]})]})}const cY=new Hu("AIzaSyDA1C1RXqj1ZGGJMrBnPtCRG3KZrADJxkU");class XT{static async analyzeTerritory(t,s,r){try{const[i,a]=this.parseLocation(t),l=await this.getAITerritoryAnalysis(i,a,s,r),c=this.calculateDemographicScore(l.demographics),u=this.calculateEconomicScore(l.economicIndicators),m=this.calculateCompetitionScore(l.competitionAnalysis),g=this.calculateMarketPotentialScore(l.marketPotential),p=Math.round(c*.25+u*.3+m*.25+g*.2),y=this.getViabilityLevel(p);return{location:t,city:i,state:a,viabilityScore:p,viabilityLevel:y,demographicScore:c,economicScore:u,competitionScore:m,marketPotentialScore:g,...l}}catch(i){return console.error("Territory analysis error:",i),this.getFallbackAnalysis(t,s)}}static async getAITerritoryAnalysis(t,s,r,i){const a=`As a franchise territory analyst, provide a comprehensive analysis for opening a ${i||r} franchise in ${t}, ${s}, India.

Analyze the following aspects and provide data in EXACT JSON format (no markdown):

{
  "demographics": {
    "population": <number>,
    "medianAge": <number>,
    "medianIncome": <number in rupees>,
    "householdSize": <number>,
    "educationLevel": "<description>",
    "employmentRate": <percentage as number>
  },
  "economicIndicators": {
    "gdpGrowth": <percentage as number>,
    "unemploymentRate": <percentage as number>,
    "businessGrowth": <percentage as number>,
    "disposableIncome": <number in rupees>
  },
  "competitionAnalysis": {
    "directCompetitors": <number>,
    "indirectCompetitors": <number>,
    "marketSaturation": "<Low|Medium|High>",
    "competitiveAdvantages": ["advantage 1", "advantage 2", "advantage 3"],
    "competitiveChallenges": ["challenge 1", "challenge 2"]
  },
  "marketPotential": {
    "estimatedCustomerBase": <number>,
    "projectedRevenue": {
      "year1": <number>,
      "year3": <number>,
      "year5": <number>
    },
    "growthPotential": "<High|Medium|Low>",
    "seasonality": "<description of seasonal patterns>"
  },
  "risks": ["risk 1", "risk 2", "risk 3"],
  "opportunities": ["opportunity 1", "opportunity 2", "opportunity 3"],
  "recommendations": ["recommendation 1", "recommendation 2", "recommendation 3"],
  "estimatedROI": <percentage as number>,
  "breakEvenMonths": <number>
}

Focus on Indian market data and conditions. Be realistic and data-driven.`;try{const u=(await(await this.model.generateContent(a)).response).text().replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();return JSON.parse(u)}catch(l){throw console.error("AI territory analysis error:",l),l}}static calculateDemographicScore(t){let s=0;t.population>=2e6?s+=30:t.population>=1e6?s+=25:t.population>=5e5?s+=20:t.population>=2e5?s+=15:s+=10,t.medianIncome>=6e5?s+=30:t.medianIncome>=4e5?s+=25:t.medianIncome>=3e5?s+=20:t.medianIncome>=2e5?s+=15:s+=10,t.employmentRate>=95?s+=20:t.employmentRate>=90?s+=15:t.employmentRate>=85?s+=10:s+=5;const r=t.educationLevel.toLowerCase();return r.includes("high")||r.includes("graduate")?s+=20:r.includes("college")||r.includes("bachelor")?s+=15:s+=10,Math.min(100,s)}static calculateEconomicScore(t){let s=0;return t.gdpGrowth>=8?s+=30:t.gdpGrowth>=6?s+=25:t.gdpGrowth>=4?s+=20:t.gdpGrowth>=2?s+=15:s+=10,t.unemploymentRate<=3?s+=25:t.unemploymentRate<=5?s+=20:t.unemploymentRate<=7?s+=15:t.unemploymentRate<=10?s+=10:s+=5,t.businessGrowth>=15?s+=25:t.businessGrowth>=10?s+=20:t.businessGrowth>=5?s+=15:s+=10,t.disposableIncome>=2e5?s+=20:t.disposableIncome>=15e4?s+=15:t.disposableIncome>=1e5?s+=10:s+=5,Math.min(100,s)}static calculateCompetitionScore(t){let s=50;switch(t.marketSaturation){case"Low":s+=40;break;case"Medium":s+=25;break;case"High":s+=10;break}return t.directCompetitors<=3?s+=20:t.directCompetitors<=5?s+=15:t.directCompetitors<=10?s+=10:s+=5,s+=Math.min(20,t.competitiveAdvantages.length*5),s-=Math.min(20,t.competitiveChallenges.length*5),Math.max(0,Math.min(100,s))}static calculateMarketPotentialScore(t){let s=0;switch(t.growthPotential){case"High":s+=40;break;case"Medium":s+=25;break;case"Low":s+=15;break}t.estimatedCustomerBase>=1e5?s+=30:t.estimatedCustomerBase>=5e4?s+=25:t.estimatedCustomerBase>=25e3?s+=20:t.estimatedCustomerBase>=1e4?s+=15:s+=10;const r=t.projectedRevenue.year1,i=t.projectedRevenue.year5;if(i>0&&r>0){const a=(i-r)/r*100;a>=150?s+=30:a>=100?s+=25:a>=50?s+=20:s+=15}return Math.min(100,s)}static getViabilityLevel(t){return t>=80?"Excellent":t>=65?"Good":t>=45?"Fair":"Poor"}static parseLocation(t){const s=t.split(",").map(r=>r.trim());return s.length>=2?[s[0],s[1]]:[t,"India"]}static async compareTerritories(t,s,r){const i=[];for(const u of t){const m=await this.analyzeTerritory(u,s,r);i.push(m)}i.sort((u,m)=>m.viabilityScore-u.viabilityScore);const a=i[0],l=i.map((u,m)=>({location:u.location,score:u.viabilityScore,reason:m===0?`Best choice: ${u.viabilityLevel} viability with ${u.estimatedROI}% estimated ROI`:`${u.viabilityLevel} viability, ranks #${m+1} overall`})),c=await this.generateComparisonSummary(i,s);return{territories:i,bestTerritory:a,ranking:l,summary:c}}static async generateComparisonSummary(t,s){const r=`Summarize this territory comparison for a ${s} franchise in 2-3 sentences:

${t.map((i,a)=>`
${a+1}. ${i.location}: ${i.viabilityScore}/100 viability score
   - Demographics: ${i.demographicScore}/100
   - Economics: ${i.economicScore}/100
   - Competition: ${i.competitionScore}/100
   - Market Potential: ${i.marketPotentialScore}/100
`).join(`
`)}

Provide ONLY the summary text (no JSON, no markdown):`;try{return(await(await this.model.generateContent(r)).response).text().trim()}catch{return`Analyzed ${t.length} territories for ${s} franchise. ${t[0].location} shows the strongest potential with a ${t[0].viabilityScore}/100 viability score.`}}static getFallbackAnalysis(t,s){const[r,i]=this.parseLocation(t);return{location:t,city:r,state:i,viabilityScore:65,viabilityLevel:"Good",demographicScore:65,economicScore:70,competitionScore:60,marketPotentialScore:65,demographics:{population:1e6,medianAge:32,medianIncome:4e5,householdSize:4,educationLevel:"College educated",employmentRate:92},economicIndicators:{gdpGrowth:6.5,unemploymentRate:5.2,businessGrowth:8,disposableIncome:15e4},competitionAnalysis:{directCompetitors:5,indirectCompetitors:15,marketSaturation:"Medium",competitiveAdvantages:["Growing market","Strong brand recognition potential"],competitiveChallenges:["Existing competition"]},marketPotential:{estimatedCustomerBase:5e4,projectedRevenue:{year1:5e6,year3:8e6,year5:12e6},growthPotential:"Medium",seasonality:"Moderate seasonal variation"},risks:["Market competition","Economic fluctuations"],opportunities:["Growing demographics","Increasing disposable income"],recommendations:[`Conduct detailed market research in ${r}`,"Visit existing franchises in the area","Analyze local consumer behavior"],estimatedROI:18,breakEvenMonths:18}}static async getTopTerritories(t,s,r="India",i=10){const a=["Mumbai, Maharashtra","Delhi, NCR","Bangalore, Karnataka","Hyderabad, Telangana","Chennai, Tamil Nadu","Kolkata, West Bengal","Pune, Maharashtra","Ahmedabad, Gujarat","Jaipur, Rajasthan","Surat, Gujarat","Lucknow, Uttar Pradesh","Chandigarh, Punjab","Indore, Madhya Pradesh","Kochi, Kerala","Coimbatore, Tamil Nadu"],l=[];for(const c of a.slice(0,i)){const u=await this.analyzeTerritory(c,t,s);l.push(u)}return l.sort((c,u)=>u.viabilityScore-c.viabilityScore)}}Uc(XT,"model",cY.getGenerativeModel({model:"gemini-pro"}));function dY({franchiseBrand:n,franchiseIndustry:t,onClose:s,className:r}){const[i,a]=w.useState(""),[l,c]=w.useState(t||""),[u,m]=w.useState(n||""),[g,p]=w.useState(null),[y,x]=w.useState(!1),_=async()=>{if(!(!i||!l)){x(!0);try{const A=await XT.analyzeTerritory(i,l,u);p(A)}catch(A){console.error("Error analyzing territory:",A)}finally{x(!1)}}},j=A=>{switch(A){case"Excellent":return"bg-green-50 border-green-200 text-green-700";case"Good":return"bg-blue-50 border-blue-200 text-blue-700";case"Fair":return"bg-orange-50 border-orange-200 text-orange-700";default:return"bg-red-50 border-red-200 text-red-700"}};return e.jsxs("div",{className:nt("w-full max-w-4xl mx-auto",r),children:[s&&e.jsx("div",{className:"flex justify-end mb-4",children:e.jsx(ee,{variant:"ghost",size:"icon",onClick:s,children:e.jsx(Lr,{className:"h-4 w-4"})})}),e.jsxs(de,{children:[e.jsxs(Me,{children:[e.jsxs(Fe,{className:"text-2xl flex items-center gap-2",children:[e.jsx(Ln,{className:"h-6 w-6"}),"AI Territory Analyzer"]}),e.jsx(ms,{children:"Analyze franchise viability with AI-powered demographic and market insights"})]}),e.jsxs(fe,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(ve,{children:"Location (City, State)"}),e.jsx(Ue,{placeholder:"e.g., Mumbai, Maharashtra",value:i,onChange:A=>a(A.target.value)})]}),e.jsxs("div",{children:[e.jsx(ve,{children:"Industry"}),e.jsx(Ue,{placeholder:"e.g., Food & Beverage",value:l,onChange:A=>c(A.target.value)})]}),e.jsxs("div",{children:[e.jsx(ve,{children:"Brand (Optional)"}),e.jsx(Ue,{placeholder:"e.g., Subway",value:u,onChange:A=>m(A.target.value)})]})]}),e.jsx(ee,{onClick:_,disabled:y||!i||!l,className:"w-full",children:y?"Analyzing Territory...":"Analyze Territory"}),g&&e.jsxs("div",{className:"space-y-4 mt-6",children:[e.jsx(de,{className:nt("border-2",j(g.viabilityLevel)),children:e.jsx(fe,{className:"p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-4xl font-bold mb-2",children:[g.viabilityScore,"/100"]}),e.jsxs(Be,{className:j(g.viabilityLevel),children:[g.viabilityLevel," Viability"]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:g.location})]})})}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(de,{children:e.jsxs(fe,{className:"p-4",children:[e.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:"Demographics"}),e.jsx(On,{value:g.demographicScore,className:"h-2 mb-1"}),e.jsxs("div",{className:"text-lg font-bold",children:[g.demographicScore,"/100"]})]})}),e.jsx(de,{children:e.jsxs(fe,{className:"p-4",children:[e.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:"Economics"}),e.jsx(On,{value:g.economicScore,className:"h-2 mb-1"}),e.jsxs("div",{className:"text-lg font-bold",children:[g.economicScore,"/100"]})]})}),e.jsx(de,{children:e.jsxs(fe,{className:"p-4",children:[e.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:"Competition"}),e.jsx(On,{value:g.competitionScore,className:"h-2 mb-1"}),e.jsxs("div",{className:"text-lg font-bold",children:[g.competitionScore,"/100"]})]})}),e.jsx(de,{children:e.jsxs(fe,{className:"p-4",children:[e.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:"Market Potential"}),e.jsx(On,{value:g.marketPotentialScore,className:"h-2 mb-1"}),e.jsxs("div",{className:"text-lg font-bold",children:[g.marketPotentialScore,"/100"]})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[e.jsx(de,{children:e.jsxs(fe,{className:"p-4",children:[e.jsx(gn,{className:"h-5 w-5 text-muted-foreground mb-2"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Population"}),e.jsx("div",{className:"font-semibold",children:g.demographics.population.toLocaleString()})]})}),e.jsx(de,{children:e.jsxs(fe,{className:"p-4",children:[e.jsx(Os,{className:"h-5 w-5 text-muted-foreground mb-2"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Median Income"}),e.jsxs("div",{className:"font-semibold",children:["",g.demographics.medianIncome.toLocaleString()]})]})}),e.jsx(de,{children:e.jsxs(fe,{className:"p-4",children:[e.jsx(ed,{className:"h-5 w-5 text-muted-foreground mb-2"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Direct Competitors"}),e.jsx("div",{className:"font-semibold",children:g.competitionAnalysis.directCompetitors})]})})]}),e.jsx(de,{className:"bg-blue-50 border-blue-200",children:e.jsx(fe,{className:"p-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Estimated ROI"}),e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[g.estimatedROI,"%"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Break-even"}),e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[g.breakEvenMonths," months"]})]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(de,{children:[e.jsx(Me,{children:e.jsx(Fe,{className:"text-sm",children:"Opportunities"})}),e.jsx(fe,{children:e.jsx("ul",{className:"space-y-2",children:g.opportunities.map((A,C)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[e.jsx("span",{className:"text-green-600",children:""}),e.jsx("span",{children:A})]},C))})})]}),e.jsxs(de,{children:[e.jsx(Me,{children:e.jsxs(Fe,{className:"text-sm flex items-center gap-2",children:[e.jsx(Ea,{className:"h-4 w-4"}),"Risks"]})}),e.jsx(fe,{children:e.jsx("ul",{className:"space-y-2",children:g.risks.map((A,C)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[e.jsx("span",{className:"text-orange-600",children:"!"}),e.jsx("span",{children:A})]},C))})})]})]}),e.jsxs(de,{children:[e.jsx(Me,{children:e.jsx(Fe,{className:"text-sm",children:"AI Recommendations"})}),e.jsx(fe,{children:e.jsx("ol",{className:"space-y-2",children:g.recommendations.map((A,C)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[e.jsxs("span",{className:"font-semibold",children:[C+1,"."]}),e.jsx("span",{children:A})]},C))})})]})]})]})]})]})}const uY=[{field:"display_name",label:"Full Name",priority:"high",weight:10},{field:"email",label:"Email Address",priority:"high",weight:10},{field:"phone",label:"Phone Number",priority:"high",weight:15},{field:"city",label:"City",priority:"high",weight:10},{field:"state",label:"State",priority:"high",weight:5},{field:"bio",label:"About / Bio",priority:"medium",weight:10},{field:"avatar_url",label:"Profile Photo",priority:"medium",weight:10},{field:"linkedin_url",label:"LinkedIn Profile",priority:"low",weight:5},{field:"website",label:"Website",priority:"low",weight:5}],hY=[{field:"investment_min",label:"Minimum Investment",priority:"high",weight:10},{field:"investment_max",label:"Maximum Investment",priority:"high",weight:10},{field:"preferred_industries",label:"Preferred Industries",priority:"medium",weight:5},{field:"buyer_type",label:"Buyer Type",priority:"medium",weight:5}],mY=[{field:"industry",label:"Industry",priority:"high",weight:10},{field:"founded_year",label:"Year Founded",priority:"medium",weight:5},{field:"employees",label:"Number of Employees",priority:"medium",weight:5},{field:"asking_price",label:"Asking Price",priority:"high",weight:10}],fY=[{field:"total_outlets",label:"Total Outlets",priority:"high",weight:10},{field:"franchise_fee",label:"Franchise Fee",priority:"high",weight:10},{field:"royalty_percentage",label:"Royalty Percentage",priority:"medium",weight:5}],pY=[{field:"investment_min",label:"Investment Budget Min",priority:"high",weight:10},{field:"investment_max",label:"Investment Budget Max",priority:"high",weight:10},{field:"preferred_industries",label:"Preferred Industries",priority:"medium",weight:5}],gY=[{field:"bio",label:"Professional Bio",priority:"high",weight:15},{field:"linkedin_url",label:"LinkedIn Profile",priority:"high",weight:10}],xY=[{field:"bio",label:"Professional Bio",priority:"high",weight:15},{field:"linkedin_url",label:"LinkedIn Profile",priority:"high",weight:10}];function vY(n){const t=[...uY];switch(n){case"buyer":return[...t,...hY];case"seller":return[...t,...mY];case"franchisor":return[...t,...fY];case"franchisee":return[...t,...pY];case"advisor":return[...t,...gY];case"broker":return[...t,...xY];default:return t}}function yY(n,t){const s=n[t];return!(s==null||typeof s=="string"&&s.trim()===""||Array.isArray(s)&&s.length===0)}function m2(n){return w.useMemo(()=>{if(!n)return{score:0,completedFields:[],missingFields:[],tier:"basic"};const t=vY(n.role),s=t.reduce((m,g)=>m+g.weight,0),r=[],i=[];let a=0;for(const m of t)yY(n,m.field)?(r.push(m.field),a+=m.weight):i.push({field:m.field,label:m.label,priority:m.priority});const l={high:0,medium:1,low:2};i.sort((m,g)=>l[m.priority]-l[g.priority]);const c=Math.round(a/s*100);let u="basic";return c>=80&&n.verified?u="verified":c>=60&&(u="complete"),{score:c,completedFields:r,missingFields:i,tier:u}},[n])}function bY({variant:n="banner",dismissible:t=!0,storageKey:s="bizsearch_nudge_dismissed",className:r}){const i=Mn(),{user:a,profile:l}=Bs(),c=m2(l),[u,m]=w.useState(!1);if(w.useEffect(()=>{if(t&&a){const x=localStorage.getItem(`${s}_${a.id}`);if(x){const{dismissedAt:_}=JSON.parse(x);(Date.now()-_)/(1e3*60*60*24)<7&&m(!0)}}},[a,t,s]),!a||!l||c.score>=80||u)return null;const g=()=>{a&&localStorage.setItem(`${s}_${a.id}`,JSON.stringify({dismissedAt:Date.now()})),m(!0)},p=()=>{i("/onboarding")},y=c.missingFields.filter(x=>x.priority==="high").length;return n==="inline"?e.jsxs("div",{className:nt("flex items-center gap-3 p-3 bg-primary/5 rounded-lg",r),children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:e.jsx(ko,{className:"h-4 w-4 text-primary"})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("p",{className:"text-sm font-medium truncate",children:"Complete your profile for better matches"})}),e.jsx(ee,{size:"sm",onClick:p,children:"Complete"})]}):n==="card"?e.jsxs("div",{className:nt("relative p-4 bg-gradient-to-r from-primary/10 to-primary/5 rounded-lg border border-primary/20",r),children:[t&&e.jsx("button",{onClick:g,className:"absolute top-2 right-2 p-1 text-muted-foreground hover:text-foreground rounded",children:e.jsx(Lr,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 bg-primary/20 rounded-full",children:e.jsx(Os,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:"Get 3x more responses!"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Complete ",y," more field",y!==1?"s":""," to boost your visibility"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(On,{value:c.score,className:"h-1.5 flex-1"}),e.jsxs("span",{className:"text-xs font-medium text-primary",children:[c.score,"%"]})]}),e.jsxs(ee,{size:"sm",variant:"outline",onClick:p,className:"w-full",children:["Complete Profile",e.jsx(Ca,{className:"ml-2 h-3 w-3"})]})]})]})]}):e.jsxs(Xn,{className:nt("relative bg-gradient-to-r from-primary/10 via-primary/5 to-transparent border-primary/20",r),children:[t&&e.jsx("button",{onClick:g,className:"absolute top-3 right-3 p-1 text-muted-foreground hover:text-foreground rounded",children:e.jsx(Lr,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx("div",{className:"p-2 bg-primary/20 rounded-full shrink-0",children:e.jsx(iA,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx(ZT,{className:"text-base font-semibold mb-1",children:"Complete your profile for better visibility"}),e.jsxs(Qn,{className:"text-sm",children:["Verified profiles get ",e.jsx("span",{className:"font-semibold",children:"3x more responses"})," from serious buyers and sellers.",y>0&&e.jsxs("span",{className:"text-muted-foreground ml-1",children:[" ",y," key field",y!==1?"s":""," remaining"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 sm:shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-[120px]",children:[e.jsx(On,{value:c.score,className:"h-2 w-20"}),e.jsxs("span",{className:"text-sm font-medium",children:[c.score,"%"]})]}),e.jsxs(ee,{onClick:p,size:"sm",children:["Complete Now",e.jsx(Ca,{className:"ml-2 h-4 w-4"})]})]})]})]})}const jY=[{id:"1",buyerName:"Rajesh Kumar",businessName:"TechStart Solutions",industry:"Technology",dealValue:"2.5 Cr",timeline:"45 days",image:"https://github.com/yusufhilmi.png",testimonial:"BizSearch made finding and acquiring my dream tech business incredibly smooth. The AI agent Ajay provided invaluable insights throughout the process."},{id:"2",buyerName:"Priya Sharma",businessName:"Caf Delight Franchise",industry:"Food & Beverage",dealValue:"35 L",timeline:"30 days",image:"https://github.com/kdrnp.png",testimonial:"Vijay helped me find the perfect franchise opportunity. The ROI projections were accurate and the support was exceptional."},{id:"3",buyerName:"Amit Patel",businessName:"HealthCare Plus",industry:"Healthcare",dealValue:"1.8 Cr",timeline:"60 days",image:"https://github.com/yahyabedirhan.png",testimonial:"The verification process and document management made the entire acquisition transparent and secure."}],wY=[{label:"Active Listings",value:"12,500+",icon:Os},{label:"Successful Deals",value:"3,200+",icon:Fu},{label:"Verified Users",value:"45,000+",icon:gn},{label:"Average Rating",value:"4.8/5",icon:Fl}],NY=[{title:"Smart Matching",description:"AI-powered recommendations based on your preferences and investment capacity",icon:"",illustration:""},{title:"Market Analysis",description:"Real-time market insights and competitive analysis for informed decisions",icon:"",illustration:""},{title:"ROI Projections",description:"Accurate return on investment calculations with risk assessment",icon:"",illustration:""},{title:"Document Review",description:"AI-assisted document verification and due diligence support",icon:"",illustration:""}],_Y=[{name:"HDFC Bank",logo:"https://logo.clearbit.com/hdfcbank.com",fallback:"HDFC"},{name:"ICICI Bank",logo:"https://logo.clearbit.com/icicibank.com",fallback:"ICICI"},{name:"Kotak Mahindra",logo:"https://logo.clearbit.com/kotak.com",fallback:"Kotak"},{name:"Axis Bank",logo:"https://logo.clearbit.com/axisbank.com",fallback:"Axis"},{name:"SBI",logo:"https://logo.clearbit.com/sbi.co.in",fallback:"SBI"},{name:"Yes Bank",logo:"https://logo.clearbit.com/yesbank.in",fallback:"Yes"}];function SY({className:n}){const[t,s]=ot.useState(!1),[r,i]=ot.useState(!1),[a,l]=ot.useState(!1),[c,u]=ot.useState(!1),[m,g]=ot.useState(!1),[p,y]=ot.useState(!1),[x,_]=ot.useState(!1),j=Mn(),{user:A}=Bs(),C=(D,K,H)=>{console.log("Homepage search:",{query:D,type:K,filters:H})},P=()=>{console.log("View all businesses clicked")},S=()=>{console.log("View all franchises clicked")},O=()=>{window.location.href="/about#success-stories"},z=()=>{s(!0)},V=()=>{s(!0)},B=()=>{s(!0)};return e.jsxs("div",{className:nt("min-h-screen",n),children:[e.jsx(XG,{onSearch:C}),A&&e.jsx("div",{className:"container mx-auto px-4 mt-6",children:e.jsx(bY,{variant:"banner"})}),e.jsx("section",{className:"py-12 bg-gradient-to-br from-purple-50 via-blue-50 to-indigo-50 dark:from-purple-950/20 dark:via-blue-950/20 dark:to-indigo-950/20",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs(Be,{className:"mb-4",variant:"secondary",children:[e.jsx(ko,{className:"h-3 w-3 mr-1"}),"NEW: AI-Powered Phase 1 Features"]}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Find Your Perfect Business with AI"}),e.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto text-lg",children:"Our AI assistants help you discover, evaluate, and acquire businesses faster and smarter"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs(de,{className:"hover:shadow-xl transition-all hover:-translate-y-1",children:[e.jsxs(Me,{children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-blue-100 dark:bg-blue-900 flex items-center justify-center mb-3",children:e.jsx(e4,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),e.jsx(Fe,{className:"text-xl",children:"Smart Search"})]}),e.jsxs(fe,{children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:'Use natural language to find businesses. Try "coffee shop in Mumbai under 50 lakhs"'}),e.jsx(ee,{variant:"outline",className:"w-full",onClick:()=>{const D=document.querySelector("[data-smart-search]");D==null||D.scrollIntoView({behavior:"smooth"})},children:"Try Smart Search"})]})]}),e.jsxs(de,{className:"hover:shadow-xl transition-all hover:-translate-y-1 border-purple-200 dark:border-purple-800",children:[e.jsxs(Me,{children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-purple-100 dark:bg-purple-900 flex items-center justify-center mb-3",children:e.jsx(Tm,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})}),e.jsx(Fe,{className:"text-xl",children:"AI Matchmaker"})]}),e.jsxs(fe,{children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:"Get personalized business recommendations based on your budget, skills, and goals"}),e.jsxs(ee,{className:"w-full bg-purple-600 hover:bg-purple-700",onClick:()=>i(!0),children:[e.jsx(ko,{className:"h-4 w-4 mr-2"}),"Find My Match"]})]})]}),e.jsxs(de,{className:"hover:shadow-xl transition-all hover:-translate-y-1",children:[e.jsxs(Me,{children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-green-100 dark:bg-green-900 flex items-center justify-center mb-3",children:e.jsx(ko,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),e.jsx(Fe,{className:"text-xl",children:"AI Advisor"})]}),e.jsxs(fe,{children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:"Chat with Ajay or Vijay for expert advice on acquisitions, valuations, and more"}),e.jsx(ee,{variant:"outline",className:"w-full",onClick:()=>s(!0),children:"Chat with AI Advisor"})]})]})]}),e.jsxs(de,{className:"bg-white/50 dark:bg-gray-900/50 backdrop-blur","data-smart-search":!0,children:[e.jsx(Me,{children:e.jsxs(Fe,{className:"text-center flex items-center justify-center gap-2",children:[e.jsx(e4,{className:"h-5 w-5 text-blue-600"}),"Try Smart Search Now"]})}),e.jsx(fe,{children:e.jsx(EW,{onSearch:(D,K)=>{console.log("Smart search:",D,K),j("/businesses",{state:{searchQuery:D,searchIntent:K}})},placeholder:"Try: 'profitable restaurant Mumbai under 1 crore' or 'tech startup Bangalore'"})})]})]})}),e.jsx("section",{className:"py-8 md:py-16 bg-background",children:e.jsx(bj,{type:"mixed",title:"Featured Opportunities",subtitle:"Handpicked businesses and franchises for you",onViewAll:P,onMoreLikeThis:B,className:"space-y-6 md:space-y-4"})}),e.jsx("section",{className:"py-16 bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 dark:from-indigo-950/20 dark:via-purple-950/20 dark:to-pink-950/20",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs(Be,{className:"mb-4",variant:"secondary",children:[e.jsx(Ds,{className:"h-3 w-3 mr-1"}),"Phase 2: Decision Support Tools"]}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Make Informed Decisions with AI"}),e.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto text-lg",children:"Advanced AI tools to assess risk, verify documents, and conduct due diligence"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(de,{className:"hover:shadow-2xl transition-all hover:-translate-y-1 border-blue-200 dark:border-blue-800",children:[e.jsxs(Me,{children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-blue-100 dark:bg-blue-900 flex items-center justify-center mb-3",children:e.jsx(Gd,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),e.jsx(Fe,{className:"text-xl",children:"AI Valuation Advisor"}),e.jsx(ms,{children:"Get instant business valuations using multiple methods (DCF, EBITDA, asset-based)"})]}),e.jsxs(fe,{children:[e.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground mb-4",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(Lt,{className:"h-4 w-4 text-green-600"}),"Revenue & profit multiples"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(Lt,{className:"h-4 w-4 text-green-600"}),"Market comparables analysis"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(Lt,{className:"h-4 w-4 text-green-600"}),"Fair price recommendations"]})]}),e.jsx(ee,{variant:"outline",className:"w-full",onClick:()=>s(!0),children:"Try Valuation Tool"})]})]}),e.jsxs(de,{className:"hover:shadow-2xl transition-all hover:-translate-y-1 border-purple-200 dark:border-purple-800",children:[e.jsxs(Me,{children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-purple-100 dark:bg-purple-900 flex items-center justify-center mb-3",children:e.jsx(Ds,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})}),e.jsx(Fe,{className:"text-xl",children:"Due Diligence Assistant"}),e.jsx(ms,{children:"Comprehensive risk assessment and due diligence checklist generation"})]}),e.jsxs(fe,{children:[e.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground mb-4",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(Lt,{className:"h-4 w-4 text-green-600"}),"Financial, legal & operational analysis"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(Lt,{className:"h-4 w-4 text-green-600"}),"Risk scoring & red flag detection"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(Lt,{className:"h-4 w-4 text-green-600"}),"Custom checklist creation"]})]}),e.jsx(ee,{className:"w-full bg-purple-600 hover:bg-purple-700",onClick:()=>l(!0),children:"Start Due Diligence"})]})]}),e.jsxs(de,{className:"hover:shadow-2xl transition-all hover:-translate-y-1 border-pink-200 dark:border-pink-800",children:[e.jsxs(Me,{children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-pink-100 dark:bg-pink-900 flex items-center justify-center mb-3",children:e.jsx(_s,{className:"h-6 w-6 text-pink-600 dark:text-pink-400"})}),e.jsx(Fe,{className:"text-xl",children:"Document Analyzer"}),e.jsx(ms,{children:"Upload and analyze financial statements, contracts, and legal documents"})]}),e.jsxs(fe,{children:[e.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground mb-4",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(Lt,{className:"h-4 w-4 text-green-600"}),"Auto data extraction from PDFs"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(Lt,{className:"h-4 w-4 text-green-600"}),"Red flag identification"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(Lt,{className:"h-4 w-4 text-green-600"}),"Document authenticity check"]})]}),e.jsxs(ee,{variant:"outline",className:"w-full",onClick:()=>u(!0),children:[e.jsx(ml,{className:"mr-2 h-4 w-4"}),"Upload Documents"]})]})]})]}),e.jsx(de,{className:"mt-8 bg-red-50 dark:bg-red-950/20 border-red-200 dark:border-red-800",children:e.jsx(fe,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-red-100 dark:bg-red-900 flex items-center justify-center",children:e.jsx(Ds,{className:"h-6 w-6 text-red-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-red-900 dark:text-red-100 mb-1",children:"AI Fraud Detection Active"}),e.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:"All listings are automatically scanned for suspicious activity, unrealistic claims, and fraud patterns. Your safety is our priority."})]}),e.jsx(Be,{variant:"destructive",children:"LIVE"})]})})})]})}),e.jsx("section",{className:"py-16 bg-gradient-to-br from-green-50 via-teal-50 to-emerald-50 dark:from-green-950/20 dark:via-teal-950/20 dark:to-emerald-950/20",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs(Be,{className:"mb-4",variant:"secondary",children:[e.jsx(ry,{className:"h-3 w-3 mr-1"}),"For Sellers & Franchisors"]}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Qualify Buyers & Analyze Markets with AI"}),e.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto text-lg",children:"Advanced tools to identify serious buyers and find the best locations"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(de,{className:"hover:shadow-2xl transition-all hover:-translate-y-1 border-orange-200 dark:border-orange-800",children:[e.jsxs(Me,{children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-orange-100 dark:bg-orange-900 flex items-center justify-center mb-3",children:e.jsx(ry,{className:"h-6 w-6 text-orange-600 dark:text-orange-400"})}),e.jsx(Fe,{className:"text-xl",children:"AI Buyer Qualifier"}),e.jsx(ms,{children:"Score and prioritize buyer inquiries - identify hot leads instantly"})]}),e.jsxs(fe,{children:[e.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground mb-4",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(Lt,{className:"h-4 w-4 text-green-600"}),"Financial capacity scoring"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(Lt,{className:"h-4 w-4 text-green-600"}),"Experience & seriousness analysis"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(Lt,{className:"h-4 w-4 text-green-600"}),"Deal close probability"]})]}),e.jsx(ee,{className:"w-full bg-orange-600 hover:bg-orange-700",onClick:()=>A?g(!0):j("/signin"),children:"Qualify Buyers"})]})]}),e.jsxs(de,{className:"hover:shadow-2xl transition-all hover:-translate-y-1 border-teal-200 dark:border-teal-800",children:[e.jsxs(Me,{children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-teal-100 dark:bg-teal-900 flex items-center justify-center mb-3",children:e.jsx(Tm,{className:"h-6 w-6 text-teal-600 dark:text-teal-400"})}),e.jsx(Fe,{className:"text-xl",children:"Franchisee Matcher"}),e.jsx(ms,{children:"Find franchisees that perfectly match your brand requirements"})]}),e.jsxs(fe,{children:[e.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground mb-4",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(Lt,{className:"h-4 w-4 text-green-600"}),"Financial & experience fit scoring"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(Lt,{className:"h-4 w-4 text-green-600"}),"Personality compatibility"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(Lt,{className:"h-4 w-4 text-green-600"}),"Success probability prediction"]})]}),e.jsx(ee,{className:"w-full bg-teal-600 hover:bg-teal-700",onClick:()=>y(!0),children:"Find Franchisees"})]})]}),e.jsxs(de,{className:"hover:shadow-2xl transition-all hover:-translate-y-1 border-emerald-200 dark:border-emerald-800",children:[e.jsxs(Me,{children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-emerald-100 dark:bg-emerald-900 flex items-center justify-center mb-3",children:e.jsx(Ln,{className:"h-6 w-6 text-emerald-600 dark:text-emerald-400"})}),e.jsx(Fe,{className:"text-xl",children:"Territory Analyzer"}),e.jsx(ms,{children:"AI-powered location analysis for franchise expansion"})]}),e.jsxs(fe,{children:[e.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground mb-4",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(Lt,{className:"h-4 w-4 text-green-600"}),"Demographics & economics scoring"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(Lt,{className:"h-4 w-4 text-green-600"}),"Competition & market analysis"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(Lt,{className:"h-4 w-4 text-green-600"}),"ROI & break-even projections"]})]}),e.jsxs(ee,{variant:"outline",className:"w-full",onClick:()=>_(!0),children:[e.jsx(Ln,{className:"mr-2 h-4 w-4"}),"Analyze Territory"]})]})]})]})]})}),e.jsx("section",{className:"py-12 md:py-16 bg-muted/30",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-8 md:mb-12",children:[e.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:"Trusted by Thousands"}),e.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto text-sm md:text-base",children:"Join India's largest marketplace for business acquisitions and franchise opportunities"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6",children:wY.map((D,K)=>{const H=D.icon;return e.jsx(de,{className:"text-center hover:shadow-lg transition-shadow",children:e.jsxs(fe,{className:"pt-4 md:pt-6 pb-4 md:pb-6",children:[e.jsx(H,{className:"h-6 w-6 md:h-8 md:w-8 mx-auto mb-2 md:mb-3 text-primary"}),e.jsx("div",{className:"text-xl md:text-2xl font-bold mb-1",children:D.value}),e.jsx("div",{className:"text-xs md:text-sm text-muted-foreground",children:D.label})]})},K)})})]})}),e.jsx("section",{className:"py-16 bg-background",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"AI-Powered Intelligence"}),e.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Our AI agents Ajay and Vijay provide personalized assistance throughout your business journey"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:NY.map((D,K)=>e.jsx(de,{className:"text-center hover:shadow-lg transition-shadow group",children:e.jsxs(fe,{className:"pt-6",children:[e.jsx("div",{className:"text-4xl mb-2 group-hover:scale-110 transition-transform",children:D.icon}),e.jsx("div",{className:"text-2xl mb-4 opacity-60",children:D.illustration}),e.jsx("h3",{className:"font-semibold mb-2",children:D.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:D.description})]})},K))}),e.jsxs("div",{className:"text-center space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(ee,{size:"lg",className:"gap-2 bg-blue-600 hover:bg-blue-700",onClick:V,children:" Try AI Assistant Now"}),e.jsx(St,{to:"/businesses",children:e.jsx(ee,{size:"lg",variant:"outline",className:"gap-2 w-full sm:w-auto",children:" Browse All Opportunities"})})]}),e.jsxs(ee,{variant:"ghost",className:"gap-2",onClick:z,children:[e.jsx(J3,{className:"h-5 w-5"}),"See AI in Action"]})]})]})}),e.jsx("section",{className:"py-16 bg-muted/30",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-12",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Success Stories"}),e.jsx("p",{className:"text-muted-foreground",children:"Real stories from entrepreneurs who found their perfect business match"})]}),e.jsxs(ee,{variant:"outline",onClick:O,className:"gap-2",children:["View All Stories",e.jsx(Ca,{className:"h-4 w-4"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:jY.map(D=>e.jsxs(de,{className:"hover:shadow-lg transition-shadow",children:[e.jsxs(Me,{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("img",{src:D.image,alt:D.buyerName,className:"w-12 h-12 rounded-full object-cover border-2 border-primary/20"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:D.buyerName}),e.jsx("div",{className:"text-sm text-muted-foreground",children:D.businessName})]})]}),e.jsxs("div",{className:"flex gap-2 mb-3",children:[e.jsx(Be,{variant:"secondary",children:D.industry}),e.jsxs(Be,{variant:"outline",className:"text-green-600 border-green-600",children:[" ",D.dealValue]}),e.jsxs(Be,{variant:"outline",className:"text-blue-600 border-blue-600",children:[" ",D.timeline]})]})]}),e.jsx(fe,{children:e.jsxs("p",{className:"text-sm text-muted-foreground italic",children:['"',D.testimonial,'"']})})]},D.id))})]})}),e.jsx("section",{className:"py-8 md:py-16 bg-background",children:e.jsx(bj,{type:"business",title:"Top Business Categories",subtitle:"Explore businesses across different industries",onViewAll:P,onMoreLikeThis:B})}),e.jsx("section",{className:"py-8 md:py-16 bg-muted/30",children:e.jsx(bj,{type:"franchise",title:"Premium Franchise Opportunities",subtitle:"High-ROI franchise opportunities with proven track records",onViewAll:S,onMoreLikeThis:B})}),e.jsx("section",{className:"py-16 bg-background",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsx(AW,{variant:"full"}),e.jsxs("div",{className:"mt-12 text-center",children:[e.jsx("h3",{className:"text-xl font-semibold mb-6",children:"Trusted by Leading Financial Partners"}),e.jsx("div",{className:"flex flex-wrap justify-center items-center gap-8 opacity-70 hover:opacity-100 transition-opacity",children:_Y.map((D,K)=>e.jsxs("div",{className:"group flex items-center gap-3 px-4 py-2 bg-white rounded-lg shadow-sm hover:shadow-md transition-all",children:[e.jsxs("div",{className:"w-8 h-8 flex items-center justify-center",children:[e.jsx("img",{src:D.logo,alt:D.name,className:"w-full h-full object-contain",onError:H=>{H.currentTarget.style.display="none",H.currentTarget.nextElementSibling.classList.remove("hidden")}}),e.jsx("div",{className:"hidden w-8 h-8 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center text-white text-xs font-bold",children:D.fallback.substring(0,2)})]}),e.jsx("span",{className:"text-sm font-medium text-slate-700 group-hover:text-blue-600 transition-colors",children:D.name})]},K))})]})]})}),e.jsx("section",{className:"py-16 bg-gradient-to-r from-blue-600 to-indigo-700 text-white",children:e.jsxs("div",{className:"container mx-auto px-4 text-center",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Find Your Perfect Business?"}),e.jsx("p",{className:"text-lg mb-8 opacity-90 max-w-2xl mx-auto",children:"Join thousands of successful entrepreneurs who found their dream business or franchise through BizSearch"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-2xl mx-auto",children:[e.jsx(de,{className:"p-6 bg-white/10 backdrop-blur-sm border-white/20 hover:bg-white/20 transition-colors",children:e.jsxs(fe,{className:"p-0 text-center",children:[e.jsx("div",{className:"text-4xl mb-3",children:""}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"I want to Buy a Business"}),e.jsx("p",{className:"text-sm opacity-80 mb-4",children:"Find verified businesses ready for acquisition"}),e.jsx(St,{to:"/businesses",className:"w-full",children:e.jsxs(ee,{size:"lg",variant:"secondary",className:"w-full gap-2",children:["Browse Businesses",e.jsx(Ca,{className:"h-5 w-5"})]})})]})}),e.jsx(de,{className:"p-6 bg-white/10 backdrop-blur-sm border-white/20 hover:bg-white/20 transition-colors",children:e.jsxs(fe,{className:"p-0 text-center",children:[e.jsx("div",{className:"text-4xl mb-3",children:""}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"I want to Sell a Business"}),e.jsx("p",{className:"text-sm opacity-80 mb-4",children:"List your business and reach qualified buyers"}),e.jsx(St,{to:"/add-business-listing",className:"w-full",children:e.jsxs(ee,{size:"lg",variant:"outline",className:"w-full gap-2 bg-transparent border-white text-white hover:bg-white hover:text-blue-600",children:["List My Business",e.jsx(Ca,{className:"h-5 w-5"})]})})]})})]}),e.jsx("div",{className:"mt-8",children:e.jsx(St,{to:"/franchises",children:e.jsxs(ee,{variant:"ghost",className:"gap-2 text-white hover:bg-white/10",children:["Or explore franchise opportunities",e.jsx(Ca,{className:"h-4 w-4"})]})})})]})}),t&&e.jsx(Y6,{}),r&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:e.jsx("div",{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:e.jsx(MW,{onClose:()=>i(!1)})})}),a&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:e.jsx("div",{className:"w-full max-w-6xl max-h-[90vh] overflow-y-auto",children:e.jsx(eY,{businessData:{name:"Sample Business",industry:"Technology",price:5e6,revenue:1e7,profit:2e6,employees:25,established_year:2018,location:"Mumbai, Maharashtra"},onClose:()=>l(!1)})})}),c&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:e.jsx("div",{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:e.jsx(rY,{onClose:()=>u(!1)})})}),m&&A&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:e.jsx("div",{className:"w-full max-w-6xl max-h-[90vh] overflow-y-auto",children:e.jsx(aY,{sellerId:A.id,onClose:()=>g(!1)})})}),p&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:e.jsx("div",{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:e.jsx(lY,{onClose:()=>y(!1)})})}),x&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:e.jsx("div",{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:e.jsx(dY,{onClose:()=>_(!1)})})}),e.jsx(J6,{})]})}const dS=["Technology","Food & Beverage","Retail","Healthcare","Manufacturing","Education","Real Estate","Automotive","Finance","Hospitality","Beauty & Wellness","Agriculture"],uS=["Mumbai","Delhi","Bangalore","Chennai","Kolkata","Hyderabad","Pune","Ahmedabad","Jaipur","Lucknow"],CY=["Sole Proprietorship","Partnership","Private Limited","Public Limited","LLP","One Person Company"],AY=["Identity Verified","Document Verified","Financial Verified","Legal Verified","Broker Verified"];function QT({type:n,onFiltersChange:t,onApplyFilters:s,className:r}){const[i,a]=w.useState({searchType:n,industry:[],location:[],priceRange:[0,1e7],revenueRange:[0,5e7],businessAge:"",employees:"",businessType:[],financing:!1,verification:[],franchiseFee:[0,5e6],royaltyPercentage:[0,20],trainingDuration:"",outlets:"",multiUnit:!1}),[l,c]=w.useState(!1),[u,m]=w.useState(!1),g=j=>{const A={...i,...j};a(A),m(!0),t==null||t(A)},p=(j,A)=>{const C=i[j],P=C.includes(A)?C.filter(S=>S!==A):[...C,A];g({[j]:P})},y=()=>{const j={searchType:n,industry:[],location:[],priceRange:[0,1e7],revenueRange:[0,5e7],businessAge:"",employees:"",businessType:[],financing:!1,verification:[],franchiseFee:[0,5e6],royaltyPercentage:[0,20],trainingDuration:"",outlets:"",multiUnit:!1};a(j),m(!0),t==null||t(j)},x=()=>{let j=0;return i.industry.length>0&&j++,i.location.length>0&&j++,(i.priceRange[0]>0||i.priceRange[1]<1e7)&&j++,(i.revenueRange[0]>0||i.revenueRange[1]<5e7)&&j++,i.businessAge&&j++,i.employees&&j++,i.businessType.length>0&&j++,i.financing&&j++,i.verification.length>0&&j++,n==="franchise"&&((i.franchiseFee[0]>0||i.franchiseFee[1]<5e6)&&j++,(i.royaltyPercentage[0]>0||i.royaltyPercentage[1]<20)&&j++,i.trainingDuration&&j++,i.outlets&&j++,i.multiUnit&&j++),j},_=j=>j>=1e7?`${(j/1e7).toFixed(1)}Cr`:j>=1e5?`${(j/1e5).toFixed(1)}L`:j>=1e3?`${(j/1e3).toFixed(0)}K`:`${j.toLocaleString()}`;return e.jsxs(de,{className:nt("w-full",r),children:[e.jsx(Me,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(qm,{className:"h-5 w-5"}),"Filters",x()>0&&e.jsx(Be,{variant:"secondary",className:"ml-2",children:x()})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[x()>0&&e.jsxs(ee,{variant:"ghost",size:"sm",onClick:y,className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[e.jsx(Lr,{className:"h-4 w-4 mr-1"}),"Clear All"]}),e.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>c(!l),children:l?"Less":"More"})]})]})}),e.jsxs(fe,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs(ve,{className:"flex items-center gap-2",children:[e.jsx(ed,{className:"h-4 w-4"}),"Industry"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:dS.slice(0,l?dS.length:6).map(j=>e.jsxs(Be,{variant:i.industry.includes(j)?"default":"outline",className:"cursor-pointer hover:bg-primary/90",onClick:()=>p("industry",j),children:[j,i.industry.includes(j)&&e.jsx(Lr,{className:"h-3 w-3 ml-1"})]},j))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(ve,{className:"flex items-center gap-2",children:[e.jsx(Ln,{className:"h-4 w-4"}),"Location"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:uS.slice(0,l?uS.length:5).map(j=>e.jsxs(Be,{variant:i.location.includes(j)?"default":"outline",className:"cursor-pointer hover:bg-primary/90",onClick:()=>p("location",j),children:[j,i.location.includes(j)&&e.jsx(Lr,{className:"h-3 w-3 ml-1"})]},j))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(ve,{className:"flex items-center gap-2",children:[e.jsx(Hy,{className:"h-4 w-4"}),n==="business"?"Business Price":"Investment Required"]}),e.jsxs("div",{className:"px-2",children:[e.jsx(_m,{value:n==="business"?i.priceRange:i.franchiseFee,onValueChange:j=>g(n==="business"?{priceRange:j}:{franchiseFee:j}),max:n==="business"?1e7:5e6,step:1e5,className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground mt-1",children:[e.jsx("span",{children:_(n==="business"?i.priceRange[0]:i.franchiseFee[0])}),e.jsx("span",{children:_(n==="business"?i.priceRange[1]:i.franchiseFee[1])})]})]})]}),n==="business"&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs(ve,{className:"flex items-center gap-2",children:[e.jsx(Os,{className:"h-4 w-4"}),"Annual Revenue"]}),e.jsxs("div",{className:"px-2",children:[e.jsx(_m,{value:i.revenueRange,onValueChange:j=>g({revenueRange:j}),max:5e7,step:5e5,className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground mt-1",children:[e.jsx("span",{children:_(i.revenueRange[0])}),e.jsx("span",{children:_(i.revenueRange[1])})]})]})]}),n==="franchise"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(ve,{children:"Royalty Percentage"}),e.jsxs("div",{className:"px-2",children:[e.jsx(_m,{value:i.royaltyPercentage,onValueChange:j=>g({royaltyPercentage:j}),max:20,step:.5,className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground mt-1",children:[e.jsxs("span",{children:[i.royaltyPercentage[0],"%"]}),e.jsxs("span",{children:[i.royaltyPercentage[1],"%"]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(ve,{children:"Number of Outlets"}),e.jsxs(Jt,{value:i.outlets,onValueChange:j=>g({outlets:j}),children:[e.jsx(Wt,{children:e.jsx(Xt,{placeholder:"Select outlet range"})}),e.jsxs(Yt,{children:[e.jsx(Ee,{value:"any",children:"Any"}),e.jsx(Ee,{value:"1-10",children:"1-10 outlets"}),e.jsx(Ee,{value:"11-50",children:"11-50 outlets"}),e.jsx(Ee,{value:"51-100",children:"51-100 outlets"}),e.jsx(Ee,{value:"100+",children:"100+ outlets"})]})]})]})]}),l&&e.jsxs(e.Fragment,{children:[e.jsx(cr,{}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(ve,{className:"flex items-center gap-2",children:[e.jsx(za,{className:"h-4 w-4"}),"Business Age"]}),e.jsxs(Jt,{value:i.businessAge,onValueChange:j=>g({businessAge:j}),children:[e.jsx(Wt,{children:e.jsx(Xt,{placeholder:"Select business age"})}),e.jsxs(Yt,{children:[e.jsx(Ee,{value:"any",children:"Any"}),e.jsx(Ee,{value:"0-2",children:"0-2 years"}),e.jsx(Ee,{value:"3-5",children:"3-5 years"}),e.jsx(Ee,{value:"6-10",children:"6-10 years"}),e.jsx(Ee,{value:"10+",children:"10+ years"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(ve,{className:"flex items-center gap-2",children:[e.jsx(gn,{className:"h-4 w-4"}),"Number of Employees"]}),e.jsxs(Jt,{value:i.employees,onValueChange:j=>g({employees:j}),children:[e.jsx(Wt,{children:e.jsx(Xt,{placeholder:"Select employee count"})}),e.jsxs(Yt,{children:[e.jsx(Ee,{value:"any",children:"Any"}),e.jsx(Ee,{value:"1-10",children:"1-10 employees"}),e.jsx(Ee,{value:"11-50",children:"11-50 employees"}),e.jsx(Ee,{value:"51-200",children:"51-200 employees"}),e.jsx(Ee,{value:"200+",children:"200+ employees"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(ve,{children:"Business Type"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:CY.map(j=>e.jsxs(Be,{variant:i.businessType.includes(j)?"default":"outline",className:"cursor-pointer hover:bg-primary/90",onClick:()=>p("businessType",j),children:[j,i.businessType.includes(j)&&e.jsx(Lr,{className:"h-3 w-3 ml-1"})]},j))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(ve,{children:"Verification Status"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:AY.map(j=>e.jsxs(Be,{variant:i.verification.includes(j)?"default":"outline",className:"cursor-pointer hover:bg-primary/90",onClick:()=>p("verification",j),children:[j,i.verification.includes(j)&&e.jsx(Lr,{className:"h-3 w-3 ml-1"})]},j))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ln,{id:"financing",checked:i.financing,onCheckedChange:j=>g({financing:!!j})}),e.jsx(ve,{htmlFor:"financing",children:"Financing Available"})]}),n==="franchise"&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ln,{id:"multiUnit",checked:i.multiUnit,onCheckedChange:j=>g({multiUnit:!!j})}),e.jsx(ve,{htmlFor:"multiUnit",children:"Multi-Unit Development"})]})]})]})]})]})}class b0{static async getBusinesses(t){console.log(" Fetching businesses with filters:",t);try{const s="https://suiexvkyakjvexnldvmr.supabase.co",r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InN1aWV4dmt5YWtqdmV4bmxkdm1yIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMzMTQ5MjUsImV4cCI6MjA3ODg5MDkyNX0.klziXLpuhXrgOQtJIYYOf5-ViekTs-lkiy9JxpBqtK8";console.log(" Using direct fetch to:",`${s}/rest/v1/businesses?select=*&order=created_at.desc`);const i=await fetch(`${s}/rest/v1/businesses?select=*&order=created_at.desc`,{headers:{apikey:r,Authorization:`Bearer ${r}`,"Content-Type":"application/json",Prefer:"return=representation"}});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const a=await i.json();return console.log(" Businesses fetched via direct fetch:",(a==null?void 0:a.length)||0,"businesses"),a}catch(s){throw console.error(" Exception in getBusinesses:",s),s}}static async getBusinessById(t){const{data:s,error:r}=await Le.from("businesses").select("*, profiles(*)").eq("id",t).single();if(r)throw r;return s}static async getBusinessBySlug(t){const{data:s,error:r}=await Le.from("businesses").select("*, profiles(*)").eq("slug",t).single();if(r)throw r;return s}static async getFeaturedBusinesses(t=10){const{data:s,error:r}=await Le.from("businesses").select("*").eq("status","active").eq("featured",!0).order("created_at",{ascending:!1}).limit(t);if(r)throw r;return s}static async getTrendingBusinesses(t=10){const{data:s,error:r}=await Le.from("businesses").select("*").eq("status","active").eq("trending",!0).order("views_count",{ascending:!1}).limit(t);if(r)throw r;return s}static async createBusiness(t,s){const{data:r,error:i}=await Le.from("businesses").insert({seller_id:t,...s}).select().single();if(i)throw i;return r}static async updateBusiness(t,s){const{data:r,error:i}=await Le.from("businesses").update(s).eq("id",t).select().single();if(i)throw i;return r}static async deleteBusiness(t){const{error:s}=await Le.from("businesses").delete().eq("id",t);if(s)throw s}static async getUserBusinesses(t){const{data:s,error:r}=await Le.from("businesses").select("*").eq("seller_id",t).order("created_at",{ascending:!1});if(r)throw r;return s}static async searchBusinesses(t,s){let r=Le.from("businesses").select("*").eq("status","active").or(`name.ilike.%${t}%,description.ilike.%${t}%,industry.ilike.%${t}%`);s&&(s.industry&&s.industry.length>0&&(r=r.in("industry",s.industry)),s.city&&s.city.length>0&&(r=r.in("city",s.city)));const{data:i,error:a}=await r.order("created_at",{ascending:!1});if(a)throw a;return i}static async saveBusiness(t,s,r){const{data:i,error:a}=await Le.from("saved_listings").insert({user_id:t,listing_type:"business",listing_id:s,notes:r}).select().single();if(a)throw a;return i}static async unsaveBusiness(t,s){const{error:r}=await Le.from("saved_listings").delete().eq("user_id",t).eq("listing_type","business").eq("listing_id",s);if(r)throw r}static async getSavedBusinesses(t){const{data:s,error:r}=await Le.from("saved_listings").select("*, businesses(*)").eq("user_id",t).eq("listing_type","business").order("created_at",{ascending:!1});if(r)throw r;return s}static async isBusinessSaved(t,s){const{data:r,error:i}=await Le.from("saved_listings").select("id").eq("user_id",t).eq("listing_type","business").eq("listing_id",s).maybeSingle();if(i)throw i;return!!r}static async sendInquiry(t,s,r,i,a,l,c){const{data:u,error:m}=await Le.from("inquiries").insert({sender_id:t,listing_type:"business",listing_id:s,recipient_id:r,message:i,subject:a,contact_email:l,contact_phone:c}).select().single();if(m)throw m;return await Le.from("businesses").update({inquiries_count:Le.rpc("increment",{x:1})}).eq("id",s),u}static async getBusinessInquiries(t,s){const{data:r,error:i}=await Le.from("inquiries").select("*, sender:profiles!sender_id(*)").eq("listing_type","business").eq("listing_id",t).eq("recipient_id",s).order("created_at",{ascending:!1});if(i)throw i;return r}static async getBusinessesByIndustry(t){const{data:s,error:r}=await Le.from("businesses").select("*").eq("status","active").eq("industry",t).order("created_at",{ascending:!1});if(r)throw r;return s}static async getBusinessesByLocation(t,s){let r=Le.from("businesses").select("*").eq("status","active");t&&(r=r.eq("city",t)),s&&(r=r.eq("state",s));const{data:i,error:a}=await r.order("created_at",{ascending:!1});if(a)throw a;return i}static async publishBusiness(t){const{data:s,error:r}=await Le.from("businesses").update({status:"active",published_at:new Date().toISOString()}).eq("id",t).select().single();if(r)throw r;return s}static async markAsSold(t){const{data:s,error:r}=await Le.from("businesses").update({status:"sold",sold_at:new Date().toISOString()}).eq("id",t).select().single();if(r)throw r;return s}}function eP({type:n="card",count:t=3}){return n==="card"?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:t}).map((s,r)=>e.jsxs(de,{className:"overflow-hidden animate-pulse",children:[e.jsx("div",{className:"h-48 bg-gradient-to-r from-slate-200 via-slate-300 to-slate-200 bg-[length:200%_100%] animate-shimmer"}),e.jsxs(fe,{className:"p-4 space-y-3",children:[e.jsx("div",{className:"h-6 bg-slate-200 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/2"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-3 bg-slate-200 rounded"}),e.jsx("div",{className:"h-3 bg-slate-200 rounded w-5/6"})]}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsx("div",{className:"h-8 bg-slate-200 rounded flex-1"}),e.jsx("div",{className:"h-8 bg-slate-200 rounded flex-1"})]})]})]},r))}):n==="list"?e.jsx("div",{className:"space-y-4",children:Array.from({length:t}).map((s,r)=>e.jsxs("div",{className:"flex gap-4 p-4 bg-white rounded-lg shadow animate-pulse",children:[e.jsx("div",{className:"h-24 w-24 bg-slate-200 rounded flex-shrink-0"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-5 bg-slate-200 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/2"}),e.jsx("div",{className:"h-3 bg-slate-200 rounded w-full"})]})]},r))}):e.jsxs("div",{className:"space-y-6 animate-pulse",children:[e.jsx("div",{className:"h-96 bg-slate-200 rounded-lg"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-8 bg-slate-200 rounded w-1/3"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-5/6"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-4/6"})]})]})}function tP({type:n="no-results",title:t,description:s,actionText:r,actionLink:i,onAction:a}){const c={"no-results":{icon:xi,defaultTitle:"No Results Found",defaultDescription:"We couldn't find any opportunities matching your criteria. Try adjusting your filters or search terms.",defaultActionText:"Clear Filters",illustration:e.jsxs("svg",{className:"w-64 h-64 mx-auto mb-6 opacity-50",viewBox:"0 0 200 200",fill:"none",children:[e.jsx("circle",{cx:"100",cy:"100",r:"80",fill:"#E2E8F0"}),e.jsx("circle",{cx:"100",cy:"100",r:"60",fill:"#CBD5E1"}),e.jsx("path",{d:"M100 60 L100 100 L130 130",stroke:"#64748B",strokeWidth:"6",strokeLinecap:"round"}),e.jsx("circle",{cx:"140",cy:"140",r:"15",fill:"#3B82F6"})]})},"no-data":{icon:Zs,defaultTitle:"No Listings Available Yet",defaultDescription:"We're constantly adding new opportunities. Check back soon or subscribe to get notified when new listings are available.",defaultActionText:"Browse Other Categories",illustration:e.jsxs("svg",{className:"w-64 h-64 mx-auto mb-6 opacity-50",viewBox:"0 0 200 200",fill:"none",children:[e.jsx("rect",{x:"40",y:"60",width:"120",height:"100",fill:"#E2E8F0",rx:"8"}),e.jsx("rect",{x:"60",y:"80",width:"30",height:"25",fill:"#CBD5E1",rx:"2"}),e.jsx("rect",{x:"110",y:"80",width:"30",height:"25",fill:"#CBD5E1",rx:"2"}),e.jsx("rect",{x:"60",y:"115",width:"30",height:"25",fill:"#CBD5E1",rx:"2"}),e.jsx("rect",{x:"110",y:"115",width:"30",height:"25",fill:"#CBD5E1",rx:"2"}),e.jsx("rect",{x:"70",y:"145",width:"60",height:"10",fill:"#3B82F6",rx:"2"})]})},error:{icon:Ea,defaultTitle:"Oops! Something Went Wrong",defaultDescription:"We're having trouble loading the data. Please try again in a moment.",defaultActionText:"Retry",illustration:e.jsxs("svg",{className:"w-64 h-64 mx-auto mb-6 opacity-50",viewBox:"0 0 200 200",fill:"none",children:[e.jsx("circle",{cx:"100",cy:"100",r:"80",fill:"#FEE2E2"}),e.jsx("circle",{cx:"100",cy:"100",r:"60",fill:"#FECACA"}),e.jsx("path",{d:"M100 70 L100 110",stroke:"#EF4444",strokeWidth:"8",strokeLinecap:"round"}),e.jsx("circle",{cx:"100",cy:"130",r:"5",fill:"#EF4444"})]})},"coming-soon":{icon:Os,defaultTitle:"Coming Soon",defaultDescription:"We're working on bringing you amazing opportunities in this category. Stay tuned!",defaultActionText:"Explore Other Categories",illustration:e.jsxs("svg",{className:"w-64 h-64 mx-auto mb-6 opacity-50",viewBox:"0 0 200 200",fill:"none",children:[e.jsx("circle",{cx:"100",cy:"100",r:"80",fill:"#DBEAFE"}),e.jsx("circle",{cx:"100",cy:"100",r:"60",fill:"#BFDBFE"}),e.jsx("path",{d:"M80 100 L95 115 L120 85",stroke:"#3B82F6",strokeWidth:"8",strokeLinecap:"round",strokeLinejoin:"round"})]})}}[n],u=c.icon;return e.jsxs("div",{className:"flex flex-col items-center justify-center py-16 px-4 text-center",children:[c.illustration,e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary/10 rounded-full mb-4",children:e.jsx(u,{className:"h-8 w-8 text-primary"})}),e.jsx("h3",{className:"text-2xl font-bold text-foreground mb-2",children:t||c.defaultTitle}),e.jsx("p",{className:"text-muted-foreground max-w-md mb-6",children:s||c.defaultDescription}),(r||i||a)&&e.jsx(e.Fragment,{children:i?e.jsx(St,{to:i,children:e.jsx(ee,{size:"lg",className:"gap-2",children:r||c.defaultActionText})}):e.jsx(ee,{size:"lg",onClick:a,className:"gap-2",children:r||c.defaultActionText})})]})}function hS({className:n}){const t=Mn(),[s,r]=w.useState([]),[i,a]=w.useState(!0),[l,c]=w.useState(""),[u,m]=w.useState(null),[g,p]=w.useState("grid"),[y,x]=w.useState("relevance"),[_,j]=w.useState(!0),[A,C]=w.useState(new Set),[P,S]=w.useState(1),O=12;w.useEffect(()=>{(async()=>{console.log(" BusinessListings: Starting fetch..."),a(!0);try{const ie=await b0.getBusinesses({});console.log(" BusinessListings: Received result:",ie),ie&&Array.isArray(ie)?(r(ie),console.log(" BusinessListings: Set",ie.length,"businesses from database")):(r([]),console.log(" BusinessListings: No businesses in database"))}catch(ie){console.error(" BusinessListings: Error fetching businesses:",ie),r([])}finally{a(!1),console.log(" BusinessListings: Loading complete")}})()},[]);const z=w.useMemo(()=>{let Z=[...s];if(l.trim()){const ie=l.toLowerCase();Z=Z.filter(q=>q.name.toLowerCase().includes(ie)||q.industry.toLowerCase().includes(ie)||q.location.toLowerCase().includes(ie)||q.description.toLowerCase().includes(ie))}switch(u&&(u.industry.length>0&&(Z=Z.filter(ie=>u.industry.includes(ie.industry))),u.location.length>0&&(Z=Z.filter(ie=>u.location.some(q=>ie.location.includes(q)))),(u.priceRange[0]>0||u.priceRange[1]<1e7)&&(Z=Z.filter(ie=>{const q=ie.price;return q>=u.priceRange[0]&&q<=u.priceRange[1]})),(u.revenueRange[0]>0||u.revenueRange[1]<5e7)&&(Z=Z.filter(ie=>{const q=ie.revenue||0;return q>=u.revenueRange[0]&&q<=u.revenueRange[1]})),u.businessAge&&(Z=Z.filter(ie=>{const q=new Date().getFullYear()-ie.establishedYear;switch(u.businessAge){case"0-2":return q<=2;case"3-5":return q>=3&&q<=5;case"6-10":return q>=6&&q<=10;case"10+":return q>10;default:return!0}})),u.employees&&(Z=Z.filter(ie=>{const q=ie.employees;switch(u.employees){case"1-10":return q<=10;case"11-50":return q>=11&&q<=50;case"51-200":return q>=51&&q<=200;case"200+":return q>200;default:return!0}})),u.verification.length>0&&(Z=Z.filter(ie=>u.verification.some(q=>ie.badges.includes(q)))),u.financing&&(Z=Z.filter(ie=>ie.badges.includes("Financing Available")))),y){case"price-low":Z.sort((ie,q)=>ie.price-q.price);break;case"price-high":Z.sort((ie,q)=>q.price-ie.price);break;case"revenue-high":Z.sort((ie,q)=>(q.revenue||0)-(ie.revenue||0));break;case"newest":Z.sort((ie,q)=>q.establishedYear-ie.establishedYear);break;case"oldest":Z.sort((ie,q)=>ie.establishedYear-q.establishedYear);break}return Z},[l,u,y,s]),V=Math.ceil(z.length/O),B=z.slice((P-1)*O,P*O),D=(Z,ie,q)=>{c(Z),S(1)},K=Z=>{m(Z),S(1)},H=Z=>{C(ie=>{const q=new Set(ie);return q.has(Z)?q.delete(Z):q.add(Z),q})},$=Z=>{console.log("Share business:",Z)},W=Z=>{console.log("Contact business:",Z)},Q=Z=>{t(`/business/${Z}`)};return i?e.jsx("div",{className:nt("min-h-screen bg-background",n),children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Businesses for Sale"}),e.jsx(eP,{type:"card",count:6})]})}):!i&&z.length===0&&s.length===0?e.jsx("div",{className:nt("min-h-screen bg-background",n),children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Businesses for Sale"}),e.jsx(tP,{type:"no-data",title:"No Businesses Available Yet",description:"We're constantly adding new business opportunities. Check back soon or get notified when new listings are added.",actionText:"List Your Business",actionLink:"/add-business-listing"})]})}):e.jsxs("div",{className:nt("min-h-screen bg-background",n),children:[e.jsx("div",{className:"bg-white border-b",children:e.jsx("div",{className:"container mx-auto px-4 py-6",children:e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Business Listings"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Discover verified businesses ready for acquisition"}),e.jsx("div",{className:"flex justify-center",children:e.jsx(n2,{onSearch:D})})]})})}),e.jsx("div",{className:"container mx-auto px-4 py-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[_&&e.jsx("div",{className:"lg:w-80 space-y-6",children:e.jsx(QT,{type:"business",onFiltersChange:K})}),e.jsxs("div",{className:"flex-1 space-y-6",children:[e.jsx(de,{children:e.jsx(fe,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(ee,{variant:"ghost",size:"sm",onClick:()=>j(!_),className:"gap-2",children:[e.jsx(qm,{className:"h-4 w-4"}),_?"Hide":"Show"," Filters"]}),e.jsx(cr,{orientation:"vertical",className:"h-6"}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[z.length," businesses found"]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(mw,{className:"h-4 w-4"}),e.jsxs(Jt,{value:y,onValueChange:Z=>x(Z),children:[e.jsx(Wt,{className:"w-40",children:e.jsx(Xt,{})}),e.jsxs(Yt,{children:[e.jsx(Ee,{value:"relevance",children:"Relevance"}),e.jsx(Ee,{value:"price-low",children:"Price: Low to High"}),e.jsx(Ee,{value:"price-high",children:"Price: High to Low"}),e.jsx(Ee,{value:"revenue-high",children:"Revenue: High to Low"}),e.jsx(Ee,{value:"newest",children:"Newest First"}),e.jsx(Ee,{value:"oldest",children:"Oldest First"})]})]})]}),e.jsxs("div",{className:"flex items-center border rounded-md",children:[e.jsx(ee,{variant:g==="grid"?"default":"ghost",size:"sm",onClick:()=>p("grid"),className:"rounded-r-none",children:e.jsx(xw,{className:"h-4 w-4"})}),e.jsx(ee,{variant:g==="list"?"default":"ghost",size:"sm",onClick:()=>p("list"),className:"rounded-none",children:e.jsx(yw,{className:"h-4 w-4"})}),e.jsx(ee,{variant:g==="map"?"default":"ghost",size:"sm",onClick:()=>p("map"),className:"rounded-l-none",children:e.jsx(iy,{className:"h-4 w-4"})})]})]})]})})}),u&&e.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.industry.map(Z=>e.jsxs(Be,{variant:"secondary",children:["Industry: ",Z]},Z)),u.location.map(Z=>e.jsxs(Be,{variant:"secondary",children:["Location: ",Z]},Z)),(u.priceRange[0]>0||u.priceRange[1]<1e7)&&e.jsxs(Be,{variant:"secondary",children:["Price: ",(u.priceRange[0]/1e5).toFixed(1),"L - ",(u.priceRange[1]/1e5).toFixed(1),"L"]})]}),i?e.jsx(de,{children:e.jsx(fe,{className:"p-12 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading businesses..."})]})})}):g==="grid"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"md:hidden",children:[e.jsxs("div",{className:"flex gap-4 overflow-x-auto pb-4 snap-x snap-mandatory scrollbar-hide",children:[B.map(Z=>e.jsx("div",{className:"flex-none w-80 snap-start",children:e.jsx(Lh,{business:Z,onSave:H,onShare:$,onContact:W,onViewDetails:Q,isSaved:A.has(Z.id)})},Z.id)),B.length===0&&e.jsx("div",{className:"flex-none w-80 p-8 text-center text-muted-foreground",children:"No businesses match your criteria"})]}),e.jsx("div",{className:"flex justify-center gap-1 mt-4",children:Array.from({length:Math.min(5,Math.ceil(B.length/3))},(Z,ie)=>e.jsx("div",{className:`w-2 h-2 rounded-full ${ie===0?"bg-primary":"bg-muted"}`},ie))})]}),e.jsx("div",{className:"hidden md:grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:B.map(Z=>e.jsx(Lh,{business:Z,onSave:H,onShare:$,onContact:W,onViewDetails:Q,isSaved:A.has(Z.id)},Z.id))})]}),g==="list"&&e.jsx("div",{className:"space-y-4",children:B.map(Z=>e.jsx(Lh,{business:Z,onSave:H,onShare:$,onContact:W,onViewDetails:Q,isSaved:A.has(Z.id),className:"flex flex-row items-center p-4 h-auto"},Z.id))}),g==="map"&&e.jsx(de,{className:"h-96",children:e.jsx(fe,{className:"p-6 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(iy,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),e.jsx("h3",{className:"font-semibold mb-2",children:"Map View"}),e.jsx("p",{className:"text-muted-foreground",children:"Interactive map view coming soon"})]})})}),z.length===0&&e.jsx(de,{children:e.jsxs(fe,{className:"p-12 text-center",children:[e.jsx(xi,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),e.jsx("h3",{className:"font-semibold mb-2",children:"No businesses found"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Try adjusting your search criteria or filters"}),e.jsx(ee,{variant:"outline",onClick:()=>{c(""),m(null),S(1)},children:"Clear All Filters"})]})}),V>1&&e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsx(ee,{variant:"outline",disabled:P===1,onClick:()=>S(P-1),children:"Previous"}),Array.from({length:Math.min(5,V)},(Z,ie)=>{const q=ie+1;return e.jsx(ee,{variant:P===q?"default":"outline",onClick:()=>S(q),children:q},q)}),e.jsx(ee,{variant:"outline",disabled:P===V,onClick:()=>S(P+1),children:"Next"})]})]})]})})]})}class Hg{static async getFranchises(t){console.log(" Fetching franchises with filters:",t);try{const s="https://suiexvkyakjvexnldvmr.supabase.co",r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InN1aWV4dmt5YWtqdmV4bmxkdm1yIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMzMTQ5MjUsImV4cCI6MjA3ODg5MDkyNX0.klziXLpuhXrgOQtJIYYOf5-ViekTs-lkiy9JxpBqtK8",i=await fetch(`${s}/rest/v1/franchises?select=*&order=created_at.desc`,{headers:{apikey:r,Authorization:`Bearer ${r}`,"Content-Type":"application/json",Prefer:"return=representation"}});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const a=await i.json();return console.log(" Franchises fetched:",(a==null?void 0:a.length)||0,"franchises"),a}catch(s){throw console.error(" Exception in getFranchises:",s),s}}static async getFranchiseById(t){const{data:s,error:r}=await Le.from("franchises").select("*, profiles(*)").eq("id",t).single();if(r)throw r;return s}static async getFranchiseBySlug(t){const{data:s,error:r}=await Le.from("franchises").select("*, profiles(*)").eq("slug",t).single();if(r)throw r;return s}static async getFeaturedFranchises(t=10){const{data:s,error:r}=await Le.from("franchises").select("*").eq("status","active").eq("featured",!0).order("created_at",{ascending:!1}).limit(t);if(r)throw r;return s}static async createFranchise(t,s){const{data:r,error:i}=await Le.from("franchises").insert({franchisor_id:t,...s,status:"pending_review"}).select().single();if(i)throw i;return r}static async updateFranchise(t,s){const{data:r,error:i}=await Le.from("franchises").update(s).eq("id",t).select().single();if(i)throw i;return r}static async deleteFranchise(t){const{error:s}=await Le.from("franchises").delete().eq("id",t);if(s)throw s}static async getUserFranchises(t){const{data:s,error:r}=await Le.from("franchises").select("*").eq("franchisor_id",t).order("created_at",{ascending:!1});if(r)throw r;return s}static async submitForReview(t){return this.updateFranchise(t,{status:"pending_review"})}static async publishFranchise(t){const{data:s,error:r}=await Le.from("franchises").update({status:"active",published_at:new Date().toISOString()}).eq("id",t).select().single();if(r)throw r;return s}static async incrementViews(t){const{error:s}=await Le.rpc("increment_franchise_views",{franchise_id:t});s&&console.error("Error incrementing views:",s)}}const mS=[{label:"Under 10L",min:0,max:1e6},{label:"10L - 25L",min:1e6,max:25e5},{label:"25L - 50L",min:25e5,max:5e6},{label:"50L - 1Cr",min:5e6,max:1e7},{label:"Above 1Cr",min:1e7,max:1/0}];function kY({className:n}){const t=Mn(),[s,r]=w.useState([]),[i,a]=w.useState(!0),[l,c]=w.useState(""),[u,m]=w.useState(null),[g,p]=w.useState("grid"),[y,x]=w.useState("relevance"),[_,j]=w.useState(!0),[A,C]=w.useState(new Set),[P,S]=w.useState(1),[O,z]=w.useState(""),V=12;w.useEffect(()=>{(async()=>{a(!0);try{const ce=await Hg.getFranchises({});ce&&Array.isArray(ce)?(r(ce),console.log(" FranchiseListings: Set",ce.length,"franchises from database")):(r([]),console.log(" FranchiseListings: No franchises in database"))}catch(ce){console.error(" FranchiseListings: Error:",ce),r([])}finally{a(!1)}})()},[]);const B=w.useMemo(()=>{let q=[...s];if(l.trim()){const ce=l.toLowerCase();q=q.filter(te=>{var oe;return((oe=te.brandName)==null?void 0:oe.toLowerCase().includes(ce))||te.industry.toLowerCase().includes(ce)||te.description.toLowerCase().includes(ce)||(te.competitiveEdge||te.highlights||[]).some(ne=>ne==null?void 0:ne.toLowerCase().includes(ce))})}if(O){const ce=mS.find(te=>te.label===O);ce&&(q=q.filter(te=>{const oe=te.total_investment_min||te.total_investment_max||0;return oe>=ce.min&&oe<=ce.max}))}switch(u&&(u.industry.length>0&&(q=q.filter(ce=>u.industry.includes(ce.industry))),(u.franchiseFee[0]>0||u.franchiseFee[1]<5e6)&&(q=q.filter(ce=>{const te=ce.total_investment_min||ce.total_investment_max||0;return te>=u.franchiseFee[0]&&te<=u.franchiseFee[1]})),(u.royaltyPercentage[0]>0||u.royaltyPercentage[1]<20)&&(q=q.filter(ce=>{const te=ce.royalty_percentage||ce.royaltyPercentage||0;return te>=u.royaltyPercentage[0]&&te<=u.royaltyPercentage[1]})),u.outlets&&(q=q.filter(ce=>{const te=ce.total_outlets||ce.outlets||0;switch(u.outlets){case"1-10":return te<=10;case"11-50":return te>=11&&te<=50;case"51-100":return te>=51&&te<=100;case"100+":return te>100;default:return!0}})),u.multiUnit&&(q=q.filter(ce=>ce.badges.includes("Multi-Unit Available"))),u.financing&&(q=q.filter(ce=>ce.badges.includes("Financing Available"))),u.verification.length>0&&(q=q.filter(ce=>u.verification.some(te=>ce.badges.includes(te))))),y){case"investment-low":q.sort((ce,te)=>(ce.total_investment_min||0)-(te.total_investment_min||0));break;case"investment-high":q.sort((ce,te)=>(te.total_investment_min||0)-(ce.total_investment_min||0));break;case"roi-high":q.sort((ce,te)=>{const oe=ce.expected_roi_percentage||0;return(te.expected_roi_percentage||0)-oe});break;case"outlets-high":q.sort((ce,te)=>(te.total_outlets||te.outlets||0)-(ce.total_outlets||ce.outlets||0));break}return q},[l,u,y,O,s]),D=Math.ceil(B.length/V),K=B.slice((P-1)*V,P*V),H=(q,ce,te)=>{c(q),S(1)},$=q=>{m(q),S(1)},W=q=>{C(ce=>{const te=new Set(ce);return te.has(q)?te.delete(q):te.add(q),te})},Q=q=>{console.log("Share franchise:",q)},Z=q=>{console.log("Contact franchise:",q)},ie=q=>{t(`/franchise/${q}`)};return i?e.jsx("div",{className:nt("min-h-screen bg-background",n),children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Franchise Opportunities"}),e.jsx(eP,{type:"card",count:6})]})}):!i&&B.length===0&&s.length===0?e.jsx("div",{className:nt("min-h-screen bg-background",n),children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Franchise Opportunities"}),e.jsx(tP,{type:"no-data",title:"No Franchises Available Yet",description:"We're constantly adding new franchise opportunities. Check back soon!",actionText:"List Your Franchise",actionLink:"/add-franchise-listing"})]})}):e.jsxs("div",{className:nt("min-h-screen bg-background",n),children:[e.jsx("div",{className:"bg-background border-b border-border",children:e.jsxs("div",{className:"container mx-auto px-4 py-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-2 text-foreground",children:"Franchise Opportunities"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Discover proven franchise opportunities with high ROI potential"}),e.jsx("div",{className:"flex justify-center",children:e.jsx(n2,{onSearch:H})})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Os,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Investment Range:"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(ee,{variant:O===""?"default":"outline",size:"sm",onClick:()=>z(""),children:"All Ranges"}),mS.map(q=>e.jsx(ee,{variant:O===q.label?"default":"outline",size:"sm",onClick:()=>z(q.label),children:q.label},q.label))]})]})]})}),e.jsx("div",{className:"container mx-auto px-4 py-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[_&&e.jsx("div",{className:"lg:w-80 space-y-6",children:e.jsx(QT,{type:"franchise",onFiltersChange:$})}),e.jsxs("div",{className:"flex-1 space-y-6",children:[e.jsx(de,{children:e.jsx(fe,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(ee,{variant:"ghost",size:"sm",onClick:()=>j(!_),className:"gap-2",children:[e.jsx(qm,{className:"h-4 w-4"}),_?"Hide":"Show"," Filters"]}),e.jsx(cr,{orientation:"vertical",className:"h-6"}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[B.length," franchises found"]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(mw,{className:"h-4 w-4"}),e.jsxs(Jt,{value:y,onValueChange:q=>x(q),children:[e.jsx(Wt,{className:"w-48",children:e.jsx(Xt,{})}),e.jsxs(Yt,{children:[e.jsx(Ee,{value:"relevance",children:"Relevance"}),e.jsx(Ee,{value:"investment-low",children:"Investment: Low to High"}),e.jsx(Ee,{value:"investment-high",children:"Investment: High to Low"}),e.jsx(Ee,{value:"roi-high",children:"ROI: High to Low"}),e.jsx(Ee,{value:"outlets-high",children:"Most Outlets"}),e.jsx(Ee,{value:"newest",children:"Newest Brands"})]})]})]}),e.jsxs("div",{className:"flex items-center border rounded-md",children:[e.jsx(ee,{variant:g==="grid"?"default":"ghost",size:"sm",onClick:()=>p("grid"),className:"rounded-r-none",children:e.jsx(xw,{className:"h-4 w-4"})}),e.jsx(ee,{variant:g==="list"?"default":"ghost",size:"sm",onClick:()=>p("list"),className:"rounded-none",children:e.jsx(yw,{className:"h-4 w-4"})}),e.jsx(ee,{variant:g==="map"?"default":"ghost",size:"sm",onClick:()=>p("map"),className:"rounded-l-none",children:e.jsx(iy,{className:"h-4 w-4"})})]})]})]})})}),(u||O)&&e.jsxs("div",{className:"flex flex-wrap gap-2",children:[O&&e.jsxs(Be,{variant:"secondary",children:["Investment: ",O]}),u==null?void 0:u.industry.map(q=>e.jsxs(Be,{variant:"secondary",children:["Industry: ",q]},q)),u&&(u.franchiseFee[0]>0||u.franchiseFee[1]<5e6)&&e.jsxs(Be,{variant:"secondary",children:["Investment: ",(u.franchiseFee[0]/1e5).toFixed(1),"L - ",(u.franchiseFee[1]/1e5).toFixed(1),"L"]}),u&&(u.royaltyPercentage[0]>0||u.royaltyPercentage[1]<20)&&e.jsxs(Be,{variant:"secondary",children:["Royalty: ",u.royaltyPercentage[0],"% -"," ",u.royaltyPercentage[1],"%"]})]}),i?e.jsx(de,{children:e.jsx(fe,{className:"p-12 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading franchises..."})]})})}):g==="grid"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"md:hidden",children:[e.jsxs("div",{className:"flex gap-4 overflow-x-auto pb-4 snap-x snap-mandatory scrollbar-hide",children:[K.map(q=>e.jsx("div",{className:"flex-none w-80 snap-start",children:e.jsx(Sm,{franchise:q,onSave:W,onShare:Q,onContact:Z,onViewDetails:ie,isSaved:A.has(q.id)})},q.id)),K.length===0&&e.jsx("div",{className:"flex-none w-80 p-8 text-center text-muted-foreground",children:"No franchises match your criteria"})]}),e.jsx("div",{className:"flex justify-center gap-1 mt-4",children:Array.from({length:Math.min(5,Math.ceil(K.length/3))},(q,ce)=>e.jsx("div",{className:`w-2 h-2 rounded-full ${ce===0?"bg-primary":"bg-muted"}`},ce))})]}),e.jsx("div",{className:"hidden md:grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:K.map(q=>e.jsx(Sm,{franchise:q,onSave:W,onShare:Q,onContact:Z,onViewDetails:ie,isSaved:A.has(q.id)},q.id))})]}),g==="list"&&e.jsx("div",{className:"space-y-4",children:K.map(q=>e.jsx(Sm,{franchise:q,onSave:W,onShare:Q,onContact:Z,onViewDetails:ie,isSaved:A.has(q.id),className:"flex flex-row items-center p-4 h-auto"},q.id))}),g==="map"&&e.jsx(de,{className:"h-96",children:e.jsx(fe,{className:"p-6 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(iy,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),e.jsx("h3",{className:"font-semibold mb-2",children:"Territory Map"}),e.jsx("p",{className:"text-muted-foreground",children:"Interactive territory availability map coming soon"})]})})}),B.length===0&&e.jsx(de,{children:e.jsxs(fe,{className:"p-12 text-center",children:[e.jsx(xi,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),e.jsx("h3",{className:"font-semibold mb-2",children:"No franchises found"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Try adjusting your search criteria or filters"}),e.jsx(ee,{variant:"outline",onClick:()=>{c(""),m(null),z(""),S(1)},children:"Clear All Filters"})]})}),D>1&&e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsx(ee,{variant:"outline",disabled:P===1,onClick:()=>S(P-1),children:"Previous"}),Array.from({length:Math.min(5,D)},(q,ce)=>{const te=ce+1;return e.jsx(ee,{variant:P===te?"default":"outline",onClick:()=>S(te),children:te},te)}),e.jsx(ee,{variant:"outline",disabled:P===D,onClick:()=>S(P+1),children:"Next"})]})]})]})})]})}class Sh{static async getConversations(t){const{data:s,error:r}=await Le.from("conversations").select(`
        id,
        participant_1,
        participant_2,
        last_message,
        last_message_at,
        listing_id,
        listing_type
      `).or(`participant_1.eq.${t},participant_2.eq.${t}`).order("last_message_at",{ascending:!1});return r||!s?[]:await Promise.all(s.map(async a=>{const l=a.participant_1===t?a.participant_2:a.participant_1,{data:c}=await Le.from("profiles").select("id, display_name, avatar_url, role").eq("id",l).single(),{count:u}=await Le.from("messages").select("*",{count:"exact",head:!0}).eq("conversation_id",a.id).neq("sender_id",t).is("read_at",null);let m=null;if(a.listing_id&&a.listing_type){const g=a.listing_type==="franchise"?"franchises":"businesses",p=a.listing_type==="franchise"?"brand_name":"name",{data:y}=await Le.from(g).select(`id, ${p}`).eq("id",a.listing_id).single();y&&(m={id:a.listing_id,name:y[p],type:a.listing_type})}return{...a,unread_count:u||0,participant:c,listing:m}}))}static async getMessages(t){const{data:s,error:r}=await Le.from("messages").select("*").eq("conversation_id",t).order("created_at",{ascending:!0});return r?[]:s}static async sendMessage(t,s,r,i){const{data:a,error:l}=await Le.from("messages").insert({conversation_id:t,sender_id:s,content:r,attachments:i}).select().single();return l?null:(await Le.from("conversations").update({last_message:r,last_message_at:new Date().toISOString()}).eq("id",t),a)}static async getOrCreateConversation(t,s,r,i){const{data:a}=await Le.from("conversations").select("id").or(`and(participant_1.eq.${t},participant_2.eq.${s}),and(participant_1.eq.${s},participant_2.eq.${t})`).single();if(a)return a.id;const{data:l,error:c}=await Le.from("conversations").insert({participant_1:t,participant_2:s,listing_id:r,listing_type:i}).select("id").single();return c?null:l.id}static async markAsRead(t,s){await Le.from("messages").update({read_at:new Date().toISOString()}).eq("conversation_id",t).neq("sender_id",s).is("read_at",null)}static async getUnreadCount(t){const{data:s}=await Le.from("conversations").select("id").or(`participant_1.eq.${t},participant_2.eq.${t}`);if(!s||s.length===0)return 0;const r=s.map(a=>a.id),{count:i}=await Le.from("messages").select("*",{count:"exact",head:!0}).in("conversation_id",r).neq("sender_id",t).is("read_at",null);return i||0}}const ha=Vw,zh=Hw,EY=Gw,sP=w.forwardRef(({className:n,...t},s)=>e.jsx(dx,{ref:s,className:nt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...t}));sP.displayName=dx.displayName;const $i=w.forwardRef(({className:n,children:t,...s},r)=>e.jsxs(EY,{children:[e.jsx(sP,{}),e.jsxs(ux,{ref:r,className:nt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...s,children:[t,e.jsxs(l0,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(Lr,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));$i.displayName=ux.displayName;const Vi=({className:n,...t})=>e.jsx("div",{className:nt("flex flex-col space-y-1.5 text-center sm:text-left",n),...t});Vi.displayName="DialogHeader";const Uu=({className:n,...t})=>e.jsx("div",{className:nt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...t});Uu.displayName="DialogFooter";const Hi=w.forwardRef(({className:n,...t},s)=>e.jsx(hx,{ref:s,className:nt("text-lg font-semibold leading-none tracking-tight",n),...t}));Hi.displayName=hx.displayName;const Im=w.forwardRef(({className:n,...t},s)=>e.jsx(mx,{ref:s,className:nt("text-sm text-muted-foreground",n),...t}));Im.displayName=mx.displayName;const _n=w.forwardRef(({className:n,...t},s)=>e.jsx("textarea",{className:nt("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:s,...t}));_n.displayName="Textarea";const TY="modulepreload",PY=function(n){return"/"+n},fS={},wy=function(t,s,r){let i=Promise.resolve();if(s&&s.length>0){let l=function(m){return Promise.all(m.map(g=>Promise.resolve(g).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));i=l(s.map(m=>{if(m=PY(m),m in fS)return;fS[m]=!0;const g=m.endsWith(".css"),p=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${p}`))return;const y=document.createElement("link");if(y.rel=g?"stylesheet":TY,g||(y.as="script"),y.crossOrigin="",y.href=m,u&&y.setAttribute("nonce",u),document.head.appendChild(y),g)return new Promise((x,_)=>{y.addEventListener("load",x),y.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${m}`)))})}))}function a(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&a(c.reason);return t().catch(a)})};function dr(n){"@babel/helpers - typeof";return dr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dr(n)}var Co=Uint8Array,Dl=Uint16Array,f2=Int32Array,j0=new Co([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),w0=new Co([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),_1=new Co([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),nP=function(n,t){for(var s=new Dl(31),r=0;r<31;++r)s[r]=t+=1<<n[r-1];for(var i=new f2(s[30]),r=1;r<30;++r)for(var a=s[r];a<s[r+1];++a)i[a]=a-s[r]<<5|r;return{b:s,r:i}},rP=nP(j0,2),iP=rP.b,S1=rP.r;iP[28]=258,S1[258]=28;var aP=nP(w0,0),LY=aP.b,pS=aP.r,C1=new Dl(32768);for(var Rr=0;Rr<32768;++Rr){var bh=(Rr&43690)>>1|(Rr&21845)<<1;bh=(bh&52428)>>2|(bh&13107)<<2,bh=(bh&61680)>>4|(bh&3855)<<4,C1[Rr]=((bh&65280)>>8|(bh&255)<<8)>>1}var Ud=(function(n,t,s){for(var r=n.length,i=0,a=new Dl(t);i<r;++i)n[i]&&++a[n[i]-1];var l=new Dl(t);for(i=1;i<t;++i)l[i]=l[i-1]+a[i-1]<<1;var c;if(s){c=new Dl(1<<t);var u=15-t;for(i=0;i<r;++i)if(n[i])for(var m=i<<4|n[i],g=t-n[i],p=l[n[i]-1]++<<g,y=p|(1<<g)-1;p<=y;++p)c[C1[p]>>u]=m}else for(c=new Dl(r),i=0;i<r;++i)n[i]&&(c[i]=C1[l[n[i]-1]++]>>15-n[i]);return c}),qh=new Co(288);for(var Rr=0;Rr<144;++Rr)qh[Rr]=8;for(var Rr=144;Rr<256;++Rr)qh[Rr]=9;for(var Rr=256;Rr<280;++Rr)qh[Rr]=7;for(var Rr=280;Rr<288;++Rr)qh[Rr]=8;var Gg=new Co(32);for(var Rr=0;Rr<32;++Rr)Gg[Rr]=5;var RY=Ud(qh,9,0),OY=Ud(qh,9,1),MY=Ud(Gg,5,0),DY=Ud(Gg,5,1),wj=function(n){for(var t=n[0],s=1;s<n.length;++s)n[s]>t&&(t=n[s]);return t},$c=function(n,t,s){var r=t/8|0;return(n[r]|n[r+1]<<8)>>(t&7)&s},Nj=function(n,t){var s=t/8|0;return(n[s]|n[s+1]<<8|n[s+2]<<16)>>(t&7)},p2=function(n){return(n+7)/8|0},oP=function(n,t,s){return(s==null||s>n.length)&&(s=n.length),new Co(n.subarray(t,s))},IY=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Zc=function(n,t,s){var r=new Error(t||IY[n]);if(r.code=n,Error.captureStackTrace&&Error.captureStackTrace(r,Zc),!s)throw r;return r},FY=function(n,t,s,r){var i=n.length,a=0;if(!i||t.f&&!t.l)return s||new Co(0);var l=!s,c=l||t.i!=2,u=t.i;l&&(s=new Co(i*3));var m=function(tt){var lt=s.length;if(tt>lt){var jt=new Co(Math.max(lt*2,tt));jt.set(s),s=jt}},g=t.f||0,p=t.p||0,y=t.b||0,x=t.l,_=t.d,j=t.m,A=t.n,C=i*8;do{if(!x){g=$c(n,p,1);var P=$c(n,p+1,3);if(p+=3,P)if(P==1)x=OY,_=DY,j=9,A=5;else if(P==2){var V=$c(n,p,31)+257,B=$c(n,p+10,15)+4,D=V+$c(n,p+5,31)+1;p+=14;for(var K=new Co(D),H=new Co(19),$=0;$<B;++$)H[_1[$]]=$c(n,p+$*3,7);p+=B*3;for(var W=wj(H),Q=(1<<W)-1,Z=Ud(H,W,1),$=0;$<D;){var ie=Z[$c(n,p,Q)];p+=ie&15;var S=ie>>4;if(S<16)K[$++]=S;else{var q=0,ce=0;for(S==16?(ce=3+$c(n,p,3),p+=2,q=K[$-1]):S==17?(ce=3+$c(n,p,7),p+=3):S==18&&(ce=11+$c(n,p,127),p+=7);ce--;)K[$++]=q}}var te=K.subarray(0,V),oe=K.subarray(V);j=wj(te),A=wj(oe),x=Ud(te,j,1),_=Ud(oe,A,1)}else Zc(1);else{var S=p2(p)+4,O=n[S-4]|n[S-3]<<8,z=S+O;if(z>i){u&&Zc(0);break}c&&m(y+O),s.set(n.subarray(S,z),y),t.b=y+=O,t.p=p=z*8,t.f=g;continue}if(p>C){u&&Zc(0);break}}c&&m(y+131072);for(var ne=(1<<j)-1,re=(1<<A)-1,U=p;;U=p){var q=x[Nj(n,p)&ne],J=q>>4;if(p+=q&15,p>C){u&&Zc(0);break}if(q||Zc(2),J<256)s[y++]=J;else if(J==256){U=p,x=null;break}else{var se=J-254;if(J>264){var $=J-257,ue=j0[$];se=$c(n,p,(1<<ue)-1)+iP[$],p+=ue}var be=_[Nj(n,p)&re],we=be>>4;be||Zc(3),p+=be&15;var oe=LY[we];if(we>3){var ue=w0[we];oe+=Nj(n,p)&(1<<ue)-1,p+=ue}if(p>C){u&&Zc(0);break}c&&m(y+131072);var Ce=y+se;if(y<oe){var Re=a-oe,Xe=Math.min(oe,Ce);for(Re+y<0&&Zc(3);y<Xe;++y)s[y]=r[Re+y]}for(;y<Ce;++y)s[y]=s[y-oe]}}t.l=x,t.p=U,t.b=y,t.f=g,x&&(g=1,t.m=j,t.d=_,t.n=A)}while(!g);return y!=s.length&&l?oP(s,0,y):s.subarray(0,y)},Eu=function(n,t,s){s<<=t&7;var r=t/8|0;n[r]|=s,n[r+1]|=s>>8},lg=function(n,t,s){s<<=t&7;var r=t/8|0;n[r]|=s,n[r+1]|=s>>8,n[r+2]|=s>>16},_j=function(n,t){for(var s=[],r=0;r<n.length;++r)n[r]&&s.push({s:r,f:n[r]});var i=s.length,a=s.slice();if(!i)return{t:cP,l:0};if(i==1){var l=new Co(s[0].s+1);return l[s[0].s]=1,{t:l,l:1}}s.sort(function(z,V){return z.f-V.f}),s.push({s:-1,f:25001});var c=s[0],u=s[1],m=0,g=1,p=2;for(s[0]={s:-1,f:c.f+u.f,l:c,r:u};g!=i-1;)c=s[s[m].f<s[p].f?m++:p++],u=s[m!=g&&s[m].f<s[p].f?m++:p++],s[g++]={s:-1,f:c.f+u.f,l:c,r:u};for(var y=a[0].s,r=1;r<i;++r)a[r].s>y&&(y=a[r].s);var x=new Dl(y+1),_=A1(s[g-1],x,0);if(_>t){var r=0,j=0,A=_-t,C=1<<A;for(a.sort(function(V,B){return x[B.s]-x[V.s]||V.f-B.f});r<i;++r){var P=a[r].s;if(x[P]>t)j+=C-(1<<_-x[P]),x[P]=t;else break}for(j>>=A;j>0;){var S=a[r].s;x[S]<t?j-=1<<t-x[S]++-1:++r}for(;r>=0&&j;--r){var O=a[r].s;x[O]==t&&(--x[O],++j)}_=t}return{t:new Co(x),l:_}},A1=function(n,t,s){return n.s==-1?Math.max(A1(n.l,t,s+1),A1(n.r,t,s+1)):t[n.s]=s},gS=function(n){for(var t=n.length;t&&!n[--t];);for(var s=new Dl(++t),r=0,i=n[0],a=1,l=function(u){s[r++]=u},c=1;c<=t;++c)if(n[c]==i&&c!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)l(32754);a>2&&(l(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(l(i),--a;a>6;a-=6)l(8304);a>2&&(l(a-3<<5|8208),a=0)}for(;a--;)l(i);a=1,i=n[c]}return{c:s.subarray(0,r),n:t}},cg=function(n,t){for(var s=0,r=0;r<t.length;++r)s+=n[r]*t[r];return s},lP=function(n,t,s){var r=s.length,i=p2(t+2);n[i]=r&255,n[i+1]=r>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var a=0;a<r;++a)n[i+a+4]=s[a];return(i+4+r)*8},xS=function(n,t,s,r,i,a,l,c,u,m,g){Eu(t,g++,s),++i[256];for(var p=_j(i,15),y=p.t,x=p.l,_=_j(a,15),j=_.t,A=_.l,C=gS(y),P=C.c,S=C.n,O=gS(j),z=O.c,V=O.n,B=new Dl(19),D=0;D<P.length;++D)++B[P[D]&31];for(var D=0;D<z.length;++D)++B[z[D]&31];for(var K=_j(B,7),H=K.t,$=K.l,W=19;W>4&&!H[_1[W-1]];--W);var Q=m+5<<3,Z=cg(i,qh)+cg(a,Gg)+l,ie=cg(i,y)+cg(a,j)+l+14+3*W+cg(B,H)+2*B[16]+3*B[17]+7*B[18];if(u>=0&&Q<=Z&&Q<=ie)return lP(t,g,n.subarray(u,u+m));var q,ce,te,oe;if(Eu(t,g,1+(ie<Z)),g+=2,ie<Z){q=Ud(y,x,0),ce=y,te=Ud(j,A,0),oe=j;var ne=Ud(H,$,0);Eu(t,g,S-257),Eu(t,g+5,V-1),Eu(t,g+10,W-4),g+=14;for(var D=0;D<W;++D)Eu(t,g+3*D,H[_1[D]]);g+=3*W;for(var re=[P,z],U=0;U<2;++U)for(var J=re[U],D=0;D<J.length;++D){var se=J[D]&31;Eu(t,g,ne[se]),g+=H[se],se>15&&(Eu(t,g,J[D]>>5&127),g+=J[D]>>12)}}else q=RY,ce=qh,te=MY,oe=Gg;for(var D=0;D<c;++D){var ue=r[D];if(ue>255){var se=ue>>18&31;lg(t,g,q[se+257]),g+=ce[se+257],se>7&&(Eu(t,g,ue>>23&31),g+=j0[se]);var be=ue&31;lg(t,g,te[be]),g+=oe[be],be>3&&(lg(t,g,ue>>5&8191),g+=w0[be])}else lg(t,g,q[ue]),g+=ce[ue]}return lg(t,g,q[256]),g+ce[256]},BY=new f2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),cP=new Co(0),zY=function(n,t,s,r,i,a){var l=a.z||n.length,c=new Co(r+l+5*(1+Math.ceil(l/7e3))+i),u=c.subarray(r,c.length-i),m=a.l,g=(a.r||0)&7;if(t){g&&(u[0]=a.r>>3);for(var p=BY[t-1],y=p>>13,x=p&8191,_=(1<<s)-1,j=a.p||new Dl(32768),A=a.h||new Dl(_+1),C=Math.ceil(s/3),P=2*C,S=function(Et){return(n[Et]^n[Et+1]<<C^n[Et+2]<<P)&_},O=new f2(25e3),z=new Dl(288),V=new Dl(32),B=0,D=0,K=a.i||0,H=0,$=a.w||0,W=0;K+2<l;++K){var Q=S(K),Z=K&32767,ie=A[Q];if(j[Z]=ie,A[Q]=Z,$<=K){var q=l-K;if((B>7e3||H>24576)&&(q>423||!m)){g=xS(n,u,0,O,z,V,D,H,W,K-W,g),H=B=D=0,W=K;for(var ce=0;ce<286;++ce)z[ce]=0;for(var ce=0;ce<30;++ce)V[ce]=0}var te=2,oe=0,ne=x,re=Z-ie&32767;if(q>2&&Q==S(K-re))for(var U=Math.min(y,q)-1,J=Math.min(32767,K),se=Math.min(258,q);re<=J&&--ne&&Z!=ie;){if(n[K+te]==n[K+te-re]){for(var ue=0;ue<se&&n[K+ue]==n[K+ue-re];++ue);if(ue>te){if(te=ue,oe=re,ue>U)break;for(var be=Math.min(re,ue-2),we=0,ce=0;ce<be;++ce){var Ce=K-re+ce&32767,Re=j[Ce],Xe=Ce-Re&32767;Xe>we&&(we=Xe,ie=Ce)}}}Z=ie,ie=j[Z],re+=Z-ie&32767}if(oe){O[H++]=268435456|S1[te]<<18|pS[oe];var tt=S1[te]&31,lt=pS[oe]&31;D+=j0[tt]+w0[lt],++z[257+tt],++V[lt],$=K+te,++B}else O[H++]=n[K],++z[n[K]]}}for(K=Math.max(K,$);K<l;++K)O[H++]=n[K],++z[n[K]];g=xS(n,u,m,O,z,V,D,H,W,K-W,g),m||(a.r=g&7|u[g/8|0]<<3,g-=7,a.h=A,a.p=j,a.i=K,a.w=$)}else{for(var K=a.w||0;K<l+m;K+=65535){var jt=K+65535;jt>=l&&(u[g/8|0]=m,jt=l),g=lP(u,g+1,n.subarray(K,jt))}a.i=l}return oP(c,0,r+p2(g)+i)},dP=function(){var n=1,t=0;return{p:function(s){for(var r=n,i=t,a=s.length|0,l=0;l!=a;){for(var c=Math.min(l+2655,a);l<c;++l)i+=r+=s[l];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,t=i},d:function(){return n%=65521,t%=65521,(n&255)<<24|(n&65280)<<8|(t&255)<<8|t>>8}}},qY=function(n,t,s,r,i){if(!i&&(i={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),l=new Co(a.length+n.length);l.set(a),l.set(n,a.length),n=l,i.w=a.length}return zY(n,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+t.mem,s,r,i)},uP=function(n,t,s){for(;s;++t)n[t]=s,s>>>=8},UY=function(n,t){var s=t.level,r=s==0?0:s<6?1:s==9?3:2;if(n[0]=120,n[1]=r<<6|(t.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,t.dictionary){var i=dP();i.p(t.dictionary),uP(n,2,i.d())}},$Y=function(n,t){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&Zc(6,"invalid zlib data"),(n[1]>>5&1)==1&&Zc(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function k1(n,t){t||(t={});var s=dP();s.p(n);var r=qY(n,t,t.dictionary?6:2,4);return UY(r,t),uP(r,r.length-4,s.d()),r}function VY(n,t){return FY(n.subarray($Y(n),-4),{i:2},t,t)}var HY=typeof TextDecoder<"u"&&new TextDecoder,GY=0;try{HY.decode(cP,{stream:!0}),GY=1}catch{}var Ms=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function Sj(){Ms.console&&typeof Ms.console.log=="function"&&Ms.console.log.apply(Ms.console,arguments)}var jr={log:Sj,warn:function(n){Ms.console&&(typeof Ms.console.warn=="function"?Ms.console.warn.apply(Ms.console,arguments):Sj.call(null,arguments))},error:function(n){Ms.console&&(typeof Ms.console.error=="function"?Ms.console.error.apply(Ms.console,arguments):Sj(n))}};function Cj(n,t,s){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){fm(r.response,t,s)},r.onerror=function(){jr.error("could not download file")},r.send()}function vS(n){var t=new XMLHttpRequest;t.open("HEAD",n,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Ev(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(t)}}var Eg,E1,fm=Ms.saveAs||((typeof window>"u"?"undefined":dr(window))!=="object"||window!==Ms?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,t,s){var r=Ms.URL||Ms.webkitURL,i=document.createElement("a");t=t||n.name||"download",i.download=t,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?vS(i.href)?Cj(n,t,s):Ev(i,i.target="_blank"):Ev(i)):(i.href=r.createObjectURL(n),setTimeout((function(){r.revokeObjectURL(i.href)}),4e4),setTimeout((function(){Ev(i)}),0))}:"msSaveOrOpenBlob"in navigator?function(n,t,s){if(t=t||n.name||"download",typeof n=="string")if(vS(n))Cj(n,t,s);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout((function(){Ev(r)}))}else navigator.msSaveOrOpenBlob((function(i,a){return a===void 0?a={autoBom:!1}:dr(a)!=="object"&&(jr.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(n,s),t)}:function(n,t,s,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return Cj(n,t,s);var i=n.type==="application/octet-stream",a=/constructor/i.test(Ms.HTMLElement)||Ms.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||i&&a)&&(typeof FileReader>"u"?"undefined":dr(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var g=c.result;g=l?g:g.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=g:location=g,r=null},c.readAsDataURL(n)}else{var u=Ms.URL||Ms.webkitURL,m=u.createObjectURL(n);r?r.location=m:location.href=m,r=null,setTimeout((function(){u.revokeObjectURL(m)}),4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function hP(n){var t;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var s=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],r=0;r<s.length;r++){var i=s[r].re,a=s[r].process,l=i.exec(n);l&&(t=a(l),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),u=this.g.toString(16),m=this.b.toString(16);return c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),m.length==1&&(m="0"+m),"#"+c+u+m}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Aj(n,t){var s=n[0],r=n[1],i=n[2],a=n[3];s=jo(s,r,i,a,t[0],7,-680876936),a=jo(a,s,r,i,t[1],12,-389564586),i=jo(i,a,s,r,t[2],17,606105819),r=jo(r,i,a,s,t[3],22,-1044525330),s=jo(s,r,i,a,t[4],7,-176418897),a=jo(a,s,r,i,t[5],12,1200080426),i=jo(i,a,s,r,t[6],17,-1473231341),r=jo(r,i,a,s,t[7],22,-45705983),s=jo(s,r,i,a,t[8],7,1770035416),a=jo(a,s,r,i,t[9],12,-1958414417),i=jo(i,a,s,r,t[10],17,-42063),r=jo(r,i,a,s,t[11],22,-1990404162),s=jo(s,r,i,a,t[12],7,1804603682),a=jo(a,s,r,i,t[13],12,-40341101),i=jo(i,a,s,r,t[14],17,-1502002290),s=wo(s,r=jo(r,i,a,s,t[15],22,1236535329),i,a,t[1],5,-165796510),a=wo(a,s,r,i,t[6],9,-1069501632),i=wo(i,a,s,r,t[11],14,643717713),r=wo(r,i,a,s,t[0],20,-373897302),s=wo(s,r,i,a,t[5],5,-701558691),a=wo(a,s,r,i,t[10],9,38016083),i=wo(i,a,s,r,t[15],14,-660478335),r=wo(r,i,a,s,t[4],20,-405537848),s=wo(s,r,i,a,t[9],5,568446438),a=wo(a,s,r,i,t[14],9,-1019803690),i=wo(i,a,s,r,t[3],14,-187363961),r=wo(r,i,a,s,t[8],20,1163531501),s=wo(s,r,i,a,t[13],5,-1444681467),a=wo(a,s,r,i,t[2],9,-51403784),i=wo(i,a,s,r,t[7],14,1735328473),s=No(s,r=wo(r,i,a,s,t[12],20,-1926607734),i,a,t[5],4,-378558),a=No(a,s,r,i,t[8],11,-2022574463),i=No(i,a,s,r,t[11],16,1839030562),r=No(r,i,a,s,t[14],23,-35309556),s=No(s,r,i,a,t[1],4,-1530992060),a=No(a,s,r,i,t[4],11,1272893353),i=No(i,a,s,r,t[7],16,-155497632),r=No(r,i,a,s,t[10],23,-1094730640),s=No(s,r,i,a,t[13],4,681279174),a=No(a,s,r,i,t[0],11,-358537222),i=No(i,a,s,r,t[3],16,-722521979),r=No(r,i,a,s,t[6],23,76029189),s=No(s,r,i,a,t[9],4,-640364487),a=No(a,s,r,i,t[12],11,-421815835),i=No(i,a,s,r,t[15],16,530742520),s=_o(s,r=No(r,i,a,s,t[2],23,-995338651),i,a,t[0],6,-198630844),a=_o(a,s,r,i,t[7],10,1126891415),i=_o(i,a,s,r,t[14],15,-1416354905),r=_o(r,i,a,s,t[5],21,-57434055),s=_o(s,r,i,a,t[12],6,1700485571),a=_o(a,s,r,i,t[3],10,-1894986606),i=_o(i,a,s,r,t[10],15,-1051523),r=_o(r,i,a,s,t[1],21,-2054922799),s=_o(s,r,i,a,t[8],6,1873313359),a=_o(a,s,r,i,t[15],10,-30611744),i=_o(i,a,s,r,t[6],15,-1560198380),r=_o(r,i,a,s,t[13],21,1309151649),s=_o(s,r,i,a,t[4],6,-145523070),a=_o(a,s,r,i,t[11],10,-1120210379),i=_o(i,a,s,r,t[2],15,718787259),r=_o(r,i,a,s,t[9],21,-343485551),n[0]=kh(s,n[0]),n[1]=kh(r,n[1]),n[2]=kh(i,n[2]),n[3]=kh(a,n[3])}function N0(n,t,s,r,i,a){return t=kh(kh(t,n),kh(r,a)),kh(t<<i|t>>>32-i,s)}function jo(n,t,s,r,i,a,l){return N0(t&s|~t&r,n,t,i,a,l)}function wo(n,t,s,r,i,a,l){return N0(t&r|s&~r,n,t,i,a,l)}function No(n,t,s,r,i,a,l){return N0(t^s^r,n,t,i,a,l)}function _o(n,t,s,r,i,a,l){return N0(s^(t|~r),n,t,i,a,l)}function mP(n){var t,s=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=n.length;t+=64)Aj(r,WY(n.substring(t-64,t)));n=n.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<n.length;t++)i[t>>2]|=n.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(Aj(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*s,Aj(r,i),r}function WY(n){var t,s=[];for(t=0;t<64;t+=4)s[t>>2]=n.charCodeAt(t)+(n.charCodeAt(t+1)<<8)+(n.charCodeAt(t+2)<<16)+(n.charCodeAt(t+3)<<24);return s}Eg=Ms.atob.bind(Ms),E1=Ms.btoa.bind(Ms);var yS="0123456789abcdef".split("");function YY(n){for(var t="",s=0;s<4;s++)t+=yS[n>>8*s+4&15]+yS[n>>8*s&15];return t}function ZY(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function T1(n){return mP(n).map(ZY).join("")}var KY=(function(n){for(var t=0;t<n.length;t++)n[t]=YY(n[t]);return n.join("")})(mP("hello"))!="5d41402abc4b2a76b9719d911017c592";function kh(n,t){if(KY){var s=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(s>>16)<<16|65535&s}return n+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function P1(n,t){var s,r,i,a;if(n!==s){for(var l=(i=n,a=1+(256/n.length>>0),new Array(a+1).join(i)),c=[],u=0;u<256;u++)c[u]=u;var m=0;for(u=0;u<256;u++){var g=c[u];m=(m+g+l.charCodeAt(u))%256,c[u]=c[m],c[m]=g}s=n,r=c}else c=r;var p=t.length,y=0,x=0,_="";for(u=0;u<p;u++)x=(x+(g=c[y=(y+1)%256]))%256,c[y]=c[x],c[x]=g,l=c[(c[y]+c[x])%256],_+=String.fromCharCode(t.charCodeAt(u)^l);return _}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var bS={print:4,modify:8,copy:16,"annot-forms":32};function If(n,t,s,r){this.v=1,this.r=2;var i=192;n.forEach((function(c){if(bS.perm!==void 0)throw new Error("Invalid permission: "+c);i+=bS[c]})),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(t+this.padding).substr(0,32),l=(s+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,l),this.P=-(1+(255^i)),this.encryptionKey=T1(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=P1(this.encryptionKey,this.padding)}function Ff(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var t="",s=n.length,r=0;r<s;r++){var i=n.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?t+="#"+("0"+i.toString(16)).slice(-2):t+=n[r]}return t}function jS(n){if(dr(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(s,r,i){if(i=i||!1,typeof s!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(s)||(t[s]={});var a=Math.random().toString(35);return t[s][a]=[r,!!i],a},this.unsubscribe=function(s){for(var r in t)if(t[r][s])return delete t[r][s],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(s){if(t.hasOwnProperty(s)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in t[s]){var l=t[s][a];try{l[0].apply(n,r)}catch(c){Ms.console&&jr.error("jsPDF PubSub Error",c.message,c)}l[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Ny(n){if(!(this instanceof Ny))return new Ny(n);var t="opacity,stroke-opacity".split(",");for(var s in n)n.hasOwnProperty(s)&&t.indexOf(s)>=0&&(this[s]=n[s]);this.id="",this.objectNumber=-1}function fP(n,t){this.gState=n,this.matrix=t,this.id="",this.objectNumber=-1}function ym(n,t,s,r,i){if(!(this instanceof ym))return new ym(n,t,s,r,i);this.type=n==="axial"?2:3,this.coords=t,this.colors=s,fP.call(this,r,i)}function Uf(n,t,s,r,i){if(!(this instanceof Uf))return new Uf(n,t,s,r,i);this.boundingBox=n,this.xStep=t,this.yStep=s,this.stream="",this.cloneIndex=0,fP.call(this,r,i)}function Rs(n){var t,s=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],l=[],c=1,u=16,m="S",g=null;dr(n=n||{})==="object"&&(s=n.orientation,r=n.unit||r,i=n.format||i,a=n.compress||n.compressPdf||a,(g=n.encryption||null)!==null&&(g.userPassword=g.userPassword||"",g.ownerPassword=g.ownerPassword||"",g.userPermissions=g.userPermissions||[]),c=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(t=n.precision),n.floatPrecision!==void 0&&(u=n.floatPrecision),m=n.defaultPathOperation||"S"),l=n.filters||(a===!0?["FlateEncode"]:l),r=r||"mm",s=(""+(s||"P")).toLowerCase();var p=n.putOnlyUsedFonts||!1,y={},x={internal:{},__private__:{}};x.__private__.PubSub=jS;var _="1.3",j=x.__private__.getPdfVersion=function(){return _};x.__private__.setPdfVersion=function(M){_=M};var A={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};x.__private__.getPageFormats=function(){return A};var C=x.__private__.getPageFormat=function(M){return A[M]};i=i||"a4";var P={COMPAT:"compat",ADVANCED:"advanced"},S=P.COMPAT;function O(){this.saveGraphicsState(),_e(new es(At,0,0,-At,0,rc()*At).toString()+" cm"),this.setFontSize(this.getFontSize()/At),m="n",S=P.ADVANCED}function z(){this.restoreGraphicsState(),m="S",S=P.COMPAT}var V=x.__private__.combineFontStyleAndFontWeight=function(M,le){if(M=="bold"&&le=="normal"||M=="bold"&&le==400||M=="normal"&&le=="italic"||M=="bold"&&le=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return le&&(M=le==400||le==="normal"?M==="italic"?"italic":"normal":le!=700&&le!=="bold"||M!=="normal"?(le==700?"bold":le)+""+M:"bold"),M};x.advancedAPI=function(M){var le=S===P.COMPAT;return le&&O.call(this),typeof M!="function"||(M(this),le&&z.call(this)),this},x.compatAPI=function(M){var le=S===P.ADVANCED;return le&&z.call(this),typeof M!="function"||(M(this),le&&O.call(this)),this},x.isAdvancedAPI=function(){return S===P.ADVANCED};var B,D=function(M){if(S!==P.ADVANCED)throw new Error(M+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},K=x.roundToPrecision=x.__private__.roundToPrecision=function(M,le){var Se=t||le;if(isNaN(M)||isNaN(Se))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return M.toFixed(Se).replace(/0+$/,"")};B=x.hpf=x.__private__.hpf=typeof u=="number"?function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return K(M,u)}:u==="smart"?function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return K(M,M>-1&&M<1?16:5)}:function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return K(M,16)};var H=x.f2=x.__private__.f2=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.f2");return K(M,2)},$=x.__private__.f3=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.f3");return K(M,3)},W=x.scale=x.__private__.scale=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.scale");return S===P.COMPAT?M*At:S===P.ADVANCED?M:void 0},Q=function(M){return S===P.COMPAT?rc()-M:S===P.ADVANCED?M:void 0},Z=function(M){return W(Q(M))};x.__private__.setPrecision=x.setPrecision=function(M){typeof parseInt(M,10)=="number"&&(t=parseInt(M,10))};var ie,q="00000000000000000000000000000000",ce=x.__private__.getFileId=function(){return q},te=x.__private__.setFileId=function(M){return q=M!==void 0&&/^[a-fA-F0-9]{32}$/.test(M)?M.toUpperCase():q.split("").map((function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))})).join(""),g!==null&&(Zn=new If(g.userPermissions,g.userPassword,g.ownerPassword,q)),q};x.setFileId=function(M){return te(M),this},x.getFileId=function(){return ce()};var oe=x.__private__.convertDateToPDFDate=function(M){var le=M.getTimezoneOffset(),Se=le<0?"+":"-",Oe=Math.floor(Math.abs(le/60)),Ge=Math.abs(le%60),ct=[Se,se(Oe),"'",se(Ge),"'"].join("");return["D:",M.getFullYear(),se(M.getMonth()+1),se(M.getDate()),se(M.getHours()),se(M.getMinutes()),se(M.getSeconds()),ct].join("")},ne=x.__private__.convertPDFDateToDate=function(M){var le=parseInt(M.substr(2,4),10),Se=parseInt(M.substr(6,2),10)-1,Oe=parseInt(M.substr(8,2),10),Ge=parseInt(M.substr(10,2),10),ct=parseInt(M.substr(12,2),10),_t=parseInt(M.substr(14,2),10);return new Date(le,Se,Oe,Ge,ct,_t,0)},re=x.__private__.setCreationDate=function(M){var le;if(M===void 0&&(M=new Date),M instanceof Date)le=oe(M);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(M))throw new Error("Invalid argument passed to jsPDF.setCreationDate");le=M}return ie=le},U=x.__private__.getCreationDate=function(M){var le=ie;return M==="jsDate"&&(le=ne(ie)),le};x.setCreationDate=function(M){return re(M),this},x.getCreationDate=function(M){return U(M)};var J,se=x.__private__.padd2=function(M){return("0"+parseInt(M)).slice(-2)},ue=x.__private__.padd2Hex=function(M){return("00"+(M=M.toString())).substr(M.length)},be=0,we=[],Ce=[],Re=0,Xe=[],tt=[],lt=!1,jt=Ce,Et=function(){be=0,Re=0,Ce=[],we=[],Xe=[],Ni=Tt(),Bn=Tt()};x.__private__.setCustomOutputDestination=function(M){lt=!0,jt=M};var Je=function(M){lt||(jt=M)};x.__private__.resetCustomOutputDestination=function(){lt=!1,jt=Ce};var _e=x.__private__.out=function(M){return M=M.toString(),Re+=M.length+1,jt.push(M),jt},$t=x.__private__.write=function(M){return _e(arguments.length===1?M.toString():Array.prototype.join.call(arguments," "))},Dt=x.__private__.getArrayBuffer=function(M){for(var le=M.length,Se=new ArrayBuffer(le),Oe=new Uint8Array(Se);le--;)Oe[le]=M.charCodeAt(le);return Se},ht=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];x.__private__.getStandardFonts=function(){return ht};var je=n.fontSize||16;x.__private__.setFontSize=x.setFontSize=function(M){return je=S===P.ADVANCED?M/At:M,this};var ke,Pe=x.__private__.getFontSize=x.getFontSize=function(){return S===P.COMPAT?je:je*At},it=n.R2L||!1;x.__private__.setR2L=x.setR2L=function(M){return it=M,this},x.__private__.getR2L=x.getR2L=function(){return it};var rt,ut=x.__private__.setZoomMode=function(M){var le=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(M))ke=M;else if(isNaN(M)){if(le.indexOf(M)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+M+'" is not recognized.');ke=M}else ke=parseInt(M,10)};x.__private__.getZoomMode=function(){return ke};var Nt,Vt=x.__private__.setPageMode=function(M){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(M)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+M+'" is not recognized.');rt=M};x.__private__.getPageMode=function(){return rt};var Qt=x.__private__.setLayoutMode=function(M){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(M)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+M+'" is not recognized.');Nt=M};x.__private__.getLayoutMode=function(){return Nt},x.__private__.setDisplayMode=x.setDisplayMode=function(M,le,Se){return ut(M),Qt(le),Vt(Se),this};var Gt={title:"",subject:"",author:"",keywords:"",creator:""};x.__private__.getDocumentProperty=function(M){if(Object.keys(Gt).indexOf(M)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Gt[M]},x.__private__.getDocumentProperties=function(){return Gt},x.__private__.setDocumentProperties=x.setProperties=x.setDocumentProperties=function(M){for(var le in Gt)Gt.hasOwnProperty(le)&&M[le]&&(Gt[le]=M[le]);return this},x.__private__.setDocumentProperty=function(M,le){if(Object.keys(Gt).indexOf(M)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Gt[M]=le};var fs,At,In,Ts,rn,zs={},Cs={},Dr=[],Us={},Gi={},Fn={},bi={},Wi=null,Sn=0,Ct=[],gs=new jS(x),ur=n.hotfixes||[],xn={},ji={},an=[],es=function M(le,Se,Oe,Ge,ct,_t){if(!(this instanceof M))return new M(le,Se,Oe,Ge,ct,_t);isNaN(le)&&(le=1),isNaN(Se)&&(Se=0),isNaN(Oe)&&(Oe=0),isNaN(Ge)&&(Ge=1),isNaN(ct)&&(ct=0),isNaN(_t)&&(_t=0),this._matrix=[le,Se,Oe,Ge,ct,_t]};Object.defineProperty(es.prototype,"sx",{get:function(){return this._matrix[0]},set:function(M){this._matrix[0]=M}}),Object.defineProperty(es.prototype,"shy",{get:function(){return this._matrix[1]},set:function(M){this._matrix[1]=M}}),Object.defineProperty(es.prototype,"shx",{get:function(){return this._matrix[2]},set:function(M){this._matrix[2]=M}}),Object.defineProperty(es.prototype,"sy",{get:function(){return this._matrix[3]},set:function(M){this._matrix[3]=M}}),Object.defineProperty(es.prototype,"tx",{get:function(){return this._matrix[4]},set:function(M){this._matrix[4]=M}}),Object.defineProperty(es.prototype,"ty",{get:function(){return this._matrix[5]},set:function(M){this._matrix[5]=M}}),Object.defineProperty(es.prototype,"a",{get:function(){return this._matrix[0]},set:function(M){this._matrix[0]=M}}),Object.defineProperty(es.prototype,"b",{get:function(){return this._matrix[1]},set:function(M){this._matrix[1]=M}}),Object.defineProperty(es.prototype,"c",{get:function(){return this._matrix[2]},set:function(M){this._matrix[2]=M}}),Object.defineProperty(es.prototype,"d",{get:function(){return this._matrix[3]},set:function(M){this._matrix[3]=M}}),Object.defineProperty(es.prototype,"e",{get:function(){return this._matrix[4]},set:function(M){this._matrix[4]=M}}),Object.defineProperty(es.prototype,"f",{get:function(){return this._matrix[5]},set:function(M){this._matrix[5]=M}}),Object.defineProperty(es.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(es.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(es.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(es.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),es.prototype.join=function(M){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(B).join(M)},es.prototype.multiply=function(M){var le=M.sx*this.sx+M.shy*this.shx,Se=M.sx*this.shy+M.shy*this.sy,Oe=M.shx*this.sx+M.sy*this.shx,Ge=M.shx*this.shy+M.sy*this.sy,ct=M.tx*this.sx+M.ty*this.shx+this.tx,_t=M.tx*this.shy+M.ty*this.sy+this.ty;return new es(le,Se,Oe,Ge,ct,_t)},es.prototype.decompose=function(){var M=this.sx,le=this.shy,Se=this.shx,Oe=this.sy,Ge=this.tx,ct=this.ty,_t=Math.sqrt(M*M+le*le),Bt=(M/=_t)*Se+(le/=_t)*Oe;Se-=M*Bt,Oe-=le*Bt;var Zt=Math.sqrt(Se*Se+Oe*Oe);return Bt/=Zt,M*(Oe/=Zt)<le*(Se/=Zt)&&(M=-M,le=-le,Bt=-Bt,_t=-_t),{scale:new es(_t,0,0,Zt,0,0),translate:new es(1,0,0,1,Ge,ct),rotate:new es(M,le,-le,M,0,0),skew:new es(1,0,Bt,1,0,0)}},es.prototype.toString=function(M){return this.join(" ")},es.prototype.inversed=function(){var M=this.sx,le=this.shy,Se=this.shx,Oe=this.sy,Ge=this.tx,ct=this.ty,_t=1/(M*Oe-le*Se),Bt=Oe*_t,Zt=-le*_t,Ls=-Se*_t,Ns=M*_t;return new es(Bt,Zt,Ls,Ns,-Bt*Ge-Ls*ct,-Zt*Ge-Ns*ct)},es.prototype.applyToPoint=function(M){var le=M.x*this.sx+M.y*this.shx+this.tx,Se=M.x*this.shy+M.y*this.sy+this.ty;return new tc(le,Se)},es.prototype.applyToRectangle=function(M){var le=this.applyToPoint(M),Se=this.applyToPoint(new tc(M.x+M.w,M.y+M.h));return new lo(le.x,le.y,Se.x-le.x,Se.y-le.y)},es.prototype.clone=function(){var M=this.sx,le=this.shy,Se=this.shx,Oe=this.sy,Ge=this.tx,ct=this.ty;return new es(M,le,Se,Oe,Ge,ct)},x.Matrix=es;var wi=x.matrixMult=function(M,le){return le.multiply(M)},gr=new es(1,0,0,1,0,0);x.unitMatrix=x.identityMatrix=gr;var Gn=function(M,le){if(!Gi[M]){var Se=(le instanceof ym?"Sh":"P")+(Object.keys(Us).length+1).toString(10);le.id=Se,Gi[M]=Se,Us[Se]=le,gs.publish("addPattern",le)}};x.ShadingPattern=ym,x.TilingPattern=Uf,x.addShadingPattern=function(M,le){return D("addShadingPattern()"),Gn(M,le),this},x.beginTilingPattern=function(M){D("beginTilingPattern()"),cu(M.boundingBox[0],M.boundingBox[1],M.boundingBox[2]-M.boundingBox[0],M.boundingBox[3]-M.boundingBox[1],M.matrix)},x.endTilingPattern=function(M,le){D("endTilingPattern()"),le.stream=tt[J].join(`
`),Gn(M,le),gs.publish("endTilingPattern",le),an.pop().restore()};var un=x.__private__.newObject=function(){var M=Tt();return Yi(M,!0),M},Tt=x.__private__.newObjectDeferred=function(){return be++,we[be]=function(){return Re},be},Yi=function(M,le){return le=typeof le=="boolean"&&le,we[M]=Re,le&&_e(M+" 0 obj"),M},Hl=x.__private__.newAdditionalObject=function(){var M={objId:Tt(),content:""};return Xe.push(M),M},Ni=Tt(),Bn=Tt(),er=x.__private__.decodeColorString=function(M){var le=M.split(" ");if(le.length!==2||le[1]!=="g"&&le[1]!=="G")le.length===5&&(le[4]==="k"||le[4]==="K")&&(le=[(1-le[0])*(1-le[3]),(1-le[1])*(1-le[3]),(1-le[2])*(1-le[3]),"r"]);else{var Se=parseFloat(le[0]);le=[Se,Se,Se,"r"]}for(var Oe="#",Ge=0;Ge<3;Ge++)Oe+=("0"+Math.floor(255*parseFloat(le[Ge])).toString(16)).slice(-2);return Oe},_i=x.__private__.encodeColorString=function(M){var le;typeof M=="string"&&(M={ch1:M});var Se=M.ch1,Oe=M.ch2,Ge=M.ch3,ct=M.ch4,_t=M.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Se=="string"&&Se.charAt(0)!=="#"){var Bt=new hP(Se);if(Bt.ok)Se=Bt.toHex();else if(!/^\d*\.?\d*$/.test(Se))throw new Error('Invalid color "'+Se+'" passed to jsPDF.encodeColorString.')}if(typeof Se=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Se)&&(Se="#"+Se[1]+Se[1]+Se[2]+Se[2]+Se[3]+Se[3]),typeof Se=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Se)){var Zt=parseInt(Se.substr(1),16);Se=Zt>>16&255,Oe=Zt>>8&255,Ge=255&Zt}if(Oe===void 0||ct===void 0&&Se===Oe&&Oe===Ge)if(typeof Se=="string")le=Se+" "+_t[0];else switch(M.precision){case 2:le=H(Se/255)+" "+_t[0];break;case 3:default:le=$(Se/255)+" "+_t[0]}else if(ct===void 0||dr(ct)==="object"){if(ct&&!isNaN(ct.a)&&ct.a===0)return le=["1.","1.","1.",_t[1]].join(" ");if(typeof Se=="string")le=[Se,Oe,Ge,_t[1]].join(" ");else switch(M.precision){case 2:le=[H(Se/255),H(Oe/255),H(Ge/255),_t[1]].join(" ");break;default:case 3:le=[$(Se/255),$(Oe/255),$(Ge/255),_t[1]].join(" ")}}else if(typeof Se=="string")le=[Se,Oe,Ge,ct,_t[2]].join(" ");else switch(M.precision){case 2:le=[H(Se),H(Oe),H(Ge),H(ct),_t[2]].join(" ");break;case 3:default:le=[$(Se),$(Oe),$(Ge),$(ct),_t[2]].join(" ")}return le},Si=x.__private__.getFilters=function(){return l},Ua=x.__private__.putStream=function(M){var le=(M=M||{}).data||"",Se=M.filters||Si(),Oe=M.alreadyAppliedFilters||[],Ge=M.addLength1||!1,ct=le.length,_t=M.objectId,Bt=function(ki){return ki};if(g!==null&&_t===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");g!==null&&(Bt=Zn.encryptor(_t,0));var Zt={};Se===!0&&(Se=["FlateEncode"]);var Ls=M.additionalKeyValues||[],Ns=(Zt=Rs.API.processDataByFilters!==void 0?Rs.API.processDataByFilters(le,Se):{data:le,reverseChain:[]}).reverseChain+(Array.isArray(Oe)?Oe.join(" "):Oe.toString());if(Zt.data.length!==0&&(Ls.push({key:"Length",value:Zt.data.length}),Ge===!0&&Ls.push({key:"Length1",value:ct})),Ns.length!=0)if(Ns.split("/").length-1==1)Ls.push({key:"Filter",value:Ns});else{Ls.push({key:"Filter",value:"["+Ns+"]"});for(var on=0;on<Ls.length;on+=1)if(Ls[on].key==="DecodeParms"){for(var tr=[],sr=0;sr<Zt.reverseChain.split("/").length-1;sr+=1)tr.push("null");tr.push(Ls[on].value),Ls[on].value="["+tr.join(" ")+"]"}}_e("<<");for(var Ar=0;Ar<Ls.length;Ar++)_e("/"+Ls[Ar].key+" "+Ls[Ar].value);_e(">>"),Zt.data.length!==0&&(_e("stream"),_e(Bt(Zt.data)),_e("endstream"))},Wo=x.__private__.putPage=function(M){var le=M.number,Se=M.data,Oe=M.objId,Ge=M.contentsObjId;Yi(Oe,!0),_e("<</Type /Page"),_e("/Parent "+M.rootDictionaryObjId+" 0 R"),_e("/Resources "+M.resourceDictionaryObjId+" 0 R"),_e("/MediaBox ["+parseFloat(B(M.mediaBox.bottomLeftX))+" "+parseFloat(B(M.mediaBox.bottomLeftY))+" "+B(M.mediaBox.topRightX)+" "+B(M.mediaBox.topRightY)+"]"),M.cropBox!==null&&_e("/CropBox ["+B(M.cropBox.bottomLeftX)+" "+B(M.cropBox.bottomLeftY)+" "+B(M.cropBox.topRightX)+" "+B(M.cropBox.topRightY)+"]"),M.bleedBox!==null&&_e("/BleedBox ["+B(M.bleedBox.bottomLeftX)+" "+B(M.bleedBox.bottomLeftY)+" "+B(M.bleedBox.topRightX)+" "+B(M.bleedBox.topRightY)+"]"),M.trimBox!==null&&_e("/TrimBox ["+B(M.trimBox.bottomLeftX)+" "+B(M.trimBox.bottomLeftY)+" "+B(M.trimBox.topRightX)+" "+B(M.trimBox.topRightY)+"]"),M.artBox!==null&&_e("/ArtBox ["+B(M.artBox.bottomLeftX)+" "+B(M.artBox.bottomLeftY)+" "+B(M.artBox.topRightX)+" "+B(M.artBox.topRightY)+"]"),typeof M.userUnit=="number"&&M.userUnit!==1&&_e("/UserUnit "+M.userUnit),gs.publish("putPage",{objId:Oe,pageContext:Ct[le],pageNumber:le,page:Se}),_e("/Contents "+Ge+" 0 R"),_e(">>"),_e("endobj");var ct=Se.join(`
`);return S===P.ADVANCED&&(ct+=`
Q`),Yi(Ge,!0),Ua({data:ct,filters:Si(),objectId:Ge}),_e("endobj"),Oe},Gl=x.__private__.putPages=function(){var M,le,Se=[];for(M=1;M<=Sn;M++)Ct[M].objId=Tt(),Ct[M].contentsObjId=Tt();for(M=1;M<=Sn;M++)Se.push(Wo({number:M,data:tt[M],objId:Ct[M].objId,contentsObjId:Ct[M].contentsObjId,mediaBox:Ct[M].mediaBox,cropBox:Ct[M].cropBox,bleedBox:Ct[M].bleedBox,trimBox:Ct[M].trimBox,artBox:Ct[M].artBox,userUnit:Ct[M].userUnit,rootDictionaryObjId:Ni,resourceDictionaryObjId:Bn}));Yi(Ni,!0),_e("<</Type /Pages");var Oe="/Kids [";for(le=0;le<Sn;le++)Oe+=Se[le]+" 0 R ";_e(Oe+"]"),_e("/Count "+Sn),_e(">>"),_e("endobj"),gs.publish("postPutPages")},Yo=function(M){gs.publish("putFont",{font:M,out:_e,newObject:un,putStream:Ua}),M.isAlreadyPutted!==!0&&(M.objectNumber=un(),_e("<<"),_e("/Type /Font"),_e("/BaseFont /"+Ff(M.postScriptName)),_e("/Subtype /Type1"),typeof M.encoding=="string"&&_e("/Encoding /"+M.encoding),_e("/FirstChar 32"),_e("/LastChar 255"),_e(">>"),_e("endobj"))},Wl=function(){for(var M in zs)zs.hasOwnProperty(M)&&(p===!1||p===!0&&y.hasOwnProperty(M))&&Yo(zs[M])},no=function(M){M.objectNumber=un();var le=[];le.push({key:"Type",value:"/XObject"}),le.push({key:"Subtype",value:"/Form"}),le.push({key:"BBox",value:"["+[B(M.x),B(M.y),B(M.x+M.width),B(M.y+M.height)].join(" ")+"]"}),le.push({key:"Matrix",value:"["+M.matrix.toString()+"]"});var Se=M.pages[1].join(`
`);Ua({data:Se,additionalKeyValues:le,objectId:M.objectNumber}),_e("endobj")},Eo=function(){for(var M in xn)xn.hasOwnProperty(M)&&no(xn[M])},To=function(M,le){var Se,Oe=[],Ge=1/(le-1);for(Se=0;Se<1;Se+=Ge)Oe.push(Se);if(Oe.push(1),M[0].offset!=0){var ct={offset:0,color:M[0].color};M.unshift(ct)}if(M[M.length-1].offset!=1){var _t={offset:1,color:M[M.length-1].color};M.push(_t)}for(var Bt="",Zt=0,Ls=0;Ls<Oe.length;Ls++){for(Se=Oe[Ls];Se>M[Zt+1].offset;)Zt++;var Ns=M[Zt].offset,on=(Se-Ns)/(M[Zt+1].offset-Ns),tr=M[Zt].color,sr=M[Zt+1].color;Bt+=ue(Math.round((1-on)*tr[0]+on*sr[0]).toString(16))+ue(Math.round((1-on)*tr[1]+on*sr[1]).toString(16))+ue(Math.round((1-on)*tr[2]+on*sr[2]).toString(16))}return Bt.trim()},Yl=function(M,le){le||(le=21);var Se=un(),Oe=To(M.colors,le),Ge=[];Ge.push({key:"FunctionType",value:"0"}),Ge.push({key:"Domain",value:"[0.0 1.0]"}),Ge.push({key:"Size",value:"["+le+"]"}),Ge.push({key:"BitsPerSample",value:"8"}),Ge.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ge.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ua({data:Oe,additionalKeyValues:Ge,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Se}),_e("endobj"),M.objectNumber=un(),_e("<< /ShadingType "+M.type),_e("/ColorSpace /DeviceRGB");var ct="/Coords ["+B(parseFloat(M.coords[0]))+" "+B(parseFloat(M.coords[1]))+" ";M.type===2?ct+=B(parseFloat(M.coords[2]))+" "+B(parseFloat(M.coords[3])):ct+=B(parseFloat(M.coords[2]))+" "+B(parseFloat(M.coords[3]))+" "+B(parseFloat(M.coords[4]))+" "+B(parseFloat(M.coords[5])),_e(ct+="]"),M.matrix&&_e("/Matrix ["+M.matrix.toString()+"]"),_e("/Function "+Se+" 0 R"),_e("/Extend [true true]"),_e(">>"),_e("endobj")},Ir=function(M,le){var Se=Tt(),Oe=un();le.push({resourcesOid:Se,objectOid:Oe}),M.objectNumber=Oe;var Ge=[];Ge.push({key:"Type",value:"/Pattern"}),Ge.push({key:"PatternType",value:"1"}),Ge.push({key:"PaintType",value:"1"}),Ge.push({key:"TilingType",value:"1"}),Ge.push({key:"BBox",value:"["+M.boundingBox.map(B).join(" ")+"]"}),Ge.push({key:"XStep",value:B(M.xStep)}),Ge.push({key:"YStep",value:B(M.yStep)}),Ge.push({key:"Resources",value:Se+" 0 R"}),M.matrix&&Ge.push({key:"Matrix",value:"["+M.matrix.toString()+"]"}),Ua({data:M.stream,additionalKeyValues:Ge,objectId:M.objectNumber}),_e("endobj")},_c=function(M){var le;for(le in Us)Us.hasOwnProperty(le)&&(Us[le]instanceof ym?Yl(Us[le]):Us[le]instanceof Uf&&Ir(Us[le],M))},su=function(M){for(var le in M.objectNumber=un(),_e("<<"),M)switch(le){case"opacity":_e("/ca "+H(M[le]));break;case"stroke-opacity":_e("/CA "+H(M[le]))}_e(">>"),_e("endobj")},pl=function(){var M;for(M in Fn)Fn.hasOwnProperty(M)&&su(Fn[M])},ro=function(){for(var M in _e("/XObject <<"),xn)xn.hasOwnProperty(M)&&xn[M].objectNumber>=0&&_e("/"+M+" "+xn[M].objectNumber+" 0 R");gs.publish("putXobjectDict"),_e(">>")},Sc=function(){Zn.oid=un(),_e("<<"),_e("/Filter /Standard"),_e("/V "+Zn.v),_e("/R "+Zn.r),_e("/U <"+Zn.toHexString(Zn.U)+">"),_e("/O <"+Zn.toHexString(Zn.O)+">"),_e("/P "+Zn.P),_e(">>"),_e("endobj")},od=function(){for(var M in _e("/Font <<"),zs)zs.hasOwnProperty(M)&&(p===!1||p===!0&&y.hasOwnProperty(M))&&_e("/"+M+" "+zs[M].objectNumber+" 0 R");_e(">>")},nu=function(){if(Object.keys(Us).length>0){for(var M in _e("/Shading <<"),Us)Us.hasOwnProperty(M)&&Us[M]instanceof ym&&Us[M].objectNumber>=0&&_e("/"+M+" "+Us[M].objectNumber+" 0 R");gs.publish("putShadingPatternDict"),_e(">>")}},Zo=function(M){if(Object.keys(Us).length>0){for(var le in _e("/Pattern <<"),Us)Us.hasOwnProperty(le)&&Us[le]instanceof x.TilingPattern&&Us[le].objectNumber>=0&&Us[le].objectNumber<M&&_e("/"+le+" "+Us[le].objectNumber+" 0 R");gs.publish("putTilingPatternDict"),_e(">>")}},Ks=function(){if(Object.keys(Fn).length>0){var M;for(M in _e("/ExtGState <<"),Fn)Fn.hasOwnProperty(M)&&Fn[M].objectNumber>=0&&_e("/"+M+" "+Fn[M].objectNumber+" 0 R");gs.publish("putGStateDict"),_e(">>")}},Ps=function(M){Yi(M.resourcesOid,!0),_e("<<"),_e("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),od(),nu(),Zo(M.objectOid),Ks(),ro(),_e(">>"),_e("endobj")},fa=function(){var M=[];Wl(),pl(),Eo(),_c(M),gs.publish("putResources"),M.forEach(Ps),Ps({resourcesOid:Bn,objectOid:Number.MAX_SAFE_INTEGER}),gs.publish("postPutResources")},Fr=function(){gs.publish("putAdditionalObjects");for(var M=0;M<Xe.length;M++){var le=Xe[M];Yi(le.objId,!0),_e(le.content),_e("endobj")}gs.publish("postPutAdditionalObjects")},Ko=function(M){Cs[M.fontName]=Cs[M.fontName]||{},Cs[M.fontName][M.fontStyle]=M.id},Cc=function(M,le,Se,Oe,Ge){var ct={id:"F"+(Object.keys(zs).length+1).toString(10),postScriptName:M,fontName:le,fontStyle:Se,encoding:Oe,isStandardFont:Ge||!1,metadata:{}};return gs.publish("addFont",{font:ct,instance:this}),zs[ct.id]=ct,Ko(ct),ct.id},Is=function(M){for(var le=0,Se=ht.length;le<Se;le++){var Oe=Cc.call(this,M[le][0],M[le][1],M[le][2],ht[le][3],!0);p===!1&&(y[Oe]=!0);var Ge=M[le][0].split("-");Ko({id:Oe,fontName:Ge[0],fontStyle:Ge[1]||""})}gs.publish("addFonts",{fonts:zs,dictionary:Cs})},vn=function(M){return M.foo=function(){try{return M.apply(this,arguments)}catch(Oe){var le=Oe.stack||"";~le.indexOf(" at ")&&(le=le.split(" at ")[1]);var Se="Error in function "+le.split(`
`)[0].split("<")[0]+": "+Oe.message;if(!Ms.console)throw new Error(Se);Ms.console.error(Se,Oe),Ms.alert&&alert(Se)}},M.foo.bar=M,M.foo},Po=function(M,le){var Se,Oe,Ge,ct,_t,Bt,Zt,Ls,Ns;if(Ge=(le=le||{}).sourceEncoding||"Unicode",_t=le.outputEncoding,(le.autoencode||_t)&&zs[fs].metadata&&zs[fs].metadata[Ge]&&zs[fs].metadata[Ge].encoding&&(ct=zs[fs].metadata[Ge].encoding,!_t&&zs[fs].encoding&&(_t=zs[fs].encoding),!_t&&ct.codePages&&(_t=ct.codePages[0]),typeof _t=="string"&&(_t=ct[_t]),_t)){for(Zt=!1,Bt=[],Se=0,Oe=M.length;Se<Oe;Se++)(Ls=_t[M.charCodeAt(Se)])?Bt.push(String.fromCharCode(Ls)):Bt.push(M[Se]),Bt[Se].charCodeAt(0)>>8&&(Zt=!0);M=Bt.join("")}for(Se=M.length;Zt===void 0&&Se!==0;)M.charCodeAt(Se-1)>>8&&(Zt=!0),Se--;if(!Zt)return M;for(Bt=le.noBOM?[]:[254,255],Se=0,Oe=M.length;Se<Oe;Se++){if((Ns=(Ls=M.charCodeAt(Se))>>8)>>8)throw new Error("Character at position "+Se+" of string '"+M+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Bt.push(Ns),Bt.push(Ls-(Ns<<8))}return String.fromCharCode.apply(void 0,Bt)},Ci=x.__private__.pdfEscape=x.pdfEscape=function(M,le){return Po(M,le).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Wn=x.__private__.beginPage=function(M){tt[++Sn]=[],Ct[Sn]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(M[0]),topRightY:Number(M[1])}},io(Sn),Je(tt[J])},ld=function(M,le){var Se,Oe,Ge;switch(s=le||s,typeof M=="string"&&(Se=C(M.toLowerCase()),Array.isArray(Se)&&(Oe=Se[0],Ge=Se[1])),Array.isArray(M)&&(Oe=M[0]*At,Ge=M[1]*At),isNaN(Oe)&&(Oe=i[0],Ge=i[1]),(Oe>14400||Ge>14400)&&(jr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Oe=Math.min(14400,Oe),Ge=Math.min(14400,Ge)),i=[Oe,Ge],s.substr(0,1)){case"l":Ge>Oe&&(i=[Ge,Oe]);break;case"p":Oe>Ge&&(i=[Ge,Oe])}Wn(i),Ec(Kr),_e(Ga),lu!==0&&_e(lu+" J"),Ra!==0&&_e(Ra+" j"),gs.publish("addPage",{pageNumber:Sn})},Ac=function(M){M>0&&M<=Sn&&(tt.splice(M,1),Ct.splice(M,1),Sn--,J>Sn&&(J=Sn),this.setPage(J))},io=function(M){M>0&&M<=Sn&&(J=M)},Yn=x.__private__.getNumberOfPages=x.getNumberOfPages=function(){return tt.length-1},Lo=function(M,le,Se){var Oe,Ge=void 0;return Se=Se||{},M=M!==void 0?M:zs[fs].fontName,le=le!==void 0?le:zs[fs].fontStyle,Oe=M.toLowerCase(),Cs[Oe]!==void 0&&Cs[Oe][le]!==void 0?Ge=Cs[Oe][le]:Cs[M]!==void 0&&Cs[M][le]!==void 0?Ge=Cs[M][le]:Se.disableWarning===!1&&jr.warn("Unable to look up font label for font '"+M+"', '"+le+"'. Refer to getFontList() for available fonts."),Ge||Se.noFallback||(Ge=Cs.times[le])==null&&(Ge=Cs.times.normal),Ge},Zl=x.__private__.putInfo=function(){var M=un(),le=function(Oe){return Oe};for(var Se in g!==null&&(le=Zn.encryptor(M,0)),_e("<<"),_e("/Producer ("+Ci(le("jsPDF "+Rs.version))+")"),Gt)Gt.hasOwnProperty(Se)&&Gt[Se]&&_e("/"+Se.substr(0,1).toUpperCase()+Se.substr(1)+" ("+Ci(le(Gt[Se]))+")");_e("/CreationDate ("+Ci(le(ie))+")"),_e(">>"),_e("endobj")},Ta=x.__private__.putCatalog=function(M){var le=(M=M||{}).rootDictionaryObjId||Ni;switch(un(),_e("<<"),_e("/Type /Catalog"),_e("/Pages "+le+" 0 R"),ke||(ke="fullwidth"),ke){case"fullwidth":_e("/OpenAction [3 0 R /FitH null]");break;case"fullheight":_e("/OpenAction [3 0 R /FitV null]");break;case"fullpage":_e("/OpenAction [3 0 R /Fit]");break;case"original":_e("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Se=""+ke;Se.substr(Se.length-1)==="%"&&(ke=parseInt(ke)/100),typeof ke=="number"&&_e("/OpenAction [3 0 R /XYZ null null "+H(ke)+"]")}switch(Nt||(Nt="continuous"),Nt){case"continuous":_e("/PageLayout /OneColumn");break;case"single":_e("/PageLayout /SinglePage");break;case"two":case"twoleft":_e("/PageLayout /TwoColumnLeft");break;case"tworight":_e("/PageLayout /TwoColumnRight")}rt&&_e("/PageMode /"+rt),gs.publish("putCatalog"),_e(">>"),_e("endobj")},ru=x.__private__.putTrailer=function(){_e("trailer"),_e("<<"),_e("/Size "+(be+1)),_e("/Root "+be+" 0 R"),_e("/Info "+(be-1)+" 0 R"),g!==null&&_e("/Encrypt "+Zn.oid+" 0 R"),_e("/ID [ <"+q+"> <"+q+"> ]"),_e(">>")},Kl=x.__private__.putHeader=function(){_e("%PDF-"+_),_e("%")},cd=x.__private__.putXRef=function(){var M="0000000000";_e("xref"),_e("0 "+(be+1)),_e("0000000000 65535 f ");for(var le=1;le<=be;le++)typeof we[le]=="function"?_e((M+we[le]()).slice(-10)+" 00000 n "):we[le]!==void 0?_e((M+we[le]).slice(-10)+" 00000 n "):_e("0000000000 00000 n ")},$a=x.__private__.buildDocument=function(){Et(),Je(Ce),gs.publish("buildDocument"),Kl(),Gl(),Fr(),fa(),g!==null&&Sc(),Zl(),Ta();var M=Re;return cd(),ru(),_e("startxref"),_e(""+M),_e("%%EOF"),Je(tt[J]),Ce.join(`
`)},gl=x.__private__.getBlob=function(M){return new Blob([Dt(M)],{type:"application/pdf"})},Jl=x.output=x.__private__.output=vn((function(M,le){switch(typeof(le=le||{})=="string"?le={filename:le}:le.filename=le.filename||"generated.pdf",M){case void 0:return $a();case"save":x.save(le.filename);break;case"arraybuffer":return Dt($a());case"blob":return gl($a());case"bloburi":case"bloburl":if(Ms.URL!==void 0&&typeof Ms.URL.createObjectURL=="function")return Ms.URL&&Ms.URL.createObjectURL(gl($a()))||void 0;jr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Se="",Oe=$a();try{Se=E1(Oe)}catch{Se=E1(unescape(encodeURIComponent(Oe)))}return"data:application/pdf;filename="+le.filename+";base64,"+Se;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ms)==="[object Window]"){var Ge="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ct=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';le.pdfObjectUrl&&(Ge=le.pdfObjectUrl,ct="");var _t='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ge+'"'+ct+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(le)+");<\/script></body></html>",Bt=Ms.open();return Bt!==null&&Bt.document.write(_t),Bt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ms)==="[object Window]"){var Zt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(le.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+le.filename+'" width="500px" height="400px" /></body></html>',Ls=Ms.open();if(Ls!==null){Ls.document.write(Zt);var Ns=this;Ls.document.documentElement.querySelector("#pdfViewer").onload=function(){Ls.document.title=le.filename,Ls.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ns.output("bloburl"))}}return Ls}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ms)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var on='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",le)+'"></iframe></body></html>',tr=Ms.open();if(tr!==null&&(tr.document.write(on),tr.document.title=le.filename),tr||typeof safari>"u")return tr;break;case"datauri":case"dataurl":return Ms.document.location.href=this.output("datauristring",le);default:return null}})),xl=function(M){return Array.isArray(ur)===!0&&ur.indexOf(M)>-1};switch(r){case"pt":At=1;break;case"mm":At=72/25.4;break;case"cm":At=72/2.54;break;case"in":At=72;break;case"px":At=xl("px_scaling")==1?.75:96/72;break;case"pc":case"em":At=12;break;case"ex":At=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);At=r}var Zn=null;re(),te();var dd=function(M){return g!==null?Zn.encryptor(M,0):function(le){return le}},Xl=x.__private__.getPageInfo=x.getPageInfo=function(M){if(isNaN(M)||M%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ct[M].objId,pageNumber:M,pageContext:Ct[M]}},js=x.__private__.getPageInfoByObjId=function(M){if(isNaN(M)||M%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var le in Ct)if(Ct[le].objId===M)break;return Xl(le)},ws=x.__private__.getCurrentPageInfo=x.getCurrentPageInfo=function(){return{objId:Ct[J].objId,pageNumber:J,pageContext:Ct[J]}};x.addPage=function(){return ld.apply(this,arguments),this},x.setPage=function(){return io.apply(this,arguments),Je.call(this,tt[J]),this},x.insertPage=function(M){return this.addPage(),this.movePage(J,M),this},x.movePage=function(M,le){var Se,Oe;if(M>le){Se=tt[M],Oe=Ct[M];for(var Ge=M;Ge>le;Ge--)tt[Ge]=tt[Ge-1],Ct[Ge]=Ct[Ge-1];tt[le]=Se,Ct[le]=Oe,this.setPage(le)}else if(M<le){Se=tt[M],Oe=Ct[M];for(var ct=M;ct<le;ct++)tt[ct]=tt[ct+1],Ct[ct]=Ct[ct+1];tt[le]=Se,Ct[le]=Oe,this.setPage(le)}return this},x.deletePage=function(){return Ac.apply(this,arguments),this},x.__private__.text=x.text=function(M,le,Se,Oe,Ge){var ct,_t,Bt,Zt,Ls,Ns,on,tr,sr,Ar=(Oe=Oe||{}).scope||this;if(typeof M=="number"&&typeof le=="number"&&(typeof Se=="string"||Array.isArray(Se))){var ki=Se;Se=le,le=M,M=ki}if(arguments[3]instanceof es?(D("The transform parameter of text() with a Matrix value"),sr=Ge):(Bt=arguments[4],Zt=arguments[5],dr(on=arguments[3])==="object"&&on!==null||(typeof Bt=="string"&&(Zt=Bt,Bt=null),typeof on=="string"&&(Zt=on,on=null),typeof on=="number"&&(Bt=on,on=null),Oe={flags:on,angle:Bt,align:Zt})),isNaN(le)||isNaN(Se)||M==null)throw new Error("Invalid arguments passed to jsPDF.text");if(M.length===0)return Ar;var Br="",Ki=!1,xr=typeof Oe.lineHeightFactor=="number"?Oe.lineHeightFactor:Ql,pa=Ar.internal.scaleFactor;function Yu(Qs){return Qs=Qs.split("	").join(Array(Oe.TabLen||9).join(" ")),Ci(Qs,on)}function Oa(Qs){for(var kn,yn=Qs.concat(),bn=[],fo=yn.length;fo--;)typeof(kn=yn.shift())=="string"?bn.push(kn):Array.isArray(Qs)&&(kn.length===1||kn[1]===void 0&&kn[2]===void 0)?bn.push(kn[0]):bn.push([kn[0],kn[1],kn[2]]);return bn}function xd(Qs,kn){var yn;if(typeof Qs=="string")yn=kn(Qs)[0];else if(Array.isArray(Qs)){for(var bn,fo,Sl=Qs.concat(),Ja=[],wd=Sl.length;wd--;)typeof(bn=Sl.shift())=="string"?Ja.push(kn(bn)[0]):Array.isArray(bn)&&typeof bn[0]=="string"&&(fo=kn(bn[0],bn[1],bn[2]),Ja.push([fo[0],fo[1],fo[2]]));yn=Ja}return yn}var ga=!1,wl=!0;if(typeof M=="string")ga=!0;else if(Array.isArray(M)){var Nl=M.concat();_t=[];for(var Xo,kr=Nl.length;kr--;)(typeof(Xo=Nl.shift())!="string"||Array.isArray(Xo)&&typeof Xo[0]!="string")&&(wl=!1);ga=wl}if(ga===!1)throw new Error('Type of text must be string or Array. "'+M+'" is not recognized.');typeof M=="string"&&(M=M.match(/[\r?\n]/)?M.split(/\r\n|\r|\n/g):[M]);var Pc=je/Ar.internal.scaleFactor,xa=Pc*(xr-1);switch(Oe.baseline){case"bottom":Se-=xa;break;case"top":Se+=Pc-xa;break;case"hanging":Se+=Pc-2*xa;break;case"middle":Se+=Pc/2-xa}if((Ns=Oe.maxWidth||0)>0&&(typeof M=="string"?M=Ar.splitTextToSize(M,Ns):Object.prototype.toString.call(M)==="[object Array]"&&(M=M.reduce((function(Qs,kn){return Qs.concat(Ar.splitTextToSize(kn,Ns))}),[]))),ct={text:M,x:le,y:Se,options:Oe,mutex:{pdfEscape:Ci,activeFontKey:fs,fonts:zs,activeFontSize:je}},gs.publish("preProcessText",ct),M=ct.text,Bt=(Oe=ct.options).angle,!(sr instanceof es)&&Bt&&typeof Bt=="number"){Bt*=Math.PI/180,Oe.rotationDirection===0&&(Bt=-Bt),S===P.ADVANCED&&(Bt=-Bt);var Ro=Math.cos(Bt),vd=Math.sin(Bt);sr=new es(Ro,vd,-vd,Ro,0,0)}else Bt&&Bt instanceof es&&(sr=Bt);S!==P.ADVANCED||sr||(sr=gr),(Ls=Oe.charSpace||md)!==void 0&&(Br+=B(W(Ls))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(tr=Oe.horizontalScale)!==void 0&&(Br+=B(100*tr)+` Tz
`),Oe.lang;var Ei=-1,Zu=Oe.renderingMode!==void 0?Oe.renderingMode:Oe.stroke,Wa=Ar.internal.getCurrentPageInfo().pageContext;switch(Zu){case 0:case!1:case"fill":Ei=0;break;case 1:case!0:case"stroke":Ei=1;break;case 2:case"fillThenStroke":Ei=2;break;case 3:case"invisible":Ei=3;break;case 4:case"fillAndAddForClipping":Ei=4;break;case 5:case"strokeAndAddPathForClipping":Ei=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ei=6;break;case 7:case"addToPathForClipping":Ei=7}var Ku=Wa.usedRenderingMode!==void 0?Wa.usedRenderingMode:-1;Ei!==-1?Br+=Ei+` Tr
`:Ku!==-1&&(Br+=`0 Tr
`),Ei!==-1&&(Wa.usedRenderingMode=Ei),Zt=Oe.align||"left";var Ti,yd=je*xr,co=Ar.internal.pageSize.getWidth(),Jr=zs[fs];Ls=Oe.charSpace||md,Ns=Oe.maxWidth||0,on=Object.assign({autoencode:!0,noBOM:!0},Oe.flags);var Ya=[],Qo=function(Qs){return Ar.getStringUnitWidth(Qs,{font:Jr,charSpace:Ls,fontSize:je,doKerning:!1})*je/pa};if(Object.prototype.toString.call(M)==="[object Array]"){var li;_t=Oa(M),Zt!=="left"&&(Ti=_t.map(Qo));var ci,uo=0;if(Zt==="right"){le-=Ti[0],M=[],kr=_t.length;for(var Ji=0;Ji<kr;Ji++)Ji===0?(ci=Nr(le),li=Ai(Se)):(ci=W(uo-Ti[Ji]),li=-yd),M.push([_t[Ji],ci,li]),uo=Ti[Ji]}else if(Zt==="center"){le-=Ti[0]/2,M=[],kr=_t.length;for(var ho=0;ho<kr;ho++)ho===0?(ci=Nr(le),li=Ai(Se)):(ci=W((uo-Ti[ho])/2),li=-yd),M.push([_t[ho],ci,li]),uo=Ti[ho]}else if(Zt==="left"){M=[],kr=_t.length;for(var Za=0;Za<kr;Za++)M.push(_t[Za])}else if(Zt==="justify"&&Jr.encoding==="Identity-H"){M=[],kr=_t.length,Ns=Ns!==0?Ns:co;for(var mo=0,nr=0;nr<kr;nr++)if(li=nr===0?Ai(Se):-yd,ci=nr===0?Nr(le):mo,nr<kr-1){var el=W((Ns-Ti[nr])/(_t[nr].split(" ").length-1)),Xi=_t[nr].split(" ");M.push([Xi[0]+" ",ci,li]),mo=0;for(var Xr=1;Xr<Xi.length;Xr++){var Oo=(Qo(Xi[Xr-1]+" "+Xi[Xr])-Qo(Xi[Xr]))*pa+el;Xr==Xi.length-1?M.push([Xi[Xr],Oo,0]):M.push([Xi[Xr]+" ",Oo,0]),mo-=Oo}}else M.push([_t[nr],ci,li]);M.push(["",mo,0])}else{if(Zt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(M=[],kr=_t.length,Ns=Ns!==0?Ns:co,nr=0;nr<kr;nr++)li=nr===0?Ai(Se):-yd,ci=nr===0?Nr(le):0,nr<kr-1?Ya.push(B(W((Ns-Ti[nr])/(_t[nr].split(" ").length-1)))):Ya.push(0),M.push([_t[nr],ci,li])}}var Lc=typeof Oe.R2L=="boolean"?Oe.R2L:it;Lc===!0&&(M=xd(M,(function(Qs,kn,yn){return[Qs.split("").reverse().join(""),kn,yn]}))),ct={text:M,x:le,y:Se,options:Oe,mutex:{pdfEscape:Ci,activeFontKey:fs,fonts:zs,activeFontSize:je}},gs.publish("postProcessText",ct),M=ct.text,Ki=ct.mutex.isHex||!1;var bd=zs[fs].encoding;bd!=="WinAnsiEncoding"&&bd!=="StandardEncoding"||(M=xd(M,(function(Qs,kn,yn){return[Yu(Qs),kn,yn]}))),_t=Oa(M),M=[];for(var _r,Mo,_l,Do=0,jd=1,ic=Array.isArray(_t[0])?jd:Do,ac="",tl=function(Qs,kn,yn){var bn="";return yn instanceof es?(yn=typeof Oe.angle=="number"?wi(yn,new es(1,0,0,1,Qs,kn)):wi(new es(1,0,0,1,Qs,kn),yn),S===P.ADVANCED&&(yn=wi(new es(1,0,0,-1,0,0),yn)),bn=yn.join(" ")+` Tm
`):bn=B(Qs)+" "+B(kn)+` Td
`,bn},Ka=0;Ka<_t.length;Ka++){switch(ac="",ic){case jd:_l=(Ki?"<":"(")+_t[Ka][0]+(Ki?">":")"),_r=parseFloat(_t[Ka][1]),Mo=parseFloat(_t[Ka][2]);break;case Do:_l=(Ki?"<":"(")+_t[Ka]+(Ki?">":")"),_r=Nr(le),Mo=Ai(Se)}Ya!==void 0&&Ya[Ka]!==void 0&&(ac=Ya[Ka]+` Tw
`),Ka===0?M.push(ac+tl(_r,Mo,sr)+_l):ic===Do?M.push(ac+_l):ic===jd&&M.push(ac+tl(_r,Mo,sr)+_l)}M=ic===Do?M.join(` Tj
T* `):M.join(` Tj
`),M+=` Tj
`;var Qr=`BT
/`;return Qr+=fs+" "+je+` Tf
`,Qr+=B(je*xr)+` TL
`,Qr+=ec+`
`,Qr+=Br,Qr+=M,_e(Qr+="ET"),y[fs]=!0,Ar};var Va=x.__private__.clip=x.clip=function(M){return _e(M==="evenodd"?"W*":"W"),this};x.clipEvenOdd=function(){return Va("evenodd")},x.__private__.discardPath=x.discardPath=function(){return _e("n"),this};var Js=x.__private__.isValidStyle=function(M){var le=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(M)!==-1&&(le=!0),le};x.__private__.setDefaultPathOperation=x.setDefaultPathOperation=function(M){return Js(M)&&(m=M),this};var ud=x.__private__.getStyle=x.getStyle=function(M){var le=m;switch(M){case"D":case"S":le="S";break;case"F":le="f";break;case"FD":case"DF":le="B";break;case"f":case"f*":case"B":case"B*":le=M}return le},Jo=x.close=function(){return _e("h"),this};x.stroke=function(){return _e("S"),this},x.fill=function(M){return Zi("f",M),this},x.fillEvenOdd=function(M){return Zi("f*",M),this},x.fillStroke=function(M){return Zi("B",M),this},x.fillStrokeEvenOdd=function(M){return Zi("B*",M),this};var Zi=function(M,le){dr(le)==="object"?ao(le,M):_e(M)},vl=function(M){M===null||S===P.ADVANCED&&M===void 0||(M=ud(M),_e(M))};function Ha(M,le,Se,Oe,Ge){var ct=new Uf(le||this.boundingBox,Se||this.xStep,Oe||this.yStep,this.gState,Ge||this.matrix);ct.stream=this.stream;var _t=M+"$$"+this.cloneIndex+++"$$";return Gn(_t,ct),ct}var ao=function(M,le){var Se=Gi[M.key],Oe=Us[Se];if(Oe instanceof ym)_e("q"),_e(yl(le)),Oe.gState&&x.setGState(Oe.gState),_e(M.matrix.toString()+" cm"),_e("/"+Se+" sh"),_e("Q");else if(Oe instanceof Uf){var Ge=new es(1,0,0,-1,0,rc());M.matrix&&(Ge=Ge.multiply(M.matrix||gr),Se=Ha.call(Oe,M.key,M.boundingBox,M.xStep,M.yStep,Ge).id),_e("q"),_e("/Pattern cs"),_e("/"+Se+" scn"),Oe.gState&&x.setGState(Oe.gState),_e(le),_e("Q")}},yl=function(M){switch(M){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},hr=x.moveTo=function(M,le){return _e(B(W(M))+" "+B(Z(le))+" m"),this},Pa=x.lineTo=function(M,le){return _e(B(W(M))+" "+B(Z(le))+" l"),this},oo=x.curveTo=function(M,le,Se,Oe,Ge,ct){return _e([B(W(M)),B(Z(le)),B(W(Se)),B(Z(Oe)),B(W(Ge)),B(Z(ct)),"c"].join(" ")),this};x.__private__.line=x.line=function(M,le,Se,Oe,Ge){if(isNaN(M)||isNaN(le)||isNaN(Se)||isNaN(Oe)||!Js(Ge))throw new Error("Invalid arguments passed to jsPDF.line");return S===P.COMPAT?this.lines([[Se-M,Oe-le]],M,le,[1,1],Ge||"S"):this.lines([[Se-M,Oe-le]],M,le,[1,1]).stroke()},x.__private__.lines=x.lines=function(M,le,Se,Oe,Ge,ct){var _t,Bt,Zt,Ls,Ns,on,tr,sr,Ar,ki,Br,Ki;if(typeof M=="number"&&(Ki=Se,Se=le,le=M,M=Ki),Oe=Oe||[1,1],ct=ct||!1,isNaN(le)||isNaN(Se)||!Array.isArray(M)||!Array.isArray(Oe)||!Js(Ge)||typeof ct!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(hr(le,Se),_t=Oe[0],Bt=Oe[1],Ls=M.length,ki=le,Br=Se,Zt=0;Zt<Ls;Zt++)(Ns=M[Zt]).length===2?(ki=Ns[0]*_t+ki,Br=Ns[1]*Bt+Br,Pa(ki,Br)):(on=Ns[0]*_t+ki,tr=Ns[1]*Bt+Br,sr=Ns[2]*_t+ki,Ar=Ns[3]*Bt+Br,ki=Ns[4]*_t+ki,Br=Ns[5]*Bt+Br,oo(on,tr,sr,Ar,ki,Br));return ct&&Jo(),vl(Ge),this},x.path=function(M){for(var le=0;le<M.length;le++){var Se=M[le],Oe=Se.c;switch(Se.op){case"m":hr(Oe[0],Oe[1]);break;case"l":Pa(Oe[0],Oe[1]);break;case"c":oo.apply(this,Oe);break;case"h":Jo()}}return this},x.__private__.rect=x.rect=function(M,le,Se,Oe,Ge){if(isNaN(M)||isNaN(le)||isNaN(Se)||isNaN(Oe)||!Js(Ge))throw new Error("Invalid arguments passed to jsPDF.rect");return S===P.COMPAT&&(Oe=-Oe),_e([B(W(M)),B(Z(le)),B(W(Se)),B(W(Oe)),"re"].join(" ")),vl(Ge),this},x.__private__.triangle=x.triangle=function(M,le,Se,Oe,Ge,ct,_t){if(isNaN(M)||isNaN(le)||isNaN(Se)||isNaN(Oe)||isNaN(Ge)||isNaN(ct)||!Js(_t))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Se-M,Oe-le],[Ge-Se,ct-Oe],[M-Ge,le-ct]],M,le,[1,1],_t,!0),this},x.__private__.roundedRect=x.roundedRect=function(M,le,Se,Oe,Ge,ct,_t){if(isNaN(M)||isNaN(le)||isNaN(Se)||isNaN(Oe)||isNaN(Ge)||isNaN(ct)||!Js(_t))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Bt=4/3*(Math.SQRT2-1);return Ge=Math.min(Ge,.5*Se),ct=Math.min(ct,.5*Oe),this.lines([[Se-2*Ge,0],[Ge*Bt,0,Ge,ct-ct*Bt,Ge,ct],[0,Oe-2*ct],[0,ct*Bt,-Ge*Bt,ct,-Ge,ct],[2*Ge-Se,0],[-Ge*Bt,0,-Ge,-ct*Bt,-Ge,-ct],[0,2*ct-Oe],[0,-ct*Bt,Ge*Bt,-ct,Ge,-ct]],M+Ge,le,[1,1],_t,!0),this},x.__private__.ellipse=x.ellipse=function(M,le,Se,Oe,Ge){if(isNaN(M)||isNaN(le)||isNaN(Se)||isNaN(Oe)||!Js(Ge))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ct=4/3*(Math.SQRT2-1)*Se,_t=4/3*(Math.SQRT2-1)*Oe;return hr(M+Se,le),oo(M+Se,le-_t,M+ct,le-Oe,M,le-Oe),oo(M-ct,le-Oe,M-Se,le-_t,M-Se,le),oo(M-Se,le+_t,M-ct,le+Oe,M,le+Oe),oo(M+ct,le+Oe,M+Se,le+_t,M+Se,le),vl(Ge),this},x.__private__.circle=x.circle=function(M,le,Se,Oe){if(isNaN(M)||isNaN(le)||isNaN(Se)||!Js(Oe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(M,le,Se,Se,Oe)},x.setFont=function(M,le,Se){return Se&&(le=V(le,Se)),fs=Lo(M,le,{disableWarning:!1}),this};var kc=x.__private__.getFont=x.getFont=function(){return zs[Lo.apply(x,arguments)]};x.__private__.getFontList=x.getFontList=function(){var M,le,Se={};for(M in Cs)if(Cs.hasOwnProperty(M))for(le in Se[M]=[],Cs[M])Cs[M].hasOwnProperty(le)&&Se[M].push(le);return Se},x.addFont=function(M,le,Se,Oe,Ge){var ct=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ct.indexOf(arguments[3])!==-1?Ge=arguments[3]:arguments[3]&&ct.indexOf(arguments[3])==-1&&(Se=V(Se,Oe)),Ge=Ge||"Identity-H",Cc.call(this,M,le,Se,Ge)};var Ql,Kr=n.lineWidth||.200025,La=x.__private__.getLineWidth=x.getLineWidth=function(){return Kr},Ec=x.__private__.setLineWidth=x.setLineWidth=function(M){return Kr=M,_e(B(W(M))+" w"),this};x.__private__.setLineDash=Rs.API.setLineDash=Rs.API.setLineDashPattern=function(M,le){if(M=M||[],le=le||0,isNaN(le)||!Array.isArray(M))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return M=M.map((function(Se){return B(W(Se))})).join(" "),le=B(W(le)),_e("["+M+"] "+le+" d"),this};var bl=x.__private__.getLineHeight=x.getLineHeight=function(){return je*Ql};x.__private__.getLineHeight=x.getLineHeight=function(){return je*Ql};var Xs=x.__private__.setLineHeightFactor=x.setLineHeightFactor=function(M){return typeof(M=M||1.15)=="number"&&(Ql=M),this},hd=x.__private__.getLineHeightFactor=x.getLineHeightFactor=function(){return Ql};Xs(n.lineHeight);var Nr=x.__private__.getHorizontalCoordinate=function(M){return W(M)},Ai=x.__private__.getVerticalCoordinate=function(M){return S===P.ADVANCED?M:Ct[J].mediaBox.topRightY-Ct[J].mediaBox.bottomLeftY-W(M)},Tc=x.__private__.getHorizontalCoordinateString=x.getHorizontalCoordinateString=function(M){return B(Nr(M))},jl=x.__private__.getVerticalCoordinateString=x.getVerticalCoordinateString=function(M){return B(Ai(M))},Ga=n.strokeColor||"0 G";x.__private__.getStrokeColor=x.getDrawColor=function(){return er(Ga)},x.__private__.setStrokeColor=x.setDrawColor=function(M,le,Se,Oe){return Ga=_i({ch1:M,ch2:le,ch3:Se,ch4:Oe,pdfColorType:"draw",precision:2}),_e(Ga),this};var iu=n.fillColor||"0 g";x.__private__.getFillColor=x.getFillColor=function(){return er(iu)},x.__private__.setFillColor=x.setFillColor=function(M,le,Se,Oe){return iu=_i({ch1:M,ch2:le,ch3:Se,ch4:Oe,pdfColorType:"fill",precision:2}),_e(iu),this};var ec=n.textColor||"0 g",au=x.__private__.getTextColor=x.getTextColor=function(){return er(ec)};x.__private__.setTextColor=x.setTextColor=function(M,le,Se,Oe){return ec=_i({ch1:M,ch2:le,ch3:Se,ch4:Oe,pdfColorType:"text",precision:3}),this};var md=n.charSpace,ou=x.__private__.getCharSpace=x.getCharSpace=function(){return parseFloat(md||0)};x.__private__.setCharSpace=x.setCharSpace=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return md=M,this};var lu=0;x.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},x.__private__.setLineCap=x.setLineCap=function(M){var le=x.CapJoinStyles[M];if(le===void 0)throw new Error("Line cap style of '"+M+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return lu=le,_e(le+" J"),this};var Ra=0;x.__private__.setLineJoin=x.setLineJoin=function(M){var le=x.CapJoinStyles[M];if(le===void 0)throw new Error("Line join style of '"+M+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ra=le,_e(le+" j"),this},x.__private__.setLineMiterLimit=x.__private__.setMiterLimit=x.setLineMiterLimit=x.setMiterLimit=function(M){if(M=M||0,isNaN(M))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return _e(B(W(M))+" M"),this},x.GState=Ny,x.setGState=function(M){(M=typeof M=="string"?Fn[bi[M]]:Wu(null,M)).equals(Wi)||(_e("/"+M.id+" gs"),Wi=M)};var Wu=function(M,le){if(!M||!bi[M]){var Se=!1;for(var Oe in Fn)if(Fn.hasOwnProperty(Oe)&&Fn[Oe].equals(le)){Se=!0;break}if(Se)le=Fn[Oe];else{var Ge="GS"+(Object.keys(Fn).length+1).toString(10);Fn[Ge]=le,le.id=Ge}return M&&(bi[M]=le.id),gs.publish("addGState",le),le}};x.addGState=function(M,le){return Wu(M,le),this},x.saveGraphicsState=function(){return _e("q"),Dr.push({key:fs,size:je,color:ec}),this},x.restoreGraphicsState=function(){_e("Q");var M=Dr.pop();return fs=M.key,je=M.size,ec=M.color,Wi=null,this},x.setCurrentTransformationMatrix=function(M){return _e(M.toString()+" cm"),this},x.comment=function(M){return _e("#"+M),this};var tc=function(M,le){var Se=M||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Se},set:function(ct){isNaN(ct)||(Se=parseFloat(ct))}});var Oe=le||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Oe},set:function(ct){isNaN(ct)||(Oe=parseFloat(ct))}});var Ge="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ge},set:function(ct){Ge=ct.toString()}}),this},lo=function(M,le,Se,Oe){tc.call(this,M,le),this.type="rect";var Ge=Se||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ge},set:function(_t){isNaN(_t)||(Ge=parseFloat(_t))}});var ct=Oe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ct},set:function(_t){isNaN(_t)||(ct=parseFloat(_t))}}),this},fd=function(){this.page=Sn,this.currentPage=J,this.pages=tt.slice(0),this.pagesContext=Ct.slice(0),this.x=In,this.y=Ts,this.matrix=rn,this.width=nc(J),this.height=rc(J),this.outputDestination=jt,this.id="",this.objectNumber=-1};fd.prototype.restore=function(){Sn=this.page,J=this.currentPage,Ct=this.pagesContext,tt=this.pages,In=this.x,Ts=this.y,rn=this.matrix,pd(J,this.width),gd(J,this.height),jt=this.outputDestination};var cu=function(M,le,Se,Oe,Ge){an.push(new fd),Sn=J=0,tt=[],In=M,Ts=le,rn=Ge,Wn([Se,Oe])},du=function(M){if(ji[M])an.pop().restore();else{var le=new fd,Se="Xo"+(Object.keys(xn).length+1).toString(10);le.id=Se,ji[M]=Se,xn[Se]=le,gs.publish("addFormObject",le),an.pop().restore()}};for(var sc in x.beginFormObject=function(M,le,Se,Oe,Ge){return cu(M,le,Se,Oe,Ge),this},x.endFormObject=function(M){return du(M),this},x.doFormObject=function(M,le){var Se=xn[ji[M]];return _e("q"),_e(le.toString()+" cm"),_e("/"+Se.id+" Do"),_e("Q"),this},x.getFormObject=function(M){var le=xn[ji[M]];return{x:le.x,y:le.y,width:le.width,height:le.height,matrix:le.matrix}},x.save=function(M,le){return M=M||"generated.pdf",(le=le||{}).returnPromise=le.returnPromise||!1,le.returnPromise===!1?(fm(gl($a()),M),typeof fm.unload=="function"&&Ms.setTimeout&&setTimeout(fm.unload,911),this):new Promise((function(Se,Oe){try{var Ge=fm(gl($a()),M);typeof fm.unload=="function"&&Ms.setTimeout&&setTimeout(fm.unload,911),Se(Ge)}catch(ct){Oe(ct.message)}}))},Rs.API)Rs.API.hasOwnProperty(sc)&&(sc==="events"&&Rs.API.events.length?(function(M,le){var Se,Oe,Ge;for(Ge=le.length-1;Ge!==-1;Ge--)Se=le[Ge][0],Oe=le[Ge][1],M.subscribe.apply(M,[Se].concat(typeof Oe=="function"?[Oe]:Oe))})(gs,Rs.API.events):x[sc]=Rs.API[sc]);var nc=x.getPageWidth=function(M){return(Ct[M=M||J].mediaBox.topRightX-Ct[M].mediaBox.bottomLeftX)/At},pd=x.setPageWidth=function(M,le){Ct[M].mediaBox.topRightX=le*At+Ct[M].mediaBox.bottomLeftX},rc=x.getPageHeight=function(M){return(Ct[M=M||J].mediaBox.topRightY-Ct[M].mediaBox.bottomLeftY)/At},gd=x.setPageHeight=function(M,le){Ct[M].mediaBox.topRightY=le*At+Ct[M].mediaBox.bottomLeftY};return x.internal={pdfEscape:Ci,getStyle:ud,getFont:kc,getFontSize:Pe,getCharSpace:ou,getTextColor:au,getLineHeight:bl,getLineHeightFactor:hd,getLineWidth:La,write:$t,getHorizontalCoordinate:Nr,getVerticalCoordinate:Ai,getCoordinateString:Tc,getVerticalCoordinateString:jl,collections:{},newObject:un,newAdditionalObject:Hl,newObjectDeferred:Tt,newObjectDeferredBegin:Yi,getFilters:Si,putStream:Ua,events:gs,scaleFactor:At,pageSize:{getWidth:function(){return nc(J)},setWidth:function(M){pd(J,M)},getHeight:function(){return rc(J)},setHeight:function(M){gd(J,M)}},encryptionOptions:g,encryption:Zn,getEncryptor:dd,output:Jl,getNumberOfPages:Yn,pages:tt,out:_e,f2:H,f3:$,getPageInfo:Xl,getPageInfoByObjId:js,getCurrentPageInfo:ws,getPDFVersion:j,Point:tc,Rectangle:lo,Matrix:es,hasHotfix:xl},Object.defineProperty(x.internal.pageSize,"width",{get:function(){return nc(J)},set:function(M){pd(J,M)},enumerable:!0,configurable:!0}),Object.defineProperty(x.internal.pageSize,"height",{get:function(){return rc(J)},set:function(M){gd(J,M)},enumerable:!0,configurable:!0}),Is.call(x,ht),fs="F1",ld(i,s),gs.publish("initialized"),x}If.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},If.prototype.toHexString=function(n){return n.split("").map((function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)})).join("")},If.prototype.hexToBytes=function(n){for(var t=[],s=0;s<n.length;s+=2)t.push(String.fromCharCode(parseInt(n.substr(s,2),16)));return t.join("")},If.prototype.processOwnerPassword=function(n,t){return P1(T1(t).substr(0,5),n)},If.prototype.encryptor=function(n,t){var s=T1(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return P1(s,r)}},Ny.prototype.equals=function(n){var t,s="id,objectNumber,equals";if(!n||dr(n)!==dr(this))return!1;var r=0;for(t in this)if(!(s.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!n.hasOwnProperty(t)||this[t]!==n[t])return!1;r++}for(t in n)n.hasOwnProperty(t)&&s.indexOf(t)<0&&r--;return r===0},Rs.API={events:[]},Rs.version="2.5.2";var mi=Rs.API,g2=1,Gm=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},kf=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Hs=function(n){return n.toFixed(2)},jh=function(n){return n.toFixed(5)};mi.__acroform__={};var fl=function(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n},wS=function(n){return n*g2},Fd=function(n){var t=new gP,s=is.internal.getHeight(n)||0,r=is.internal.getWidth(n)||0;return t.BBox=[0,0,Number(Hs(r)),Number(Hs(s))],t},JY=mi.__acroform__.setBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<t},XY=mi.__acroform__.clearBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<t)},QY=mi.__acroform__.getBit=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(n&1<<t)==0?0:1},Di=mi.__acroform__.getBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return QY(n,t-1)},Ii=mi.__acroform__.setBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return JY(n,t-1)},Fi=mi.__acroform__.clearBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return XY(n,t-1)},eZ=mi.__acroform__.calculateCoordinates=function(n,t){var s=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=n[0],a=n[1],l=n[2],c=n[3],u={};return u.lowerLeft_X=s(i)||0,u.lowerLeft_Y=r(a+c)||0,u.upperRight_X=s(i+l)||0,u.upperRight_Y=r(a)||0,[Number(Hs(u.lowerLeft_X)),Number(Hs(u.lowerLeft_Y)),Number(Hs(u.upperRight_X)),Number(Hs(u.upperRight_Y))]},tZ=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var t=[],s=n._V||n.DV,r=L1(n,s),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(n.scope.__private__.encodeColorString(n.color)),t.push("/"+i+" "+Hs(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=Fd(n);return a.scope=n.scope,a.stream=t.join(`
`),a}},L1=function(n,t){var s=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=n.multiline?i.map((function($){return $.split(`
`)})):i.map((function($){return[$]}));var a=s,l=is.internal.getHeight(n)||0;l=l<0?-l:l;var c=is.internal.getWidth(n)||0;c=c<0?-c:c;var u=function($,W,Q){if($+1<i.length){var Z=W+" "+i[$+1][0];return Tv(Z,n,Q).width<=c-4}return!1};a++;e:for(;a>0;){t="",a--;var m,g,p=Tv("3",n,a).height,y=n.multiline?l-a:(l-p)/2,x=y+=2,_=0,j=0,A=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+Tv(t,n,a=12).width+", FieldWidth:"+c+`
`;break}for(var C="",P=0,S=0;S<i.length;S++)if(i.hasOwnProperty(S)){var O=!1;if(i[S].length!==1&&A!==i[S].length-1){if((p+2)*(P+2)+2>l)continue e;C+=i[S][A],O=!0,j=S,S--}else{C=(C+=i[S][A]+" ").substr(C.length-1)==" "?C.substr(0,C.length-1):C;var z=parseInt(S),V=u(z,C,a),B=S>=i.length-1;if(V&&!B){C+=" ",A=0;continue}if(V||B){if(B)j=z;else if(n.multiline&&(p+2)*(P+2)+2>l)continue e}else{if(!n.multiline||(p+2)*(P+2)+2>l)continue e;j=z}}for(var D="",K=_;K<=j;K++){var H=i[K];if(n.multiline){if(K===j){D+=H[A]+" ",A=(A+1)%H.length;continue}if(K===_){D+=H[H.length-1]+" ";continue}}D+=H[0]+" "}switch(D=D.substr(D.length-1)==" "?D.substr(0,D.length-1):D,g=Tv(D,n,a).width,n.textAlign){case"right":m=c-g-2;break;case"center":m=(c-g)/2;break;case"left":default:m=2}t+=Hs(m)+" "+Hs(x)+` Td
`,t+="("+Gm(D)+`) Tj
`,t+=-Hs(m)+` 0 Td
`,x=-(a+2),g=0,_=O?j:j+1,P++,C=""}break}return r.text=t,r.fontSize=a,r},Tv=function(n,t,s){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(s),charSpace:0})*parseFloat(s);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(s),charSpace:0})*parseFloat(s)*1.5,width:i}},sZ={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},nZ=function(n,t){var s={type:"reference",object:n};t.internal.getPageInfo(n.page).pageContext.annotations.find((function(r){return r.type===s.type&&r.object===s.object}))===void 0&&t.internal.getPageInfo(n.page).pageContext.annotations.push(s)},rZ=function(n,t){for(var s in n)if(n.hasOwnProperty(s)){var r=s,i=n[s];t.internal.newObjectDeferredBegin(i.objId,!0),dr(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete n[r]}},iZ=function(n,t){if(t.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(id.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(sZ)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");g2=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new xP,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",(function(){(function(s){s.internal.events.unsubscribe(s.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete s.internal.acroformPlugin.acroFormDictionaryRoot._eventID,s.internal.acroformPlugin.printedOut=!0})(n)})),n.internal.events.subscribe("buildDocument",(function(){(function(s){s.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=s.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&nZ(a,s)}})(n)})),n.internal.events.subscribe("putCatalog",(function(){(function(s){if(s.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");s.internal.write("/AcroForm "+s.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)})),n.internal.events.subscribe("postPutPages",(function(s){(function(r,i){var a=!r;for(var l in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(l)){var c=r[l],u=[],m=c.Rect;if(c.Rect&&(c.Rect=eZ(c.Rect,i)),i.internal.newObjectDeferredBegin(c.objId,!0),c.DA=is.createDefaultAppearanceStream(c),dr(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(u=c.getKeyValueListForStream()),c.Rect=m,c.hasAppearanceStream&&!c.appearanceStreamContent){var g=tZ(c);u.push({key:"AP",value:"<</N "+g+">>"}),i.internal.acroformPlugin.xForms.push(g)}if(c.appearanceStreamContent){var p="";for(var y in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(y)){var x=c.appearanceStreamContent[y];if(p+="/"+y+" ",p+="<<",Object.keys(x).length>=1||Array.isArray(x)){for(var l in x)if(x.hasOwnProperty(l)){var _=x[l];typeof _=="function"&&(_=_.call(i,c)),p+="/"+l+" "+_+" ",i.internal.acroformPlugin.xForms.indexOf(_)>=0||i.internal.acroformPlugin.xForms.push(_)}}else typeof(_=x)=="function"&&(_=_.call(i,c)),p+="/"+l+" "+_,i.internal.acroformPlugin.xForms.indexOf(_)>=0||i.internal.acroformPlugin.xForms.push(_);p+=">>"}u.push({key:"AP",value:`<<
`+p+">>"})}i.internal.putStream({additionalKeyValues:u,objectId:c.objId}),i.internal.out("endobj")}a&&rZ(i.internal.acroformPlugin.xForms,i)})(s,n)})),n.internal.acroformPlugin.isInitialized=!0}},pP=mi.__acroform__.arrayToPdfArray=function(n,t,s){var r=function(l){return l};if(Array.isArray(n)){for(var i="[",a=0;a<n.length;a++)switch(a!==0&&(i+=" "),dr(n[a])){case"boolean":case"number":case"object":i+=n[a].toString();break;case"string":n[a].substr(0,1)!=="/"?(t!==void 0&&s&&(r=s.internal.getEncryptor(t)),i+="("+Gm(r(n[a].toString()))+")"):i+=n[a].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},kj=function(n,t,s){var r=function(i){return i};return t!==void 0&&s&&(r=s.internal.getEncryptor(t)),(n=n||"").toString(),n="("+Gm(r(n))+")"},zd=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};zd.prototype.toString=function(){return this.objId+" 0 R"},zd.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},zd.prototype.getKeyValueListForStream=function(){var n=[],t=Object.getOwnPropertyNames(this).filter((function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"}));for(var s in t)if(Object.getOwnPropertyDescriptor(this,t[s]).configurable===!1){var r=t[s],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:pP(i,this.objId,this.scope)}):i instanceof zd?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var gP=function(){zd.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(s){n=s.trim()},get:function(){return n||null}})};fl(gP,zd);var xP=function(){zd.call(this);var n,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var s=function(r){return r};return this.scope&&(s=this.scope.internal.getEncryptor(this.objId)),"("+Gm(s(n))+")"}},set:function(s){n=s}})};fl(xP,zd);var id=function n(){zd.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute F supplied.');t=C}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Di(t,3)},set:function(C){C?this.F=Ii(t,3):this.F=Fi(t,3)}});var s=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return s},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute Ff supplied.');s=C}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(C){r=C!==void 0?C:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(C){r[0]=C}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(C){r[1]=C}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(C){r[2]=C}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(C){r[3]=C}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(C){switch(C){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=C;break;default:throw new Error('Invalid value "'+C+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof _y)return;a="FieldObject"+n.FieldNum++}var C=function(P){return P};return this.scope&&(C=this.scope.internal.getEncryptor(this.objId)),"("+Gm(C(a))+")"},set:function(C){a=C.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(C){a=C}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(C){l=C}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(C){c=C}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(C){u=C}});var m=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return m===void 0?50/g2:m},set:function(C){m=C}});var g="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return g},set:function(C){g=C}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof _y||this instanceof Cm))return kj(p,this.objId,this.scope)},set:function(C){C=C.toString(),p=C}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof Ia?y:kj(y,this.objId,this.scope)},set:function(C){C=C.toString(),y=this instanceof Ia?C:C.substr(0,1)==="("?kf(C.substr(1,C.length-2)):kf(C)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ia?kf(y.substr(1,y.length-1)):y},set:function(C){C=C.toString(),y=this instanceof Ia?"/"+C:C}});var x=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(x)return x},set:function(C){this.V=C}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof Ia?x:kj(x,this.objId,this.scope)},set:function(C){C=C.toString(),x=this instanceof Ia?C:C.substr(0,1)==="("?kf(C.substr(1,C.length-2)):kf(C)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ia?kf(x.substr(1,x.length-1)):x},set:function(C){C=C.toString(),x=this instanceof Ia?"/"+C:C}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var _,j=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return j},set:function(C){C=!!C,j=C}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(_)return _},set:function(C){_=C}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,1)},set:function(C){C?this.Ff=Ii(this.Ff,1):this.Ff=Fi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,2)},set:function(C){C?this.Ff=Ii(this.Ff,2):this.Ff=Fi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,3)},set:function(C){C?this.Ff=Ii(this.Ff,3):this.Ff=Fi(this.Ff,3)}});var A=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(A!==null)return A},set:function(C){if([0,1,2].indexOf(C)===-1)throw new Error('Invalid value "'+C+'" for attribute Q supplied.');A=C}}),Object.defineProperty(this,"textAlign",{get:function(){var C;switch(A){case 0:default:C="left";break;case 1:C="center";break;case 2:C="right"}return C},configurable:!0,enumerable:!0,set:function(C){switch(C){case"right":case 2:A=2;break;case"center":case 1:A=1;break;case"left":case 0:default:A=0}}})};fl(id,zd);var Wf=function(){id.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(s){n=s}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return pP(t,this.objId,this.scope)},set:function(s){var r,i;i=[],typeof(r=s)=="string"&&(i=(function(a,l,c){c||(c=1);for(var u,m=[];u=l.exec(a);)m.push(u[c]);return m})(r,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(s){t=s,this.sort&&t.sort()},this.addOption=function(s){s=(s=s||"").toString(),t.push(s),this.sort&&t.sort()},this.removeOption=function(s,r){for(r=r||!1,s=(s=s||"").toString();t.indexOf(s)!==-1&&(t.splice(t.indexOf(s),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,18)},set:function(s){s?this.Ff=Ii(this.Ff,18):this.Ff=Fi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,19)},set:function(s){this.combo===!0&&(s?this.Ff=Ii(this.Ff,19):this.Ff=Fi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,20)},set:function(s){s?(this.Ff=Ii(this.Ff,20),t.sort()):this.Ff=Fi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,22)},set:function(s){s?this.Ff=Ii(this.Ff,22):this.Ff=Fi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,23)},set:function(s){s?this.Ff=Ii(this.Ff,23):this.Ff=Fi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,27)},set:function(s){s?this.Ff=Ii(this.Ff,27):this.Ff=Fi(this.Ff,27)}}),this.hasAppearanceStream=!1};fl(Wf,id);var Yf=function(){Wf.call(this),this.fontName="helvetica",this.combo=!1};fl(Yf,Wf);var Zf=function(){Yf.call(this),this.combo=!0};fl(Zf,Yf);var Wv=function(){Zf.call(this),this.edit=!0};fl(Wv,Zf);var Ia=function(){id.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,15)},set:function(s){s?this.Ff=Ii(this.Ff,15):this.Ff=Fi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,16)},set:function(s){s?this.Ff=Ii(this.Ff,16):this.Ff=Fi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,17)},set:function(s){s?this.Ff=Ii(this.Ff,17):this.Ff=Fi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,26)},set:function(s){s?this.Ff=Ii(this.Ff,26):this.Ff=Fi(this.Ff,26)}});var n,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(a){return a};if(this.scope&&(s=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,i=[];for(r in i.push("<<"),t)i.push("/"+r+" ("+Gm(s(t[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(s){dr(s)==="object"&&(t=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(s){typeof s=="string"&&(t.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(s){n="/"+s}})};fl(Ia,id);var Yv=function(){Ia.call(this),this.pushButton=!0};fl(Yv,Ia);var Kf=function(){Ia.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t!==void 0?t:[]}})};fl(Kf,Ia);var _y=function(){var n,t;id.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var s,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(c){return c};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,l=[];for(a in l.push("<<"),r)l.push("/"+a+" ("+Gm(i(r[a]))+")");return l.push(">>"),l.join(`
`)},set:function(i){dr(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return s},set:function(i){s=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return s.substr(1,s.length-1)},set:function(i){s="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=is.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};fl(_y,id),Kf.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var s=this.Kids[t];s.appearanceStreamContent=n.createAppearanceStream(s.optionName),s.caption=n.getCA()}},Kf.prototype.createOption=function(n){var t=new _y;return t.Parent=this,t.optionName=n,this.Kids.push(t),aZ.call(this.scope,t),t};var Zv=function(){Ia.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=is.CheckBox.createAppearanceStream()};fl(Zv,Ia);var Cm=function(){id.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,13)},set:function(t){t?this.Ff=Ii(this.Ff,13):this.Ff=Fi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,21)},set:function(t){t?this.Ff=Ii(this.Ff,21):this.Ff=Fi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,23)},set:function(t){t?this.Ff=Ii(this.Ff,23):this.Ff=Fi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,24)},set:function(t){t?this.Ff=Ii(this.Ff,24):this.Ff=Fi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,25)},set:function(t){t?this.Ff=Ii(this.Ff,25):this.Ff=Fi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,26)},set:function(t){t?this.Ff=Ii(this.Ff,26):this.Ff=Fi(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){Number.isInteger(t)&&(n=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};fl(Cm,id);var Kv=function(){Cm.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,14)},set:function(n){n?this.Ff=Ii(this.Ff,14):this.Ff=Fi(this.Ff,14)}}),this.password=!0};fl(Kv,Cm);var is={CheckBox:{createAppearanceStream:function(){return{N:{On:is.CheckBox.YesNormal},D:{On:is.CheckBox.YesPushDown,Off:is.CheckBox.OffPushDown}}},YesPushDown:function(n){var t=Fd(n);t.scope=n.scope;var s=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),a=L1(n,n.caption);return s.push("0.749023 g"),s.push("0 0 "+Hs(is.internal.getWidth(n))+" "+Hs(is.internal.getHeight(n))+" re"),s.push("f"),s.push("BMC"),s.push("q"),s.push("0 0 1 rg"),s.push("/"+r+" "+Hs(a.fontSize)+" Tf "+i),s.push("BT"),s.push(a.text),s.push("ET"),s.push("Q"),s.push("EMC"),t.stream=s.join(`
`),t},YesNormal:function(n){var t=Fd(n);t.scope=n.scope;var s=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],a=is.internal.getHeight(n),l=is.internal.getWidth(n),c=L1(n,n.caption);return i.push("1 g"),i.push("0 0 "+Hs(l)+" "+Hs(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Hs(l-1)+" "+Hs(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+s+" "+Hs(c.fontSize)+" Tf "+r),i.push(c.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(n){var t=Fd(n);t.scope=n.scope;var s=[];return s.push("0.749023 g"),s.push("0 0 "+Hs(is.internal.getWidth(n))+" "+Hs(is.internal.getHeight(n))+" re"),s.push("f"),t.stream=s.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(n){var t={D:{Off:is.RadioButton.Circle.OffPushDown},N:{}};return t.N[n]=is.RadioButton.Circle.YesNormal,t.D[n]=is.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(n){var t=Fd(n);t.scope=n.scope;var s=[],r=is.internal.getWidth(n)<=is.internal.getHeight(n)?is.internal.getWidth(n)/4:is.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=is.internal.Bezier_C,a=Number((r*i).toFixed(5));return s.push("q"),s.push("1 0 0 1 "+jh(is.internal.getWidth(n)/2)+" "+jh(is.internal.getHeight(n)/2)+" cm"),s.push(r+" 0 m"),s.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),s.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),s.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),s.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),s.push("f"),s.push("Q"),t.stream=s.join(`
`),t},YesPushDown:function(n){var t=Fd(n);t.scope=n.scope;var s=[],r=is.internal.getWidth(n)<=is.internal.getHeight(n)?is.internal.getWidth(n)/4:is.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*is.internal.Bezier_C).toFixed(5)),l=Number((r*is.internal.Bezier_C).toFixed(5));return s.push("0.749023 g"),s.push("q"),s.push("1 0 0 1 "+jh(is.internal.getWidth(n)/2)+" "+jh(is.internal.getHeight(n)/2)+" cm"),s.push(i+" 0 m"),s.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),s.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),s.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),s.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),s.push("f"),s.push("Q"),s.push("0 g"),s.push("q"),s.push("1 0 0 1 "+jh(is.internal.getWidth(n)/2)+" "+jh(is.internal.getHeight(n)/2)+" cm"),s.push(r+" 0 m"),s.push(r+" "+l+" "+l+" "+r+" 0 "+r+" c"),s.push("-"+l+" "+r+" -"+r+" "+l+" -"+r+" 0 c"),s.push("-"+r+" -"+l+" -"+l+" -"+r+" 0 -"+r+" c"),s.push(l+" -"+r+" "+r+" -"+l+" "+r+" 0 c"),s.push("f"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(n){var t=Fd(n);t.scope=n.scope;var s=[],r=is.internal.getWidth(n)<=is.internal.getHeight(n)?is.internal.getWidth(n)/4:is.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*is.internal.Bezier_C).toFixed(5));return s.push("0.749023 g"),s.push("q"),s.push("1 0 0 1 "+jh(is.internal.getWidth(n)/2)+" "+jh(is.internal.getHeight(n)/2)+" cm"),s.push(i+" 0 m"),s.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),s.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),s.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),s.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),s.push("f"),s.push("Q"),t.stream=s.join(`
`),t}},Cross:{createAppearanceStream:function(n){var t={D:{Off:is.RadioButton.Cross.OffPushDown},N:{}};return t.N[n]=is.RadioButton.Cross.YesNormal,t.D[n]=is.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(n){var t=Fd(n);t.scope=n.scope;var s=[],r=is.internal.calculateCross(n);return s.push("q"),s.push("1 1 "+Hs(is.internal.getWidth(n)-2)+" "+Hs(is.internal.getHeight(n)-2)+" re"),s.push("W"),s.push("n"),s.push(Hs(r.x1.x)+" "+Hs(r.x1.y)+" m"),s.push(Hs(r.x2.x)+" "+Hs(r.x2.y)+" l"),s.push(Hs(r.x4.x)+" "+Hs(r.x4.y)+" m"),s.push(Hs(r.x3.x)+" "+Hs(r.x3.y)+" l"),s.push("s"),s.push("Q"),t.stream=s.join(`
`),t},YesPushDown:function(n){var t=Fd(n);t.scope=n.scope;var s=is.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+Hs(is.internal.getWidth(n))+" "+Hs(is.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Hs(is.internal.getWidth(n)-2)+" "+Hs(is.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(Hs(s.x1.x)+" "+Hs(s.x1.y)+" m"),r.push(Hs(s.x2.x)+" "+Hs(s.x2.y)+" l"),r.push(Hs(s.x4.x)+" "+Hs(s.x4.y)+" m"),r.push(Hs(s.x3.x)+" "+Hs(s.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(n){var t=Fd(n);t.scope=n.scope;var s=[];return s.push("0.749023 g"),s.push("0 0 "+Hs(is.internal.getWidth(n))+" "+Hs(is.internal.getHeight(n))+" re"),s.push("f"),t.stream=s.join(`
`),t}}},createDefaultAppearanceStream:function(n){var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,s=n.scope.__private__.encodeColorString(n.color);return"/"+t+" "+n.fontSize+" Tf "+s}};is.internal={Bezier_C:.551915024494,calculateCross:function(n){var t=is.internal.getWidth(n),s=is.internal.getHeight(n),r=Math.min(t,s);return{x1:{x:(t-r)/2,y:(s-r)/2+r},x2:{x:(t-r)/2+r,y:(s-r)/2},x3:{x:(t-r)/2,y:(s-r)/2},x4:{x:(t-r)/2+r,y:(s-r)/2+r}}}},is.internal.getWidth=function(n){var t=0;return dr(n)==="object"&&(t=wS(n.Rect[2])),t},is.internal.getHeight=function(n){var t=0;return dr(n)==="object"&&(t=wS(n.Rect[3])),t};var aZ=mi.addField=function(n){if(iZ(this,n),!(n instanceof id))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=n).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};mi.AcroFormChoiceField=Wf,mi.AcroFormListBox=Yf,mi.AcroFormComboBox=Zf,mi.AcroFormEditBox=Wv,mi.AcroFormButton=Ia,mi.AcroFormPushButton=Yv,mi.AcroFormRadioButton=Kf,mi.AcroFormCheckBox=Zv,mi.AcroFormTextField=Cm,mi.AcroFormPasswordField=Kv,mi.AcroFormAppearance=is,mi.AcroForm={ChoiceField:Wf,ListBox:Yf,ComboBox:Zf,EditBox:Wv,Button:Ia,PushButton:Yv,RadioButton:Kf,CheckBox:Zv,TextField:Cm,PasswordField:Kv,Appearance:is},Rs.AcroForm={ChoiceField:Wf,ListBox:Yf,ComboBox:Zf,EditBox:Wv,Button:Ia,PushButton:Yv,RadioButton:Kf,CheckBox:Zv,TextField:Cm,PasswordField:Kv,Appearance:is};Rs.AcroForm;function vP(n){return n.reduce((function(t,s,r){return t[s]=r,t}),{})}(function(n){n.__addimage__={};var t="UNKNOWN",s={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=n.__addimage__.getImageFileTypeByImageData=function($,W){var Q,Z,ie,q,ce,te=t;if((W=W||t)==="RGBA"||$.data!==void 0&&$.data instanceof Uint8ClampedArray&&"height"in $&&"width"in $)return"RGBA";if(V($))for(ce in s)for(ie=s[ce],Q=0;Q<ie.length;Q+=1){for(q=!0,Z=0;Z<ie[Q].length;Z+=1)if(ie[Q][Z]!==void 0&&ie[Q][Z]!==$[Z]){q=!1;break}if(q===!0){te=ce;break}}else for(ce in s)for(ie=s[ce],Q=0;Q<ie.length;Q+=1){for(q=!0,Z=0;Z<ie[Q].length;Z+=1)if(ie[Q][Z]!==void 0&&ie[Q][Z]!==$.charCodeAt(Z)){q=!1;break}if(q===!0){te=ce;break}}return te===t&&W!==t&&(te=W),te},i=function $(W){for(var Q=this.internal.write,Z=this.internal.putStream,ie=(0,this.internal.getFilters)();ie.indexOf("FlateEncode")!==-1;)ie.splice(ie.indexOf("FlateEncode"),1);W.objectId=this.internal.newObject();var q=[];if(q.push({key:"Type",value:"/XObject"}),q.push({key:"Subtype",value:"/Image"}),q.push({key:"Width",value:W.width}),q.push({key:"Height",value:W.height}),W.colorSpace===A.INDEXED?q.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(W.palette.length/3-1)+" "+("sMask"in W&&W.sMask!==void 0?W.objectId+2:W.objectId+1)+" 0 R]"}):(q.push({key:"ColorSpace",value:"/"+W.colorSpace}),W.colorSpace===A.DEVICE_CMYK&&q.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),q.push({key:"BitsPerComponent",value:W.bitsPerComponent}),"decodeParameters"in W&&W.decodeParameters!==void 0&&q.push({key:"DecodeParms",value:"<<"+W.decodeParameters+">>"}),"transparency"in W&&Array.isArray(W.transparency)){for(var ce="",te=0,oe=W.transparency.length;te<oe;te++)ce+=W.transparency[te]+" "+W.transparency[te]+" ";q.push({key:"Mask",value:"["+ce+"]"})}W.sMask!==void 0&&q.push({key:"SMask",value:W.objectId+1+" 0 R"});var ne=W.filter!==void 0?["/"+W.filter]:void 0;if(Z({data:W.data,additionalKeyValues:q,alreadyAppliedFilters:ne,objectId:W.objectId}),Q("endobj"),"sMask"in W&&W.sMask!==void 0){var re="/Predictor "+W.predictor+" /Colors 1 /BitsPerComponent "+W.bitsPerComponent+" /Columns "+W.width,U={width:W.width,height:W.height,colorSpace:"DeviceGray",bitsPerComponent:W.bitsPerComponent,decodeParameters:re,data:W.sMask};"filter"in W&&(U.filter=W.filter),$.call(this,U)}if(W.colorSpace===A.INDEXED){var J=this.internal.newObject();Z({data:D(new Uint8Array(W.palette)),objectId:J}),Q("endobj")}},a=function(){var $=this.internal.collections.addImage_images;for(var W in $)i.call(this,$[W])},l=function(){var $,W=this.internal.collections.addImage_images,Q=this.internal.write;for(var Z in W)Q("/I"+($=W[Z]).index,$.objectId,"0","R")},c=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",l))},u=function(){var $=this.internal.collections.addImage_images;return c.call(this),$},m=function(){return Object.keys(this.internal.collections.addImage_images).length},g=function($){return typeof n["process"+$.toUpperCase()]=="function"},p=function($){return dr($)==="object"&&$.nodeType===1},y=function($,W){if($.nodeName==="IMG"&&$.hasAttribute("src")){var Q=""+$.getAttribute("src");if(Q.indexOf("data:image/")===0)return Eg(unescape(Q).split("base64,").pop());var Z=n.loadFile(Q,!0);if(Z!==void 0)return Z}if($.nodeName==="CANVAS"){if($.width===0||$.height===0)throw new Error("Given canvas must have data. Canvas width: "+$.width+", height: "+$.height);var ie;switch(W){case"PNG":ie="image/png";break;case"WEBP":ie="image/webp";break;case"JPEG":case"JPG":default:ie="image/jpeg"}return Eg($.toDataURL(ie,1).split("base64,").pop())}},x=function($){var W=this.internal.collections.addImage_images;if(W){for(var Q in W)if($===W[Q].alias)return W[Q]}},_=function($,W,Q){return $||W||($=-96,W=-96),$<0&&($=-1*Q.width*72/$/this.internal.scaleFactor),W<0&&(W=-1*Q.height*72/W/this.internal.scaleFactor),$===0&&($=W*Q.width/Q.height),W===0&&(W=$*Q.height/Q.width),[$,W]},j=function($,W,Q,Z,ie,q){var ce=_.call(this,Q,Z,ie),te=this.internal.getCoordinateString,oe=this.internal.getVerticalCoordinateString,ne=u.call(this);if(Q=ce[0],Z=ce[1],ne[ie.index]=ie,q){q*=Math.PI/180;var re=Math.cos(q),U=Math.sin(q),J=function(ue){return ue.toFixed(4)},se=[J(re),J(U),J(-1*U),J(re),0,0,"cm"]}this.internal.write("q"),q?(this.internal.write([1,"0","0",1,te($),oe(W+Z),"cm"].join(" ")),this.internal.write(se.join(" ")),this.internal.write([te(Q),"0","0",te(Z),"0","0","cm"].join(" "))):this.internal.write([te(Q),"0","0",te(Z),te($),oe(W+Z),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ie.index+" Do"),this.internal.write("Q")},A=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var C=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},P=n.__addimage__.sHashCode=function($){var W,Q,Z=0;if(typeof $=="string")for(Q=$.length,W=0;W<Q;W++)Z=(Z<<5)-Z+$.charCodeAt(W),Z|=0;else if(V($))for(Q=$.byteLength/2,W=0;W<Q;W++)Z=(Z<<5)-Z+$[W],Z|=0;return Z},S=n.__addimage__.validateStringAsBase64=function($){($=$||"").toString().trim();var W=!0;return $.length===0&&(W=!1),$.length%4!=0&&(W=!1),/^[A-Za-z0-9+/]+$/.test($.substr(0,$.length-2))===!1&&(W=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test($.substr(-2))===!1&&(W=!1),W},O=n.__addimage__.extractImageFromDataUrl=function($){var W=($=$||"").split("base64,"),Q=null;if(W.length===2){var Z=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(W[0]);Array.isArray(Z)&&(Q={mimeType:Z[1],charset:Z[2],data:W[1]})}return Q},z=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function($){return z()&&$ instanceof ArrayBuffer};var V=n.__addimage__.isArrayBufferView=function($){return z()&&typeof Uint32Array<"u"&&($ instanceof Int8Array||$ instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&$ instanceof Uint8ClampedArray||$ instanceof Int16Array||$ instanceof Uint16Array||$ instanceof Int32Array||$ instanceof Uint32Array||$ instanceof Float32Array||$ instanceof Float64Array)},B=n.__addimage__.binaryStringToUint8Array=function($){for(var W=$.length,Q=new Uint8Array(W),Z=0;Z<W;Z++)Q[Z]=$.charCodeAt(Z);return Q},D=n.__addimage__.arrayBufferToBinaryString=function($){for(var W="",Q=V($)?$:new Uint8Array($),Z=0;Z<Q.length;Z+=8192)W+=String.fromCharCode.apply(null,Q.subarray(Z,Z+8192));return W};n.addImage=function(){var $,W,Q,Z,ie,q,ce,te,oe;if(typeof arguments[1]=="number"?(W=t,Q=arguments[1],Z=arguments[2],ie=arguments[3],q=arguments[4],ce=arguments[5],te=arguments[6],oe=arguments[7]):(W=arguments[1],Q=arguments[2],Z=arguments[3],ie=arguments[4],q=arguments[5],ce=arguments[6],te=arguments[7],oe=arguments[8]),dr($=arguments[0])==="object"&&!p($)&&"imageData"in $){var ne=$;$=ne.imageData,W=ne.format||W||t,Q=ne.x||Q||0,Z=ne.y||Z||0,ie=ne.w||ne.width||ie,q=ne.h||ne.height||q,ce=ne.alias||ce,te=ne.compression||te,oe=ne.rotation||ne.angle||oe}var re=this.internal.getFilters();if(te===void 0&&re.indexOf("FlateEncode")!==-1&&(te="SLOW"),isNaN(Q)||isNaN(Z))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var U=K.call(this,$,W,ce,te);return j.call(this,Q,Z,ie,q,U,oe),this};var K=function($,W,Q,Z){var ie,q,ce;if(typeof $=="string"&&r($)===t){$=unescape($);var te=H($,!1);(te!==""||(te=n.loadFile($,!0))!==void 0)&&($=te)}if(p($)&&($=y($,W)),W=r($,W),!g(W))throw new Error("addImage does not support files of type '"+W+"', please ensure that a plugin for '"+W+"' support is added.");if(((ce=Q)==null||ce.length===0)&&(Q=(function(oe){return typeof oe=="string"||V(oe)?P(oe):V(oe.data)?P(oe.data):null})($)),(ie=x.call(this,Q))||(z()&&($ instanceof Uint8Array||W==="RGBA"||(q=$,$=B($))),ie=this["process"+W.toUpperCase()]($,m.call(this),Q,(function(oe){return oe&&typeof oe=="string"&&(oe=oe.toUpperCase()),oe in n.image_compression?oe:C.NONE})(Z),q)),!ie)throw new Error("An unknown error occurred whilst processing the image.");return ie},H=n.__addimage__.convertBase64ToBinaryString=function($,W){var Q;W=typeof W!="boolean"||W;var Z,ie="";if(typeof $=="string"){Z=(Q=O($))!==null?Q.data:$;try{ie=Eg(Z)}catch(q){if(W)throw S(Z)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+q.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ie};n.getImageProperties=function($){var W,Q,Z="";if(p($)&&($=y($)),typeof $=="string"&&r($)===t&&((Z=H($,!1))===""&&(Z=n.loadFile($)||""),$=Z),Q=r($),!g(Q))throw new Error("addImage does not support files of type '"+Q+"', please ensure that a plugin for '"+Q+"' support is added.");if(!z()||$ instanceof Uint8Array||($=B($)),!(W=this["process"+Q.toUpperCase()]($)))throw new Error("An unknown error occurred whilst processing the image");return W.fileType=Q,W}})(Rs.API),(function(n){var t=function(s){if(s!==void 0&&s!="")return!0};Rs.API.events.push(["addPage",function(s){this.internal.getPageInfo(s.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(s){for(var r,i,a,l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(s.objId),m=s.pageContext.annotations,g=!1,p=0;p<m.length&&!g;p++)switch((r=m[p]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(g=!0);break;case"reference":case"text":case"freetext":g=!0}if(g!=0){this.internal.write("/Annots [");for(var y=0;y<m.length;y++){r=m[y];var x=this.internal.pdfEscape,_=this.internal.getEncryptor(s.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var j=this.internal.newAdditionalObject(),A=this.internal.newAdditionalObject(),C=this.internal.getEncryptor(j.objId),P=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+l(r.bounds.x)+" "+c(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y)+"] ")+"/Contents ("+x(C(r.contents))+")",a+=" /Popup "+A.objId+" 0 R",a+=" /P "+u.objId+" 0 R",a+=" /T ("+x(C(P))+") >>",j.content=a;var S=j.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+l(r.bounds.x+30)+" "+c(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w+30)+" "+c(r.bounds.y)+"] ")+" /Parent "+S,r.open&&(a+=" /Open true"),a+=" >>",A.content=a,this.internal.write(j.objId,"0 R",A.objId,"0 R");break;case"freetext":i="/Rect ["+l(r.bounds.x)+" "+c(r.bounds.y)+" "+l(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y+r.bounds.h)+"] ";var O=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+x(_(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+O+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var z=this.annotations._nameMap[r.options.name];r.options.pageNumber=z.page,r.options.top=z.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+x(_(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var V=c(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+V+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),n.createAnnotation=function(s){var r=this.internal.getCurrentPageInfo();switch(s.type){case"link":this.link(s.bounds.x,s.bounds.y,s.bounds.w,s.bounds.h,s);break;case"text":case"freetext":r.pageContext.annotations.push(s)}},n.link=function(s,r,i,a,l){var c=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,m=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:u(s),y:m(r),w:u(s+i),h:m(r+a)},options:l,type:"link"})},n.textWithLink=function(s,r,i,a){var l,c,u=this.getTextWidth(s),m=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){c=a.maxWidth;var g=this.splitTextToSize(s,c).length;l=Math.ceil(m*g)}else c=u,l=m;return this.text(s,r,i,a),i+=.2*m,a.align==="center"&&(r-=u/2),a.align==="right"&&(r-=u),this.link(r,i-m,c,l,a),u},n.getTextWidth=function(s){var r=this.internal.getFontSize();return this.getStringUnitWidth(s)*r/this.internal.scaleFactor}})(Rs.API),(function(n){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},s={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var a=n.__arabicParser__.isInArabicSubstitutionA=function(j){return t[j.charCodeAt(0)]!==void 0},l=n.__arabicParser__.isArabicLetter=function(j){return typeof j=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(j)},c=n.__arabicParser__.isArabicEndLetter=function(j){return l(j)&&a(j)&&t[j.charCodeAt(0)].length<=2},u=n.__arabicParser__.isArabicAlfLetter=function(j){return l(j)&&i.indexOf(j.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(j){return l(j)&&a(j)&&t[j.charCodeAt(0)].length>=1};var m=n.__arabicParser__.arabicLetterHasFinalForm=function(j){return l(j)&&a(j)&&t[j.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(j){return l(j)&&a(j)&&t[j.charCodeAt(0)].length>=3};var g=n.__arabicParser__.arabicLetterHasMedialForm=function(j){return l(j)&&a(j)&&t[j.charCodeAt(0)].length==4},p=n.__arabicParser__.resolveLigatures=function(j){var A=0,C=s,P="",S=0;for(A=0;A<j.length;A+=1)C[j.charCodeAt(A)]!==void 0?(S++,typeof(C=C[j.charCodeAt(A)])=="number"&&(P+=String.fromCharCode(C),C=s,S=0),A===j.length-1&&(C=s,P+=j.charAt(A-(S-1)),A-=S-1,S=0)):(C=s,P+=j.charAt(A-S),A-=S,S=0);return P};n.__arabicParser__.isArabicDiacritic=function(j){return j!==void 0&&r[j.charCodeAt(0)]!==void 0};var y=n.__arabicParser__.getCorrectForm=function(j,A,C){return l(j)?a(j)===!1?-1:!m(j)||!l(A)&&!l(C)||!l(C)&&c(A)||c(j)&&!l(A)||c(j)&&u(A)||c(j)&&c(A)?0:g(j)&&l(A)&&!c(A)&&l(C)&&m(C)?3:c(j)||!l(C)?1:2:-1},x=function(j){var A=0,C=0,P=0,S="",O="",z="",V=(j=j||"").split("\\s+"),B=[];for(A=0;A<V.length;A+=1){for(B.push(""),C=0;C<V[A].length;C+=1)S=V[A][C],O=V[A][C-1],z=V[A][C+1],l(S)?(P=y(S,O,z),B[A]+=P!==-1?String.fromCharCode(t[S.charCodeAt(0)][P]):S):B[A]+=S;B[A]=p(B[A])}return B.join(" ")},_=n.__arabicParser__.processArabic=n.processArabic=function(){var j,A=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,C=[];if(Array.isArray(A)){var P=0;for(C=[],P=0;P<A.length;P+=1)Array.isArray(A[P])?C.push([x(A[P][0]),A[P][1],A[P][2]]):C.push([x(A[P])]);j=C}else j=x(A);return typeof arguments[0]=="string"?j:(arguments[0].text=j,arguments[0])};n.events.push(["preProcessText",_])})(Rs.API),Rs.API.autoPrint=function(n){var t;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",(function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){this.internal.out("/OpenAction "+t+" 0 R")}))}return this},(function(n){var t=function(){var s=void 0;Object.defineProperty(this,"pdf",{get:function(){return s},set:function(c){s=c}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(c){r=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(c){i=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(c){a=c}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(c){l=c}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(s,r){var i;if((s=s||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(Rs.API),(function(n){var t={left:0,top:0,bottom:0,right:0},s=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(j){u=j}});var m=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return m},set:function(j){m=j}});var g=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return g},set:function(j){g=j}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(j){p=j}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(j){y=j}});var x=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return x},set:function(j){x=j}});var _=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return _},set:function(j){_=j}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(u){return r.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},n.getTextDimensions=function(u,m){r.call(this);var g=(m=m||{}).fontSize||this.getFontSize(),p=m.font||this.getFont(),y=m.scaleFactor||this.internal.scaleFactor,x=0,_=0,j=0,A=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var C=m.maxWidth;C>0?typeof u=="string"?u=this.splitTextToSize(u,C):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce((function(S,O){return S.concat(A.splitTextToSize(O,C))}),[])):u=Array.isArray(u)?u:[u];for(var P=0;P<u.length;P++)x<(j=this.getStringUnitWidth(u[P],{font:p})*g)&&(x=j);return x!==0&&(_=u.length),{w:x/=y,h:Math.max((_*g*this.getLineHeightFactor()-g*(this.getLineHeightFactor()-1))/y,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var u=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=n.cell=function(){var u;u=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var m=this.internal.__cell__.lastCell,g=this.internal.__cell__.padding,p=this.internal.__cell__.margins||t,y=this.internal.__cell__.tableHeaderRow,x=this.internal.__cell__.printHeaders;return m.lineNumber!==void 0&&(m.lineNumber===u.lineNumber?(u.x=(m.x||0)+(m.width||0),u.y=m.y||0):m.y+m.height+u.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=p.top,x&&y&&(this.printHeaderRow(u.lineNumber,!0),u.y+=y[0].height)):u.y=m.y+m.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,s===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-g,u.y+g,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+g,{align:"center",baseline:"top",maxWidth:u.width-g-g}):this.text(u.text,u.x+g,u.y+g,{align:"left",baseline:"top",maxWidth:u.width-g-g})),this.internal.__cell__.lastCell=u,this};n.table=function(u,m,g,p,y){if(r.call(this),!g)throw new Error("No data for PDF table.");var x,_,j,A,C=[],P=[],S=[],O={},z={},V=[],B=[],D=(y=y||{}).autoSize||!1,K=y.printHeaders!==!1,H=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,$=y.margins||Object.assign({width:this.getPageWidth()},t),W=typeof y.padding=="number"?y.padding:3,Q=y.headerBackgroundColor||"#c8c8c8",Z=y.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=K,this.internal.__cell__.margins=$,this.internal.__cell__.table_font_size=H,this.internal.__cell__.padding=W,this.internal.__cell__.headerBackgroundColor=Q,this.internal.__cell__.headerTextColor=Z,this.setFontSize(H),p==null)P=C=Object.keys(g[0]),S=C.map((function(){return"left"}));else if(Array.isArray(p)&&dr(p[0])==="object")for(C=p.map((function(ne){return ne.name})),P=p.map((function(ne){return ne.prompt||ne.name||""})),S=p.map((function(ne){return ne.align||"left"})),x=0;x<p.length;x+=1)z[p[x].name]=p[x].width*(19.049976/25.4);else Array.isArray(p)&&typeof p[0]=="string"&&(P=C=p,S=C.map((function(){return"left"})));if(D||Array.isArray(p)&&typeof p[0]=="string")for(x=0;x<C.length;x+=1){for(O[A=C[x]]=g.map((function(ne){return ne[A]})),this.setFont(void 0,"bold"),V.push(this.getTextDimensions(P[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),_=O[A],this.setFont(void 0,"normal"),j=0;j<_.length;j+=1)V.push(this.getTextDimensions(_[j],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);z[A]=Math.max.apply(null,V)+W+W,V=[]}if(K){var ie={};for(x=0;x<C.length;x+=1)ie[C[x]]={},ie[C[x]].text=P[x],ie[C[x]].align=S[x];var q=c.call(this,ie,z);B=C.map((function(ne){return new a(u,m,z[ne],q,ie[ne].text,void 0,ie[ne].align)})),this.setTableHeaderRow(B),this.printHeaderRow(1,!1)}var ce=p.reduce((function(ne,re){return ne[re.name]=re.align,ne}),{});for(x=0;x<g.length;x+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:x,data:g[x]},this);var te=c.call(this,g[x],z);for(j=0;j<C.length;j+=1){var oe=g[x][C[j]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:x,col:j,data:oe},this),l.call(this,new a(u,m,z[C[j]],te,oe,x+2,ce[C[j]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=m,this};var c=function(u,m){var g=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(u).map((function(x){var _=u[x];return this.splitTextToSize(_.hasOwnProperty("text")?_.text:_,m[x]-g-g)}),this).map((function(x){return this.getLineHeightFactor()*x.length*p/y+g+g}),this).reduce((function(x,_){return Math.max(x,_)}),0)};n.setTableHeaderRow=function(u){r.call(this),this.internal.__cell__.tableHeaderRow=u},n.printHeaderRow=function(u,m){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var g;if(s=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],x=0;x<this.internal.__cell__.tableHeaderRow.length;x+=1){g=this.internal.__cell__.tableHeaderRow[x].clone(),m&&(g.y=this.internal.__cell__.margins.top||0,y.push(g)),g.lineNumber=u;var _=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,g),this.setTextColor(_)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),s=!1}})(Rs.API);var yP={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},bP=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],R1=vP(bP),jP=[100,200,300,400,500,600,700,800,900],oZ=vP(jP);function O1(n){var t=n.family.replace(/"|'/g,"").toLowerCase(),s=(function(a){return yP[a=a||"normal"]?a:"normal"})(n.style),r=(function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}})(n.weight),i=(function(a){return typeof R1[a=a||"normal"]=="number"?a:"normal"})(n.stretch);return{family:t,style:s,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:t,style:[i,s,r].join(" ")}}}function NS(n,t,s,r){var i;for(i=s;i>=0&&i<t.length;i+=r)if(n[t[i]])return n[t[i]];for(i=s;i>=0&&i<t.length;i-=r)if(n[t[i]])return n[t[i]]}var lZ={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},_S={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function SS(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function cZ(n,t,s){for(var r=(s=s||{}).defaultFontFamily||"times",i=Object.assign({},lZ,s.genericFontFamilies||{}),a=null,l=null,c=0;c<t.length;++c)if(i[(a=O1(t[c])).family]&&(a.family=i[a.family]),n.hasOwnProperty(a.family)){l=n[a.family];break}if(!(l=l||n[r]))throw new Error("Could not find a font-family for the rule '"+SS(a)+"' and default family '"+r+"'.");if(l=(function(u,m){if(m[u])return m[u];var g=R1[u],p=g<=R1.normal?-1:1,y=NS(m,bP,g,p);if(!y)throw new Error("Could not find a matching font-stretch value for "+u);return y})(a.stretch,l),l=(function(u,m){if(m[u])return m[u];for(var g=yP[u],p=0;p<g.length;++p)if(m[g[p]])return m[g[p]];throw new Error("Could not find a matching font-style for "+u)})(a.style,l),!(l=(function(u,m){if(m[u])return m[u];if(u===400&&m[500])return m[500];if(u===500&&m[400])return m[400];var g=oZ[u],p=NS(m,jP,g,u<400?-1:1);if(!p)throw new Error("Could not find a matching font-weight for value "+u);return p})(a.weight,l)))throw new Error("Failed to resolve a font for the rule '"+SS(a)+"'.");return l}function CS(n){return n.trimLeft()}function dZ(n,t){for(var s=0;s<n.length;){if(n.charAt(s)===t)return[n.substring(0,s),n.substring(s+1)];s+=1}return null}function uZ(n){var t=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],n.substring(t[0].length)]}var Pv,AS,kS,Ej=["times"];(function(n){var t,s,r,i,a,l,c,u,m,g=function(U){return U=U||{},this.isStrokeTransparent=U.isStrokeTransparent||!1,this.strokeOpacity=U.strokeOpacity||1,this.strokeStyle=U.strokeStyle||"#000000",this.fillStyle=U.fillStyle||"#000000",this.isFillTransparent=U.isFillTransparent||!1,this.fillOpacity=U.fillOpacity||1,this.font=U.font||"10px sans-serif",this.textBaseline=U.textBaseline||"alphabetic",this.textAlign=U.textAlign||"left",this.lineWidth=U.lineWidth||1,this.lineJoin=U.lineJoin||"miter",this.lineCap=U.lineCap||"butt",this.path=U.path||[],this.transform=U.transform!==void 0?U.transform.clone():new u,this.globalCompositeOperation=U.globalCompositeOperation||"normal",this.globalAlpha=U.globalAlpha||1,this.clip_path=U.clip_path||[],this.currentPoint=U.currentPoint||new l,this.miterLimit=U.miterLimit||10,this.lastPoint=U.lastPoint||new l,this.lineDashOffset=U.lineDashOffset||0,this.lineDash=U.lineDash||[],this.margin=U.margin||[0,0,0,0],this.prevPageLastElemOffset=U.prevPageLastElemOffset||0,this.ignoreClearRect=typeof U.ignoreClearRect!="boolean"||U.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new p(this),t=this.internal.f2,s=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,l=this.internal.Point,c=this.internal.Rectangle,u=this.internal.Matrix,m=new g}]);var p=function(U){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var J=U;Object.defineProperty(this,"pdf",{get:function(){return J}});var se=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return se},set:function(Je){se=!!Je}});var ue=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ue},set:function(Je){ue=!!Je}});var be=0;Object.defineProperty(this,"posX",{get:function(){return be},set:function(Je){isNaN(Je)||(be=Je)}});var we=0;Object.defineProperty(this,"posY",{get:function(){return we},set:function(Je){isNaN(Je)||(we=Je)}}),Object.defineProperty(this,"margin",{get:function(){return m.margin},set:function(Je){var _e;typeof Je=="number"?_e=[Je,Je,Je,Je]:((_e=new Array(4))[0]=Je[0],_e[1]=Je.length>=2?Je[1]:_e[0],_e[2]=Je.length>=3?Je[2]:_e[0],_e[3]=Je.length>=4?Je[3]:_e[1]),m.margin=_e}});var Ce=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ce},set:function(Je){Ce=Je}});var Re=0;Object.defineProperty(this,"lastBreak",{get:function(){return Re},set:function(Je){Re=Je}});var Xe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Xe},set:function(Je){Xe=Je}}),Object.defineProperty(this,"ctx",{get:function(){return m},set:function(Je){Je instanceof g&&(m=Je)}}),Object.defineProperty(this,"path",{get:function(){return m.path},set:function(Je){m.path=Je}});var tt=[];Object.defineProperty(this,"ctxStack",{get:function(){return tt},set:function(Je){tt=Je}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Je){var _e;_e=y(Je),this.ctx.fillStyle=_e.style,this.ctx.isFillTransparent=_e.a===0,this.ctx.fillOpacity=_e.a,this.pdf.setFillColor(_e.r,_e.g,_e.b,{a:_e.a}),this.pdf.setTextColor(_e.r,_e.g,_e.b,{a:_e.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Je){var _e=y(Je);this.ctx.strokeStyle=_e.style,this.ctx.isStrokeTransparent=_e.a===0,this.ctx.strokeOpacity=_e.a,_e.a===0?this.pdf.setDrawColor(255,255,255):(_e.a,this.pdf.setDrawColor(_e.r,_e.g,_e.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Je){["butt","round","square"].indexOf(Je)!==-1&&(this.ctx.lineCap=Je,this.pdf.setLineCap(Je))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Je){isNaN(Je)||(this.ctx.lineWidth=Je,this.pdf.setLineWidth(Je))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Je){["bevel","round","miter"].indexOf(Je)!==-1&&(this.ctx.lineJoin=Je,this.pdf.setLineJoin(Je))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Je){isNaN(Je)||(this.ctx.miterLimit=Je,this.pdf.setMiterLimit(Je))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Je){this.ctx.textBaseline=Je}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Je){["right","end","center","left","start"].indexOf(Je)!==-1&&(this.ctx.textAlign=Je)}});var lt=null;function jt(Je,_e){if(lt===null){var $t=(function(Dt){var ht=[];return Object.keys(Dt).forEach((function(je){Dt[je].forEach((function(ke){var Pe=null;switch(ke){case"bold":Pe={family:je,weight:"bold"};break;case"italic":Pe={family:je,style:"italic"};break;case"bolditalic":Pe={family:je,weight:"bold",style:"italic"};break;case"":case"normal":Pe={family:je}}Pe!==null&&(Pe.ref={name:je,style:ke},ht.push(Pe))}))})),ht})(Je.getFontList());lt=(function(Dt){for(var ht={},je=0;je<Dt.length;++je){var ke=O1(Dt[je]),Pe=ke.family,it=ke.stretch,rt=ke.style,ut=ke.weight;ht[Pe]=ht[Pe]||{},ht[Pe][it]=ht[Pe][it]||{},ht[Pe][it][rt]=ht[Pe][it][rt]||{},ht[Pe][it][rt][ut]=ke}return ht})($t.concat(_e))}return lt}var Et=null;Object.defineProperty(this,"fontFaces",{get:function(){return Et},set:function(Je){lt=null,Et=Je}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Je){var _e;if(this.ctx.font=Je,(_e=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Je))!==null){var $t=_e[1],Dt=(_e[2],_e[3]),ht=_e[4],je=(_e[5],_e[6]),ke=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ht)[2];ht=Math.floor(ke==="px"?parseFloat(ht)*this.pdf.internal.scaleFactor:ke==="em"?parseFloat(ht)*this.pdf.getFontSize():parseFloat(ht)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ht);var Pe=(function(Gt){var fs,At,In=[],Ts=Gt.trim();if(Ts==="")return Ej;if(Ts in _S)return[_S[Ts]];for(;Ts!=="";){switch(At=null,fs=(Ts=CS(Ts)).charAt(0)){case'"':case"'":At=dZ(Ts.substring(1),fs);break;default:At=uZ(Ts)}if(At===null||(In.push(At[0]),(Ts=CS(At[1]))!==""&&Ts.charAt(0)!==","))return Ej;Ts=Ts.replace(/^,/,"")}return In})(je);if(this.fontFaces){var it=cZ(jt(this.pdf,this.fontFaces),Pe.map((function(Gt){return{family:Gt,stretch:"normal",weight:Dt,style:$t}})));this.pdf.setFont(it.ref.name,it.ref.style)}else{var rt="";(Dt==="bold"||parseInt(Dt,10)>=700||$t==="bold")&&(rt="bold"),$t==="italic"&&(rt+="italic"),rt.length===0&&(rt="normal");for(var ut="",Nt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Vt=0;Vt<Pe.length;Vt++){if(this.pdf.internal.getFont(Pe[Vt],rt,{noFallback:!0,disableWarning:!0})!==void 0){ut=Pe[Vt];break}if(rt==="bolditalic"&&this.pdf.internal.getFont(Pe[Vt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ut=Pe[Vt],rt="bold";else if(this.pdf.internal.getFont(Pe[Vt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ut=Pe[Vt],rt="normal";break}}if(ut===""){for(var Qt=0;Qt<Pe.length;Qt++)if(Nt[Pe[Qt]]){ut=Nt[Pe[Qt]];break}}ut=ut===""?"Times":ut,this.pdf.setFont(ut,rt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Je){this.ctx.globalCompositeOperation=Je}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Je){this.ctx.globalAlpha=Je}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Je){this.ctx.lineDashOffset=Je,re.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Je){this.ctx.lineDash=Je,re.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Je){this.ctx.ignoreClearRect=!!Je}})};p.prototype.setLineDash=function(U){this.lineDash=U},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){O.call(this,"fill",!1)},p.prototype.stroke=function(){O.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(U,J){if(isNaN(U)||isNaN(J))throw jr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var se=this.ctx.transform.applyToPoint(new l(U,J));this.path.push({type:"mt",x:se.x,y:se.y}),this.ctx.lastPoint=new l(U,J)},p.prototype.closePath=function(){var U=new l(0,0),J=0;for(J=this.path.length-1;J!==-1;J--)if(this.path[J].type==="begin"&&dr(this.path[J+1])==="object"&&typeof this.path[J+1].x=="number"){U=new l(this.path[J+1].x,this.path[J+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(U.x,U.y)},p.prototype.lineTo=function(U,J){if(isNaN(U)||isNaN(J))throw jr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var se=this.ctx.transform.applyToPoint(new l(U,J));this.path.push({type:"lt",x:se.x,y:se.y}),this.ctx.lastPoint=new l(se.x,se.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),O.call(this,null,!0)},p.prototype.quadraticCurveTo=function(U,J,se,ue){if(isNaN(se)||isNaN(ue)||isNaN(U)||isNaN(J))throw jr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var be=this.ctx.transform.applyToPoint(new l(se,ue)),we=this.ctx.transform.applyToPoint(new l(U,J));this.path.push({type:"qct",x1:we.x,y1:we.y,x:be.x,y:be.y}),this.ctx.lastPoint=new l(be.x,be.y)},p.prototype.bezierCurveTo=function(U,J,se,ue,be,we){if(isNaN(be)||isNaN(we)||isNaN(U)||isNaN(J)||isNaN(se)||isNaN(ue))throw jr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ce=this.ctx.transform.applyToPoint(new l(be,we)),Re=this.ctx.transform.applyToPoint(new l(U,J)),Xe=this.ctx.transform.applyToPoint(new l(se,ue));this.path.push({type:"bct",x1:Re.x,y1:Re.y,x2:Xe.x,y2:Xe.y,x:Ce.x,y:Ce.y}),this.ctx.lastPoint=new l(Ce.x,Ce.y)},p.prototype.arc=function(U,J,se,ue,be,we){if(isNaN(U)||isNaN(J)||isNaN(se)||isNaN(ue)||isNaN(be))throw jr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(we=!!we,!this.ctx.transform.isIdentity){var Ce=this.ctx.transform.applyToPoint(new l(U,J));U=Ce.x,J=Ce.y;var Re=this.ctx.transform.applyToPoint(new l(0,se)),Xe=this.ctx.transform.applyToPoint(new l(0,0));se=Math.sqrt(Math.pow(Re.x-Xe.x,2)+Math.pow(Re.y-Xe.y,2))}Math.abs(be-ue)>=2*Math.PI&&(ue=0,be=2*Math.PI),this.path.push({type:"arc",x:U,y:J,radius:se,startAngle:ue,endAngle:be,counterclockwise:we})},p.prototype.arcTo=function(U,J,se,ue,be){throw new Error("arcTo not implemented.")},p.prototype.rect=function(U,J,se,ue){if(isNaN(U)||isNaN(J)||isNaN(se)||isNaN(ue))throw jr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(U,J),this.lineTo(U+se,J),this.lineTo(U+se,J+ue),this.lineTo(U,J+ue),this.lineTo(U,J),this.lineTo(U+se,J),this.lineTo(U,J)},p.prototype.fillRect=function(U,J,se,ue){if(isNaN(U)||isNaN(J)||isNaN(se)||isNaN(ue))throw jr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!x.call(this)){var be={};this.lineCap!=="butt"&&(be.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(be.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(U,J,se,ue),this.fill(),be.hasOwnProperty("lineCap")&&(this.lineCap=be.lineCap),be.hasOwnProperty("lineJoin")&&(this.lineJoin=be.lineJoin)}},p.prototype.strokeRect=function(U,J,se,ue){if(isNaN(U)||isNaN(J)||isNaN(se)||isNaN(ue))throw jr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");_.call(this)||(this.beginPath(),this.rect(U,J,se,ue),this.stroke())},p.prototype.clearRect=function(U,J,se,ue){if(isNaN(U)||isNaN(J)||isNaN(se)||isNaN(ue))throw jr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(U,J,se,ue))},p.prototype.save=function(U){U=typeof U!="boolean"||U;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,se=0;se<this.pdf.internal.getNumberOfPages();se++)this.pdf.setPage(se+1),this.pdf.internal.out("q");if(this.pdf.setPage(J),U){this.ctx.fontSize=this.pdf.internal.getFontSize();var ue=new g(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ue}},p.prototype.restore=function(U){U=typeof U!="boolean"||U;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,se=0;se<this.pdf.internal.getNumberOfPages();se++)this.pdf.setPage(se+1),this.pdf.internal.out("Q");this.pdf.setPage(J),U&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(U){var J,se,ue,be;if(U.isCanvasGradient===!0&&(U=U.getColor()),!U)return{r:0,g:0,b:0,a:0,style:U};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(U))J=0,se=0,ue=0,be=0;else{var we=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(U);if(we!==null)J=parseInt(we[1]),se=parseInt(we[2]),ue=parseInt(we[3]),be=1;else if((we=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(U))!==null)J=parseInt(we[1]),se=parseInt(we[2]),ue=parseInt(we[3]),be=parseFloat(we[4]);else{if(be=1,typeof U=="string"&&U.charAt(0)!=="#"){var Ce=new hP(U);U=Ce.ok?Ce.toHex():"#000000"}U.length===4?(J=U.substring(1,2),J+=J,se=U.substring(2,3),se+=se,ue=U.substring(3,4),ue+=ue):(J=U.substring(1,3),se=U.substring(3,5),ue=U.substring(5,7)),J=parseInt(J,16),se=parseInt(se,16),ue=parseInt(ue,16)}}return{r:J,g:se,b:ue,a:be,style:U}},x=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},_=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(U,J,se,ue){if(isNaN(J)||isNaN(se)||typeof U!="string")throw jr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ue=isNaN(ue)?void 0:ue,!x.call(this)){var be=te(this.ctx.transform.rotation),we=this.ctx.transform.scaleX;W.call(this,{text:U,x:J,y:se,scale:we,angle:be,align:this.textAlign,maxWidth:ue})}},p.prototype.strokeText=function(U,J,se,ue){if(isNaN(J)||isNaN(se)||typeof U!="string")throw jr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!_.call(this)){ue=isNaN(ue)?void 0:ue;var be=te(this.ctx.transform.rotation),we=this.ctx.transform.scaleX;W.call(this,{text:U,x:J,y:se,scale:we,renderingMode:"stroke",angle:be,align:this.textAlign,maxWidth:ue})}},p.prototype.measureText=function(U){if(typeof U!="string")throw jr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var J=this.pdf,se=this.pdf.internal.scaleFactor,ue=J.internal.getFontSize(),be=J.getStringUnitWidth(U)*ue/J.internal.scaleFactor,we=function(Ce){var Re=(Ce=Ce||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Re}}),this};return new we({width:be*=Math.round(96*se/72*1e4)/1e4})},p.prototype.scale=function(U,J){if(isNaN(U)||isNaN(J))throw jr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var se=new u(U,0,0,J,0,0);this.ctx.transform=this.ctx.transform.multiply(se)},p.prototype.rotate=function(U){if(isNaN(U))throw jr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var J=new u(Math.cos(U),Math.sin(U),-Math.sin(U),Math.cos(U),0,0);this.ctx.transform=this.ctx.transform.multiply(J)},p.prototype.translate=function(U,J){if(isNaN(U)||isNaN(J))throw jr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var se=new u(1,0,0,1,U,J);this.ctx.transform=this.ctx.transform.multiply(se)},p.prototype.transform=function(U,J,se,ue,be,we){if(isNaN(U)||isNaN(J)||isNaN(se)||isNaN(ue)||isNaN(be)||isNaN(we))throw jr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ce=new u(U,J,se,ue,be,we);this.ctx.transform=this.ctx.transform.multiply(Ce)},p.prototype.setTransform=function(U,J,se,ue,be,we){U=isNaN(U)?1:U,J=isNaN(J)?0:J,se=isNaN(se)?0:se,ue=isNaN(ue)?1:ue,be=isNaN(be)?0:be,we=isNaN(we)?0:we,this.ctx.transform=new u(U,J,se,ue,be,we)};var j=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(U,J,se,ue,be,we,Ce,Re,Xe){var tt=this.pdf.getImageProperties(U),lt=1,jt=1,Et=1,Je=1;ue!==void 0&&Re!==void 0&&(Et=Re/ue,Je=Xe/be,lt=tt.width/ue*Re/ue,jt=tt.height/be*Xe/be),we===void 0&&(we=J,Ce=se,J=0,se=0),ue!==void 0&&Re===void 0&&(Re=ue,Xe=be),ue===void 0&&Re===void 0&&(Re=tt.width,Xe=tt.height);for(var _e,$t=this.ctx.transform.decompose(),Dt=te($t.rotate.shx),ht=new u,je=(ht=(ht=(ht=ht.multiply($t.translate)).multiply($t.skew)).multiply($t.scale)).applyToRectangle(new c(we-J*Et,Ce-se*Je,ue*lt,be*jt)),ke=A.call(this,je),Pe=[],it=0;it<ke.length;it+=1)Pe.indexOf(ke[it])===-1&&Pe.push(ke[it]);if(S(Pe),this.autoPaging)for(var rt=Pe[0],ut=Pe[Pe.length-1],Nt=rt;Nt<ut+1;Nt++){this.pdf.setPage(Nt);var Vt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Qt=Nt===1?this.posY+this.margin[0]:this.margin[0],Gt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],fs=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],At=Nt===1?0:Gt+(Nt-2)*fs;if(this.ctx.clip_path.length!==0){var In=this.path;_e=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(_e,this.posX+this.margin[3],-At+Qt+this.ctx.prevPageLastElemOffset),z.call(this,"fill",!0),this.path=In}var Ts=JSON.parse(JSON.stringify(je));Ts=P([Ts],this.posX+this.margin[3],-At+Qt+this.ctx.prevPageLastElemOffset)[0];var rn=(Nt>rt||Nt<ut)&&j.call(this);rn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Vt,fs,null).clip().discardPath()),this.pdf.addImage(U,"JPEG",Ts.x,Ts.y,Ts.w,Ts.h,null,null,Dt),rn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(U,"JPEG",je.x,je.y,je.w,je.h,null,null,Dt)};var A=function(U,J,se){var ue=[];J=J||this.pdf.internal.pageSize.width,se=se||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var be=this.posY+this.ctx.prevPageLastElemOffset;switch(U.type){default:case"mt":case"lt":ue.push(Math.floor((U.y+be)/se)+1);break;case"arc":ue.push(Math.floor((U.y+be-U.radius)/se)+1),ue.push(Math.floor((U.y+be+U.radius)/se)+1);break;case"qct":var we=oe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x,U.y);ue.push(Math.floor((we.y+be)/se)+1),ue.push(Math.floor((we.y+we.h+be)/se)+1);break;case"bct":var Ce=ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x2,U.y2,U.x,U.y);ue.push(Math.floor((Ce.y+be)/se)+1),ue.push(Math.floor((Ce.y+Ce.h+be)/se)+1);break;case"rect":ue.push(Math.floor((U.y+be)/se)+1),ue.push(Math.floor((U.y+U.h+be)/se)+1)}for(var Re=0;Re<ue.length;Re+=1)for(;this.pdf.internal.getNumberOfPages()<ue[Re];)C.call(this);return ue},C=function(){var U=this.fillStyle,J=this.strokeStyle,se=this.font,ue=this.lineCap,be=this.lineWidth,we=this.lineJoin;this.pdf.addPage(),this.fillStyle=U,this.strokeStyle=J,this.font=se,this.lineCap=ue,this.lineWidth=be,this.lineJoin=we},P=function(U,J,se){for(var ue=0;ue<U.length;ue++)switch(U[ue].type){case"bct":U[ue].x2+=J,U[ue].y2+=se;case"qct":U[ue].x1+=J,U[ue].y1+=se;case"mt":case"lt":case"arc":default:U[ue].x+=J,U[ue].y+=se}return U},S=function(U){return U.sort((function(J,se){return J-se}))},O=function(U,J){for(var se,ue,be=this.fillStyle,we=this.strokeStyle,Ce=this.lineCap,Re=this.lineWidth,Xe=Math.abs(Re*this.ctx.transform.scaleX),tt=this.lineJoin,lt=JSON.parse(JSON.stringify(this.path)),jt=JSON.parse(JSON.stringify(this.path)),Et=[],Je=0;Je<jt.length;Je++)if(jt[Je].x!==void 0)for(var _e=A.call(this,jt[Je]),$t=0;$t<_e.length;$t+=1)Et.indexOf(_e[$t])===-1&&Et.push(_e[$t]);for(var Dt=0;Dt<Et.length;Dt++)for(;this.pdf.internal.getNumberOfPages()<Et[Dt];)C.call(this);if(S(Et),this.autoPaging)for(var ht=Et[0],je=Et[Et.length-1],ke=ht;ke<je+1;ke++){this.pdf.setPage(ke),this.fillStyle=be,this.strokeStyle=we,this.lineCap=Ce,this.lineWidth=Xe,this.lineJoin=tt;var Pe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],it=ke===1?this.posY+this.margin[0]:this.margin[0],rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ut=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Nt=ke===1?0:rt+(ke-2)*ut;if(this.ctx.clip_path.length!==0){var Vt=this.path;se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(se,this.posX+this.margin[3],-Nt+it+this.ctx.prevPageLastElemOffset),z.call(this,U,!0),this.path=Vt}if(ue=JSON.parse(JSON.stringify(lt)),this.path=P(ue,this.posX+this.margin[3],-Nt+it+this.ctx.prevPageLastElemOffset),J===!1||ke===0){var Qt=(ke>ht||ke<je)&&j.call(this);Qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Pe,ut,null).clip().discardPath()),z.call(this,U,J),Qt&&this.pdf.restoreGraphicsState()}this.lineWidth=Re}else this.lineWidth=Xe,z.call(this,U,J),this.lineWidth=Re;this.path=lt},z=function(U,J){if((U!=="stroke"||J||!_.call(this))&&(U==="stroke"||J||!x.call(this))){for(var se,ue,be=[],we=this.path,Ce=0;Ce<we.length;Ce++){var Re=we[Ce];switch(Re.type){case"begin":be.push({begin:!0});break;case"close":be.push({close:!0});break;case"mt":be.push({start:Re,deltas:[],abs:[]});break;case"lt":var Xe=be.length;if(we[Ce-1]&&!isNaN(we[Ce-1].x)&&(se=[Re.x-we[Ce-1].x,Re.y-we[Ce-1].y],Xe>0)){for(;Xe>=0;Xe--)if(be[Xe-1].close!==!0&&be[Xe-1].begin!==!0){be[Xe-1].deltas.push(se),be[Xe-1].abs.push(Re);break}}break;case"bct":se=[Re.x1-we[Ce-1].x,Re.y1-we[Ce-1].y,Re.x2-we[Ce-1].x,Re.y2-we[Ce-1].y,Re.x-we[Ce-1].x,Re.y-we[Ce-1].y],be[be.length-1].deltas.push(se);break;case"qct":var tt=we[Ce-1].x+2/3*(Re.x1-we[Ce-1].x),lt=we[Ce-1].y+2/3*(Re.y1-we[Ce-1].y),jt=Re.x+2/3*(Re.x1-Re.x),Et=Re.y+2/3*(Re.y1-Re.y),Je=Re.x,_e=Re.y;se=[tt-we[Ce-1].x,lt-we[Ce-1].y,jt-we[Ce-1].x,Et-we[Ce-1].y,Je-we[Ce-1].x,_e-we[Ce-1].y],be[be.length-1].deltas.push(se);break;case"arc":be.push({deltas:[],abs:[],arc:!0}),Array.isArray(be[be.length-1].abs)&&be[be.length-1].abs.push(Re)}}ue=J?null:U==="stroke"?"stroke":"fill";for(var $t=!1,Dt=0;Dt<be.length;Dt++)if(be[Dt].arc)for(var ht=be[Dt].abs,je=0;je<ht.length;je++){var ke=ht[je];ke.type==="arc"?D.call(this,ke.x,ke.y,ke.radius,ke.startAngle,ke.endAngle,ke.counterclockwise,void 0,J,!$t):Q.call(this,ke.x,ke.y),$t=!0}else if(be[Dt].close===!0)this.pdf.internal.out("h"),$t=!1;else if(be[Dt].begin!==!0){var Pe=be[Dt].start.x,it=be[Dt].start.y;Z.call(this,be[Dt].deltas,Pe,it),$t=!0}ue&&K.call(this,ue),J&&H.call(this)}},V=function(U){var J=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,se=J*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return U-se;case"top":return U+J-se;case"hanging":return U+J-2*se;case"middle":return U+J/2-se;case"ideographic":return U;case"alphabetic":default:return U}},B=function(U){return U+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var U=function(){};return U.colorStops=[],U.addColorStop=function(J,se){this.colorStops.push([J,se])},U.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},U.isCanvasGradient=!0,U},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var D=function(U,J,se,ue,be,we,Ce,Re,Xe){for(var tt=q.call(this,se,ue,be,we),lt=0;lt<tt.length;lt++){var jt=tt[lt];lt===0&&(Xe?$.call(this,jt.x1+U,jt.y1+J):Q.call(this,jt.x1+U,jt.y1+J)),ie.call(this,U,J,jt.x2,jt.y2,jt.x3,jt.y3,jt.x4,jt.y4)}Re?H.call(this):K.call(this,Ce)},K=function(U){switch(U){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},H=function(){this.pdf.clip(),this.pdf.discardPath()},$=function(U,J){this.pdf.internal.out(s(U)+" "+r(J)+" m")},W=function(U){var J;switch(U.align){case"right":case"end":J="right";break;case"center":J="center";break;case"left":case"start":default:J="left"}var se=this.pdf.getTextDimensions(U.text),ue=V.call(this,U.y),be=B.call(this,ue)-se.h,we=this.ctx.transform.applyToPoint(new l(U.x,ue)),Ce=this.ctx.transform.decompose(),Re=new u;Re=(Re=(Re=Re.multiply(Ce.translate)).multiply(Ce.skew)).multiply(Ce.scale);for(var Xe,tt,lt,jt=this.ctx.transform.applyToRectangle(new c(U.x,ue,se.w,se.h)),Et=Re.applyToRectangle(new c(U.x,be,se.w,se.h)),Je=A.call(this,Et),_e=[],$t=0;$t<Je.length;$t+=1)_e.indexOf(Je[$t])===-1&&_e.push(Je[$t]);if(S(_e),this.autoPaging)for(var Dt=_e[0],ht=_e[_e.length-1],je=Dt;je<ht+1;je++){this.pdf.setPage(je);var ke=je===1?this.posY+this.margin[0]:this.margin[0],Pe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],it=this.pdf.internal.pageSize.height-this.margin[2],rt=it-this.margin[0],ut=this.pdf.internal.pageSize.width-this.margin[1],Nt=ut-this.margin[3],Vt=je===1?0:Pe+(je-2)*rt;if(this.ctx.clip_path.length!==0){var Qt=this.path;Xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(Xe,this.posX+this.margin[3],-1*Vt+ke),z.call(this,"fill",!0),this.path=Qt}var Gt=P([JSON.parse(JSON.stringify(Et))],this.posX+this.margin[3],-Vt+ke+this.ctx.prevPageLastElemOffset)[0];U.scale>=.01&&(tt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(tt*U.scale),lt=this.lineWidth,this.lineWidth=lt*U.scale);var fs=this.autoPaging!=="text";if(fs||Gt.y+Gt.h<=it){if(fs||Gt.y>=ke&&Gt.x<=ut){var At=fs?U.text:this.pdf.splitTextToSize(U.text,U.maxWidth||ut-Gt.x)[0],In=P([JSON.parse(JSON.stringify(jt))],this.posX+this.margin[3],-Vt+ke+this.ctx.prevPageLastElemOffset)[0],Ts=fs&&(je>Dt||je<ht)&&j.call(this);Ts&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Nt,rt,null).clip().discardPath()),this.pdf.text(At,In.x,In.y,{angle:U.angle,align:J,renderingMode:U.renderingMode}),Ts&&this.pdf.restoreGraphicsState()}}else Gt.y<it&&(this.ctx.prevPageLastElemOffset+=it-Gt.y);U.scale>=.01&&(this.pdf.setFontSize(tt),this.lineWidth=lt)}else U.scale>=.01&&(tt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(tt*U.scale),lt=this.lineWidth,this.lineWidth=lt*U.scale),this.pdf.text(U.text,we.x+this.posX,we.y+this.posY,{angle:U.angle,align:J,renderingMode:U.renderingMode,maxWidth:U.maxWidth}),U.scale>=.01&&(this.pdf.setFontSize(tt),this.lineWidth=lt)},Q=function(U,J,se,ue){se=se||0,ue=ue||0,this.pdf.internal.out(s(U+se)+" "+r(J+ue)+" l")},Z=function(U,J,se){return this.pdf.lines(U,J,se,null,null)},ie=function(U,J,se,ue,be,we,Ce,Re){this.pdf.internal.out([t(i(se+U)),t(a(ue+J)),t(i(be+U)),t(a(we+J)),t(i(Ce+U)),t(a(Re+J)),"c"].join(" "))},q=function(U,J,se,ue){for(var be=2*Math.PI,we=Math.PI/2;J>se;)J-=be;var Ce=Math.abs(se-J);Ce<be&&ue&&(Ce=be-Ce);for(var Re=[],Xe=ue?-1:1,tt=J;Ce>1e-5;){var lt=tt+Xe*Math.min(Ce,we);Re.push(ce.call(this,U,tt,lt)),Ce-=Math.abs(lt-tt),tt=lt}return Re},ce=function(U,J,se){var ue=(se-J)/2,be=U*Math.cos(ue),we=U*Math.sin(ue),Ce=be,Re=-we,Xe=Ce*Ce+Re*Re,tt=Xe+Ce*be+Re*we,lt=4/3*(Math.sqrt(2*Xe*tt)-tt)/(Ce*we-Re*be),jt=Ce-lt*Re,Et=Re+lt*Ce,Je=jt,_e=-Et,$t=ue+J,Dt=Math.cos($t),ht=Math.sin($t);return{x1:U*Math.cos(J),y1:U*Math.sin(J),x2:jt*Dt-Et*ht,y2:jt*ht+Et*Dt,x3:Je*Dt-_e*ht,y3:Je*ht+_e*Dt,x4:U*Math.cos(se),y4:U*Math.sin(se)}},te=function(U){return 180*U/Math.PI},oe=function(U,J,se,ue,be,we){var Ce=U+.5*(se-U),Re=J+.5*(ue-J),Xe=be+.5*(se-be),tt=we+.5*(ue-we),lt=Math.min(U,be,Ce,Xe),jt=Math.max(U,be,Ce,Xe),Et=Math.min(J,we,Re,tt),Je=Math.max(J,we,Re,tt);return new c(lt,Et,jt-lt,Je-Et)},ne=function(U,J,se,ue,be,we,Ce,Re){var Xe,tt,lt,jt,Et,Je,_e,$t,Dt,ht,je,ke,Pe,it,rt=se-U,ut=ue-J,Nt=be-se,Vt=we-ue,Qt=Ce-be,Gt=Re-we;for(tt=0;tt<41;tt++)Dt=(_e=(lt=U+(Xe=tt/40)*rt)+Xe*((Et=se+Xe*Nt)-lt))+Xe*(Et+Xe*(be+Xe*Qt-Et)-_e),ht=($t=(jt=J+Xe*ut)+Xe*((Je=ue+Xe*Vt)-jt))+Xe*(Je+Xe*(we+Xe*Gt-Je)-$t),tt==0?(je=Dt,ke=ht,Pe=Dt,it=ht):(je=Math.min(je,Dt),ke=Math.min(ke,ht),Pe=Math.max(Pe,Dt),it=Math.max(it,ht));return new c(Math.round(je),Math.round(ke),Math.round(Pe-je),Math.round(it-ke))},re=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var U,J,se=(U=this.ctx.lineDash,J=this.ctx.lineDashOffset,JSON.stringify({lineDash:U,lineDashOffset:J}));this.prevLineDash!==se&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=se)}}})(Rs.API),(function(n){var t=function(a){var l,c,u,m,g,p,y,x,_,j;for(c=[],u=0,m=(a+=l="\0\0\0\0".slice(a.length%4||4)).length;m>u;u+=4)(g=(a.charCodeAt(u)<<24)+(a.charCodeAt(u+1)<<16)+(a.charCodeAt(u+2)<<8)+a.charCodeAt(u+3))!==0?(p=(g=((g=((g=((g=(g-(j=g%85))/85)-(_=g%85))/85)-(x=g%85))/85)-(y=g%85))/85)%85,c.push(p+33,y+33,x+33,_+33,j+33)):c.push(122);return(function(A,C){for(var P=C;P>0;P--)A.pop()})(c,l.length),String.fromCharCode.apply(String,c)+"~>"},s=function(a){var l,c,u,m,g,p=String,y="length",x=255,_="charCodeAt",j="slice",A="replace";for(a[j](-2),a=a[j](0,-2)[A](/\s/g,"")[A]("z","!!!!!"),u=[],m=0,g=(a+=l="uuuuu"[j](a[y]%5||5))[y];g>m;m+=5)c=52200625*(a[_](m)-33)+614125*(a[_](m+1)-33)+7225*(a[_](m+2)-33)+85*(a[_](m+3)-33)+(a[_](m+4)-33),u.push(x&c>>24,x&c>>16,x&c>>8,x&c);return(function(C,P){for(var S=P;S>0;S--)C.pop()})(u,l[y]),p.fromCharCode.apply(p,u)},r=function(a){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),l.test(a)===!1)return"";for(var c="",u=0;u<a.length;u+=2)c+=String.fromCharCode("0x"+(a[u]+a[u+1]));return c},i=function(a){for(var l=new Uint8Array(a.length),c=a.length;c--;)l[c]=a.charCodeAt(c);return a=(l=k1(l)).reduce((function(u,m){return u+String.fromCharCode(m)}),"")};n.processDataByFilters=function(a,l){var c=0,u=a||"",m=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":u=s(u),m.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),m.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=r(u),m.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=u.split("").map((function(g){return("0"+g.charCodeAt().toString(16)).slice(-2)})).join("")+">",m.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=i(u),m.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:u,reverseChain:m.reverse().join(" ")}}})(Rs.API),(function(n){n.loadFile=function(t,s,r){return(function(i,a,l){a=a!==!1,l=typeof l=="function"?l:function(){};var c=void 0;try{c=(function(u,m,g){var p=new XMLHttpRequest,y=0,x=function(_){var j=_.length,A=[],C=String.fromCharCode;for(y=0;y<j;y+=1)A.push(C(255&_.charCodeAt(y)));return A.join("")};if(p.open("GET",u,!m),p.overrideMimeType("text/plain; charset=x-user-defined"),m===!1&&(p.onload=function(){p.status===200?g(x(this.responseText)):g(void 0)}),p.send(null),m&&p.status===200)return x(p.responseText)})(i,a,l)}catch{}return c})(t,s,r)},n.loadImageFile=n.loadFile})(Rs.API),(function(n){function t(){return(Ms.html2canvas?Promise.resolve(Ms.html2canvas):wy(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch((function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))})).then((function(l){return l.default?l.default:l}))}function s(){return(Ms.DOMPurify?Promise.resolve(Ms.DOMPurify):wy(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch((function(l){return Promise.reject(new Error("Could not load dompurify: "+l))})).then((function(l){return l.default?l.default:l}))}var r=function(l){var c=dr(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(l,c){var u=document.createElement(l);for(var m in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[m]=c.style[m];return u},a=function l(c){var u=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),m=l.convert(Promise.resolve(),u);return m=(m=m.setProgress(1,l,1,[l])).set(c)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(l,c){return l.__proto__=c||a.prototype,l},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(l,c){return this.then((function(){switch(c=c||(function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l)){case"string":return this.then(s).then((function(u){return this.set({src:i("div",{innerHTML:l,dompurify:u})})}));case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}}))},a.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then((function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=(function u(m,g){for(var p=m.nodeType===3?document.createTextNode(m.nodeValue):m.cloneNode(!1),y=m.firstChild;y;y=y.nextSibling)g!==!0&&y.nodeType===1&&y.nodeName==="SCRIPT"||p.appendChild(u(y,g));return m.nodeType===1&&(m.nodeName==="CANVAS"?(p.width=m.width,p.height=m.height,p.getContext("2d").drawImage(m,0,0)):m.nodeName!=="TEXTAREA"&&m.nodeName!=="SELECT"||(p.value=m.value),p.addEventListener("load",(function(){p.scrollTop=m.scrollTop,p.scrollLeft=m.scrollLeft}),!0)),p})(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"}))},a.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then((function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)})).then((function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)}))},a.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then((function(c){var u=this.opt.jsPDF,m=this.opt.fontFaces,g=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:g,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=m,m)for(var y=0;y<m.length;++y){var x=m[y],_=x.src.find((function(j){return j.format==="truetype"}));_&&u.addFont(_.url,x.ref.name,x.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,u.context2d.save(!0),c(this.prop.container,p)})).then((function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)}))},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then((function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l}))},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then((function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF}))},a.prototype.output=function(l,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},a.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){return this.prop.pdf.output(l,c)}))},a.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then((function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}}))},a.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then((function(){this.prop.pdf.save(this.opt.filename)}))},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){this.prop.callback(this.prop.pdf)}))},a.prototype.set=function(l){if(r(l)!=="object")return this;var c=Object.keys(l||{}).map((function(u){if(u in a.template.prop)return function(){this.prop[u]=l[u]};switch(u){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[u]=l[u]}}}),this);return this.then((function(){return this.thenList(c)}))},a.prototype.get=function(l,c){return this.then((function(){var u=l in a.template.prop?this.prop[l]:this.opt[l];return c?c(u):u}))},a.prototype.setMargin=function(l){return this.then((function(){switch(r(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l})).then(this.setPageSize)},a.prototype.setPageSize=function(l){function c(u,m){return Math.floor(u*m/72*96)}return this.then((function(){(l=l||Rs.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l}))},a.prototype.setProgress=function(l,c,u,m){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),m!=null&&(this.progress.stack=m),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(l,c,u,m){return this.setProgress(l?this.progress.val+l:null,c||null,u?this.progress.n+u:null,m?this.progress.stack.concat(m):null)},a.prototype.then=function(l,c){var u=this;return this.thenCore(l,c,(function(m,g){return u.updateProgress(null,null,1,[m]),Promise.prototype.then.call(this,(function(p){return u.updateProgress(null,m),p})).then(m,g).then((function(p){return u.updateProgress(1),p}))}))},a.prototype.thenCore=function(l,c,u){u=u||Promise.prototype.then,l&&(l=l.bind(this)),c&&(c=c.bind(this));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),g=u.call(m,l,c);return a.convert(g,this.__proto__)},a.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},a.prototype.thenList=function(l){var c=this;return l.forEach((function(u){c=c.thenCore(u)})),c},a.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return a.convert(c,this)},a.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},a.prototype.error=function(l){return this.then((function(){throw new Error(l)}))},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,Rs.getPageSize=function(l,c,u){if(dr(l)==="object"){var m=l;l=m.orientation,c=m.unit||c,u=m.format||u}c=c||"mm",u=u||"a4",l=(""+(l||"P")).toLowerCase();var g,p=(""+u).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":g=1;break;case"mm":g=72/25.4;break;case"cm":g=72/2.54;break;case"in":g=72;break;case"px":g=.75;break;case"pc":case"em":g=12;break;case"ex":g=6;break;default:throw"Invalid unit: "+c}var x,_=0,j=0;if(y.hasOwnProperty(p))_=y[p][1]/g,j=y[p][0]/g;else try{_=u[1],j=u[0]}catch{throw new Error("Invalid format: "+u)}if(l==="p"||l==="portrait")l="p",j>_&&(x=j,j=_,_=x);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",_>j&&(x=j,j=_,_=x)}return{width:j,height:_,unit:c,k:g,orientation:l}},n.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(O1):null;var u=new a(c);return c.worker?u:u.from(l).doCallback()}})(Rs.API),Rs.API.addJS=function(n){return kS=n,this.internal.events.subscribe("postPutResources",(function(){Pv=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Pv+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),AS=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+kS+")"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){Pv!==void 0&&AS!==void 0&&this.internal.out("/Names <</JavaScript "+Pv+" 0 R>>")})),this},(function(n){var t;n.events.push(["postPutResources",function(){var s=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=s.outline.render().split(/\r\n/),a=0;a<i.length;a++){var l=i[a],c=r.exec(l);if(c!=null){var u=c[1];s.internal.newObjectDeferredBegin(u,!1)}s.internal.write(l)}if(this.outline.createNamedDestinations){var m=this.internal.pages.length,g=[];for(a=0;a<m;a++){var p=s.internal.newObject();g.push(p);var y=s.internal.getPageInfo(a+1);s.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var x=s.internal.newObject();for(s.internal.write("<< /Names [ "),a=0;a<g.length;a++)s.internal.write("(page_"+(a+1)+")"+g[a]+" 0 R");s.internal.write(" ] >>","endobj"),t=s.internal.newObject(),s.internal.write("<< /Dests "+x+" 0 R"),s.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),n.events.push(["initialized",function(){var s=this;s.outline={createNamedDestinations:!1,root:{children:[]}},s.outline.add=function(r,i,a){var l={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(l),l},s.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=s,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},s.outline.genIds_r=function(r){r.id=s.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},s.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},s.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var l=r.children[a];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var c=this.count=this.count_r({count:0},l);if(c>0&&this.line("/Count "+c),l.options&&l.options.pageNumber){var u=s.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var m=0;m<r.children.length;m++)this.renderItems(r.children[m])},s.outline.line=function(r){this.ctx.val+=r+`\r
`},s.outline.makeRef=function(r){return r.id+" 0 R"},s.outline.makeString=function(r){return"("+s.internal.pdfEscape(r)+")"},s.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},s.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},s.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])})(Rs.API),(function(n){var t=[192,193,194,195,196,197,198,199];n.processJPEG=function(s,r,i,a,l,c){var u,m=this.decode.DCT_DECODE,g=null;if(typeof s=="string"||this.__addimage__.isArrayBuffer(s)||this.__addimage__.isArrayBufferView(s)){switch(s=l||s,s=this.__addimage__.isArrayBuffer(s)?new Uint8Array(s):s,(u=(function(p){for(var y,x=256*p.charCodeAt(4)+p.charCodeAt(5),_=p.length,j={width:0,height:0,numcomponents:1},A=4;A<_;A+=2){if(A+=x,t.indexOf(p.charCodeAt(A+1))!==-1){y=256*p.charCodeAt(A+5)+p.charCodeAt(A+6),j={width:256*p.charCodeAt(A+7)+p.charCodeAt(A+8),height:y,numcomponents:p.charCodeAt(A+9)};break}x=256*p.charCodeAt(A+2)+p.charCodeAt(A+3)}return j})(s=this.__addimage__.isArrayBufferView(s)?this.__addimage__.arrayBufferToBinaryString(s):s)).numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}g={data:s,width:u.width,height:u.height,colorSpace:c,bitsPerComponent:8,filter:m,index:r,alias:i}}return g}})(Rs.API);var Ef,Lv,ES,TS,PS,hZ=(function(){var n,t,s;function r(a){var l,c,u,m,g,p,y,x,_,j,A,C,P,S;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},p=null;;){switch(l=this.readUInt32(),_=(function(){var O,z;for(z=[],O=0;O<4;++O)z.push(String.fromCharCode(this.data[this.pos++]));return z}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(l);break;case"fcTL":p&&this.animation.frames.push(p),this.pos+=4,p={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},g=this.readUInt16(),m=this.readUInt16()||100,p.delay=1e3*g/m,p.disposeOp=this.data[this.pos++],p.blendOp=this.data[this.pos++],p.data=[];break;case"IDAT":case"fdAT":for(_==="fdAT"&&(this.pos+=4,l-=4),a=(p!=null?p.data:void 0)||this.imgData,C=0;0<=l?C<l:C>l;0<=l?++C:--C)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(u=this.palette.length/3,this.transparency.indexed=this.read(l),this.transparency.indexed.length>u)throw new Error("More transparent colors than palette size");if((j=u-this.transparency.indexed.length)>0)for(P=0;0<=j?P<j:P>j;0<=j?++P:--P)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(l)[0];break;case 2:this.transparency.rgb=this.read(l)}break;case"tEXt":y=(A=this.read(l)).indexOf(0),x=String.fromCharCode.apply(String,A.slice(0,y)),this.text[x]=String.fromCharCode.apply(String,A.slice(y+1));break;case"IEND":return p&&this.animation.frames.push(p),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(S=this.colorType)===4||S===6,c=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*c,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=l}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(a){var l,c;for(c=[],l=0;0<=a?l<a:l>a;0<=a?++l:--l)c.push(this.data[this.pos++]);return c},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(a){var l=this.pixelBitlength/8,c=new Uint8Array(this.width*this.height*l),u=0,m=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function g(p,y,x,_){var j,A,C,P,S,O,z,V,B,D,K,H,$,W,Q,Z,ie,q,ce,te,oe,ne=Math.ceil((m.width-p)/x),re=Math.ceil((m.height-y)/_),U=m.width==ne&&m.height==re;for(W=l*ne,H=U?c:new Uint8Array(W*re),O=a.length,$=0,A=0;$<re&&u<O;){switch(a[u++]){case 0:for(P=ie=0;ie<W;P=ie+=1)H[A++]=a[u++];break;case 1:for(P=q=0;q<W;P=q+=1)j=a[u++],S=P<l?0:H[A-l],H[A++]=(j+S)%256;break;case 2:for(P=ce=0;ce<W;P=ce+=1)j=a[u++],C=(P-P%l)/l,Q=$&&H[($-1)*W+C*l+P%l],H[A++]=(Q+j)%256;break;case 3:for(P=te=0;te<W;P=te+=1)j=a[u++],C=(P-P%l)/l,S=P<l?0:H[A-l],Q=$&&H[($-1)*W+C*l+P%l],H[A++]=(j+Math.floor((S+Q)/2))%256;break;case 4:for(P=oe=0;oe<W;P=oe+=1)j=a[u++],C=(P-P%l)/l,S=P<l?0:H[A-l],$===0?Q=Z=0:(Q=H[($-1)*W+C*l+P%l],Z=C&&H[($-1)*W+(C-1)*l+P%l]),z=S+Q-Z,V=Math.abs(z-S),D=Math.abs(z-Q),K=Math.abs(z-Z),B=V<=D&&V<=K?S:D<=K?Q:Z,H[A++]=(j+B)%256;break;default:throw new Error("Invalid filter algorithm: "+a[u-1])}if(!U){var J=((y+$*_)*m.width+p)*l,se=$*W;for(P=0;P<ne;P+=1){for(var ue=0;ue<l;ue+=1)c[J++]=H[se++];J+=(x-1)*l}}$++}}return a=VY(a),m.interlaceMethod==1?(g(0,0,8,8),g(4,0,8,8),g(0,4,4,8),g(2,0,4,4),g(0,2,2,4),g(1,0,2,2),g(0,1,1,2)):g(0,0,1,1),c},r.prototype.decodePalette=function(){var a,l,c,u,m,g,p,y,x;for(c=this.palette,g=this.transparency.indexed||[],m=new Uint8Array((g.length||0)+c.length),u=0,a=0,l=p=0,y=c.length;p<y;l=p+=3)m[u++]=c[l],m[u++]=c[l+1],m[u++]=c[l+2],m[u++]=(x=g[a++])!=null?x:255;return m},r.prototype.copyToImageData=function(a,l){var c,u,m,g,p,y,x,_,j,A,C;if(u=this.colors,j=null,c=this.hasAlphaChannel,this.palette.length&&(j=(C=this._decodedPalette)!=null?C:this._decodedPalette=this.decodePalette(),u=4,c=!0),_=(m=a.data||a).length,p=j||l,g=y=0,u===1)for(;g<_;)x=j?4*l[g/4]:y,A=p[x++],m[g++]=A,m[g++]=A,m[g++]=A,m[g++]=c?p[x++]:255,y=x;else for(;g<_;)x=j?4*l[g/4]:y,m[g++]=p[x++],m[g++]=p[x++],m[g++]=p[x++],m[g++]=c?p[x++]:255,y=x},r.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var i=function(){if(Object.prototype.toString.call(Ms)==="[object Window]"){try{t=Ms.document.createElement("canvas"),s=t.getContext("2d")}catch{return!1}return!0}return!1};return i(),n=function(a){var l;if(i()===!0)return s.width=a.width,s.height=a.height,s.clearRect(0,0,a.width,a.height),s.putImageData(a,0,0),(l=new Image).src=t.toDataURL(),l;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(a){var l,c,u,m,g,p,y,x;if(this.animation){for(x=[],c=g=0,p=(y=this.animation.frames).length;g<p;c=++g)l=y[c],u=a.createImageData(l.width,l.height),m=this.decodePixels(new Uint8Array(l.data)),this.copyToImageData(u,m),l.imageData=u,x.push(l.image=n(u));return x}},r.prototype.renderFrame=function(a,l){var c,u,m;return c=(u=this.animation.frames)[l],m=u[l-1],l===0&&a.clearRect(0,0,this.width,this.height),(m!=null?m.disposeOp:void 0)===1?a.clearRect(m.xOffset,m.yOffset,m.width,m.height):(m!=null?m.disposeOp:void 0)===2&&a.putImageData(m.imageData,m.xOffset,m.yOffset),c.blendOp===0&&a.clearRect(c.xOffset,c.yOffset,c.width,c.height),a.drawImage(c.image,c.xOffset,c.yOffset)},r.prototype.animate=function(a){var l,c,u,m,g,p,y=this;return c=0,p=this.animation,m=p.numFrames,u=p.frames,g=p.numPlays,(l=function(){var x,_;if(x=c++%m,_=u[x],y.renderFrame(a,x),m>1&&c/m<g)return y.animation._timeout=setTimeout(l,_.delay)})()},r.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},r.prototype.render=function(a){var l,c;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,l=a.getContext("2d"),this.animation?(this.decodeFrames(l),this.animate(l)):(c=l.createImageData(this.width,this.height),this.copyToImageData(c,this.decodePixels()),l.putImageData(c,0,0))},r})();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function mZ(n){var t=0;if(n[t++]!==71||n[t++]!==73||n[t++]!==70||n[t++]!==56||(n[t++]+1&253)!=56||n[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var s=n[t++]|n[t++]<<8,r=n[t++]|n[t++]<<8,i=n[t++],a=i>>7,l=1<<(7&i)+1;n[t++],n[t++];var c=null,u=null;a&&(c=t,u=l,t+=3*l);var m=!0,g=[],p=0,y=null,x=0,_=null;for(this.width=s,this.height=r;m&&t<n.length;)switch(n[t++]){case 33:switch(n[t++]){case 255:if(n[t]!==11||n[t+1]==78&&n[t+2]==69&&n[t+3]==84&&n[t+4]==83&&n[t+5]==67&&n[t+6]==65&&n[t+7]==80&&n[t+8]==69&&n[t+9]==50&&n[t+10]==46&&n[t+11]==48&&n[t+12]==3&&n[t+13]==1&&n[t+16]==0)t+=14,_=n[t++]|n[t++]<<8,t++;else for(t+=12;;){if(!(($=n[t++])>=0))throw Error("Invalid block size");if($===0)break;t+=$}break;case 249:if(n[t++]!==4||n[t+4]!==0)throw new Error("Invalid graphics extension block.");var j=n[t++];p=n[t++]|n[t++]<<8,y=n[t++],(1&j)==0&&(y=null),x=j>>2&7,t++;break;case 254:for(;;){if(!(($=n[t++])>=0))throw Error("Invalid block size");if($===0)break;t+=$}break;default:throw new Error("Unknown graphic control label: 0x"+n[t-1].toString(16))}break;case 44:var A=n[t++]|n[t++]<<8,C=n[t++]|n[t++]<<8,P=n[t++]|n[t++]<<8,S=n[t++]|n[t++]<<8,O=n[t++],z=O>>6&1,V=1<<(7&O)+1,B=c,D=u,K=!1;O>>7&&(K=!0,B=t,D=V,t+=3*V);var H=t;for(t++;;){var $;if(!(($=n[t++])>=0))throw Error("Invalid block size");if($===0)break;t+=$}g.push({x:A,y:C,width:P,height:S,has_local_palette:K,palette_offset:B,palette_size:D,data_offset:H,data_length:t-H,transparent_index:y,interlaced:!!z,delay:p,disposal:x});break;case 59:m=!1;break;default:throw new Error("Unknown gif block: 0x"+n[t-1].toString(16))}this.numFrames=function(){return g.length},this.loopCount=function(){return _},this.frameInfo=function(W){if(W<0||W>=g.length)throw new Error("Frame index out of range.");return g[W]},this.decodeAndBlitFrameBGRA=function(W,Q){var Z=this.frameInfo(W),ie=Z.width*Z.height,q=new Uint8Array(ie);LS(n,Z.data_offset,q,ie);var ce=Z.palette_offset,te=Z.transparent_index;te===null&&(te=256);var oe=Z.width,ne=s-oe,re=oe,U=4*(Z.y*s+Z.x),J=4*((Z.y+Z.height)*s+Z.x),se=U,ue=4*ne;Z.interlaced===!0&&(ue+=4*s*7);for(var be=8,we=0,Ce=q.length;we<Ce;++we){var Re=q[we];if(re===0&&(re=oe,(se+=ue)>=J&&(ue=4*ne+4*s*(be-1),se=U+(oe+ne)*(be<<1),be>>=1)),Re===te)se+=4;else{var Xe=n[ce+3*Re],tt=n[ce+3*Re+1],lt=n[ce+3*Re+2];Q[se++]=lt,Q[se++]=tt,Q[se++]=Xe,Q[se++]=255}--re}},this.decodeAndBlitFrameRGBA=function(W,Q){var Z=this.frameInfo(W),ie=Z.width*Z.height,q=new Uint8Array(ie);LS(n,Z.data_offset,q,ie);var ce=Z.palette_offset,te=Z.transparent_index;te===null&&(te=256);var oe=Z.width,ne=s-oe,re=oe,U=4*(Z.y*s+Z.x),J=4*((Z.y+Z.height)*s+Z.x),se=U,ue=4*ne;Z.interlaced===!0&&(ue+=4*s*7);for(var be=8,we=0,Ce=q.length;we<Ce;++we){var Re=q[we];if(re===0&&(re=oe,(se+=ue)>=J&&(ue=4*ne+4*s*(be-1),se=U+(oe+ne)*(be<<1),be>>=1)),Re===te)se+=4;else{var Xe=n[ce+3*Re],tt=n[ce+3*Re+1],lt=n[ce+3*Re+2];Q[se++]=Xe,Q[se++]=tt,Q[se++]=lt,Q[se++]=255}--re}}}function LS(n,t,s,r){for(var i=n[t++],a=1<<i,l=a+1,c=l+1,u=i+1,m=(1<<u)-1,g=0,p=0,y=0,x=n[t++],_=new Int32Array(4096),j=null;;){for(;g<16&&x!==0;)p|=n[t++]<<g,g+=8,x===1?x=n[t++]:--x;if(g<u)break;var A=p&m;if(p>>=u,g-=u,A!==a){if(A===l)break;for(var C=A<c?A:j,P=0,S=C;S>a;)S=_[S]>>8,++P;var O=S;if(y+P+(C!==A?1:0)>r)return void jr.log("Warning, gif stream longer than expected.");s[y++]=O;var z=y+=P;for(C!==A&&(s[y++]=O),S=C;P--;)S=_[S],s[--z]=255&S,S>>=8;j!==null&&c<4096&&(_[c++]=j<<8|O,c>=m+1&&u<12&&(++u,m=m<<1|1)),j=A}else c=l+1,m=(1<<(u=i+1))-1,j=null}return y!==r&&jr.log("Warning, gif stream shorter than expected."),s}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Tj(n){var t,s,r,i,a,l=Math.floor,c=new Array(64),u=new Array(64),m=new Array(64),g=new Array(64),p=new Array(65535),y=new Array(65535),x=new Array(64),_=new Array(64),j=[],A=0,C=7,P=new Array(64),S=new Array(64),O=new Array(64),z=new Array(256),V=new Array(2048),B=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],K=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],$=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],W=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Q=[0,1,2,3,4,5,6,7,8,9,10,11],Z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ie=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function q(U,J){for(var se=0,ue=0,be=new Array,we=1;we<=16;we++){for(var Ce=1;Ce<=U[we];Ce++)be[J[ue]]=[],be[J[ue]][0]=se,be[J[ue]][1]=we,ue++,se++;se*=2}return be}function ce(U){for(var J=U[0],se=U[1]-1;se>=0;)J&1<<se&&(A|=1<<C),se--,--C<0&&(A==255?(te(255),te(0)):te(A),C=7,A=0)}function te(U){j.push(U)}function oe(U){te(U>>8&255),te(255&U)}function ne(U,J,se,ue,be){for(var we,Ce=be[0],Re=be[240],Xe=(function(ht,je){var ke,Pe,it,rt,ut,Nt,Vt,Qt,Gt,fs,At=0;for(Gt=0;Gt<8;++Gt){ke=ht[At],Pe=ht[At+1],it=ht[At+2],rt=ht[At+3],ut=ht[At+4],Nt=ht[At+5],Vt=ht[At+6];var In=ke+(Qt=ht[At+7]),Ts=ke-Qt,rn=Pe+Vt,zs=Pe-Vt,Cs=it+Nt,Dr=it-Nt,Us=rt+ut,Gi=rt-ut,Fn=In+Us,bi=In-Us,Wi=rn+Cs,Sn=rn-Cs;ht[At]=Fn+Wi,ht[At+4]=Fn-Wi;var Ct=.707106781*(Sn+bi);ht[At+2]=bi+Ct,ht[At+6]=bi-Ct;var gs=.382683433*((Fn=Gi+Dr)-(Sn=zs+Ts)),ur=.5411961*Fn+gs,xn=1.306562965*Sn+gs,ji=.707106781*(Wi=Dr+zs),an=Ts+ji,es=Ts-ji;ht[At+5]=es+ur,ht[At+3]=es-ur,ht[At+1]=an+xn,ht[At+7]=an-xn,At+=8}for(At=0,Gt=0;Gt<8;++Gt){ke=ht[At],Pe=ht[At+8],it=ht[At+16],rt=ht[At+24],ut=ht[At+32],Nt=ht[At+40],Vt=ht[At+48];var wi=ke+(Qt=ht[At+56]),gr=ke-Qt,Gn=Pe+Vt,un=Pe-Vt,Tt=it+Nt,Yi=it-Nt,Hl=rt+ut,Ni=rt-ut,Bn=wi+Hl,er=wi-Hl,_i=Gn+Tt,Si=Gn-Tt;ht[At]=Bn+_i,ht[At+32]=Bn-_i;var Ua=.707106781*(Si+er);ht[At+16]=er+Ua,ht[At+48]=er-Ua;var Wo=.382683433*((Bn=Ni+Yi)-(Si=un+gr)),Gl=.5411961*Bn+Wo,Yo=1.306562965*Si+Wo,Wl=.707106781*(_i=Yi+un),no=gr+Wl,Eo=gr-Wl;ht[At+40]=Eo+Gl,ht[At+24]=Eo-Gl,ht[At+8]=no+Yo,ht[At+56]=no-Yo,At++}for(Gt=0;Gt<64;++Gt)fs=ht[Gt]*je[Gt],x[Gt]=fs>0?fs+.5|0:fs-.5|0;return x})(U,J),tt=0;tt<64;++tt)_[B[tt]]=Xe[tt];var lt=_[0]-se;se=_[0],lt==0?ce(ue[0]):(ce(ue[y[we=32767+lt]]),ce(p[we]));for(var jt=63;jt>0&&_[jt]==0;)jt--;if(jt==0)return ce(Ce),se;for(var Et,Je=1;Je<=jt;){for(var _e=Je;_[Je]==0&&Je<=jt;)++Je;var $t=Je-_e;if($t>=16){Et=$t>>4;for(var Dt=1;Dt<=Et;++Dt)ce(Re);$t&=15}we=32767+_[Je],ce(be[($t<<4)+y[we]]),ce(p[we]),Je++}return jt!=63&&ce(Ce),se}function re(U){U=Math.min(Math.max(U,1),100),a!=U&&((function(J){for(var se=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ue=0;ue<64;ue++){var be=l((se[ue]*J+50)/100);be=Math.min(Math.max(be,1),255),c[B[ue]]=be}for(var we=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ce=0;Ce<64;Ce++){var Re=l((we[Ce]*J+50)/100);Re=Math.min(Math.max(Re,1),255),u[B[Ce]]=Re}for(var Xe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],tt=0,lt=0;lt<8;lt++)for(var jt=0;jt<8;jt++)m[tt]=1/(c[B[tt]]*Xe[lt]*Xe[jt]*8),g[tt]=1/(u[B[tt]]*Xe[lt]*Xe[jt]*8),tt++})(U<50?Math.floor(5e3/U):Math.floor(200-2*U)),a=U)}this.encode=function(U,J){J&&re(J),j=new Array,A=0,C=7,oe(65496),oe(65504),oe(16),te(74),te(70),te(73),te(70),te(0),te(1),te(1),te(0),oe(1),oe(1),te(0),te(0),(function(){oe(65499),oe(132),te(0);for(var Pe=0;Pe<64;Pe++)te(c[Pe]);te(1);for(var it=0;it<64;it++)te(u[it])})(),(function(Pe,it){oe(65472),oe(17),te(8),oe(it),oe(Pe),te(3),te(1),te(17),te(0),te(2),te(17),te(1),te(3),te(17),te(1)})(U.width,U.height),(function(){oe(65476),oe(418),te(0);for(var Pe=0;Pe<16;Pe++)te(D[Pe+1]);for(var it=0;it<=11;it++)te(K[it]);te(16);for(var rt=0;rt<16;rt++)te(H[rt+1]);for(var ut=0;ut<=161;ut++)te($[ut]);te(1);for(var Nt=0;Nt<16;Nt++)te(W[Nt+1]);for(var Vt=0;Vt<=11;Vt++)te(Q[Vt]);te(17);for(var Qt=0;Qt<16;Qt++)te(Z[Qt+1]);for(var Gt=0;Gt<=161;Gt++)te(ie[Gt])})(),oe(65498),oe(12),te(3),te(1),te(0),te(2),te(17),te(3),te(17),te(0),te(63),te(0);var se=0,ue=0,be=0;A=0,C=7,this.encode.displayName="_encode_";for(var we,Ce,Re,Xe,tt,lt,jt,Et,Je,_e=U.data,$t=U.width,Dt=U.height,ht=4*$t,je=0;je<Dt;){for(we=0;we<ht;){for(tt=ht*je+we,jt=-1,Et=0,Je=0;Je<64;Je++)lt=tt+(Et=Je>>3)*ht+(jt=4*(7&Je)),je+Et>=Dt&&(lt-=ht*(je+1+Et-Dt)),we+jt>=ht&&(lt-=we+jt-ht+4),Ce=_e[lt++],Re=_e[lt++],Xe=_e[lt++],P[Je]=(V[Ce]+V[Re+256>>0]+V[Xe+512>>0]>>16)-128,S[Je]=(V[Ce+768>>0]+V[Re+1024>>0]+V[Xe+1280>>0]>>16)-128,O[Je]=(V[Ce+1280>>0]+V[Re+1536>>0]+V[Xe+1792>>0]>>16)-128;se=ne(P,m,se,t,r),ue=ne(S,g,ue,s,i),be=ne(O,g,be,s,i),we+=32}je+=8}if(C>=0){var ke=[];ke[1]=C+1,ke[0]=(1<<C+1)-1,ce(ke)}return oe(65497),new Uint8Array(j)},n=n||50,(function(){for(var U=String.fromCharCode,J=0;J<256;J++)z[J]=U(J)})(),t=q(D,K),s=q(W,Q),r=q(H,$),i=q(Z,ie),(function(){for(var U=1,J=2,se=1;se<=15;se++){for(var ue=U;ue<J;ue++)y[32767+ue]=se,p[32767+ue]=[],p[32767+ue][1]=se,p[32767+ue][0]=ue;for(var be=-(J-1);be<=-U;be++)y[32767+be]=se,p[32767+be]=[],p[32767+be][1]=se,p[32767+be][0]=J-1+be;U<<=1,J<<=1}})(),(function(){for(var U=0;U<256;U++)V[U]=19595*U,V[U+256>>0]=38470*U,V[U+512>>0]=7471*U+32768,V[U+768>>0]=-11059*U,V[U+1024>>0]=-21709*U,V[U+1280>>0]=32768*U+8421375,V[U+1536>>0]=-27439*U,V[U+1792>>0]=-5329*U})(),re(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Vc(n,t){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function RS(n){function t(D){if(!D)throw Error("assert :P")}function s(D,K,H){for(var $=0;4>$;$++)if(D[K+$]!=H.charCodeAt($))return!0;return!1}function r(D,K,H,$,W){for(var Q=0;Q<W;Q++)D[K+Q]=H[$+Q]}function i(D,K,H,$){for(var W=0;W<$;W++)D[K+W]=H}function a(D){return new Int32Array(D)}function l(D,K){for(var H=[],$=0;$<D;$++)H.push(new K);return H}function c(D,K){var H=[];return(function $(W,Q,Z){for(var ie=Z[Q],q=0;q<ie&&(W.push(Z.length>Q+1?[]:new K),!(Z.length<Q+1));q++)$(W[q],Q+1,Z)})(H,0,D),H}var u=function(){var D=this;function K(N,T){for(var F=1<<T-1>>>0;N&F;)F>>>=1;return F?(N&F-1)+F:N}function H(N,T,F,G,ae){t(!(G%F));do N[T+(G-=F)]=ae;while(0<G)}function $(N,T,F,G,ae){if(t(2328>=ae),512>=ae)var he=a(512);else if((he=a(ae))==null)return 0;return(function(me,ge,ye,Ne,De,Ye){var We,$e,yt=ge,dt=1<<ye,Ie=a(16),qe=a(16);for(t(De!=0),t(Ne!=null),t(me!=null),t(0<ye),$e=0;$e<De;++$e){if(15<Ne[$e])return 0;++Ie[Ne[$e]]}if(Ie[0]==De)return 0;for(qe[1]=0,We=1;15>We;++We){if(Ie[We]>1<<We)return 0;qe[We+1]=qe[We]+Ie[We]}for($e=0;$e<De;++$e)We=Ne[$e],0<Ne[$e]&&(Ye[qe[We]++]=$e);if(qe[15]==1)return(Ne=new W).g=0,Ne.value=Ye[0],H(me,yt,1,dt,Ne),dt;var xt,wt=-1,pt=dt-1,qt=0,Mt=1,ps=1,It=1<<ye;for($e=0,We=1,De=2;We<=ye;++We,De<<=1){if(Mt+=ps<<=1,0>(ps-=Ie[We]))return 0;for(;0<Ie[We];--Ie[We])(Ne=new W).g=We,Ne.value=Ye[$e++],H(me,yt+qt,De,It,Ne),qt=K(qt,We)}for(We=ye+1,De=2;15>=We;++We,De<<=1){if(Mt+=ps<<=1,0>(ps-=Ie[We]))return 0;for(;0<Ie[We];--Ie[We]){if(Ne=new W,(qt&pt)!=wt){for(yt+=It,xt=1<<(wt=We)-ye;15>wt&&!(0>=(xt-=Ie[wt]));)++wt,xt<<=1;dt+=It=1<<(xt=wt-ye),me[ge+(wt=qt&pt)].g=xt+ye,me[ge+wt].value=yt-ge-wt}Ne.g=We-ye,Ne.value=Ye[$e++],H(me,yt+(qt>>ye),De,It,Ne),qt=K(qt,We)}}return Mt!=2*qe[15]-1?0:dt})(N,T,F,G,ae,he)}function W(){this.value=this.g=0}function Q(){this.value=this.g=0}function Z(){this.G=l(5,W),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(kr,Q)}function ie(N,T,F,G){t(N!=null),t(T!=null),t(2147483648>G),N.Ca=254,N.I=0,N.b=-8,N.Ka=0,N.oa=T,N.pa=F,N.Jd=T,N.Yc=F+G,N.Zc=4<=G?F+G-4+1:F,we(N)}function q(N,T){for(var F=0;0<T--;)F|=Re(N,128)<<T;return F}function ce(N,T){var F=q(N,T);return Ce(N)?-F:F}function te(N,T,F,G){var ae,he=0;for(t(N!=null),t(T!=null),t(4294967288>G),N.Sb=G,N.Ra=0,N.u=0,N.h=0,4<G&&(G=4),ae=0;ae<G;++ae)he+=T[F+ae]<<8*ae;N.Ra=he,N.bb=G,N.oa=T,N.pa=F}function oe(N){for(;8<=N.u&&N.bb<N.Sb;)N.Ra>>>=8,N.Ra+=N.oa[N.pa+N.bb]<<Ro-8>>>0,++N.bb,N.u-=8;se(N)&&(N.h=1,N.u=0)}function ne(N,T){if(t(0<=T),!N.h&&T<=xa){var F=J(N)&Pc[T];return N.u+=T,oe(N),F}return N.h=1,N.u=0}function re(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function U(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function J(N){return N.Ra>>>(N.u&Ro-1)>>>0}function se(N){return t(N.bb<=N.Sb),N.h||N.bb==N.Sb&&N.u>Ro}function ue(N,T){N.u=T,N.h=se(N)}function be(N){N.u>=vd&&(t(N.u>=vd),oe(N))}function we(N){t(N!=null&&N.oa!=null),N.pa<N.Zc?(N.I=(N.oa[N.pa++]|N.I<<8)>>>0,N.b+=8):(t(N!=null&&N.oa!=null),N.pa<N.Yc?(N.b+=8,N.I=N.oa[N.pa++]|N.I<<8):N.Ka?N.b=0:(N.I<<=8,N.b+=8,N.Ka=1))}function Ce(N){return q(N,1)}function Re(N,T){var F=N.Ca;0>N.b&&we(N);var G=N.b,ae=F*T>>>8,he=(N.I>>>G>ae)+0;for(he?(F-=ae,N.I-=ae+1<<G>>>0):F=ae+1,G=F,ae=0;256<=G;)ae+=8,G>>=8;return G=7^ae+Ei[G],N.b-=G,N.Ca=(F<<G)-1,he}function Xe(N,T,F){N[T+0]=F>>24&255,N[T+1]=F>>16&255,N[T+2]=F>>8&255,N[T+3]=F>>0&255}function tt(N,T){return N[T+0]<<0|N[T+1]<<8}function lt(N,T){return tt(N,T)|N[T+2]<<16}function jt(N,T){return tt(N,T)|tt(N,T+2)<<16}function Et(N,T){var F=1<<T;return t(N!=null),t(0<T),N.X=a(F),N.X==null?0:(N.Mb=32-T,N.Xa=T,1)}function Je(N,T){t(N!=null),t(T!=null),t(N.Xa==T.Xa),r(T.X,0,N.X,0,1<<T.Xa)}function _e(){this.X=[],this.Xa=this.Mb=0}function $t(N,T,F,G){t(F!=null),t(G!=null);var ae=F[0],he=G[0];return ae==0&&(ae=(N*he+T/2)/T),he==0&&(he=(T*ae+N/2)/N),0>=ae||0>=he?0:(F[0]=ae,G[0]=he,1)}function Dt(N,T){return N+(1<<T)-1>>>T}function ht(N,T){return((4278255360&N)+(4278255360&T)>>>0&4278255360)+((16711935&N)+(16711935&T)>>>0&16711935)>>>0}function je(N,T){D[T]=function(F,G,ae,he,me,ge,ye){var Ne;for(Ne=0;Ne<me;++Ne){var De=D[N](ge[ye+Ne-1],ae,he+Ne);ge[ye+Ne]=ht(F[G+Ne],De)}}}function ke(){this.ud=this.hd=this.jd=0}function Pe(N,T){return((4278124286&(N^T))>>>1)+(N&T)>>>0}function it(N){return 0<=N&&256>N?N:0>N?0:255<N?255:void 0}function rt(N,T){return it(N+(N-T+.5>>1))}function ut(N,T,F){return Math.abs(T-F)-Math.abs(N-F)}function Nt(N,T,F,G,ae,he,me){for(G=he[me-1],F=0;F<ae;++F)he[me+F]=G=ht(N[T+F],G)}function Vt(N,T,F,G,ae){var he;for(he=0;he<F;++he){var me=N[T+he],ge=me>>8&255,ye=16711935&(ye=(ye=16711935&me)+((ge<<16)+ge));G[ae+he]=(4278255360&me)+ye>>>0}}function Qt(N,T){T.jd=N>>0&255,T.hd=N>>8&255,T.ud=N>>16&255}function Gt(N,T,F,G,ae,he){var me;for(me=0;me<G;++me){var ge=T[F+me],ye=ge>>>8,Ne=ge,De=255&(De=(De=ge>>>16)+((N.jd<<24>>24)*(ye<<24>>24)>>>5));Ne=255&(Ne=(Ne=Ne+((N.hd<<24>>24)*(ye<<24>>24)>>>5))+((N.ud<<24>>24)*(De<<24>>24)>>>5)),ae[he+me]=(4278255360&ge)+(De<<16)+Ne}}function fs(N,T,F,G,ae){D[T]=function(he,me,ge,ye,Ne,De,Ye,We,$e){for(ye=Ye;ye<We;++ye)for(Ye=0;Ye<$e;++Ye)Ne[De++]=ae(ge[G(he[me++])])},D[N]=function(he,me,ge,ye,Ne,De,Ye){var We=8>>he.b,$e=he.Ea,yt=he.K[0],dt=he.w;if(8>We)for(he=(1<<he.b)-1,dt=(1<<We)-1;me<ge;++me){var Ie,qe=0;for(Ie=0;Ie<$e;++Ie)Ie&he||(qe=G(ye[Ne++])),De[Ye++]=ae(yt[qe&dt]),qe>>=We}else D["VP8LMapColor"+F](ye,Ne,yt,dt,De,Ye,me,ge,$e)}}function At(N,T,F,G,ae){for(F=T+F;T<F;){var he=N[T++];G[ae++]=he>>16&255,G[ae++]=he>>8&255,G[ae++]=he>>0&255}}function In(N,T,F,G,ae){for(F=T+F;T<F;){var he=N[T++];G[ae++]=he>>16&255,G[ae++]=he>>8&255,G[ae++]=he>>0&255,G[ae++]=he>>24&255}}function Ts(N,T,F,G,ae){for(F=T+F;T<F;){var he=(me=N[T++])>>16&240|me>>12&15,me=me>>0&240|me>>28&15;G[ae++]=he,G[ae++]=me}}function rn(N,T,F,G,ae){for(F=T+F;T<F;){var he=(me=N[T++])>>16&248|me>>13&7,me=me>>5&224|me>>3&31;G[ae++]=he,G[ae++]=me}}function zs(N,T,F,G,ae){for(F=T+F;T<F;){var he=N[T++];G[ae++]=he>>0&255,G[ae++]=he>>8&255,G[ae++]=he>>16&255}}function Cs(N,T,F,G,ae,he){if(he==0)for(F=T+F;T<F;)Xe(G,((he=N[T++])[0]>>24|he[1]>>8&65280|he[2]<<8&16711680|he[3]<<24)>>>0),ae+=32;else r(G,ae,N,T,F)}function Dr(N,T){D[T][0]=D[N+"0"],D[T][1]=D[N+"1"],D[T][2]=D[N+"2"],D[T][3]=D[N+"3"],D[T][4]=D[N+"4"],D[T][5]=D[N+"5"],D[T][6]=D[N+"6"],D[T][7]=D[N+"7"],D[T][8]=D[N+"8"],D[T][9]=D[N+"9"],D[T][10]=D[N+"10"],D[T][11]=D[N+"11"],D[T][12]=D[N+"12"],D[T][13]=D[N+"13"],D[T][14]=D[N+"0"],D[T][15]=D[N+"0"]}function Us(N){return N==_d||N==hu||N==Sd||N==h}function Gi(){this.eb=[],this.size=this.A=this.fb=0}function Fn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function bi(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Gi,this.f.kb=new Fn,this.sd=null}function Wi(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Sn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ct(N){return alert("todo:WebPSamplerProcessPlane"),N.T}function gs(N,T){var F=N.T,G=T.ba.f.RGBA,ae=G.eb,he=G.fb+N.ka*G.A,me=zr[T.ba.S],ge=N.y,ye=N.O,Ne=N.f,De=N.N,Ye=N.ea,We=N.W,$e=T.cc,yt=T.dc,dt=T.Mc,Ie=T.Nc,qe=N.ka,xt=N.ka+N.T,wt=N.U,pt=wt+1>>1;for(qe==0?me(ge,ye,null,null,Ne,De,Ye,We,Ne,De,Ye,We,ae,he,null,null,wt):(me(T.ec,T.fc,ge,ye,$e,yt,dt,Ie,Ne,De,Ye,We,ae,he-G.A,ae,he,wt),++F);qe+2<xt;qe+=2)$e=Ne,yt=De,dt=Ye,Ie=We,De+=N.Rc,We+=N.Rc,he+=2*G.A,me(ge,(ye+=2*N.fa)-N.fa,ge,ye,$e,yt,dt,Ie,Ne,De,Ye,We,ae,he-G.A,ae,he,wt);return ye+=N.fa,N.j+xt<N.o?(r(T.ec,T.fc,ge,ye,wt),r(T.cc,T.dc,Ne,De,pt),r(T.Mc,T.Nc,Ye,We,pt),F--):1&xt||me(ge,ye,null,null,Ne,De,Ye,We,Ne,De,Ye,We,ae,he+G.A,null,null,wt),F}function ur(N,T,F){var G=N.F,ae=[N.J];if(G!=null){var he=N.U,me=T.ba.S,ge=me==Nd||me==Sd;T=T.ba.f.RGBA;var ye=[0],Ne=N.ka;ye[0]=N.T,N.Kb&&(Ne==0?--ye[0]:(--Ne,ae[0]-=N.width),N.j+N.ka+N.T==N.o&&(ye[0]=N.o-N.j-Ne));var De=T.eb;Ne=T.fb+Ne*T.A,N=kn(G,ae[0],N.width,he,ye,De,Ne+(ge?0:3),T.A),t(F==ye),N&&Us(me)&&Qr(De,Ne,ge,he,ye,T.A)}return 0}function xn(N){var T=N.ma,F=T.ba.S,G=11>F,ae=F==Li||F==Xa||F==Nd||F==Rc||F==12||Us(F);if(T.memory=null,T.Ib=null,T.Jb=null,T.Nd=null,!wl(T.Oa,N,ae?11:12))return 0;if(ae&&Us(F)&&_t(),N.da)alert("todo:use_scaling");else{if(G){if(T.Ib=Ct,N.Kb){if(F=N.U+1>>1,T.memory=a(N.U+2*F),T.memory==null)return 0;T.ec=T.memory,T.fc=0,T.cc=T.ec,T.dc=T.fc+N.U,T.Mc=T.cc,T.Nc=T.dc+F,T.Ib=gs,_t()}}else alert("todo:EmitYUV");ae&&(T.Jb=ur,G&&Ge())}if(G&&!Td){for(N=0;256>N;++N)ya[N]=89858*(N-128)+Qu>>nl,T0[N]=-22014*(N-128)+Qu,jx[N]=-45773*(N-128),Ym[N]=113618*(N-128)+Qu>>nl;for(N=mu;N<Ed;++N)T=76283*(N-16)+Qu>>nl,P0[N-mu]=xr(T,255),L0[N-mu]=xr(T+8>>4,15);Td=1}return 1}function ji(N){var T=N.ma,F=N.U,G=N.T;return t(!(1&N.ka)),0>=F||0>=G?0:(F=T.Ib(N,T),T.Jb!=null&&T.Jb(N,T,F),T.Dc+=F,1)}function an(N){N.ma.memory=null}function es(N,T,F,G){return ne(N,8)!=47?0:(T[0]=ne(N,14)+1,F[0]=ne(N,14)+1,G[0]=ne(N,1),ne(N,3)!=0?0:!N.h)}function wi(N,T){if(4>N)return N+1;var F=N-2>>1;return(2+(1&N)<<F)+ne(T,F)+1}function gr(N,T){return 120<T?T-120:1<=(F=((F=Ae[T-1])>>4)*N+(8-(15&F)))?F:1;var F}function Gn(N,T,F){var G=J(F),ae=N[T+=255&G].g-8;return 0<ae&&(ue(F,F.u+8),G=J(F),T+=N[T].value,T+=G&(1<<ae)-1),ue(F,F.u+N[T].g),N[T].value}function un(N,T,F){return F.g+=N.g,F.value+=N.value<<T>>>0,t(8>=F.g),N.g}function Tt(N,T,F){var G=N.xc;return t((T=G==0?0:N.vc[N.md*(F>>G)+(T>>G)])<N.Wb),N.Ya[T]}function Yi(N,T,F,G){var ae=N.ab,he=N.c*T,me=N.C;T=me+T;var ge=F,ye=G;for(G=N.Ta,F=N.Ua;0<ae--;){var Ne=N.gc[ae],De=me,Ye=T,We=ge,$e=ye,yt=(ye=G,ge=F,Ne.Ea);switch(t(De<Ye),t(Ye<=Ne.nc),Ne.hc){case 2:Ku(We,$e,(Ye-De)*yt,ye,ge);break;case 0:var dt=De,Ie=Ye,qe=ye,xt=ge,wt=(It=Ne).Ea;dt==0&&(Zu(We,$e,null,null,1,qe,xt),Nt(We,$e+1,0,0,wt-1,qe,xt+1),$e+=wt,xt+=wt,++dt);for(var pt=1<<It.b,qt=pt-1,Mt=Dt(wt,It.b),ps=It.K,It=It.w+(dt>>It.b)*Mt;dt<Ie;){var Pn=ps,hn=It,jn=1;for(Wa(We,$e,qe,xt-wt,1,qe,xt);jn<wt;){var $s=(jn&~qt)+pt;$s>wt&&($s=wt),(0,Ya[Pn[hn++]>>8&15])(We,$e+ +jn,qe,xt+jn-wt,$s-jn,qe,xt+jn),jn=$s}$e+=wt,xt+=wt,++dt&qt||(It+=Mt)}Ye!=Ne.nc&&r(ye,ge-yt,ye,ge+(Ye-De-1)*yt,yt);break;case 1:for(yt=We,Ie=$e,wt=(We=Ne.Ea)-(xt=We&~(qe=($e=1<<Ne.b)-1)),dt=Dt(We,Ne.b),pt=Ne.K,Ne=Ne.w+(De>>Ne.b)*dt;De<Ye;){for(qt=pt,Mt=Ne,ps=new ke,It=Ie+xt,Pn=Ie+We;Ie<It;)Qt(qt[Mt++],ps),Qo(ps,yt,Ie,$e,ye,ge),Ie+=$e,ge+=$e;Ie<Pn&&(Qt(qt[Mt++],ps),Qo(ps,yt,Ie,wt,ye,ge),Ie+=wt,ge+=wt),++De&qe||(Ne+=dt)}break;case 3:if(We==ye&&$e==ge&&0<Ne.b){for(Ie=ye,We=yt=ge+(Ye-De)*yt-(xt=(Ye-De)*Dt(Ne.Ea,Ne.b)),$e=ye,qe=ge,dt=[],xt=(wt=xt)-1;0<=xt;--xt)dt[xt]=$e[qe+xt];for(xt=wt-1;0<=xt;--xt)Ie[We+xt]=dt[xt];Ti(Ne,De,Ye,ye,yt,ye,ge)}else Ti(Ne,De,Ye,We,$e,ye,ge)}ge=G,ye=F}ye!=F&&r(G,F,ge,ye,he)}function Hl(N,T){var F=N.V,G=N.Ba+N.c*N.C,ae=T-N.C;if(t(T<=N.l.o),t(16>=ae),0<ae){var he=N.l,me=N.Ta,ge=N.Ua,ye=he.width;if(Yi(N,ae,F,G),ae=ge=[ge],t((F=N.C)<(G=T)),t(he.v<he.va),G>he.o&&(G=he.o),F<he.j){var Ne=he.j-F;F=he.j,ae[0]+=Ne*ye}if(F>=G?F=0:(ae[0]+=4*he.v,he.ka=F-he.j,he.U=he.va-he.v,he.T=G-F,F=1),F){if(ge=ge[0],11>(F=N.ca).S){var De=F.f.RGBA,Ye=(G=F.S,ae=he.U,he=he.T,Ne=De.eb,De.A),We=he;for(De=De.fb+N.Ma*De.A;0<We--;){var $e=me,yt=ge,dt=ae,Ie=Ne,qe=De;switch(G){case Ju:li($e,yt,dt,Ie,qe);break;case Li:ci($e,yt,dt,Ie,qe);break;case _d:ci($e,yt,dt,Ie,qe),Qr(Ie,qe,0,dt,1,0);break;case uu:ho($e,yt,dt,Ie,qe);break;case Xa:Cs($e,yt,dt,Ie,qe,1);break;case hu:Cs($e,yt,dt,Ie,qe,1),Qr(Ie,qe,0,dt,1,0);break;case Nd:Cs($e,yt,dt,Ie,qe,0);break;case Sd:Cs($e,yt,dt,Ie,qe,0),Qr(Ie,qe,1,dt,1,0);break;case Rc:uo($e,yt,dt,Ie,qe);break;case h:uo($e,yt,dt,Ie,qe),Qs(Ie,qe,dt,1,0);break;case oc:Ji($e,yt,dt,Ie,qe);break;default:t(0)}ge+=ye,De+=Ye}N.Ma+=he}else alert("todo:EmitRescaledRowsYUVA");t(N.Ma<=F.height)}}N.C=T,t(N.C<=N.i)}function Ni(N){var T;if(0<N.ua)return 0;for(T=0;T<N.Wb;++T){var F=N.Ya[T].G,G=N.Ya[T].H;if(0<F[1][G[1]+0].g||0<F[2][G[2]+0].g||0<F[3][G[3]+0].g)return 0}return 1}function Bn(N,T,F,G,ae,he){if(N.Z!=0){var me=N.qd,ge=N.rd;for(t(zn[N.Z]!=null);T<F;++T)zn[N.Z](me,ge,G,ae,G,ae,he),me=G,ge=ae,ae+=he;N.qd=me,N.rd=ge}}function er(N,T){var F=N.l.ma,G=F.Z==0||F.Z==1?N.l.j:N.C;if(G=N.C<G?G:N.C,t(T<=N.l.o),T>G){var ae=N.l.width,he=F.ca,me=F.tb+ae*G,ge=N.V,ye=N.Ba+N.c*G,Ne=N.gc;t(N.ab==1),t(Ne[0].hc==3),co(Ne[0],G,T,ge,ye,he,me),Bn(F,G,T,he,me,ae)}N.C=N.Ma=T}function _i(N,T,F,G,ae,he,me){var ge=N.$/G,ye=N.$%G,Ne=N.m,De=N.s,Ye=F+N.$,We=Ye;ae=F+G*ae;var $e=F+G*he,yt=280+De.ua,dt=N.Pb?ge:16777216,Ie=0<De.ua?De.Wa:null,qe=De.wc,xt=Ye<$e?Tt(De,ye,ge):null;t(N.C<he),t($e<=ae);var wt=!1;e:for(;;){for(;wt||Ye<$e;){var pt=0;if(ge>=dt){var qt=Ye-F;t((dt=N).Pb),dt.wd=dt.m,dt.xd=qt,0<dt.s.ua&&Je(dt.s.Wa,dt.s.vb),dt=ge+Qe}if(ye&qe||(xt=Tt(De,ye,ge)),t(xt!=null),xt.Qb&&(T[Ye]=xt.qb,wt=!0),!wt)if(be(Ne),xt.jc){pt=Ne,qt=T;var Mt=Ye,ps=xt.pd[J(pt)&kr-1];t(xt.jc),256>ps.g?(ue(pt,pt.u+ps.g),qt[Mt]=ps.value,pt=0):(ue(pt,pt.u+ps.g-256),t(256<=ps.value),pt=ps.value),pt==0&&(wt=!0)}else pt=Gn(xt.G[0],xt.H[0],Ne);if(Ne.h)break;if(wt||256>pt){if(!wt)if(xt.nd)T[Ye]=(xt.qb|pt<<8)>>>0;else{if(be(Ne),wt=Gn(xt.G[1],xt.H[1],Ne),be(Ne),qt=Gn(xt.G[2],xt.H[2],Ne),Mt=Gn(xt.G[3],xt.H[3],Ne),Ne.h)break;T[Ye]=(Mt<<24|wt<<16|pt<<8|qt)>>>0}if(wt=!1,++Ye,++ye>=G&&(ye=0,++ge,me!=null&&ge<=he&&!(ge%16)&&me(N,ge),Ie!=null))for(;We<Ye;)pt=T[We++],Ie.X[(506832829*pt&4294967295)>>>Ie.Mb]=pt}else if(280>pt){if(pt=wi(pt-256,Ne),qt=Gn(xt.G[4],xt.H[4],Ne),be(Ne),qt=gr(G,qt=wi(qt,Ne)),Ne.h)break;if(Ye-F<qt||ae-Ye<pt)break e;for(Mt=0;Mt<pt;++Mt)T[Ye+Mt]=T[Ye+Mt-qt];for(Ye+=pt,ye+=pt;ye>=G;)ye-=G,++ge,me!=null&&ge<=he&&!(ge%16)&&me(N,ge);if(t(Ye<=ae),ye&qe&&(xt=Tt(De,ye,ge)),Ie!=null)for(;We<Ye;)pt=T[We++],Ie.X[(506832829*pt&4294967295)>>>Ie.Mb]=pt}else{if(!(pt<yt))break e;for(wt=pt-280,t(Ie!=null);We<Ye;)pt=T[We++],Ie.X[(506832829*pt&4294967295)>>>Ie.Mb]=pt;pt=Ye,t(!(wt>>>(qt=Ie).Xa)),T[pt]=qt.X[wt],wt=!0}wt||t(Ne.h==se(Ne))}if(N.Pb&&Ne.h&&Ye<ae)t(N.m.h),N.a=5,N.m=N.wd,N.$=N.xd,0<N.s.ua&&Je(N.s.vb,N.s.Wa);else{if(Ne.h)break e;me!=null&&me(N,ge>he?he:ge),N.a=0,N.$=Ye-F}return 1}return N.a=3,0}function Si(N){t(N!=null),N.vc=null,N.yc=null,N.Ya=null;var T=N.Wa;T!=null&&(T.X=null),N.vb=null,t(N!=null)}function Ua(){var N=new du;return N==null?null:(N.a=0,N.xb=Xu,Dr("Predictor","VP8LPredictors"),Dr("Predictor","VP8LPredictors_C"),Dr("PredictorAdd","VP8LPredictorsAdd"),Dr("PredictorAdd","VP8LPredictorsAdd_C"),Ku=Vt,Qo=Gt,li=At,ci=In,uo=Ts,Ji=rn,ho=zs,D.VP8LMapColor32b=yd,D.VP8LMapColor8b=Jr,N)}function Wo(N,T,F,G,ae){var he=1,me=[N],ge=[T],ye=G.m,Ne=G.s,De=null,Ye=0;e:for(;;){if(F)for(;he&&ne(ye,1);){var We=me,$e=ge,yt=G,dt=1,Ie=yt.m,qe=yt.gc[yt.ab],xt=ne(Ie,2);if(yt.Oc&1<<xt)he=0;else{switch(yt.Oc|=1<<xt,qe.hc=xt,qe.Ea=We[0],qe.nc=$e[0],qe.K=[null],++yt.ab,t(4>=yt.ab),xt){case 0:case 1:qe.b=ne(Ie,3)+2,dt=Wo(Dt(qe.Ea,qe.b),Dt(qe.nc,qe.b),0,yt,qe.K),qe.K=qe.K[0];break;case 3:var wt,pt=ne(Ie,8)+1,qt=16<pt?0:4<pt?1:2<pt?2:3;if(We[0]=Dt(qe.Ea,qt),qe.b=qt,wt=dt=Wo(pt,1,0,yt,qe.K)){var Mt,ps=pt,It=qe,Pn=1<<(8>>It.b),hn=a(Pn);if(hn==null)wt=0;else{var jn=It.K[0],$s=It.w;for(hn[0]=It.K[0][0],Mt=1;Mt<1*ps;++Mt)hn[Mt]=ht(jn[$s+Mt],hn[Mt-1]);for(;Mt<4*Pn;++Mt)hn[Mt]=0;It.K[0]=null,It.K[0]=hn,wt=1}}dt=wt;break;case 2:break;default:t(0)}he=dt}}if(me=me[0],ge=ge[0],he&&ne(ye,1)&&!(he=1<=(Ye=ne(ye,4))&&11>=Ye)){G.a=3;break e}var Kn;if(Kn=he)t:{var qn,As,rr,Qi=G,qr=me,Ma=ge,Cn=Ye,ba=F,xo=Qi.m,Oi=Qi.s,Ur=[null],ea=1,Io=0,rl=Ve[Cn];s:for(;;){if(ba&&ne(xo,1)){var ui=ne(xo,3)+2,ti=Dt(qr,ui),ta=Dt(Ma,ui),Fo=ti*ta;if(!Wo(ti,ta,0,Qi,Ur))break s;for(Ur=Ur[0],Oi.xc=ui,qn=0;qn<Fo;++qn){var cc=Ur[qn]>>8&65535;Ur[qn]=cc,cc>=ea&&(ea=cc+1)}}if(xo.h)break s;for(As=0;5>As;++As){var Tr=I[As];!As&&0<Cn&&(Tr+=1<<Cn),Io<Tr&&(Io=Tr)}var dc=l(ea*rl,W),vo=ea,$r=l(vo,Z);if($r==null)var fu=null;else t(65536>=vo),fu=$r;var Bo=a(Io);if(fu==null||Bo==null||dc==null){Qi.a=1;break s}var qs=dc;for(qn=rr=0;qn<ea;++qn){var tn=fu[qn],vr=tn.G,Mc=tn.H,pu=0,uc=1,sm=0;for(As=0;5>As;++As){Tr=I[As],vr[As]=qs,Mc[As]=rr,!As&&0<Cn&&(Tr+=1<<Cn);r:{var Pd,Ld=Tr,Km=Qi,mr=Bo,kp=qs,Ep=rr,Jm=0,Dc=Km.m,R0=ne(Dc,1);if(i(mr,0,0,Ld),R0){var Tp=ne(Dc,1)+1,Pp=ne(Dc,1),Xm=ne(Dc,Pp==0?1:8);mr[Xm]=1,Tp==2&&(mr[Xm=ne(Dc,8)]=1);var sa=1}else{var Vr=a(19),nm=ne(Dc,4)+4;if(19<nm){Km.a=3;var Rd=0;break r}for(Pd=0;Pd<nm;++Pd)Vr[pe[Pd]]=ne(Dc,3);var th=void 0,gu=void 0,hc=Km,Qm=Vr,sh=Ld,ef=mr,tf=0,Ic=hc.m,Lp=8,Rp=l(128,W);n:for(;$(Rp,0,7,Qm,19);){if(ne(Ic,1)){var wx=2+2*ne(Ic,3);if((th=2+ne(Ic,wx))>sh)break n}else th=sh;for(gu=0;gu<sh&&th--;){be(Ic);var Op=Rp[0+(127&J(Ic))];ue(Ic,Ic.u+Op.g);var Od=Op.value;if(16>Od)ef[gu++]=Od,Od!=0&&(Lp=Od);else{var Nx=Od==16,_x=Od-16,Sx=k[_x],Mp=ne(Ic,v[_x])+Sx;if(gu+Mp>sh)break n;for(var Cx=Nx?Lp:0;0<Mp--;)ef[gu++]=Cx}}tf=1;break n}tf||(hc.a=3),sa=tf}(sa=sa&&!Dc.h)&&(Jm=$(kp,Ep,8,mr,Ld)),sa&&Jm!=0?Rd=Jm:(Km.a=3,Rd=0)}if(Rd==0)break s;if(uc&&Y[As]==1&&(uc=qs[rr].g==0),pu+=qs[rr].g,rr+=Rd,3>=As){var xu,sf=Bo[0];for(xu=1;xu<Tr;++xu)Bo[xu]>sf&&(sf=Bo[xu]);sm+=sf}}if(tn.nd=uc,tn.Qb=0,uc&&(tn.qb=(vr[3][Mc[3]+0].value<<24|vr[1][Mc[1]+0].value<<16|vr[2][Mc[2]+0].value)>>>0,pu==0&&256>vr[0][Mc[0]+0].value&&(tn.Qb=1,tn.qb+=vr[0][Mc[0]+0].value<<8)),tn.jc=!tn.Qb&&6>sm,tn.jc){var rm,mc=tn;for(rm=0;rm<kr;++rm){var Fc=rm,Bc=mc.pd[Fc],nf=mc.G[0][mc.H[0]+Fc];256<=nf.value?(Bc.g=nf.g+256,Bc.value=nf.value):(Bc.g=0,Bc.value=0,Fc>>=un(nf,8,Bc),Fc>>=un(mc.G[1][mc.H[1]+Fc],16,Bc),Fc>>=un(mc.G[2][mc.H[2]+Fc],0,Bc),un(mc.G[3][mc.H[3]+Fc],24,Bc))}}}Oi.vc=Ur,Oi.Wb=ea,Oi.Ya=fu,Oi.yc=dc,Kn=1;break t}Kn=0}if(!(he=Kn)){G.a=3;break e}if(0<Ye){if(Ne.ua=1<<Ye,!Et(Ne.Wa,Ye)){G.a=1,he=0;break e}}else Ne.ua=0;var rf=G,vu=me,Ax=ge,nh=rf.s,rh=nh.xc;if(rf.c=vu,rf.i=Ax,nh.md=Dt(vu,rh),nh.wc=rh==0?-1:(1<<rh)-1,F){G.xb=lc;break e}if((De=a(me*ge))==null){G.a=1,he=0;break e}he=(he=_i(G,De,0,me,ge,ge,null))&&!ye.h;break e}return he?(ae!=null?ae[0]=De:(t(De==null),t(F)),G.$=0,F||Si(Ne)):Si(Ne),he}function Gl(N,T){var F=N.c*N.i,G=F+T+16*T;return t(N.c<=T),N.V=a(G),N.V==null?(N.Ta=null,N.Ua=0,N.a=1,0):(N.Ta=N.V,N.Ua=N.Ba+F+T,1)}function Yo(N,T){var F=N.C,G=T-F,ae=N.V,he=N.Ba+N.c*F;for(t(T<=N.l.o);0<G;){var me=16<G?16:G,ge=N.l.ma,ye=N.l.width,Ne=ye*me,De=ge.ca,Ye=ge.tb+ye*F,We=N.Ta,$e=N.Ua;Yi(N,me,ae,he),yn(We,$e,De,Ye,Ne),Bn(ge,F,F+me,De,Ye,ye),G-=me,ae+=me*N.c,F+=me}t(F==T),N.C=N.Ma=T}function Wl(){this.ub=this.yd=this.td=this.Rb=0}function no(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Eo(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function To(){this.Yb=(function(){var N=[];return(function T(F,G,ae){for(var he=ae[G],me=0;me<he&&(F.push(ae.length>G+1?[]:0),!(ae.length<G+1));me++)T(F[me],G+1,ae)})(N,0,[3,11]),N})()}function Yl(){this.jb=a(3),this.Wc=c([4,8],To),this.Xc=c([4,17],To)}function Ir(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function _c(){this.ld=this.La=this.dd=this.tc=0}function su(){this.Na=this.la=0}function pl(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ro(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Sc(){this.uc=this.M=this.Nb=0,this.wa=Array(new _c),this.Y=0,this.ya=Array(new ro),this.aa=0,this.l=new Zo}function od(){this.y=a(16),this.f=a(8),this.ea=a(8)}function nu(){this.cb=this.a=0,this.sc="",this.m=new re,this.Od=new Wl,this.Kc=new no,this.ed=new Ir,this.Qa=new Eo,this.Ic=this.$c=this.Aa=0,this.D=new Sc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,re),this.ia=0,this.pb=l(4,pl),this.Pa=new Yl,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new od),this.Hd=0,this.rb=Array(new su),this.sb=0,this.wa=Array(new _c),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ro),this.L=this.aa=0,this.gd=c([4,2],_c),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Zo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ks(){var N=new nu;return N!=null&&(N.a=0,N.sc="OK",N.cb=0,N.Xb=0,ts||(ts=Ko)),N}function Ps(N,T,F){return N.a==0&&(N.a=T,N.sc=F,N.cb=0),0}function fa(N,T,F){return 3<=F&&N[T+0]==157&&N[T+1]==1&&N[T+2]==42}function Fr(N,T){if(N==null)return 0;if(N.a=0,N.sc="OK",T==null)return Ps(N,2,"null VP8Io passed to VP8GetHeaders()");var F=T.data,G=T.w,ae=T.ha;if(4>ae)return Ps(N,7,"Truncated header.");var he=F[G+0]|F[G+1]<<8|F[G+2]<<16,me=N.Od;if(me.Rb=!(1&he),me.td=he>>1&7,me.yd=he>>4&1,me.ub=he>>5,3<me.td)return Ps(N,3,"Incorrect keyframe parameters.");if(!me.yd)return Ps(N,4,"Frame not displayable.");G+=3,ae-=3;var ge=N.Kc;if(me.Rb){if(7>ae)return Ps(N,7,"cannot parse picture header");if(!fa(F,G,ae))return Ps(N,3,"Bad code word");ge.c=16383&(F[G+4]<<8|F[G+3]),ge.Td=F[G+4]>>6,ge.i=16383&(F[G+6]<<8|F[G+5]),ge.Ud=F[G+6]>>6,G+=7,ae-=7,N.za=ge.c+15>>4,N.Ub=ge.i+15>>4,T.width=ge.c,T.height=ge.i,T.Da=0,T.j=0,T.v=0,T.va=T.width,T.o=T.height,T.da=0,T.ib=T.width,T.hb=T.height,T.U=T.width,T.T=T.height,i((he=N.Pa).jb,0,255,he.jb.length),t((he=N.Qa)!=null),he.Cb=0,he.Bb=0,he.Fb=1,i(he.Zb,0,0,he.Zb.length),i(he.Lb,0,0,he.Lb)}if(me.ub>ae)return Ps(N,7,"bad partition length");ie(he=N.m,F,G,me.ub),G+=me.ub,ae-=me.ub,me.Rb&&(ge.Ld=Ce(he),ge.Kd=Ce(he)),ge=N.Qa;var ye,Ne=N.Pa;if(t(he!=null),t(ge!=null),ge.Cb=Ce(he),ge.Cb){if(ge.Bb=Ce(he),Ce(he)){for(ge.Fb=Ce(he),ye=0;4>ye;++ye)ge.Zb[ye]=Ce(he)?ce(he,7):0;for(ye=0;4>ye;++ye)ge.Lb[ye]=Ce(he)?ce(he,6):0}if(ge.Bb)for(ye=0;3>ye;++ye)Ne.jb[ye]=Ce(he)?q(he,8):255}else ge.Bb=0;if(he.Ka)return Ps(N,3,"cannot parse segment header");if((ge=N.ed).zd=Ce(he),ge.Tb=q(he,6),ge.wb=q(he,3),ge.Pc=Ce(he),ge.Pc&&Ce(he)){for(Ne=0;4>Ne;++Ne)Ce(he)&&(ge.vd[Ne]=ce(he,6));for(Ne=0;4>Ne;++Ne)Ce(he)&&(ge.od[Ne]=ce(he,6))}if(N.L=ge.Tb==0?0:ge.zd?1:2,he.Ka)return Ps(N,3,"cannot parse filter header");var De=ae;if(ae=ye=G,G=ye+De,ge=De,N.Xb=(1<<q(N.m,2))-1,De<3*(Ne=N.Xb))F=7;else{for(ye+=3*Ne,ge-=3*Ne,De=0;De<Ne;++De){var Ye=F[ae+0]|F[ae+1]<<8|F[ae+2]<<16;Ye>ge&&(Ye=ge),ie(N.Jc[+De],F,ye,Ye),ye+=Ye,ge-=Ye,ae+=3}ie(N.Jc[+Ne],F,ye,ge),F=ye<G?0:5}if(F!=0)return Ps(N,F,"cannot parse partitions");for(F=q(ye=N.m,7),ae=Ce(ye)?ce(ye,4):0,G=Ce(ye)?ce(ye,4):0,ge=Ce(ye)?ce(ye,4):0,Ne=Ce(ye)?ce(ye,4):0,ye=Ce(ye)?ce(ye,4):0,De=N.Qa,Ye=0;4>Ye;++Ye){if(De.Cb){var We=De.Zb[Ye];De.Fb||(We+=F)}else{if(0<Ye){N.pb[Ye]=N.pb[0];continue}We=F}var $e=N.pb[Ye];$e.Sc[0]=gt[xr(We+ae,127)],$e.Sc[1]=Ot[xr(We+0,127)],$e.Eb[0]=2*gt[xr(We+G,127)],$e.Eb[1]=101581*Ot[xr(We+ge,127)]>>16,8>$e.Eb[1]&&($e.Eb[1]=8),$e.Qc[0]=gt[xr(We+Ne,117)],$e.Qc[1]=Ot[xr(We+ye,127)],$e.lc=We+ye}if(!me.Rb)return Ps(N,4,"Not a key frame.");for(Ce(he),me=N.Pa,F=0;4>F;++F){for(ae=0;8>ae;++ae)for(G=0;3>G;++G)for(ge=0;11>ge;++ge)Ne=Re(he,Tn[F][ae][G][ge])?q(he,8):Qa[F][ae][G][ge],me.Wc[F][ae].Yb[G][ge]=Ne;for(ae=0;17>ae;++ae)me.Xc[F][ae]=me.Wc[F][sn[ae]]}return N.kc=Ce(he),N.kc&&(N.Bd=q(he,8)),N.cb=1}function Ko(N,T,F,G,ae,he,me){var ge=T[ae].Yb[F];for(F=0;16>ae;++ae){if(!Re(N,ge[F+0]))return ae;for(;!Re(N,ge[F+1]);)if(ge=T[++ae].Yb[0],F=0,ae==16)return 16;var ye=T[ae+1].Yb;if(Re(N,ge[F+2])){var Ne=N,De=0;if(Re(Ne,(We=ge)[(Ye=F)+3]))if(Re(Ne,We[Ye+6])){for(ge=0,Ye=2*(De=Re(Ne,We[Ye+8]))+(We=Re(Ne,We[Ye+9+De])),De=0,We=Ys[Ye];We[ge];++ge)De+=De+Re(Ne,We[ge]);De+=3+(8<<Ye)}else Re(Ne,We[Ye+7])?(De=7+2*Re(Ne,165),De+=Re(Ne,145)):De=5+Re(Ne,159);else De=Re(Ne,We[Ye+4])?3+Re(Ne,We[Ye+5]):2;ge=ye[2]}else De=1,ge=ye[1];ye=me+Ri[ae],0>(Ne=N).b&&we(Ne);var Ye,We=Ne.b,$e=(Ye=Ne.Ca>>1)-(Ne.I>>We)>>31;--Ne.b,Ne.Ca+=$e,Ne.Ca|=1,Ne.I-=(Ye+1&$e)<<We,he[ye]=((De^$e)-$e)*G[(0<ae)+0]}return 16}function Cc(N){var T=N.rb[N.sb-1];T.la=0,T.Na=0,i(N.zc,0,0,N.zc.length),N.ja=0}function Is(N,T){if(N==null)return 0;if(T==null)return Ps(N,2,"NULL VP8Io parameter in VP8Decode().");if(!N.cb&&!Fr(N,T))return 0;if(t(N.cb),T.ac==null||T.ac(T)){T.ob&&(N.L=0);var F=eh[N.L];if(N.L==2?(N.yb=0,N.zb=0):(N.yb=T.v-F>>4,N.zb=T.j-F>>4,0>N.yb&&(N.yb=0),0>N.zb&&(N.zb=0)),N.Va=T.o+15+F>>4,N.Hb=T.va+15+F>>4,N.Hb>N.za&&(N.Hb=N.za),N.Va>N.Ub&&(N.Va=N.Ub),0<N.L){var G=N.ed;for(F=0;4>F;++F){var ae;if(N.Qa.Cb){var he=N.Qa.Lb[F];N.Qa.Fb||(he+=G.Tb)}else he=G.Tb;for(ae=0;1>=ae;++ae){var me=N.gd[F][ae],ge=he;if(G.Pc&&(ge+=G.vd[0],ae&&(ge+=G.od[0])),0<(ge=0>ge?0:63<ge?63:ge)){var ye=ge;0<G.wb&&(ye=4<G.wb?ye>>2:ye>>1)>9-G.wb&&(ye=9-G.wb),1>ye&&(ye=1),me.dd=ye,me.tc=2*ge+ye,me.ld=40<=ge?2:15<=ge?1:0}else me.tc=0;me.La=ae}}}F=0}else Ps(N,6,"Frame setup failed"),F=N.a;if(F=F==0){if(F){N.$c=0,0<N.Aa||(N.Ic=tm);e:{F=N.Ic,G=4*(ye=N.za);var Ne=32*ye,De=ye+1,Ye=0<N.L?ye*(0<N.Aa?2:1):0,We=(N.Aa==2?2:1)*ye;if((me=G+832+(ae=3*(16*F+eh[N.L])/2*Ne)+(he=N.Fa!=null&&0<N.Fa.length?N.Kc.c*N.Kc.i:0))!=me)F=0;else{if(me>N.Vb){if(N.Vb=0,N.Ec=a(me),N.Fc=0,N.Ec==null){F=Ps(N,1,"no memory during frame initialization.");break e}N.Vb=me}me=N.Ec,ge=N.Fc,N.Ac=me,N.Bc=ge,ge+=G,N.Gd=l(Ne,od),N.Hd=0,N.rb=l(De+1,su),N.sb=1,N.wa=Ye?l(Ye,_c):null,N.Y=0,N.D.Nb=0,N.D.wa=N.wa,N.D.Y=N.Y,0<N.Aa&&(N.D.Y+=ye),t(!0),N.oc=me,N.pc=ge,ge+=832,N.ya=l(We,ro),N.aa=0,N.D.ya=N.ya,N.D.aa=N.aa,N.Aa==2&&(N.D.aa+=ye),N.R=16*ye,N.B=8*ye,ye=(Ne=eh[N.L])*N.R,Ne=Ne/2*N.B,N.sa=me,N.ta=ge+ye,N.qa=N.sa,N.ra=N.ta+16*F*N.R+Ne,N.Ha=N.qa,N.Ia=N.ra+8*F*N.B+Ne,N.$c=0,ge+=ae,N.mb=he?me:null,N.nb=he?ge:null,t(ge+he<=N.Fc+N.Vb),Cc(N),i(N.Ac,N.Bc,0,G),F=1}}if(F){if(T.ka=0,T.y=N.sa,T.O=N.ta,T.f=N.qa,T.N=N.ra,T.ea=N.Ha,T.Vd=N.Ia,T.fa=N.R,T.Rc=N.B,T.F=null,T.J=0,!wd){for(F=-255;255>=F;++F)bn[255+F]=0>F?-F:F;for(F=-1020;1020>=F;++F)fo[1020+F]=-128>F?-128:127<F?127:F;for(F=-112;112>=F;++F)Sl[112+F]=-16>F?-16:15<F?15:F;for(F=-255;510>=F;++F)Ja[255+F]=0>F?0:255<F?255:F;wd=1}Za=Zl,mo=Ac,el=io,Xi=Yn,Xr=Lo,nr=ld,Oo=iu,Lc=ec,bd=ou,_r=lu,Mo=au,_l=md,Do=Ra,jd=Wu,ic=hd,ac=Nr,tl=Ai,Ka=Tc,Sr[0]=Js,Sr[1]=ru,Sr[2]=ws,Sr[3]=Va,Sr[4]=ud,Sr[5]=Zi,Sr[6]=Jo,Sr[7]=vl,Sr[8]=ao,Sr[9]=Ha,va[0]=xl,va[1]=cd,va[2]=$a,va[3]=gl,va[4]=Zn,va[5]=dd,va[6]=Xl,go[0]=oo,go[1]=Kl,go[2]=yl,go[3]=hr,go[4]=Ql,go[5]=kc,go[6]=Kr,F=1}else F=0}F&&(F=(function($e,yt){for($e.M=0;$e.M<$e.Va;++$e.M){var dt,Ie=$e.Jc[$e.M&$e.Xb],qe=$e.m,xt=$e;for(dt=0;dt<xt.za;++dt){var wt=qe,pt=xt,qt=pt.Ac,Mt=pt.Bc+4*dt,ps=pt.zc,It=pt.ya[pt.aa+dt];if(pt.Qa.Bb?It.$b=Re(wt,pt.Pa.jb[0])?2+Re(wt,pt.Pa.jb[2]):Re(wt,pt.Pa.jb[1]):It.$b=0,pt.kc&&(It.Ad=Re(wt,pt.Bd)),It.Za=!Re(wt,145)+0,It.Za){var Pn=It.Ob,hn=0;for(pt=0;4>pt;++pt){var jn,$s=ps[0+pt];for(jn=0;4>jn;++jn){$s=En[qt[Mt+jn]][$s];for(var Kn=Er[Re(wt,$s[0])];0<Kn;)Kn=Er[2*Kn+Re(wt,$s[Kn])];$s=-Kn,qt[Mt+jn]=$s}r(Pn,hn,qt,Mt,4),hn+=4,ps[0+pt]=$s}}else $s=Re(wt,156)?Re(wt,128)?1:3:Re(wt,163)?2:0,It.Ob[0]=$s,i(qt,Mt,$s,4),i(ps,0,$s,4);It.Dd=Re(wt,142)?Re(wt,114)?Re(wt,183)?1:3:2:0}if(xt.m.Ka)return Ps($e,7,"Premature end-of-partition0 encountered.");for(;$e.ja<$e.za;++$e.ja){if(xt=Ie,wt=(qe=$e).rb[qe.sb-1],qt=qe.rb[qe.sb+qe.ja],dt=qe.ya[qe.aa+qe.ja],Mt=qe.kc?dt.Ad:0)wt.la=qt.la=0,dt.Za||(wt.Na=qt.Na=0),dt.Hc=0,dt.Gc=0,dt.ia=0;else{var qn,As;if(wt=qt,qt=xt,Mt=qe.Pa.Xc,ps=qe.ya[qe.aa+qe.ja],It=qe.pb[ps.$b],pt=ps.ad,Pn=0,hn=qe.rb[qe.sb-1],$s=jn=0,i(pt,Pn,0,384),ps.Za)var rr=0,Qi=Mt[3];else{Kn=a(16);var qr=wt.Na+hn.Na;if(qr=ts(qt,Mt[1],qr,It.Eb,0,Kn,0),wt.Na=hn.Na=(0<qr)+0,1<qr)Za(Kn,0,pt,Pn);else{var Ma=Kn[0]+3>>3;for(Kn=0;256>Kn;Kn+=16)pt[Pn+Kn]=Ma}rr=1,Qi=Mt[0]}var Cn=15&wt.la,ba=15&hn.la;for(Kn=0;4>Kn;++Kn){var xo=1&ba;for(Ma=As=0;4>Ma;++Ma)Cn=Cn>>1|(xo=(qr=ts(qt,Qi,qr=xo+(1&Cn),It.Sc,rr,pt,Pn))>rr)<<7,As=As<<2|(3<qr?3:1<qr?2:pt[Pn+0]!=0),Pn+=16;Cn>>=4,ba=ba>>1|xo<<7,jn=(jn<<8|As)>>>0}for(Qi=Cn,rr=ba>>4,qn=0;4>qn;qn+=2){for(As=0,Cn=wt.la>>4+qn,ba=hn.la>>4+qn,Kn=0;2>Kn;++Kn){for(xo=1&ba,Ma=0;2>Ma;++Ma)qr=xo+(1&Cn),Cn=Cn>>1|(xo=0<(qr=ts(qt,Mt[2],qr,It.Qc,0,pt,Pn)))<<3,As=As<<2|(3<qr?3:1<qr?2:pt[Pn+0]!=0),Pn+=16;Cn>>=2,ba=ba>>1|xo<<5}$s|=As<<4*qn,Qi|=Cn<<4<<qn,rr|=(240&ba)<<qn}wt.la=Qi,hn.la=rr,ps.Hc=jn,ps.Gc=$s,ps.ia=43690&$s?0:It.ia,Mt=!(jn|$s)}if(0<qe.L&&(qe.wa[qe.Y+qe.ja]=qe.gd[dt.$b][dt.Za],qe.wa[qe.Y+qe.ja].La|=!Mt),xt.Ka)return Ps($e,7,"Premature end-of-file encountered.")}if(Cc($e),qe=yt,xt=1,dt=(Ie=$e).D,wt=0<Ie.L&&Ie.M>=Ie.zb&&Ie.M<=Ie.Va,Ie.Aa==0)e:{if(dt.M=Ie.M,dt.uc=wt,xd(Ie,dt),xt=1,dt=(As=Ie.D).Nb,wt=($s=eh[Ie.L])*Ie.R,qt=$s/2*Ie.B,Kn=16*dt*Ie.R,Ma=8*dt*Ie.B,Mt=Ie.sa,ps=Ie.ta-wt+Kn,It=Ie.qa,pt=Ie.ra-qt+Ma,Pn=Ie.Ha,hn=Ie.Ia-qt+Ma,ba=(Cn=As.M)==0,jn=Cn>=Ie.Va-1,Ie.Aa==2&&xd(Ie,As),As.uc)for(xo=(qr=Ie).D.M,t(qr.D.uc),As=qr.yb;As<qr.Hb;++As){rr=As,Qi=xo;var Oi=(Ur=(Tr=qr).D).Nb;qn=Tr.R;var Ur=Ur.wa[Ur.Y+rr],ea=Tr.sa,Io=Tr.ta+16*Oi*qn+16*rr,rl=Ur.dd,ui=Ur.tc;if(ui!=0)if(t(3<=ui),Tr.L==1)0<rr&&ac(ea,Io,qn,ui+4),Ur.La&&Ka(ea,Io,qn,ui),0<Qi&&ic(ea,Io,qn,ui+4),Ur.La&&tl(ea,Io,qn,ui);else{var ti=Tr.B,ta=Tr.qa,Fo=Tr.ra+8*Oi*ti+8*rr,cc=Tr.Ha,Tr=Tr.Ia+8*Oi*ti+8*rr;Oi=Ur.ld,0<rr&&(Lc(ea,Io,qn,ui+4,rl,Oi),_r(ta,Fo,cc,Tr,ti,ui+4,rl,Oi)),Ur.La&&(_l(ea,Io,qn,ui,rl,Oi),jd(ta,Fo,cc,Tr,ti,ui,rl,Oi)),0<Qi&&(Oo(ea,Io,qn,ui+4,rl,Oi),bd(ta,Fo,cc,Tr,ti,ui+4,rl,Oi)),Ur.La&&(Mo(ea,Io,qn,ui,rl,Oi),Do(ta,Fo,cc,Tr,ti,ui,rl,Oi))}}if(Ie.ia&&alert("todo:DitherRow"),qe.put!=null){if(As=16*Cn,Cn=16*(Cn+1),ba?(qe.y=Ie.sa,qe.O=Ie.ta+Kn,qe.f=Ie.qa,qe.N=Ie.ra+Ma,qe.ea=Ie.Ha,qe.W=Ie.Ia+Ma):(As-=$s,qe.y=Mt,qe.O=ps,qe.f=It,qe.N=pt,qe.ea=Pn,qe.W=hn),jn||(Cn-=$s),Cn>qe.o&&(Cn=qe.o),qe.F=null,qe.J=null,Ie.Fa!=null&&0<Ie.Fa.length&&As<Cn&&(qe.J=gd(Ie,qe,As,Cn-As),qe.F=Ie.mb,qe.F==null&&qe.F.length==0)){xt=Ps(Ie,3,"Could not decode alpha data.");break e}As<qe.j&&($s=qe.j-As,As=qe.j,t(!(1&$s)),qe.O+=Ie.R*$s,qe.N+=Ie.B*($s>>1),qe.W+=Ie.B*($s>>1),qe.F!=null&&(qe.J+=qe.width*$s)),As<Cn&&(qe.O+=qe.v,qe.N+=qe.v>>1,qe.W+=qe.v>>1,qe.F!=null&&(qe.J+=qe.v),qe.ka=As-qe.j,qe.U=qe.va-qe.v,qe.T=Cn-As,xt=qe.put(qe))}dt+1!=Ie.Ic||jn||(r(Ie.sa,Ie.ta-wt,Mt,ps+16*Ie.R,wt),r(Ie.qa,Ie.ra-qt,It,pt+8*Ie.B,qt),r(Ie.Ha,Ie.Ia-qt,Pn,hn+8*Ie.B,qt))}if(!xt)return Ps($e,6,"Output aborted.")}return 1})(N,T)),T.bc!=null&&T.bc(T),F&=1}return F?(N.cb=0,F):0}function vn(N,T,F,G,ae){ae=N[T+F+32*G]+(ae>>3),N[T+F+32*G]=-256&ae?0>ae?0:255:ae}function Po(N,T,F,G,ae,he){vn(N,T,0,F,G+ae),vn(N,T,1,F,G+he),vn(N,T,2,F,G-he),vn(N,T,3,F,G-ae)}function Ci(N){return(20091*N>>16)+N}function Wn(N,T,F,G){var ae,he=0,me=a(16);for(ae=0;4>ae;++ae){var ge=N[T+0]+N[T+8],ye=N[T+0]-N[T+8],Ne=(35468*N[T+4]>>16)-Ci(N[T+12]),De=Ci(N[T+4])+(35468*N[T+12]>>16);me[he+0]=ge+De,me[he+1]=ye+Ne,me[he+2]=ye-Ne,me[he+3]=ge-De,he+=4,T++}for(ae=he=0;4>ae;++ae)ge=(N=me[he+0]+4)+me[he+8],ye=N-me[he+8],Ne=(35468*me[he+4]>>16)-Ci(me[he+12]),vn(F,G,0,0,ge+(De=Ci(me[he+4])+(35468*me[he+12]>>16))),vn(F,G,1,0,ye+Ne),vn(F,G,2,0,ye-Ne),vn(F,G,3,0,ge-De),he++,G+=32}function ld(N,T,F,G){var ae=N[T+0]+4,he=35468*N[T+4]>>16,me=Ci(N[T+4]),ge=35468*N[T+1]>>16;Po(F,G,0,ae+me,N=Ci(N[T+1]),ge),Po(F,G,1,ae+he,N,ge),Po(F,G,2,ae-he,N,ge),Po(F,G,3,ae-me,N,ge)}function Ac(N,T,F,G,ae){Wn(N,T,F,G),ae&&Wn(N,T+16,F,G+4)}function io(N,T,F,G){mo(N,T+0,F,G,1),mo(N,T+32,F,G+128,1)}function Yn(N,T,F,G){var ae;for(N=N[T+0]+4,ae=0;4>ae;++ae)for(T=0;4>T;++T)vn(F,G,T,ae,N)}function Lo(N,T,F,G){N[T+0]&&Xi(N,T+0,F,G),N[T+16]&&Xi(N,T+16,F,G+4),N[T+32]&&Xi(N,T+32,F,G+128),N[T+48]&&Xi(N,T+48,F,G+128+4)}function Zl(N,T,F,G){var ae,he=a(16);for(ae=0;4>ae;++ae){var me=N[T+0+ae]+N[T+12+ae],ge=N[T+4+ae]+N[T+8+ae],ye=N[T+4+ae]-N[T+8+ae],Ne=N[T+0+ae]-N[T+12+ae];he[0+ae]=me+ge,he[8+ae]=me-ge,he[4+ae]=Ne+ye,he[12+ae]=Ne-ye}for(ae=0;4>ae;++ae)me=(N=he[0+4*ae]+3)+he[3+4*ae],ge=he[1+4*ae]+he[2+4*ae],ye=he[1+4*ae]-he[2+4*ae],Ne=N-he[3+4*ae],F[G+0]=me+ge>>3,F[G+16]=Ne+ye>>3,F[G+32]=me-ge>>3,F[G+48]=Ne-ye>>3,G+=64}function Ta(N,T,F){var G,ae=T-32,he=Pi,me=255-N[ae-1];for(G=0;G<F;++G){var ge,ye=he,Ne=me+N[T-1];for(ge=0;ge<F;++ge)N[T+ge]=ye[Ne+N[ae+ge]];T+=32}}function ru(N,T){Ta(N,T,4)}function Kl(N,T){Ta(N,T,8)}function cd(N,T){Ta(N,T,16)}function $a(N,T){var F;for(F=0;16>F;++F)r(N,T+32*F,N,T-32,16)}function gl(N,T){var F;for(F=16;0<F;--F)i(N,T,N[T-1],16),T+=32}function Jl(N,T,F){var G;for(G=0;16>G;++G)i(T,F+32*G,N,16)}function xl(N,T){var F,G=16;for(F=0;16>F;++F)G+=N[T-1+32*F]+N[T+F-32];Jl(G>>5,N,T)}function Zn(N,T){var F,G=8;for(F=0;16>F;++F)G+=N[T-1+32*F];Jl(G>>4,N,T)}function dd(N,T){var F,G=8;for(F=0;16>F;++F)G+=N[T+F-32];Jl(G>>4,N,T)}function Xl(N,T){Jl(128,N,T)}function js(N,T,F){return N+2*T+F+2>>2}function ws(N,T){var F,G=T-32;for(G=new Uint8Array([js(N[G-1],N[G+0],N[G+1]),js(N[G+0],N[G+1],N[G+2]),js(N[G+1],N[G+2],N[G+3]),js(N[G+2],N[G+3],N[G+4])]),F=0;4>F;++F)r(N,T+32*F,G,0,G.length)}function Va(N,T){var F=N[T-1],G=N[T-1+32],ae=N[T-1+64],he=N[T-1+96];Xe(N,T+0,16843009*js(N[T-1-32],F,G)),Xe(N,T+32,16843009*js(F,G,ae)),Xe(N,T+64,16843009*js(G,ae,he)),Xe(N,T+96,16843009*js(ae,he,he))}function Js(N,T){var F,G=4;for(F=0;4>F;++F)G+=N[T+F-32]+N[T-1+32*F];for(G>>=3,F=0;4>F;++F)i(N,T+32*F,G,4)}function ud(N,T){var F=N[T-1+0],G=N[T-1+32],ae=N[T-1+64],he=N[T-1-32],me=N[T+0-32],ge=N[T+1-32],ye=N[T+2-32],Ne=N[T+3-32];N[T+0+96]=js(G,ae,N[T-1+96]),N[T+1+96]=N[T+0+64]=js(F,G,ae),N[T+2+96]=N[T+1+64]=N[T+0+32]=js(he,F,G),N[T+3+96]=N[T+2+64]=N[T+1+32]=N[T+0+0]=js(me,he,F),N[T+3+64]=N[T+2+32]=N[T+1+0]=js(ge,me,he),N[T+3+32]=N[T+2+0]=js(ye,ge,me),N[T+3+0]=js(Ne,ye,ge)}function Jo(N,T){var F=N[T+1-32],G=N[T+2-32],ae=N[T+3-32],he=N[T+4-32],me=N[T+5-32],ge=N[T+6-32],ye=N[T+7-32];N[T+0+0]=js(N[T+0-32],F,G),N[T+1+0]=N[T+0+32]=js(F,G,ae),N[T+2+0]=N[T+1+32]=N[T+0+64]=js(G,ae,he),N[T+3+0]=N[T+2+32]=N[T+1+64]=N[T+0+96]=js(ae,he,me),N[T+3+32]=N[T+2+64]=N[T+1+96]=js(he,me,ge),N[T+3+64]=N[T+2+96]=js(me,ge,ye),N[T+3+96]=js(ge,ye,ye)}function Zi(N,T){var F=N[T-1+0],G=N[T-1+32],ae=N[T-1+64],he=N[T-1-32],me=N[T+0-32],ge=N[T+1-32],ye=N[T+2-32],Ne=N[T+3-32];N[T+0+0]=N[T+1+64]=he+me+1>>1,N[T+1+0]=N[T+2+64]=me+ge+1>>1,N[T+2+0]=N[T+3+64]=ge+ye+1>>1,N[T+3+0]=ye+Ne+1>>1,N[T+0+96]=js(ae,G,F),N[T+0+64]=js(G,F,he),N[T+0+32]=N[T+1+96]=js(F,he,me),N[T+1+32]=N[T+2+96]=js(he,me,ge),N[T+2+32]=N[T+3+96]=js(me,ge,ye),N[T+3+32]=js(ge,ye,Ne)}function vl(N,T){var F=N[T+0-32],G=N[T+1-32],ae=N[T+2-32],he=N[T+3-32],me=N[T+4-32],ge=N[T+5-32],ye=N[T+6-32],Ne=N[T+7-32];N[T+0+0]=F+G+1>>1,N[T+1+0]=N[T+0+64]=G+ae+1>>1,N[T+2+0]=N[T+1+64]=ae+he+1>>1,N[T+3+0]=N[T+2+64]=he+me+1>>1,N[T+0+32]=js(F,G,ae),N[T+1+32]=N[T+0+96]=js(G,ae,he),N[T+2+32]=N[T+1+96]=js(ae,he,me),N[T+3+32]=N[T+2+96]=js(he,me,ge),N[T+3+64]=js(me,ge,ye),N[T+3+96]=js(ge,ye,Ne)}function Ha(N,T){var F=N[T-1+0],G=N[T-1+32],ae=N[T-1+64],he=N[T-1+96];N[T+0+0]=F+G+1>>1,N[T+2+0]=N[T+0+32]=G+ae+1>>1,N[T+2+32]=N[T+0+64]=ae+he+1>>1,N[T+1+0]=js(F,G,ae),N[T+3+0]=N[T+1+32]=js(G,ae,he),N[T+3+32]=N[T+1+64]=js(ae,he,he),N[T+3+64]=N[T+2+64]=N[T+0+96]=N[T+1+96]=N[T+2+96]=N[T+3+96]=he}function ao(N,T){var F=N[T-1+0],G=N[T-1+32],ae=N[T-1+64],he=N[T-1+96],me=N[T-1-32],ge=N[T+0-32],ye=N[T+1-32],Ne=N[T+2-32];N[T+0+0]=N[T+2+32]=F+me+1>>1,N[T+0+32]=N[T+2+64]=G+F+1>>1,N[T+0+64]=N[T+2+96]=ae+G+1>>1,N[T+0+96]=he+ae+1>>1,N[T+3+0]=js(ge,ye,Ne),N[T+2+0]=js(me,ge,ye),N[T+1+0]=N[T+3+32]=js(F,me,ge),N[T+1+32]=N[T+3+64]=js(G,F,me),N[T+1+64]=N[T+3+96]=js(ae,G,F),N[T+1+96]=js(he,ae,G)}function yl(N,T){var F;for(F=0;8>F;++F)r(N,T+32*F,N,T-32,8)}function hr(N,T){var F;for(F=0;8>F;++F)i(N,T,N[T-1],8),T+=32}function Pa(N,T,F){var G;for(G=0;8>G;++G)i(T,F+32*G,N,8)}function oo(N,T){var F,G=8;for(F=0;8>F;++F)G+=N[T+F-32]+N[T-1+32*F];Pa(G>>4,N,T)}function kc(N,T){var F,G=4;for(F=0;8>F;++F)G+=N[T+F-32];Pa(G>>3,N,T)}function Ql(N,T){var F,G=4;for(F=0;8>F;++F)G+=N[T-1+32*F];Pa(G>>3,N,T)}function Kr(N,T){Pa(128,N,T)}function La(N,T,F){var G=N[T-F],ae=N[T+0],he=3*(ae-G)+po[1020+N[T-2*F]-N[T+F]],me=Cl[112+(he+4>>3)];N[T-F]=Pi[255+G+Cl[112+(he+3>>3)]],N[T+0]=Pi[255+ae-me]}function Ec(N,T,F,G){var ae=N[T+0],he=N[T+F];return di[255+N[T-2*F]-N[T-F]]>G||di[255+he-ae]>G}function bl(N,T,F,G){return 4*di[255+N[T-F]-N[T+0]]+di[255+N[T-2*F]-N[T+F]]<=G}function Xs(N,T,F,G,ae){var he=N[T-3*F],me=N[T-2*F],ge=N[T-F],ye=N[T+0],Ne=N[T+F],De=N[T+2*F],Ye=N[T+3*F];return 4*di[255+ge-ye]+di[255+me-Ne]>G?0:di[255+N[T-4*F]-he]<=ae&&di[255+he-me]<=ae&&di[255+me-ge]<=ae&&di[255+Ye-De]<=ae&&di[255+De-Ne]<=ae&&di[255+Ne-ye]<=ae}function hd(N,T,F,G){var ae=2*G+1;for(G=0;16>G;++G)bl(N,T+G,F,ae)&&La(N,T+G,F)}function Nr(N,T,F,G){var ae=2*G+1;for(G=0;16>G;++G)bl(N,T+G*F,1,ae)&&La(N,T+G*F,1)}function Ai(N,T,F,G){var ae;for(ae=3;0<ae;--ae)hd(N,T+=4*F,F,G)}function Tc(N,T,F,G){var ae;for(ae=3;0<ae;--ae)Nr(N,T+=4,F,G)}function jl(N,T,F,G,ae,he,me,ge){for(he=2*he+1;0<ae--;){if(Xs(N,T,F,he,me))if(Ec(N,T,F,ge))La(N,T,F);else{var ye=N,Ne=T,De=F,Ye=ye[Ne-2*De],We=ye[Ne-De],$e=ye[Ne+0],yt=ye[Ne+De],dt=ye[Ne+2*De],Ie=27*(xt=po[1020+3*($e-We)+po[1020+Ye-yt]])+63>>7,qe=18*xt+63>>7,xt=9*xt+63>>7;ye[Ne-3*De]=Pi[255+ye[Ne-3*De]+xt],ye[Ne-2*De]=Pi[255+Ye+qe],ye[Ne-De]=Pi[255+We+Ie],ye[Ne+0]=Pi[255+$e-Ie],ye[Ne+De]=Pi[255+yt-qe],ye[Ne+2*De]=Pi[255+dt-xt]}T+=G}}function Ga(N,T,F,G,ae,he,me,ge){for(he=2*he+1;0<ae--;){if(Xs(N,T,F,he,me))if(Ec(N,T,F,ge))La(N,T,F);else{var ye=N,Ne=T,De=F,Ye=ye[Ne-De],We=ye[Ne+0],$e=ye[Ne+De],yt=Cl[112+((dt=3*(We-Ye))+4>>3)],dt=Cl[112+(dt+3>>3)],Ie=yt+1>>1;ye[Ne-2*De]=Pi[255+ye[Ne-2*De]+Ie],ye[Ne-De]=Pi[255+Ye+dt],ye[Ne+0]=Pi[255+We-yt],ye[Ne+De]=Pi[255+$e-Ie]}T+=G}}function iu(N,T,F,G,ae,he){jl(N,T,F,1,16,G,ae,he)}function ec(N,T,F,G,ae,he){jl(N,T,1,F,16,G,ae,he)}function au(N,T,F,G,ae,he){var me;for(me=3;0<me;--me)Ga(N,T+=4*F,F,1,16,G,ae,he)}function md(N,T,F,G,ae,he){var me;for(me=3;0<me;--me)Ga(N,T+=4,1,F,16,G,ae,he)}function ou(N,T,F,G,ae,he,me,ge){jl(N,T,ae,1,8,he,me,ge),jl(F,G,ae,1,8,he,me,ge)}function lu(N,T,F,G,ae,he,me,ge){jl(N,T,1,ae,8,he,me,ge),jl(F,G,1,ae,8,he,me,ge)}function Ra(N,T,F,G,ae,he,me,ge){Ga(N,T+4*ae,ae,1,8,he,me,ge),Ga(F,G+4*ae,ae,1,8,he,me,ge)}function Wu(N,T,F,G,ae,he,me,ge){Ga(N,T+4,1,ae,8,he,me,ge),Ga(F,G+4,1,ae,8,he,me,ge)}function tc(){this.ba=new bi,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Sn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function lo(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function fd(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function cu(){this.ua=0,this.Wa=new _e,this.vb=new _e,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Z,this.yc=new W}function du(){this.xb=this.a=0,this.l=new Zo,this.ca=new bi,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new U,this.Pb=0,this.wd=new U,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new cu,this.ab=0,this.gc=l(4,fd),this.Oc=0}function sc(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Zo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function nc(N,T,F,G,ae,he,me){for(N=N==null?0:N[T+0],T=0;T<me;++T)ae[he+T]=N+F[G+T]&255,N=ae[he+T]}function pd(N,T,F,G,ae,he,me){var ge;if(N==null)nc(null,null,F,G,ae,he,me);else for(ge=0;ge<me;++ge)ae[he+ge]=N[T+ge]+F[G+ge]&255}function rc(N,T,F,G,ae,he,me){if(N==null)nc(null,null,F,G,ae,he,me);else{var ge,ye=N[T+0],Ne=ye,De=ye;for(ge=0;ge<me;++ge)Ne=De+(ye=N[T+ge])-Ne,De=F[G+ge]+(-256&Ne?0>Ne?0:255:Ne)&255,Ne=ye,ae[he+ge]=De}}function gd(N,T,F,G){var ae=T.width,he=T.o;if(t(N!=null&&T!=null),0>F||0>=G||F+G>he)return null;if(!N.Cc){if(N.ga==null){var me;if(N.ga=new sc,(me=N.ga==null)||(me=T.width*T.o,t(N.Gb.length==0),N.Gb=a(me),N.Uc=0,N.Gb==null?me=0:(N.mb=N.Gb,N.nb=N.Uc,N.rc=null,me=1),me=!me),!me){me=N.ga;var ge=N.Fa,ye=N.P,Ne=N.qc,De=N.mb,Ye=N.nb,We=ye+1,$e=Ne-1,yt=me.l;if(t(ge!=null&&De!=null&&T!=null),zn[0]=null,zn[1]=nc,zn[2]=pd,zn[3]=rc,me.ca=De,me.tb=Ye,me.c=T.width,me.i=T.height,t(0<me.c&&0<me.i),1>=Ne)T=0;else if(me.$a=ge[ye+0]>>0&3,me.Z=ge[ye+0]>>2&3,me.Lc=ge[ye+0]>>4&3,ye=ge[ye+0]>>6&3,0>me.$a||1<me.$a||4<=me.Z||1<me.Lc||ye)T=0;else if(yt.put=ji,yt.ac=xn,yt.bc=an,yt.ma=me,yt.width=T.width,yt.height=T.height,yt.Da=T.Da,yt.v=T.v,yt.va=T.va,yt.j=T.j,yt.o=T.o,me.$a)e:{t(me.$a==1),T=Ua();t:for(;;){if(T==null){T=0;break e}if(t(me!=null),me.mc=T,T.c=me.c,T.i=me.i,T.l=me.l,T.l.ma=me,T.l.width=me.c,T.l.height=me.i,T.a=0,te(T.m,ge,We,$e),!Wo(me.c,me.i,1,T,null)||(T.ab==1&&T.gc[0].hc==3&&Ni(T.s)?(me.ic=1,ge=T.c*T.i,T.Ta=null,T.Ua=0,T.V=a(ge),T.Ba=0,T.V==null?(T.a=1,T=0):T=1):(me.ic=0,T=Gl(T,me.c)),!T))break t;T=1;break e}me.mc=null,T=0}else T=$e>=me.c*me.i;me=!T}if(me)return null;N.ga.Lc!=1?N.Ga=0:G=he-F}t(N.ga!=null),t(F+G<=he);e:{if(T=(ge=N.ga).c,he=ge.l.o,ge.$a==0){if(We=N.rc,$e=N.Vc,yt=N.Fa,ye=N.P+1+F*T,Ne=N.mb,De=N.nb+F*T,t(ye<=N.P+N.qc),ge.Z!=0)for(t(zn[ge.Z]!=null),me=0;me<G;++me)zn[ge.Z](We,$e,yt,ye,Ne,De,T),We=Ne,$e=De,De+=T,ye+=T;else for(me=0;me<G;++me)r(Ne,De,yt,ye,T),We=Ne,$e=De,De+=T,ye+=T;N.rc=We,N.Vc=$e}else{if(t(ge.mc!=null),T=F+G,t((me=ge.mc)!=null),t(T<=me.i),me.C>=T)T=1;else if(ge.ic||Ge(),ge.ic){ge=me.V,We=me.Ba,$e=me.c;var dt=me.i,Ie=(yt=1,ye=me.$/$e,Ne=me.$%$e,De=me.m,Ye=me.s,me.$),qe=$e*dt,xt=$e*T,wt=Ye.wc,pt=Ie<xt?Tt(Ye,Ne,ye):null;t(Ie<=qe),t(T<=dt),t(Ni(Ye));t:for(;;){for(;!De.h&&Ie<xt;){if(Ne&wt||(pt=Tt(Ye,Ne,ye)),t(pt!=null),be(De),256>(dt=Gn(pt.G[0],pt.H[0],De)))ge[We+Ie]=dt,++Ie,++Ne>=$e&&(Ne=0,++ye<=T&&!(ye%16)&&er(me,ye));else{if(!(280>dt)){yt=0;break t}dt=wi(dt-256,De);var qt,Mt=Gn(pt.G[4],pt.H[4],De);if(be(De),!(Ie>=(Mt=gr($e,Mt=wi(Mt,De)))&&qe-Ie>=dt)){yt=0;break t}for(qt=0;qt<dt;++qt)ge[We+Ie+qt]=ge[We+Ie+qt-Mt];for(Ie+=dt,Ne+=dt;Ne>=$e;)Ne-=$e,++ye<=T&&!(ye%16)&&er(me,ye);Ie<xt&&Ne&wt&&(pt=Tt(Ye,Ne,ye))}t(De.h==se(De))}er(me,ye>T?T:ye);break t}!yt||De.h&&Ie<qe?(yt=0,me.a=De.h?5:3):me.$=Ie,T=yt}else T=_i(me,me.V,me.Ba,me.c,me.i,T,Yo);if(!T){G=0;break e}}F+G>=he&&(N.Cc=1),G=1}if(!G)return null;if(N.Cc&&((G=N.ga)!=null&&(G.mc=null),N.ga=null,0<N.Ga))return alert("todo:WebPDequantizeLevels"),null}return N.nb+F*ae}function M(N,T,F,G,ae,he){for(;0<ae--;){var me,ge=N,ye=T+(F?1:0),Ne=N,De=T+(F?0:3);for(me=0;me<G;++me){var Ye=Ne[De+4*me];Ye!=255&&(Ye*=32897,ge[ye+4*me+0]=ge[ye+4*me+0]*Ye>>23,ge[ye+4*me+1]=ge[ye+4*me+1]*Ye>>23,ge[ye+4*me+2]=ge[ye+4*me+2]*Ye>>23)}T+=he}}function le(N,T,F,G,ae){for(;0<G--;){var he;for(he=0;he<F;++he){var me=N[T+2*he+0],ge=15&(Ne=N[T+2*he+1]),ye=4369*ge,Ne=(240&Ne|Ne>>4)*ye>>16;N[T+2*he+0]=(240&me|me>>4)*ye>>16&240|(15&me|me<<4)*ye>>16>>4&15,N[T+2*he+1]=240&Ne|ge}T+=ae}}function Se(N,T,F,G,ae,he,me,ge){var ye,Ne,De=255;for(Ne=0;Ne<ae;++Ne){for(ye=0;ye<G;++ye){var Ye=N[T+ye];he[me+4*ye]=Ye,De&=Ye}T+=F,me+=ge}return De!=255}function Oe(N,T,F,G,ae){var he;for(he=0;he<ae;++he)F[G+he]=N[T+he]>>8}function Ge(){Qr=M,Qs=le,kn=Se,yn=Oe}function ct(N,T,F){D[N]=function(G,ae,he,me,ge,ye,Ne,De,Ye,We,$e,yt,dt,Ie,qe,xt,wt){var pt,qt=wt-1>>1,Mt=ge[ye+0]|Ne[De+0]<<16,ps=Ye[We+0]|$e[yt+0]<<16;t(G!=null);var It=3*Mt+ps+131074>>2;for(T(G[ae+0],255&It,It>>16,dt,Ie),he!=null&&(It=3*ps+Mt+131074>>2,T(he[me+0],255&It,It>>16,qe,xt)),pt=1;pt<=qt;++pt){var Pn=ge[ye+pt]|Ne[De+pt]<<16,hn=Ye[We+pt]|$e[yt+pt]<<16,jn=Mt+Pn+ps+hn+524296,$s=jn+2*(Pn+ps)>>3;It=$s+Mt>>1,Mt=(jn=jn+2*(Mt+hn)>>3)+Pn>>1,T(G[ae+2*pt-1],255&It,It>>16,dt,Ie+(2*pt-1)*F),T(G[ae+2*pt-0],255&Mt,Mt>>16,dt,Ie+(2*pt-0)*F),he!=null&&(It=jn+ps>>1,Mt=$s+hn>>1,T(he[me+2*pt-1],255&It,It>>16,qe,xt+(2*pt-1)*F),T(he[me+2*pt+0],255&Mt,Mt>>16,qe,xt+(2*pt+0)*F)),Mt=Pn,ps=hn}1&wt||(It=3*Mt+ps+131074>>2,T(G[ae+wt-1],255&It,It>>16,dt,Ie+(wt-1)*F),he!=null&&(It=3*ps+Mt+131074>>2,T(he[me+wt-1],255&It,It>>16,qe,xt+(wt-1)*F)))}}function _t(){zr[Ju]=Oc,zr[Li]=Cd,zr[uu]=Qh,zr[Xa]=Ad,zr[Nd]=Al,zr[Rc]=sl,zr[oc]=kd,zr[_d]=Cd,zr[hu]=Ad,zr[Sd]=Al,zr[h]=sl}function Bt(N){return N&-16384?0>N?0:255:N>>Wm}function Zt(N,T){return Bt((19077*N>>8)+(26149*T>>8)-14234)}function Ls(N,T,F){return Bt((19077*N>>8)-(6419*T>>8)-(13320*F>>8)+8708)}function Ns(N,T){return Bt((19077*N>>8)+(33050*T>>8)-17685)}function on(N,T,F,G,ae){G[ae+0]=Zt(N,F),G[ae+1]=Ls(N,T,F),G[ae+2]=Ns(N,T)}function tr(N,T,F,G,ae){G[ae+0]=Ns(N,T),G[ae+1]=Ls(N,T,F),G[ae+2]=Zt(N,F)}function sr(N,T,F,G,ae){var he=Ls(N,T,F);T=he<<3&224|Ns(N,T)>>3,G[ae+0]=248&Zt(N,F)|he>>5,G[ae+1]=T}function Ar(N,T,F,G,ae){var he=240&Ns(N,T)|15;G[ae+0]=240&Zt(N,F)|Ls(N,T,F)>>4,G[ae+1]=he}function ki(N,T,F,G,ae){G[ae+0]=255,on(N,T,F,G,ae+1)}function Br(N,T,F,G,ae){tr(N,T,F,G,ae),G[ae+3]=255}function Ki(N,T,F,G,ae){on(N,T,F,G,ae),G[ae+3]=255}function xr(N,T){return 0>N?0:N>T?T:N}function pa(N,T,F){D[N]=function(G,ae,he,me,ge,ye,Ne,De,Ye){for(var We=De+(-2&Ye)*F;De!=We;)T(G[ae+0],he[me+0],ge[ye+0],Ne,De),T(G[ae+1],he[me+0],ge[ye+0],Ne,De+F),ae+=2,++me,++ye,De+=2*F;1&Ye&&T(G[ae+0],he[me+0],ge[ye+0],Ne,De)}}function Yu(N,T,F){return F==0?N==0?T==0?6:5:T==0?4:0:F}function Oa(N,T,F,G,ae){switch(N>>>30){case 3:mo(T,F,G,ae,0);break;case 2:nr(T,F,G,ae);break;case 1:Xi(T,F,G,ae)}}function xd(N,T){var F,G,ae=T.M,he=T.Nb,me=N.oc,ge=N.pc+40,ye=N.oc,Ne=N.pc+584,De=N.oc,Ye=N.pc+600;for(F=0;16>F;++F)me[ge+32*F-1]=129;for(F=0;8>F;++F)ye[Ne+32*F-1]=129,De[Ye+32*F-1]=129;for(0<ae?me[ge-1-32]=ye[Ne-1-32]=De[Ye-1-32]=129:(i(me,ge-32-1,127,21),i(ye,Ne-32-1,127,9),i(De,Ye-32-1,127,9)),G=0;G<N.za;++G){var We=T.ya[T.aa+G];if(0<G){for(F=-1;16>F;++F)r(me,ge+32*F-4,me,ge+32*F+12,4);for(F=-1;8>F;++F)r(ye,Ne+32*F-4,ye,Ne+32*F+4,4),r(De,Ye+32*F-4,De,Ye+32*F+4,4)}var $e=N.Gd,yt=N.Hd+G,dt=We.ad,Ie=We.Hc;if(0<ae&&(r(me,ge-32,$e[yt].y,0,16),r(ye,Ne-32,$e[yt].f,0,8),r(De,Ye-32,$e[yt].ea,0,8)),We.Za){var qe=me,xt=ge-32+16;for(0<ae&&(G>=N.za-1?i(qe,xt,$e[yt].y[15],4):r(qe,xt,$e[yt+1].y,0,4)),F=0;4>F;F++)qe[xt+128+F]=qe[xt+256+F]=qe[xt+384+F]=qe[xt+0+F];for(F=0;16>F;++F,Ie<<=2)qe=me,xt=ge+ei[F],Sr[We.Ob[F]](qe,xt),Oa(Ie,dt,16*+F,qe,xt)}else if(qe=Yu(G,ae,We.Ob[0]),va[qe](me,ge),Ie!=0)for(F=0;16>F;++F,Ie<<=2)Oa(Ie,dt,16*+F,me,ge+ei[F]);for(F=We.Gc,qe=Yu(G,ae,We.Dd),go[qe](ye,Ne),go[qe](De,Ye),Ie=dt,qe=ye,xt=Ne,255&(We=F>>0)&&(170&We?el(Ie,256,qe,xt):Xr(Ie,256,qe,xt)),We=De,Ie=Ye,255&(F>>=8)&&(170&F?el(dt,320,We,Ie):Xr(dt,320,We,Ie)),ae<N.Ub-1&&(r($e[yt].y,0,me,ge+480,16),r($e[yt].f,0,ye,Ne+224,8),r($e[yt].ea,0,De,Ye+224,8)),F=8*he*N.B,$e=N.sa,yt=N.ta+16*G+16*he*N.R,dt=N.qa,We=N.ra+8*G+F,Ie=N.Ha,qe=N.Ia+8*G+F,F=0;16>F;++F)r($e,yt+F*N.R,me,ge+32*F,16);for(F=0;8>F;++F)r(dt,We+F*N.B,ye,Ne+32*F,8),r(Ie,qe+F*N.B,De,Ye+32*F,8)}}function ga(N,T,F,G,ae,he,me,ge,ye){var Ne=[0],De=[0],Ye=0,We=ye!=null?ye.kd:0,$e=ye??new lo;if(N==null||12>F)return 7;$e.data=N,$e.w=T,$e.ha=F,T=[T],F=[F],$e.gb=[$e.gb];e:{var yt=T,dt=F,Ie=$e.gb;if(t(N!=null),t(dt!=null),t(Ie!=null),Ie[0]=0,12<=dt[0]&&!s(N,yt[0],"RIFF")){if(s(N,yt[0]+8,"WEBP")){Ie=3;break e}var qe=jt(N,yt[0]+4);if(12>qe||4294967286<qe){Ie=3;break e}if(We&&qe>dt[0]-8){Ie=7;break e}Ie[0]=qe,yt[0]+=12,dt[0]-=12}Ie=0}if(Ie!=0)return Ie;for(qe=0<$e.gb[0],F=F[0];;){e:{var xt=N;dt=T,Ie=F;var wt=Ne,pt=De,qt=yt=[0];if((It=Ye=[Ye])[0]=0,8>Ie[0])Ie=7;else{if(!s(xt,dt[0],"VP8X")){if(jt(xt,dt[0]+4)!=10){Ie=3;break e}if(18>Ie[0]){Ie=7;break e}var Mt=jt(xt,dt[0]+8),ps=1+lt(xt,dt[0]+12);if(2147483648<=ps*(xt=1+lt(xt,dt[0]+15))){Ie=3;break e}qt!=null&&(qt[0]=Mt),wt!=null&&(wt[0]=ps),pt!=null&&(pt[0]=xt),dt[0]+=18,Ie[0]-=18,It[0]=1}Ie=0}}if(Ye=Ye[0],yt=yt[0],Ie!=0)return Ie;if(dt=!!(2&yt),!qe&&Ye)return 3;if(he!=null&&(he[0]=!!(16&yt)),me!=null&&(me[0]=dt),ge!=null&&(ge[0]=0),me=Ne[0],yt=De[0],Ye&&dt&&ye==null){Ie=0;break}if(4>F){Ie=7;break}if(qe&&Ye||!qe&&!Ye&&!s(N,T[0],"ALPH")){F=[F],$e.na=[$e.na],$e.P=[$e.P],$e.Sa=[$e.Sa];e:{Mt=N,Ie=T,qe=F;var It=$e.gb;wt=$e.na,pt=$e.P,qt=$e.Sa,ps=22,t(Mt!=null),t(qe!=null),xt=Ie[0];var Pn=qe[0];for(t(wt!=null),t(qt!=null),wt[0]=null,pt[0]=null,qt[0]=0;;){if(Ie[0]=xt,qe[0]=Pn,8>Pn){Ie=7;break e}var hn=jt(Mt,xt+4);if(4294967286<hn){Ie=3;break e}var jn=8+hn+1&-2;if(ps+=jn,0<It&&ps>It){Ie=3;break e}if(!s(Mt,xt,"VP8 ")||!s(Mt,xt,"VP8L")){Ie=0;break e}if(Pn[0]<jn){Ie=7;break e}s(Mt,xt,"ALPH")||(wt[0]=Mt,pt[0]=xt+8,qt[0]=hn),xt+=jn,Pn-=jn}}if(F=F[0],$e.na=$e.na[0],$e.P=$e.P[0],$e.Sa=$e.Sa[0],Ie!=0)break}F=[F],$e.Ja=[$e.Ja],$e.xa=[$e.xa];e:if(It=N,Ie=T,qe=F,wt=$e.gb[0],pt=$e.Ja,qt=$e.xa,Mt=Ie[0],xt=!s(It,Mt,"VP8 "),ps=!s(It,Mt,"VP8L"),t(It!=null),t(qe!=null),t(pt!=null),t(qt!=null),8>qe[0])Ie=7;else{if(xt||ps){if(It=jt(It,Mt+4),12<=wt&&It>wt-12){Ie=3;break e}if(We&&It>qe[0]-8){Ie=7;break e}pt[0]=It,Ie[0]+=8,qe[0]-=8,qt[0]=ps}else qt[0]=5<=qe[0]&&It[Mt+0]==47&&!(It[Mt+4]>>5),pt[0]=qe[0];Ie=0}if(F=F[0],$e.Ja=$e.Ja[0],$e.xa=$e.xa[0],T=T[0],Ie!=0)break;if(4294967286<$e.Ja)return 3;if(ge==null||dt||(ge[0]=$e.xa?2:1),me=[me],yt=[yt],$e.xa){if(5>F){Ie=7;break}ge=me,We=yt,dt=he,N==null||5>F?N=0:5<=F&&N[T+0]==47&&!(N[T+4]>>5)?(qe=[0],It=[0],wt=[0],te(pt=new U,N,T,F),es(pt,qe,It,wt)?(ge!=null&&(ge[0]=qe[0]),We!=null&&(We[0]=It[0]),dt!=null&&(dt[0]=wt[0]),N=1):N=0):N=0}else{if(10>F){Ie=7;break}ge=yt,N==null||10>F||!fa(N,T+3,F-3)?N=0:(We=N[T+0]|N[T+1]<<8|N[T+2]<<16,dt=16383&(N[T+7]<<8|N[T+6]),N=16383&(N[T+9]<<8|N[T+8]),1&We||3<(We>>1&7)||!(We>>4&1)||We>>5>=$e.Ja||!dt||!N?N=0:(me&&(me[0]=dt),ge&&(ge[0]=N),N=1))}if(!N||(me=me[0],yt=yt[0],Ye&&(Ne[0]!=me||De[0]!=yt)))return 3;ye!=null&&(ye[0]=$e,ye.offset=T-ye.w,t(4294967286>T-ye.w),t(ye.offset==ye.ha-F));break}return Ie==0||Ie==7&&Ye&&ye==null?(he!=null&&(he[0]|=$e.na!=null&&0<$e.na.length),G!=null&&(G[0]=me),ae!=null&&(ae[0]=yt),0):Ie}function wl(N,T,F){var G=T.width,ae=T.height,he=0,me=0,ge=G,ye=ae;if(T.Da=N!=null&&0<N.Da,T.Da&&(ge=N.cd,ye=N.bd,he=N.v,me=N.j,11>F||(he&=-2,me&=-2),0>he||0>me||0>=ge||0>=ye||he+ge>G||me+ye>ae))return 0;if(T.v=he,T.j=me,T.va=he+ge,T.o=me+ye,T.U=ge,T.T=ye,T.da=N!=null&&0<N.da,T.da){if(!$t(ge,ye,F=[N.ib],he=[N.hb]))return 0;T.ib=F[0],T.hb=he[0]}return T.ob=N!=null&&N.ob,T.Kb=N==null||!N.Sd,T.da&&(T.ob=T.ib<3*G/4&&T.hb<3*ae/4,T.Kb=0),1}function Nl(N){if(N==null)return 2;if(11>N.S){var T=N.f.RGBA;T.fb+=(N.height-1)*T.A,T.A=-T.A}else T=N.f.kb,N=N.height,T.O+=(N-1)*T.fa,T.fa=-T.fa,T.N+=(N-1>>1)*T.Ab,T.Ab=-T.Ab,T.W+=(N-1>>1)*T.Db,T.Db=-T.Db,T.F!=null&&(T.J+=(N-1)*T.lb,T.lb=-T.lb);return 0}function Xo(N,T,F,G){if(G==null||0>=N||0>=T)return 2;if(F!=null){if(F.Da){var ae=F.cd,he=F.bd,me=-2&F.v,ge=-2&F.j;if(0>me||0>ge||0>=ae||0>=he||me+ae>N||ge+he>T)return 2;N=ae,T=he}if(F.da){if(!$t(N,T,ae=[F.ib],he=[F.hb]))return 2;N=ae[0],T=he[0]}}G.width=N,G.height=T;e:{var ye=G.width,Ne=G.height;if(N=G.S,0>=ye||0>=Ne||!(N>=Ju&&13>N))N=2;else{if(0>=G.Rd&&G.sd==null){me=he=ae=T=0;var De=(ge=ye*Zm[N])*Ne;if(11>N||(he=(Ne+1)/2*(T=(ye+1)/2),N==12&&(me=(ae=ye)*Ne)),(Ne=a(De+2*he+me))==null){N=1;break e}G.sd=Ne,11>N?((ye=G.f.RGBA).eb=Ne,ye.fb=0,ye.A=ge,ye.size=De):((ye=G.f.kb).y=Ne,ye.O=0,ye.fa=ge,ye.Fd=De,ye.f=Ne,ye.N=0+De,ye.Ab=T,ye.Cd=he,ye.ea=Ne,ye.W=0+De+he,ye.Db=T,ye.Ed=he,N==12&&(ye.F=Ne,ye.J=0+De+2*he),ye.Tc=me,ye.lb=ae)}if(T=1,ae=G.S,he=G.width,me=G.height,ae>=Ju&&13>ae)if(11>ae)N=G.f.RGBA,T&=(ge=Math.abs(N.A))*(me-1)+he<=N.size,T&=ge>=he*Zm[ae],T&=N.eb!=null;else{N=G.f.kb,ge=(he+1)/2,De=(me+1)/2,ye=Math.abs(N.fa),Ne=Math.abs(N.Ab);var Ye=Math.abs(N.Db),We=Math.abs(N.lb),$e=We*(me-1)+he;T&=ye*(me-1)+he<=N.Fd,T&=Ne*(De-1)+ge<=N.Cd,T=(T&=Ye*(De-1)+ge<=N.Ed)&ye>=he&Ne>=ge&Ye>=ge,T&=N.y!=null,T&=N.f!=null,T&=N.ea!=null,ae==12&&(T&=We>=he,T&=$e<=N.Tc,T&=N.F!=null)}else T=0;N=T?0:2}}return N!=0||F!=null&&F.fd&&(N=Nl(G)),N}var kr=64,Pc=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],xa=24,Ro=32,vd=8,Ei=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];je("Predictor0","PredictorAdd0"),D.Predictor0=function(){return 4278190080},D.Predictor1=function(N){return N},D.Predictor2=function(N,T,F){return T[F+0]},D.Predictor3=function(N,T,F){return T[F+1]},D.Predictor4=function(N,T,F){return T[F-1]},D.Predictor5=function(N,T,F){return Pe(Pe(N,T[F+1]),T[F+0])},D.Predictor6=function(N,T,F){return Pe(N,T[F-1])},D.Predictor7=function(N,T,F){return Pe(N,T[F+0])},D.Predictor8=function(N,T,F){return Pe(T[F-1],T[F+0])},D.Predictor9=function(N,T,F){return Pe(T[F+0],T[F+1])},D.Predictor10=function(N,T,F){return Pe(Pe(N,T[F-1]),Pe(T[F+0],T[F+1]))},D.Predictor11=function(N,T,F){var G=T[F+0];return 0>=ut(G>>24&255,N>>24&255,(T=T[F-1])>>24&255)+ut(G>>16&255,N>>16&255,T>>16&255)+ut(G>>8&255,N>>8&255,T>>8&255)+ut(255&G,255&N,255&T)?G:N},D.Predictor12=function(N,T,F){var G=T[F+0];return(it((N>>24&255)+(G>>24&255)-((T=T[F-1])>>24&255))<<24|it((N>>16&255)+(G>>16&255)-(T>>16&255))<<16|it((N>>8&255)+(G>>8&255)-(T>>8&255))<<8|it((255&N)+(255&G)-(255&T)))>>>0},D.Predictor13=function(N,T,F){var G=T[F-1];return(rt((N=Pe(N,T[F+0]))>>24&255,G>>24&255)<<24|rt(N>>16&255,G>>16&255)<<16|rt(N>>8&255,G>>8&255)<<8|rt(N>>0&255,G>>0&255))>>>0};var Zu=D.PredictorAdd0;D.PredictorAdd1=Nt,je("Predictor2","PredictorAdd2"),je("Predictor3","PredictorAdd3"),je("Predictor4","PredictorAdd4"),je("Predictor5","PredictorAdd5"),je("Predictor6","PredictorAdd6"),je("Predictor7","PredictorAdd7"),je("Predictor8","PredictorAdd8"),je("Predictor9","PredictorAdd9"),je("Predictor10","PredictorAdd10"),je("Predictor11","PredictorAdd11"),je("Predictor12","PredictorAdd12"),je("Predictor13","PredictorAdd13");var Wa=D.PredictorAdd2;fs("ColorIndexInverseTransform","MapARGB","32b",(function(N){return N>>8&255}),(function(N){return N})),fs("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",(function(N){return N}),(function(N){return N>>8&255}));var Ku,Ti=D.ColorIndexInverseTransform,yd=D.MapARGB,co=D.VP8LColorIndexInverseTransformAlpha,Jr=D.MapAlpha,Ya=D.VP8LPredictorsAdd=[];Ya.length=16,(D.VP8LPredictors=[]).length=16,(D.VP8LPredictorsAdd_C=[]).length=16,(D.VP8LPredictors_C=[]).length=16;var Qo,li,ci,uo,Ji,ho,Za,mo,nr,el,Xi,Xr,Oo,Lc,bd,_r,Mo,_l,Do,jd,ic,ac,tl,Ka,Qr,Qs,kn,yn,bn=a(511),fo=a(2041),Sl=a(225),Ja=a(767),wd=0,po=fo,Cl=Sl,Pi=Ja,di=bn,Ju=0,Li=1,uu=2,Xa=3,Nd=4,Rc=5,oc=6,_d=7,hu=8,Sd=9,h=10,v=[2,3,7],k=[3,3,11],I=[280,256,256,256,40],Y=[0,1,1,1,0],pe=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ae=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ve=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Qe=8,gt=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ot=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ts=null,Ys=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Ri=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Er=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Qa=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],En=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Tn=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],sn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],va=[],Sr=[],go=[],lc=1,Xu=2,zn=[],zr=[];ct("UpsampleRgbLinePair",on,3),ct("UpsampleBgrLinePair",tr,3),ct("UpsampleRgbaLinePair",Ki,4),ct("UpsampleBgraLinePair",Br,4),ct("UpsampleArgbLinePair",ki,4),ct("UpsampleRgba4444LinePair",Ar,2),ct("UpsampleRgb565LinePair",sr,2);var Oc=D.UpsampleRgbLinePair,Qh=D.UpsampleBgrLinePair,Cd=D.UpsampleRgbaLinePair,Ad=D.UpsampleBgraLinePair,Al=D.UpsampleArgbLinePair,sl=D.UpsampleRgba4444LinePair,kd=D.UpsampleRgb565LinePair,nl=16,Qu=1<<nl-1,mu=-227,Ed=482,Wm=6,Td=0,ya=a(256),Ym=a(256),jx=a(256),T0=a(256),P0=a(Ed-mu),L0=a(Ed-mu);pa("YuvToRgbRow",on,3),pa("YuvToBgrRow",tr,3),pa("YuvToRgbaRow",Ki,4),pa("YuvToBgraRow",Br,4),pa("YuvToArgbRow",ki,4),pa("YuvToRgba4444Row",Ar,2),pa("YuvToRgb565Row",sr,2);var ei=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],eh=[0,2,8],em=[8,7,6,4,4,2,2,2,1,1,1,1],tm=1;this.WebPDecodeRGBA=function(N,T,F,G,ae){var he=Li,me=new tc,ge=new bi;me.ba=ge,ge.S=he,ge.width=[ge.width],ge.height=[ge.height];var ye=ge.width,Ne=ge.height,De=new Wi;if(De==null||N==null)var Ye=2;else t(De!=null),Ye=ga(N,T,F,De.width,De.height,De.Pd,De.Qd,De.format,null);if(Ye!=0?ye=0:(ye!=null&&(ye[0]=De.width[0]),Ne!=null&&(Ne[0]=De.height[0]),ye=1),ye){ge.width=ge.width[0],ge.height=ge.height[0],G!=null&&(G[0]=ge.width),ae!=null&&(ae[0]=ge.height);e:{if(G=new Zo,(ae=new lo).data=N,ae.w=T,ae.ha=F,ae.kd=1,T=[0],t(ae!=null),((N=ga(ae.data,ae.w,ae.ha,null,null,null,T,null,ae))==0||N==7)&&T[0]&&(N=4),(T=N)==0){if(t(me!=null),G.data=ae.data,G.w=ae.w+ae.offset,G.ha=ae.ha-ae.offset,G.put=ji,G.ac=xn,G.bc=an,G.ma=me,ae.xa){if((N=Ua())==null){me=1;break e}if((function(We,$e){var yt=[0],dt=[0],Ie=[0];t:for(;;){if(We==null)return 0;if($e==null)return We.a=2,0;if(We.l=$e,We.a=0,te(We.m,$e.data,$e.w,$e.ha),!es(We.m,yt,dt,Ie)){We.a=3;break t}if(We.xb=Xu,$e.width=yt[0],$e.height=dt[0],!Wo(yt[0],dt[0],1,We,null))break t;return 1}return t(We.a!=0),0})(N,G)){if(G=(T=Xo(G.width,G.height,me.Oa,me.ba))==0){t:{G=N;s:for(;;){if(G==null){G=0;break t}if(t(G.s.yc!=null),t(G.s.Ya!=null),t(0<G.s.Wb),t((F=G.l)!=null),t((ae=F.ma)!=null),G.xb!=0){if(G.ca=ae.ba,G.tb=ae.tb,t(G.ca!=null),!wl(ae.Oa,F,Xa)){G.a=2;break s}if(!Gl(G,F.width)||F.da)break s;if((F.da||Us(G.ca.S))&&Ge(),11>G.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),G.ca.f.kb.F!=null&&Ge()),G.Pb&&0<G.s.ua&&G.s.vb.X==null&&!Et(G.s.vb,G.s.Wa.Xa)){G.a=1;break s}G.xb=0}if(!_i(G,G.V,G.Ba,G.c,G.i,F.o,Hl))break s;ae.Dc=G.Ma,G=1;break t}t(G.a!=0),G=0}G=!G}G&&(T=N.a)}else T=N.a}else{if((N=new Ks)==null){me=1;break e}if(N.Fa=ae.na,N.P=ae.P,N.qc=ae.Sa,Fr(N,G)){if((T=Xo(G.width,G.height,me.Oa,me.ba))==0){if(N.Aa=0,F=me.Oa,t((ae=N)!=null),F!=null){if(0<(ye=0>(ye=F.Md)?0:100<ye?255:255*ye/100)){for(Ne=De=0;4>Ne;++Ne)12>(Ye=ae.pb[Ne]).lc&&(Ye.ia=ye*em[0>Ye.lc?0:Ye.lc]>>3),De|=Ye.ia;De&&(alert("todo:VP8InitRandom"),ae.ia=1)}ae.Ga=F.Id,100<ae.Ga?ae.Ga=100:0>ae.Ga&&(ae.Ga=0)}Is(N,G)||(T=N.a)}}else T=N.a}T==0&&me.Oa!=null&&me.Oa.fd&&(T=Nl(me.ba))}me=T}he=me!=0?null:11>he?ge.f.RGBA.eb:ge.f.kb.y}else he=null;return he};var Zm=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function m(D,K){for(var H="",$=0;$<4;$++)H+=String.fromCharCode(D[K++]);return H}function g(D,K){return(D[K+0]<<0|D[K+1]<<8|D[K+2]<<16)>>>0}function p(D,K){return(D[K+0]<<0|D[K+1]<<8|D[K+2]<<16|D[K+3]<<24)>>>0}new u;var y=[0],x=[0],_=[],j=new u,A=n,C=(function(D,K){var H={},$=0,W=!1,Q=0,Z=0;if(H.frames=[],!(function(J,se,ue,be){for(var we=0;we<be;we++)if(J[se+we]!=ue.charCodeAt(we))return!0;return!1})(D,K,"RIFF",4)){var ie,q;for(p(D,K+=4),K+=8;K<D.length;){var ce=m(D,K),te=p(D,K+=4);K+=4;var oe=te+(1&te);switch(ce){case"VP8 ":case"VP8L":H.frames[$]===void 0&&(H.frames[$]={}),(U=H.frames[$]).src_off=W?Z:K-8,U.src_size=Q+te+8,$++,W&&(W=!1,Q=0,Z=0);break;case"VP8X":(U=H.header={}).feature_flags=D[K];var ne=K+4;U.canvas_width=1+g(D,ne),ne+=3,U.canvas_height=1+g(D,ne),ne+=3;break;case"ALPH":W=!0,Q=oe+8,Z=K-8;break;case"ANIM":(U=H.header).bgcolor=p(D,K),ne=K+4,U.loop_count=(ie=D)[(q=ne)+0]<<0|ie[q+1]<<8,ne+=2;break;case"ANMF":var re,U;(U=H.frames[$]={}).offset_x=2*g(D,K),K+=3,U.offset_y=2*g(D,K),K+=3,U.width=1+g(D,K),K+=3,U.height=1+g(D,K),K+=3,U.duration=g(D,K),K+=3,re=D[K++],U.dispose=1&re,U.blend=re>>1&1}ce!="ANMF"&&(K+=oe)}return H}})(A,0);C.response=A,C.rgbaoutput=!0,C.dataurl=!1;var P=C.header?C.header:null,S=C.frames?C.frames:null;if(P){P.loop_counter=P.loop_count,y=[P.canvas_height],x=[P.canvas_width];for(var O=0;O<S.length&&S[O].blend!=0;O++);}var z=S[0],V=j.WebPDecodeRGBA(A,z.src_off,z.src_size,x,y);z.rgba=V,z.imgwidth=x[0],z.imgheight=y[0];for(var B=0;B<x[0]*y[0]*4;B++)_[B]=V[B];return this.width=x,this.height=y,this.data=_,this}(function(n){var t=function(){return typeof k1=="function"},s=function(y,x,_,j){var A=4,C=l;switch(j){case n.image_compression.FAST:A=1,C=a;break;case n.image_compression.MEDIUM:A=6,C=c;break;case n.image_compression.SLOW:A=9,C=u}y=r(y,x,_,C);var P=k1(y,{level:A});return n.__addimage__.arrayBufferToBinaryString(P)},r=function(y,x,_,j){for(var A,C,P,S=y.length/x,O=new Uint8Array(y.length+S),z=g(),V=0;V<S;V+=1){if(P=V*x,A=y.subarray(P,P+x),j)O.set(j(A,_,C),P+V);else{for(var B,D=z.length,K=[];B<D;B+=1)K[B]=z[B](A,_,C);var H=p(K.concat());O.set(K[H],P+V)}C=A}return O},i=function(y){var x=Array.apply([],y);return x.unshift(0),x},a=function(y,x){var _,j=[],A=y.length;j[0]=1;for(var C=0;C<A;C+=1)_=y[C-x]||0,j[C+1]=y[C]-_+256&255;return j},l=function(y,x,_){var j,A=[],C=y.length;A[0]=2;for(var P=0;P<C;P+=1)j=_&&_[P]||0,A[P+1]=y[P]-j+256&255;return A},c=function(y,x,_){var j,A,C=[],P=y.length;C[0]=3;for(var S=0;S<P;S+=1)j=y[S-x]||0,A=_&&_[S]||0,C[S+1]=y[S]+256-(j+A>>>1)&255;return C},u=function(y,x,_){var j,A,C,P,S=[],O=y.length;S[0]=4;for(var z=0;z<O;z+=1)j=y[z-x]||0,A=_&&_[z]||0,C=_&&_[z-x]||0,P=m(j,A,C),S[z+1]=y[z]-P+256&255;return S},m=function(y,x,_){if(y===x&&x===_)return y;var j=Math.abs(x-_),A=Math.abs(y-_),C=Math.abs(y+x-_-_);return j<=A&&j<=C?y:A<=C?x:_},g=function(){return[i,a,l,c,u]},p=function(y){var x=y.map((function(_){return _.reduce((function(j,A){return j+Math.abs(A)}),0)}));return x.indexOf(Math.min.apply(null,x))};n.processPNG=function(y,x,_,j){var A,C,P,S,O,z,V,B,D,K,H,$,W,Q,Z,ie=this.decode.FLATE_DECODE,q="";if(this.__addimage__.isArrayBuffer(y)&&(y=new Uint8Array(y)),this.__addimage__.isArrayBufferView(y)){if(y=(P=new hZ(y)).imgData,C=P.bits,A=P.colorSpace,O=P.colors,[4,6].indexOf(P.colorType)!==-1){if(P.bits===8){D=(B=P.pixelBitlength==32?new Uint32Array(P.decodePixels().buffer):P.pixelBitlength==16?new Uint16Array(P.decodePixels().buffer):new Uint8Array(P.decodePixels().buffer)).length,H=new Uint8Array(D*P.colors),K=new Uint8Array(D);var ce,te=P.pixelBitlength-P.bits;for(Q=0,Z=0;Q<D;Q++){for(W=B[Q],ce=0;ce<te;)H[Z++]=W>>>ce&255,ce+=P.bits;K[Q]=W>>>ce&255}}if(P.bits===16){D=(B=new Uint32Array(P.decodePixels().buffer)).length,H=new Uint8Array(D*(32/P.pixelBitlength)*P.colors),K=new Uint8Array(D*(32/P.pixelBitlength)),$=P.colors>1,Q=0,Z=0;for(var oe=0;Q<D;)W=B[Q++],H[Z++]=W>>>0&255,$&&(H[Z++]=W>>>16&255,W=B[Q++],H[Z++]=W>>>0&255),K[oe++]=W>>>16&255;C=8}j!==n.image_compression.NONE&&t()?(y=s(H,P.width*P.colors,P.colors,j),V=s(K,P.width,1,j)):(y=H,V=K,ie=void 0)}if(P.colorType===3&&(A=this.color_spaces.INDEXED,z=P.palette,P.transparency.indexed)){var ne=P.transparency.indexed,re=0;for(Q=0,D=ne.length;Q<D;++Q)re+=ne[Q];if((re/=255)===D-1&&ne.indexOf(0)!==-1)S=[ne.indexOf(0)];else if(re!==D){for(B=P.decodePixels(),K=new Uint8Array(B.length),Q=0,D=B.length;Q<D;Q++)K[Q]=ne[B[Q]];V=s(K,P.width,1)}}var U=(function(J){var se;switch(J){case n.image_compression.FAST:se=11;break;case n.image_compression.MEDIUM:se=13;break;case n.image_compression.SLOW:se=14;break;default:se=12}return se})(j);return ie===this.decode.FLATE_DECODE&&(q="/Predictor "+U+" "),q+="/Colors "+O+" /BitsPerComponent "+C+" /Columns "+P.width,(this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),(V&&this.__addimage__.isArrayBuffer(V)||this.__addimage__.isArrayBufferView(V))&&(V=this.__addimage__.arrayBufferToBinaryString(V)),{alias:_,data:y,index:x,filter:ie,decodeParameters:q,transparency:S,palette:z,sMask:V,predictor:U,width:P.width,height:P.height,bitsPerComponent:C,colorSpace:A}}}})(Rs.API),(function(n){n.processGIF89A=function(t,s,r,i){var a=new mZ(t),l=a.width,c=a.height,u=[];a.decodeAndBlitFrameRGBA(0,u);var m={data:u,width:l,height:c},g=new Tj(100).encode(m,100);return n.processJPEG.call(this,g,s,r,i)},n.processGIF87A=n.processGIF89A})(Rs.API),Vc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var t=0;t<n;t++){var s=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:s,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Vc.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[n]()}catch(s){jr.log("bit decode error:"+s)}},Vc.prototype.bit1=function(){var n,t=Math.ceil(this.width/8),s=t%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++)for(var a=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+8*i*4,c=0;c<8&&8*i+c<this.width;c++){var u=this.palette[a>>7-c&1];this.data[l+4*c]=u.blue,this.data[l+4*c+1]=u.green,this.data[l+4*c+2]=u.red,this.data[l+4*c+3]=255}s!==0&&(this.pos+=4-s)}},Vc.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),t=n%4,s=this.height-1;s>=0;s--){for(var r=this.bottom_up?s:this.height-1-s,i=0;i<n;i++){var a=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+2*i*4,c=a>>4,u=15&a,m=this.palette[c];if(this.data[l]=m.blue,this.data[l+1]=m.green,this.data[l+2]=m.red,this.data[l+3]=255,2*i+1>=this.width)break;m=this.palette[u],this.data[l+4]=m.blue,this.data[l+4+1]=m.green,this.data[l+4+2]=m.red,this.data[l+4+3]=255}t!==0&&(this.pos+=4-t)}},Vc.prototype.bit8=function(){for(var n=this.width%4,t=this.height-1;t>=0;t--){for(var s=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=s*this.width*4+4*r;if(i<this.palette.length){var l=this.palette[i];this.data[a]=l.red,this.data[a+1]=l.green,this.data[a+2]=l.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}n!==0&&(this.pos+=4-n)}},Vc.prototype.bit15=function(){for(var n=this.width%3,t=parseInt("11111",2),s=this.height-1;s>=0;s--){for(var r=this.bottom_up?s:this.height-1-s,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(a&t)/t*255|0,c=(a>>5&t)/t*255|0,u=(a>>10&t)/t*255|0,m=a>>15?255:0,g=r*this.width*4+4*i;this.data[g]=u,this.data[g+1]=c,this.data[g+2]=l,this.data[g+3]=m}this.pos+=n}},Vc.prototype.bit16=function(){for(var n=this.width%3,t=parseInt("11111",2),s=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(l&t)/t*255|0,u=(l>>5&s)/s*255|0,m=(l>>11)/t*255|0,g=i*this.width*4+4*a;this.data[g]=m,this.data[g+1]=u,this.data[g+2]=c,this.data[g+3]=255}this.pos+=n}},Vc.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var t=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*s;this.data[l]=a,this.data[l+1]=i,this.data[l+2]=r,this.data[l+3]=255}this.pos+=this.width%4}},Vc.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var t=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),c=t*this.width*4+4*s;this.data[c]=a,this.data[c+1]=i,this.data[c+2]=r,this.data[c+3]=l}},Vc.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(t,s,r,i){var a=new Vc(t,!1),l=a.width,c=a.height,u={data:a.getData(),width:l,height:c},m=new Tj(100).encode(u,100);return n.processJPEG.call(this,m,s,r,i)}})(Rs.API),RS.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(t,s,r,i){var a=new RS(t),l=a.width,c=a.height,u={data:a.getData(),width:l,height:c},m=new Tj(100).encode(u,100);return n.processJPEG.call(this,m,s,r,i)}})(Rs.API),Rs.API.processRGBA=function(n,t,s){for(var r=n.data,i=r.length,a=new Uint8Array(i/4*3),l=new Uint8Array(i/4),c=0,u=0,m=0;m<i;m+=4){var g=r[m],p=r[m+1],y=r[m+2],x=r[m+3];a[c++]=g,a[c++]=p,a[c++]=y,l[u++]=x}var _=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:_,index:t,alias:s,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Rs.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")})),this.internal.languageSettings.isSubscribed=!0)),this},Ef=Rs.API,Lv=Ef.getCharWidthsArray=function(n,t){var s,r,i=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),l=t.charSpace||this.internal.getCharSpace(),c=t.widths?t.widths:i.metadata.Unicode.widths,u=c.fof?c.fof:1,m=t.kerning?t.kerning:i.metadata.Unicode.kerning,g=m.fof?m.fof:1,p=t.doKerning!==!1,y=0,x=n.length,_=0,j=c[0]||u,A=[];for(s=0;s<x;s++)r=n.charCodeAt(s),typeof i.metadata.widthOfString=="function"?A.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+l*(1e3/a)||0)/1e3):(y=p&&dr(m[r])==="object"&&!isNaN(parseInt(m[r][_],10))?m[r][_]/g:0,A.push((c[r]||j)/u+y)),_=r;return A},ES=Ef.getStringUnitWidth=function(n,t){var s=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return Ef.processArabic&&(n=Ef.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,s,i)/s:Lv.apply(this,arguments).reduce((function(a,l){return a+l}),0)},TS=function(n,t,s,r){for(var i=[],a=0,l=n.length,c=0;a!==l&&c+t[a]<s;)c+=t[a],a++;i.push(n.slice(0,a));var u=a;for(c=0;a!==l;)c+t[a]>r&&(i.push(n.slice(u,a)),c=0,u=a),c+=t[a],a++;return u!==a&&i.push(n.slice(u,a)),i},PS=function(n,t,s){s||(s={});var r,i,a,l,c,u,m,g=[],p=[g],y=s.textIndent||0,x=0,_=0,j=n.split(" "),A=Lv.apply(this,[" ",s])[0];if(u=s.lineIndent===-1?j[0].length+2:s.lineIndent||0){var C=Array(u).join(" "),P=[];j.map((function(O){(O=O.split(/\s*\n/)).length>1?P=P.concat(O.map((function(z,V){return(V&&z.length?`
`:"")+z}))):P.push(O[0])})),j=P,u=ES.apply(this,[C,s])}for(a=0,l=j.length;a<l;a++){var S=0;if(r=j[a],u&&r[0]==`
`&&(r=r.substr(1),S=1),y+x+(_=(i=Lv.apply(this,[r,s])).reduce((function(O,z){return O+z}),0))>t||S){if(_>t){for(c=TS.apply(this,[r,i,t-(y+x),t]),g.push(c.shift()),g=[c.pop()];c.length;)p.push([c.shift()]);_=i.slice(r.length-(g[0]?g[0].length:0)).reduce((function(O,z){return O+z}),0)}else g=[r];p.push(g),y=_+u,x=A}else g.push(r),y+=x+_,x=A}return m=u?function(O,z){return(z?C:"")+O.join(" ")}:function(O){return O.join(" ")},p.map(m)},Ef.splitTextToSize=function(n,t,s){var r,i=(s=s||{}).fontSize||this.internal.getFontSize(),a=(function(g){if(g.widths&&g.kerning)return{widths:g.widths,kerning:g.kerning};var p=this.internal.getFont(g.fontName,g.fontStyle);return p.metadata.Unicode?{widths:p.metadata.Unicode.widths||{0:1},kerning:p.metadata.Unicode.kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,s);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var l=1*this.internal.scaleFactor*t/i;a.textIndent=s.textIndent?1*s.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=s.lineIndent;var c,u,m=[];for(c=0,u=r.length;c<u;c++)m=m.concat(PS.apply(this,[r[c],l,a]));return m},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",s={},r={},i=0;i<t.length;i++)s[t[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=t[i];var a=function(p){return"0x"+parseInt(p,10).toString(16)},l=n.__fontmetrics__.compress=function(p){var y,x,_,j,A=["{"];for(var C in p){if(y=p[C],isNaN(parseInt(C,10))?x="'"+C+"'":(C=parseInt(C,10),x=(x=a(C).slice(2)).slice(0,-1)+r[x.slice(-1)]),typeof y=="number")y<0?(_=a(y).slice(3),j="-"):(_=a(y).slice(2),j=""),_=j+_.slice(0,-1)+r[_.slice(-1)];else{if(dr(y)!=="object")throw new Error("Don't know what to do with value type "+dr(y)+".");_=l(y)}A.push(x+_)}return A.push("}"),A.join("")},c=n.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var y,x,_,j,A={},C=1,P=A,S=[],O="",z="",V=p.length-1,B=1;B<V;B+=1)(j=p[B])=="'"?y?(_=y.join(""),y=void 0):y=[]:y?y.push(j):j=="{"?(S.push([P,_]),P={},_=void 0):j=="}"?((x=S.pop())[0][x[1]]=P,_=void 0,P=x[0]):j=="-"?C=-1:_===void 0?s.hasOwnProperty(j)?(O+=s[j],_=parseInt(O,16)*C,C=1,O=""):O+=j:s.hasOwnProperty(j)?(z+=s[j],P[_]=parseInt(z,16)*C,C=1,_=void 0,z=""):z+=j;return A},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},m={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},g={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(p){var y=p.font,x=g.Unicode[y.postScriptName];x&&(y.metadata.Unicode={},y.metadata.Unicode.widths=x.widths,y.metadata.Unicode.kerning=x.kerning);var _=m.Unicode[y.postScriptName];_&&(y.metadata.Unicode.encoding=_,y.encoding=_.codePages[0])}])})(Rs.API),(function(n){var t=function(s){for(var r=s.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=s.charCodeAt(a);return i};n.API.events.push(["addFont",function(s){var r=void 0,i=s.font,a=s.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(l,c){c=/^\x00\x01\x00\x00/.test(c)?t(c):t(Eg(c)),l.metadata=n.API.TTFFont.open(c),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(i,r)}}])})(Rs),(function(n){function t(){return(Ms.canvg?Promise.resolve(Ms.canvg):wy(()=>import("./index.es-CsgE26h1.js"),[])).catch((function(s){return Promise.reject(new Error("Could not load canvg: "+s))})).then((function(s){return s.default?s.default:s}))}Rs.API.addSvgAsImage=function(s,r,i,a,l,c,u,m){if(isNaN(r)||isNaN(i))throw jr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(l))throw jr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var g=document.createElement("canvas");g.width=a,g.height=l;var p=g.getContext("2d");p.fillStyle="#fff",p.fillRect(0,0,g.width,g.height);var y={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},x=this;return t().then((function(_){return _.fromString(p,s,y)}),(function(){return Promise.reject(new Error("Could not load canvg."))})).then((function(_){return _.render(y)})).then((function(){x.addImage(g.toDataURL("image/jpeg",1),r,i,a,l,u,m)}))}})(),Rs.API.putTotalPages=function(n){var t,s=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(n,"g"),s=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),s=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,s);return this},Rs.API.viewerPreferences=function(n,t){var s;n=n||{},t=t||!1;var r,i,a,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(l),u=[],m=0,g=0,p=0;function y(_,j){var A,C=!1;for(A=0;A<_.length;A+=1)_[A]===j&&(C=!0);return C}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),s=this.internal.viewerpreferences.configuration,n==="reset"||t===!0){var x=c.length;for(p=0;p<x;p+=1)s[c[p]].value=s[c[p]].defaultValue,s[c[p]].explicitSet=!1}if(dr(n)==="object"){for(i in n)if(a=n[i],y(c,i)&&a!==void 0){if(s[i].type==="boolean"&&typeof a=="boolean")s[i].value=a;else if(s[i].type==="name"&&y(s[i].valueSet,a))s[i].value=a;else if(s[i].type==="integer"&&Number.isInteger(a))s[i].value=a;else if(s[i].type==="array"){for(m=0;m<a.length;m+=1)if(r=!0,a[m].length===1&&typeof a[m][0]=="number")u.push(String(a[m]-1));else if(a[m].length>1){for(g=0;g<a[m].length;g+=1)typeof a[m][g]!="number"&&(r=!1);r===!0&&u.push([a[m][0]-1,a[m][1]-1].join(" "))}s[i].value="["+u.join(" ")+"]"}else s[i].value=s[i].defaultValue;s[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){var _,j=[];for(_ in s)s[_].explicitSet===!0&&(s[_].type==="name"?j.push("/"+_+" /"+s[_].value):j.push("/"+_+" "+s[_].value));j.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+j.join(`
`)+`
>>`)})),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=s,this},(function(n){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),m=a.length+l.length+c.length+i.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+m+" >>"),this.internal.write("stream"),this.internal.write(i+a+l+c+u),this.internal.write("endstream"),this.internal.write("endobj")},s=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",s),this.internal.events.subscribe("postPutResources",t)),this}})(Rs.API),(function(n){var t=n.API,s=t.pdfEscape16=function(a,l){for(var c,u=l.metadata.Unicode.widths,m=["","0","00","000","0000"],g=[""],p=0,y=a.length;p<y;++p){if(c=l.metadata.characterToGlyph(a.charCodeAt(p)),l.metadata.glyIdsUsed.push(c),l.metadata.toUnicode[c]=a.charCodeAt(p),u.indexOf(c)==-1&&(u.push(c),u.push([parseInt(l.metadata.widthOfGlyph(c),10)])),c=="0")return g.join("");c=c.toString(16),g.push(m[4-c.length],c)}return g.join("")},r=function(a){var l,c,u,m,g,p,y;for(g=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],p=0,y=(c=Object.keys(a).sort((function(x,_){return x-_}))).length;p<y;p++)l=c[p],u.length>=100&&(g+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),a[l]!==void 0&&a[l]!==null&&typeof a[l].toString=="function"&&(m=("0000"+a[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),u.push("<"+l+"><"+m+">"));return u.length&&(g+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),g+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(l){var c=l.font,u=l.out,m=l.newObject,g=l.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="Identity-H"){for(var p=c.metadata.Unicode.widths,y=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),x="",_=0;_<y.length;_++)x+=String.fromCharCode(y[_]);var j=m();g({data:x,addLength1:!0,objectId:j}),u("endobj");var A=m();g({data:r(c.metadata.toUnicode),addLength1:!0,objectId:A}),u("endobj");var C=m();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+Ff(c.fontName)),u("/FontFile2 "+j+" 0 R"),u("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),u("/Flags "+c.metadata.flags),u("/StemV "+c.metadata.stemV),u("/ItalicAngle "+c.metadata.italicAngle),u("/Ascent "+c.metadata.ascender),u("/Descent "+c.metadata.decender),u("/CapHeight "+c.metadata.capHeight),u(">>"),u("endobj");var P=m();u("<<"),u("/Type /Font"),u("/BaseFont /"+Ff(c.fontName)),u("/FontDescriptor "+C+" 0 R"),u("/W "+n.API.PDFObject.convert(p)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+c.encoding+")"),u(">>"),u(">>"),u("endobj"),c.objectNumber=m(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+A+" 0 R"),u("/BaseFont /"+Ff(c.fontName)),u("/Encoding /"+c.encoding),u("/DescendantFonts ["+P+" 0 R]"),u(">>"),u("endobj"),c.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(l){var c=l.font,u=l.out,m=l.newObject,g=l.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var p=c.metadata.rawData,y="",x=0;x<p.length;x++)y+=String.fromCharCode(p[x]);var _=m();g({data:y,addLength1:!0,objectId:_}),u("endobj");var j=m();g({data:r(c.metadata.toUnicode),addLength1:!0,objectId:j}),u("endobj");var A=m();u("<<"),u("/Descent "+c.metadata.decender),u("/CapHeight "+c.metadata.capHeight),u("/StemV "+c.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+_+" 0 R"),u("/Flags 96"),u("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),u("/FontName /"+Ff(c.fontName)),u("/ItalicAngle "+c.metadata.italicAngle),u("/Ascent "+c.metadata.ascender),u(">>"),u("endobj"),c.objectNumber=m();for(var C=0;C<c.metadata.hmtx.widths.length;C++)c.metadata.hmtx.widths[C]=parseInt(c.metadata.hmtx.widths[C]*(1e3/c.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+j+" 0 R/BaseFont/"+Ff(c.fontName)+"/FontDescriptor "+A+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),u("endobj"),c.isAlreadyPutted=!0}})(a)}]);var i=function(a){var l,c=a.text||"",u=a.x,m=a.y,g=a.options||{},p=a.mutex||{},y=p.pdfEscape,x=p.activeFontKey,_=p.fonts,j=x,A="",C=0,P="",S=_[j].encoding;if(_[j].encoding!=="Identity-H")return{text:c,x:u,y:m,options:g,mutex:p};for(P=c,j=x,Array.isArray(c)&&(P=c[0]),C=0;C<P.length;C+=1)_[j].metadata.hasOwnProperty("cmap")&&(l=_[j].metadata.cmap.unicode.codeMap[P[C].charCodeAt(0)]),l||P[C].charCodeAt(0)<256&&_[j].metadata.hasOwnProperty("Unicode")?A+=P[C]:A+="";var O="";return parseInt(j.slice(1))<14||S==="WinAnsiEncoding"?O=y(A,j).split("").map((function(z){return z.charCodeAt(0).toString(16)})).join(""):S==="Identity-H"&&(O=s(A,_[j])),p.isHex=!0,{text:O,x:u,y:m,options:g,mutex:p}};t.events.push(["postProcessText",function(a){var l=a.text||"",c=[],u={text:l,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(l)){var m=0;for(m=0;m<l.length;m+=1)Array.isArray(l[m])&&l[m].length===3?c.push([i(Object.assign({},u,{text:l[m][0]})).text,l[m][1],l[m][2]]):c.push(i(Object.assign({},u,{text:l[m]})).text);a.text=c}else a.text=i(Object.assign({},u,{text:l})).text}])})(Rs),(function(n){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(s){return t.call(this),this.internal.vFS[s]!==void 0},n.addFileToVFS=function(s,r){return t.call(this),this.internal.vFS[s]=r,this},n.getFileFromVFS=function(s){return t.call(this),this.internal.vFS[s]!==void 0?this.internal.vFS[s]:null}})(Rs.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,a,l,c,u,m,g,p=t,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],x=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],_={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},j={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},A=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],C=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),P=!1,S=0;this.__bidiEngine__={};var O=function($){var W=$.charCodeAt(),Q=W>>8,Z=j[Q];return Z!==void 0?p[256*Z+(255&W)]:Q===252||Q===253?"AL":C.test(Q)?"L":Q===8?"R":"N"},z=function($){for(var W,Q=0;Q<$.length;Q++){if((W=O($.charAt(Q)))==="L")return!1;if(W==="R")return!0}return!1},V=function($,W,Q,Z){var ie,q,ce,te,oe=W[Z];switch(oe){case"L":case"R":P=!1;break;case"N":case"AN":break;case"EN":P&&(oe="AN");break;case"AL":P=!0,oe="R";break;case"WS":oe="N";break;case"CS":Z<1||Z+1>=W.length||(ie=Q[Z-1])!=="EN"&&ie!=="AN"||(q=W[Z+1])!=="EN"&&q!=="AN"?oe="N":P&&(q="AN"),oe=q===ie?q:"N";break;case"ES":oe=(ie=Z>0?Q[Z-1]:"B")==="EN"&&Z+1<W.length&&W[Z+1]==="EN"?"EN":"N";break;case"ET":if(Z>0&&Q[Z-1]==="EN"){oe="EN";break}if(P){oe="N";break}for(ce=Z+1,te=W.length;ce<te&&W[ce]==="ET";)ce++;oe=ce<te&&W[ce]==="EN"?"EN":"N";break;case"NSM":if(l&&!c){for(te=W.length,ce=Z+1;ce<te&&W[ce]==="NSM";)ce++;if(ce<te){var ne=$[Z],re=ne>=1425&&ne<=2303||ne===64286;if(ie=W[ce],re&&(ie==="R"||ie==="AL")){oe="R";break}}}oe=Z<1||(ie=W[Z-1])==="B"?"N":Q[Z-1];break;case"B":P=!1,i=!0,oe=S;break;case"S":a=!0,oe="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":P=!1;break;case"BN":oe="N"}return oe},B=function($,W,Q){var Z=$.split("");return Q&&D(Z,Q,{hiLevel:S}),Z.reverse(),W&&W.reverse(),Z.join("")},D=function($,W,Q){var Z,ie,q,ce,te,oe=-1,ne=$.length,re=0,U=[],J=S?x:y,se=[];for(P=!1,i=!1,a=!1,ie=0;ie<ne;ie++)se[ie]=O($[ie]);for(q=0;q<ne;q++){if(te=re,U[q]=V($,se,U,q),Z=240&(re=J[te][_[U[q]]]),re&=15,W[q]=ce=J[re][5],Z>0)if(Z===16){for(ie=oe;ie<q;ie++)W[ie]=1;oe=-1}else oe=-1;if(J[re][6])oe===-1&&(oe=q);else if(oe>-1){for(ie=oe;ie<q;ie++)W[ie]=ce;oe=-1}se[q]==="B"&&(W[q]=0),Q.hiLevel|=ce}a&&(function(ue,be,we){for(var Ce=0;Ce<we;Ce++)if(ue[Ce]==="S"){be[Ce]=S;for(var Re=Ce-1;Re>=0&&ue[Re]==="WS";Re--)be[Re]=S}})(se,W,ne)},K=function($,W,Q,Z,ie){if(!(ie.hiLevel<$)){if($===1&&S===1&&!i)return W.reverse(),void(Q&&Q.reverse());for(var q,ce,te,oe,ne=W.length,re=0;re<ne;){if(Z[re]>=$){for(te=re+1;te<ne&&Z[te]>=$;)te++;for(oe=re,ce=te-1;oe<ce;oe++,ce--)q=W[oe],W[oe]=W[ce],W[ce]=q,Q&&(q=Q[oe],Q[oe]=Q[ce],Q[ce]=q);re=te}re++}}},H=function($,W,Q){var Z=$.split(""),ie={hiLevel:S};return Q||(Q=[]),D(Z,Q,ie),(function(q,ce,te){if(te.hiLevel!==0&&g)for(var oe,ne=0;ne<q.length;ne++)ce[ne]===1&&(oe=A.indexOf(q[ne]))>=0&&(q[ne]=A[oe+1])})(Z,Q,ie),K(2,Z,W,Q,ie),K(1,Z,W,Q,ie),Z.join("")};return this.__bidiEngine__.doBidiReorder=function($,W,Q){if((function(ie,q){if(q)for(var ce=0;ce<ie.length;ce++)q[ce]=ce;c===void 0&&(c=z(ie)),m===void 0&&(m=z(ie))})($,W),l||!u||m)if(l&&u&&c^m)S=c?1:0,$=B($,W,Q);else if(!l&&u&&m)S=c?1:0,$=H($,W,Q),$=B($,W);else if(!l||c||u||m){if(l&&!u&&c^m)$=B($,W),c?(S=0,$=H($,W,Q)):(S=1,$=H($,W,Q),$=B($,W));else if(l&&c&&!u&&m)S=1,$=H($,W,Q),$=B($,W);else if(!l&&!u&&c^m){var Z=g;c?(S=1,$=H($,W,Q),S=0,g=!1,$=H($,W,Q),g=Z):(S=0,$=H($,W,Q),$=B($,W),S=1,g=!1,$=H($,W,Q),g=Z,$=B($,W))}}else S=0,$=H($,W,Q);else S=c?1:0,$=H($,W,Q);return $},this.__bidiEngine__.setOptions=function($){$&&(l=$.isInputVisual,u=$.isOutputVisual,c=$.isInputRtl,m=$.isOutputRtl,g=$.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],s=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text,a=(r.x,r.y,r.options||{}),l=(r.mutex,a.lang,[]);if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,s.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var c=0;for(l=[],c=0;c<i.length;c+=1)Object.prototype.toString.call(i[c])==="[object Array]"?l.push([s.doBidiReorder(i[c][0]),i[c][1],i[c][2]]):l.push([s.doBidiReorder(i[c])]);r.text=l}else r.text=s.doBidiReorder(i);s.setOptions({isInputVisual:!0})}])})(Rs),Rs.API.TTFFont=(function(){function n(t){var s;if(this.rawData=t,s=this.contents=new Uh(t),this.contents.pos=4,s.readString(4)==="ttcf")throw new Error("TTCF not supported.");s.pos=0,this.parse(),this.subset=new kZ(this),this.registerTTF()}return n.open=function(t){return new n(t)},n.prototype.parse=function(){return this.directory=new fZ(this.contents),this.head=new gZ(this),this.name=new jZ(this),this.cmap=new wP(this),this.toUnicode={},this.hhea=new xZ(this),this.maxp=new wZ(this),this.hmtx=new NZ(this),this.post=new yZ(this),this.os2=new vZ(this),this.loca=new AZ(this),this.glyf=new _Z(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var t,s,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,c,u,m;for(m=[],l=0,c=(u=this.bbox).length;l<c;l++)t=u[l],m.push(Math.round(t*this.scaleFactor));return m}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),(32768&(s=i>>16))!=0&&(s=-(1+(65535^s))),this.italicAngle=+(s+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(t){var s;return((s=this.cmap.unicode)!=null?s.codeMap[t]:void 0)||0},n.prototype.widthOfGlyph=function(t){var s;return s=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*s},n.prototype.widthOfString=function(t,s,r){var i,a,l,c;for(l=0,a=0,c=(t=""+t).length;0<=c?a<c:a>c;a=0<=c?++a:--a)i=t.charCodeAt(a),l+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/s)||0;return l*(s/1e3)},n.prototype.lineHeight=function(t,s){var r;return s==null&&(s=!1),r=s?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},n})();var ad,Uh=(function(){function n(t){this.data=t??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(t){return this.data[this.pos++]=t},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},n.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},n.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},n.prototype.readString=function(t){var s,r;for(r=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)r[s]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(t){var s,r,i;for(i=[],s=0,r=t.length;0<=r?s<r:s>r;s=0<=r?++s:--s)i.push(this.writeByte(t.charCodeAt(s)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(t){return this.writeInt16(t)},n.prototype.readLongLong=function(){var t,s,r,i,a,l,c,u;return t=this.readByte(),s=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),l=this.readByte(),c=this.readByte(),u=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^s)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^l)+256*(255^c)+(255^u)+1):72057594037927940*t+281474976710656*s+1099511627776*r+4294967296*i+16777216*a+65536*l+256*c+u},n.prototype.writeLongLong=function(t){var s,r;return s=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(t){return this.writeInt32(t)},n.prototype.read=function(t){var s,r;for(s=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)s.push(this.readByte());return s},n.prototype.write=function(t){var s,r,i,a;for(a=[],r=0,i=t.length;r<i;r++)s=t[r],a.push(this.writeByte(s));return a},n})(),fZ=(function(){var n;function t(s){var r,i,a;for(this.scalarType=s.readInt(),this.tableCount=s.readShort(),this.searchRange=s.readShort(),this.entrySelector=s.readShort(),this.rangeShift=s.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:s.readString(4),checksum:s.readInt(),offset:s.readInt(),length:s.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(s){var r,i,a,l,c,u,m,g,p,y,x,_,j;for(j in x=Object.keys(s).length,u=Math.log(2),p=16*Math.floor(Math.log(x)/u),l=Math.floor(p/u),g=16*x-p,(i=new Uh).writeInt(this.scalarType),i.writeShort(x),i.writeShort(p),i.writeShort(l),i.writeShort(g),a=16*x,m=i.pos+a,c=null,_=[],s)for(y=s[j],i.writeString(j),i.writeInt(n(y)),i.writeInt(m),i.writeInt(y.length),_=_.concat(y),j==="head"&&(c=m),m+=y.length;m%4;)_.push(0),m++;return i.write(_),r=2981146554-n(i.data),i.pos=c+8,i.writeUInt32(r),i.data},n=function(s){var r,i,a,l;for(s=NP.call(s);s.length%4;)s.push(0);for(a=new Uh(s),i=0,r=0,l=s.length;r<l;r=r+=4)i+=a.readUInt32();return 4294967295&i},t})(),pZ={}.hasOwnProperty,tu=function(n,t){for(var s in t)pZ.call(t,s)&&(n[s]=t[s]);function r(){this.constructor=n}return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n};ad=(function(){function n(t){var s;this.file=t,s=this.file.directory.tables[this.tag],this.exists=!!s,s&&(this.offset=s.offset,this.length=s.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var gZ=(function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return tu(t,ad),t.prototype.tag="head",t.prototype.parse=function(s){return s.pos=this.offset,this.version=s.readInt(),this.revision=s.readInt(),this.checkSumAdjustment=s.readInt(),this.magicNumber=s.readInt(),this.flags=s.readShort(),this.unitsPerEm=s.readShort(),this.created=s.readLongLong(),this.modified=s.readLongLong(),this.xMin=s.readShort(),this.yMin=s.readShort(),this.xMax=s.readShort(),this.yMax=s.readShort(),this.macStyle=s.readShort(),this.lowestRecPPEM=s.readShort(),this.fontDirectionHint=s.readShort(),this.indexToLocFormat=s.readShort(),this.glyphDataFormat=s.readShort()},t.prototype.encode=function(s){var r;return(r=new Uh).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(s),r.writeShort(this.glyphDataFormat),r.data},t})(),OS=(function(){function n(t,s){var r,i,a,l,c,u,m,g,p,y,x,_,j,A,C,P,S;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=s+t.readInt(),p=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=t.readByte();break;case 4:for(x=t.readUInt16(),y=x/2,t.pos+=6,a=(function(){var O,z;for(z=[],u=O=0;0<=y?O<y:O>y;u=0<=y?++O:--O)z.push(t.readUInt16());return z})(),t.pos+=2,j=(function(){var O,z;for(z=[],u=O=0;0<=y?O<y:O>y;u=0<=y?++O:--O)z.push(t.readUInt16());return z})(),m=(function(){var O,z;for(z=[],u=O=0;0<=y?O<y:O>y;u=0<=y?++O:--O)z.push(t.readUInt16());return z})(),g=(function(){var O,z;for(z=[],u=O=0;0<=y?O<y:O>y;u=0<=y?++O:--O)z.push(t.readUInt16());return z})(),i=(this.length-t.pos+this.offset)/2,c=(function(){var O,z;for(z=[],u=O=0;0<=i?O<i:O>i;u=0<=i?++O:--O)z.push(t.readUInt16());return z})(),u=C=0,S=a.length;C<S;u=++C)for(A=a[u],r=P=_=j[u];_<=A?P<=A:P>=A;r=_<=A?++P:--P)g[u]===0?l=r+m[u]:(l=c[g[u]/2+(r-_)-(y-u)]||0)!==0&&(l+=m[u]),this.codeMap[r]=65535&l}t.pos=p}return n.encode=function(t,s){var r,i,a,l,c,u,m,g,p,y,x,_,j,A,C,P,S,O,z,V,B,D,K,H,$,W,Q,Z,ie,q,ce,te,oe,ne,re,U,J,se,ue,be,we,Ce,Re,Xe,tt,lt;switch(Z=new Uh,l=Object.keys(t).sort((function(jt,Et){return jt-Et})),s){case"macroman":for(j=0,A=(function(){var jt=[];for(_=0;_<256;++_)jt.push(0);return jt})(),P={0:0},a={},ie=0,oe=l.length;ie<oe;ie++)P[Re=t[i=l[ie]]]==null&&(P[Re]=++j),a[i]={old:t[i],new:P[t[i]]},A[i]=P[t[i]];return Z.writeUInt16(1),Z.writeUInt16(0),Z.writeUInt32(12),Z.writeUInt16(0),Z.writeUInt16(262),Z.writeUInt16(0),Z.write(A),{charMap:a,subtable:Z.data,maxGlyphID:j+1};case"unicode":for(W=[],p=[],S=0,P={},r={},C=m=null,q=0,ne=l.length;q<ne;q++)P[z=t[i=l[q]]]==null&&(P[z]=++S),r[i]={old:z,new:P[z]},c=P[z]-i,C!=null&&c===m||(C&&p.push(C),W.push(i),m=c),C=i;for(C&&p.push(C),p.push(65535),W.push(65535),H=2*(K=W.length),D=2*Math.pow(Math.log(K)/Math.LN2,2),y=Math.log(D/2)/Math.LN2,B=2*K-D,u=[],V=[],x=[],_=ce=0,re=W.length;ce<re;_=++ce){if($=W[_],g=p[_],$===65535){u.push(0),V.push(0);break}if($-(Q=r[$].new)>=32768)for(u.push(0),V.push(2*(x.length+K-_)),i=te=$;$<=g?te<=g:te>=g;i=$<=g?++te:--te)x.push(r[i].new);else u.push(Q-$),V.push(0)}for(Z.writeUInt16(3),Z.writeUInt16(1),Z.writeUInt32(12),Z.writeUInt16(4),Z.writeUInt16(16+8*K+2*x.length),Z.writeUInt16(0),Z.writeUInt16(H),Z.writeUInt16(D),Z.writeUInt16(y),Z.writeUInt16(B),we=0,U=p.length;we<U;we++)i=p[we],Z.writeUInt16(i);for(Z.writeUInt16(0),Ce=0,J=W.length;Ce<J;Ce++)i=W[Ce],Z.writeUInt16(i);for(Xe=0,se=u.length;Xe<se;Xe++)c=u[Xe],Z.writeUInt16(c);for(tt=0,ue=V.length;tt<ue;tt++)O=V[tt],Z.writeUInt16(O);for(lt=0,be=x.length;lt<be;lt++)j=x[lt],Z.writeUInt16(j);return{charMap:r,subtable:Z.data,maxGlyphID:S+1}}},n})(),wP=(function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return tu(t,ad),t.prototype.tag="cmap",t.prototype.parse=function(s){var r,i,a;for(s.pos=this.offset,this.version=s.readUInt16(),a=s.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)r=new OS(s,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(s,r){var i,a;return r==null&&(r="macroman"),i=OS.encode(s,r),(a=new Uh).writeUInt16(0),a.writeUInt16(1),i.table=a.data.concat(i.subtable),i},t})(),xZ=(function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return tu(t,ad),t.prototype.tag="hhea",t.prototype.parse=function(s){return s.pos=this.offset,this.version=s.readInt(),this.ascender=s.readShort(),this.decender=s.readShort(),this.lineGap=s.readShort(),this.advanceWidthMax=s.readShort(),this.minLeftSideBearing=s.readShort(),this.minRightSideBearing=s.readShort(),this.xMaxExtent=s.readShort(),this.caretSlopeRise=s.readShort(),this.caretSlopeRun=s.readShort(),this.caretOffset=s.readShort(),s.pos+=8,this.metricDataFormat=s.readShort(),this.numberOfMetrics=s.readUInt16()},t})(),vZ=(function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return tu(t,ad),t.prototype.tag="OS/2",t.prototype.parse=function(s){if(s.pos=this.offset,this.version=s.readUInt16(),this.averageCharWidth=s.readShort(),this.weightClass=s.readUInt16(),this.widthClass=s.readUInt16(),this.type=s.readShort(),this.ySubscriptXSize=s.readShort(),this.ySubscriptYSize=s.readShort(),this.ySubscriptXOffset=s.readShort(),this.ySubscriptYOffset=s.readShort(),this.ySuperscriptXSize=s.readShort(),this.ySuperscriptYSize=s.readShort(),this.ySuperscriptXOffset=s.readShort(),this.ySuperscriptYOffset=s.readShort(),this.yStrikeoutSize=s.readShort(),this.yStrikeoutPosition=s.readShort(),this.familyClass=s.readShort(),this.panose=(function(){var r,i;for(i=[],r=0;r<10;++r)i.push(s.readByte());return i})(),this.charRange=(function(){var r,i;for(i=[],r=0;r<4;++r)i.push(s.readInt());return i})(),this.vendorID=s.readString(4),this.selection=s.readShort(),this.firstCharIndex=s.readShort(),this.lastCharIndex=s.readShort(),this.version>0&&(this.ascent=s.readShort(),this.descent=s.readShort(),this.lineGap=s.readShort(),this.winAscent=s.readShort(),this.winDescent=s.readShort(),this.codePageRange=(function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(s.readInt());return i})(),this.version>1))return this.xHeight=s.readShort(),this.capHeight=s.readShort(),this.defaultChar=s.readShort(),this.breakChar=s.readShort(),this.maxContext=s.readShort()},t})(),yZ=(function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return tu(t,ad),t.prototype.tag="post",t.prototype.parse=function(s){var r,i,a;switch(s.pos=this.offset,this.format=s.readInt(),this.italicAngle=s.readInt(),this.underlinePosition=s.readShort(),this.underlineThickness=s.readShort(),this.isFixedPitch=s.readInt(),this.minMemType42=s.readInt(),this.maxMemType42=s.readInt(),this.minMemType1=s.readInt(),this.maxMemType1=s.readInt(),this.format){case 65536:break;case 131072:var l;for(i=s.readUInt16(),this.glyphNameIndex=[],l=0;0<=i?l<i:l>i;l=0<=i?++l:--l)this.glyphNameIndex.push(s.readUInt16());for(this.names=[],a=[];s.pos<this.offset+this.length;)r=s.readByte(),a.push(this.names.push(s.readString(r)));return a;case 151552:return i=s.readUInt16(),this.offsets=s.read(i);case 196608:break;case 262144:return this.map=(function(){var c,u,m;for(m=[],l=c=0,u=this.file.maxp.numGlyphs;0<=u?c<u:c>u;l=0<=u?++c:--c)m.push(s.readUInt32());return m}).call(this)}},t})(),bZ=function(n,t){this.raw=n,this.length=n.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},jZ=(function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return tu(t,ad),t.prototype.tag="name",t.prototype.parse=function(s){var r,i,a,l,c,u,m,g,p,y,x;for(s.pos=this.offset,s.readShort(),r=s.readShort(),u=s.readShort(),i=[],l=0;0<=r?l<r:l>r;l=0<=r?++l:--l)i.push({platformID:s.readShort(),encodingID:s.readShort(),languageID:s.readShort(),nameID:s.readShort(),length:s.readShort(),offset:this.offset+u+s.readShort()});for(m={},l=p=0,y=i.length;p<y;l=++p)a=i[l],s.pos=a.offset,g=s.readString(a.length),c=new bZ(g,a),m[x=a.nameID]==null&&(m[x]=[]),m[a.nameID].push(c);this.strings=m,this.copyright=m[0],this.fontFamily=m[1],this.fontSubfamily=m[2],this.uniqueSubfamily=m[3],this.fontName=m[4],this.version=m[5];try{this.postscriptName=m[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=m[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=m[7],this.manufacturer=m[8],this.designer=m[9],this.description=m[10],this.vendorUrl=m[11],this.designerUrl=m[12],this.license=m[13],this.licenseUrl=m[14],this.preferredFamily=m[15],this.preferredSubfamily=m[17],this.compatibleFull=m[18],this.sampleText=m[19]},t})(),wZ=(function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return tu(t,ad),t.prototype.tag="maxp",t.prototype.parse=function(s){return s.pos=this.offset,this.version=s.readInt(),this.numGlyphs=s.readUInt16(),this.maxPoints=s.readUInt16(),this.maxContours=s.readUInt16(),this.maxCompositePoints=s.readUInt16(),this.maxComponentContours=s.readUInt16(),this.maxZones=s.readUInt16(),this.maxTwilightPoints=s.readUInt16(),this.maxStorage=s.readUInt16(),this.maxFunctionDefs=s.readUInt16(),this.maxInstructionDefs=s.readUInt16(),this.maxStackElements=s.readUInt16(),this.maxSizeOfInstructions=s.readUInt16(),this.maxComponentElements=s.readUInt16(),this.maxComponentDepth=s.readUInt16()},t})(),NZ=(function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return tu(t,ad),t.prototype.tag="hmtx",t.prototype.parse=function(s){var r,i,a,l,c,u,m;for(s.pos=this.offset,this.metrics=[],r=0,u=this.file.hhea.numberOfMetrics;0<=u?r<u:r>u;r=0<=u?++r:--r)this.metrics.push({advance:s.readUInt16(),lsb:s.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var g,p;for(p=[],r=g=0;0<=a?g<a:g>a;r=0<=a?++g:--g)p.push(s.readInt16());return p})(),this.widths=(function(){var g,p,y,x;for(x=[],g=0,p=(y=this.metrics).length;g<p;g++)l=y[g],x.push(l.advance);return x}).call(this),i=this.widths[this.widths.length-1],m=[],r=c=0;0<=a?c<a:c>a;r=0<=a?++c:--c)m.push(this.widths.push(i));return m},t.prototype.forGlyph=function(s){return s in this.metrics?this.metrics[s]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[s-this.metrics.length]}},t})(),NP=[].slice,_Z=(function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return tu(t,ad),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(s){var r,i,a,l,c,u,m,g,p,y;return s in this.cache?this.cache[s]:(l=this.file.loca,r=this.file.contents,i=l.indexOf(s),(a=l.lengthOf(s))===0?this.cache[s]=null:(r.pos=this.offset+i,c=(u=new Uh(r.read(a))).readShort(),g=u.readShort(),y=u.readShort(),m=u.readShort(),p=u.readShort(),this.cache[s]=c===-1?new CZ(u,g,y,m,p):new SZ(u,c,g,y,m,p),this.cache[s]))},t.prototype.encode=function(s,r,i){var a,l,c,u,m;for(c=[],l=[],u=0,m=r.length;u<m;u++)a=s[r[u]],l.push(c.length),a&&(c=c.concat(a.encode(i)));return l.push(c.length),{table:c,offsets:l}},t})(),SZ=(function(){function n(t,s,r,i,a,l){this.raw=t,this.numberOfContours=s,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=l,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),CZ=(function(){function n(t,s,r,i,a){var l,c;for(this.raw=t,this.xMin=s,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;c=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&c;)l.pos+=1&c?4:2,128&c?l.pos+=8:64&c?l.pos+=4:8&c&&(l.pos+=2)}return n.prototype.encode=function(){var t,s,r;for(s=new Uh(NP.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)s.pos=this.glyphOffsets[t];return s.data},n})(),AZ=(function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return tu(t,ad),t.prototype.tag="loca",t.prototype.parse=function(s){var r,i;return s.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,l;for(l=[],i=0,a=this.length;i<a;i+=2)l.push(2*s.readUInt16());return l}).call(this):(function(){var a,l;for(l=[],i=0,a=this.length;i<a;i+=4)l.push(s.readUInt32());return l}).call(this)},t.prototype.indexOf=function(s){return this.offsets[s]},t.prototype.lengthOf=function(s){return this.offsets[s+1]-this.offsets[s]},t.prototype.encode=function(s,r){for(var i=new Uint32Array(this.offsets.length),a=0,l=0,c=0;c<i.length;++c)if(i[c]=a,l<r.length&&r[l]==c){++l,i[c]=a;var u=this.offsets[c],m=this.offsets[c+1]-u;m>0&&(a+=m)}for(var g=new Array(4*i.length),p=0;p<i.length;++p)g[4*p+3]=255&i[p],g[4*p+2]=(65280&i[p])>>8,g[4*p+1]=(16711680&i[p])>>16,g[4*p]=(4278190080&i[p])>>24;return g},t})(),kZ=(function(){function n(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var t,s,r,i,a;for(s in i=this.font.cmap.tables[0].codeMap,t={},a=this.subset)r=a[s],t[s]=i[r];return t},n.prototype.glyphsFor=function(t){var s,r,i,a,l,c,u;for(i={},l=0,c=t.length;l<c;l++)i[a=t[l]]=this.font.glyf.glyphFor(a);for(a in s=[],i)(r=i[a])!=null&&r.compound&&s.push.apply(s,r.glyphIDs);if(s.length>0)for(a in u=this.glyphsFor(s))r=u[a],i[a]=r;return i},n.prototype.encode=function(t,s){var r,i,a,l,c,u,m,g,p,y,x,_,j,A,C;for(i in r=wP.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(t),x={0:0},C=r.charMap)x[(u=C[i]).old]=u.new;for(_ in y=r.maxGlyphID,l)_ in x||(x[_]=y++);return g=(function(P){var S,O;for(S in O={},P)O[P[S]]=S;return O})(x),p=Object.keys(g).sort((function(P,S){return P-S})),j=(function(){var P,S,O;for(O=[],P=0,S=p.length;P<S;P++)c=p[P],O.push(g[c]);return O})(),a=this.font.glyf.encode(l,j,x),m=this.font.loca.encode(a.offsets,j),A={cmap:this.font.cmap.raw(),glyf:a.table,loca:m,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(s)},this.font.os2.exists&&(A["OS/2"]=this.font.os2.raw()),this.font.directory.encode(A)},n})();Rs.API.PDFObject=(function(){var n;function t(){}return n=function(s,r){return(Array(r+1).join("0")+s).slice(-r)},t.convert=function(s){var r,i,a,l;if(Array.isArray(s))return"["+(function(){var c,u,m;for(m=[],c=0,u=s.length;c<u;c++)r=s[c],m.push(t.convert(r));return m})().join(" ")+"]";if(typeof s=="string")return"/"+s;if(s!=null&&s.isString)return"("+s+")";if(s instanceof Date)return"(D:"+n(s.getUTCFullYear(),4)+n(s.getUTCMonth(),2)+n(s.getUTCDate(),2)+n(s.getUTCHours(),2)+n(s.getUTCMinutes(),2)+n(s.getUTCSeconds(),2)+"Z)";if({}.toString.call(s)==="[object Object]"){for(i in a=["<<"],s)l=s[i],a.push("/"+i+" "+t.convert(l));return a.push(">>"),a.join(`
`)}return""+s},t})();function _P({type:n,businessId:t,businessName:s,price:r,revenue:i,industry:a,location:l,className:c,onOpenAIChat:u}){const[m,g]=w.useState(null),[p,y]=w.useState(!0),[x,_]=w.useState(!1),[j,A]=w.useState(null);w.useEffect(()=>{C()},[t,r,i,a,l]);const C=async()=>{y(!0),A(null);try{const B=`Analyze this ${n==="business"?"business":"franchise"} opportunity and provide detailed investment insights:

Business Name: ${s}
Type: ${n==="business"?"Business Acquisition":"Franchise Opportunity"}
Asking Price: ${r.toLocaleString()}
Annual Revenue: ${i?`${i.toLocaleString()}`:"Not disclosed"}
Industry: ${a}
Location: ${l}

Provide a comprehensive analysis in the following JSON format:
{
  "overallScore": <number 0-100>,
  "recommendation": "<High Potential|Good Opportunity|Proceed with Caution|High Risk>",
  "keyInsights": [
    {
      "type": "<positive|warning|neutral>",
      "title": "<insight title>",
      "description": "<detailed description>"
    }
  ],
  "riskFactors": ["<risk 1>", "<risk 2>", "<risk 3>"],
  "opportunities": ["<opportunity 1>", "<opportunity 2>", "<opportunity 3>"]
}

Provide at least 3 key insights, 3-5 risk factors, and 3-5 opportunities. Focus on valuation, market potential, location advantages, and financial metrics.`,D=await Nm.sendMessage(B,"ajay",{businessData:{name:s,price:r,revenue:i,industry:a,location:l}},[]);let K;try{const H=D.match(/\{[\s\S]*\}/);if(H)K=JSON.parse(H[0]),K.detailedAnalysis=D;else throw new Error("No JSON found in response")}catch{K=P(),K.detailedAnalysis=D}g(K)}catch(B){console.error("AI Analysis Error:",B),A(B.message||"Failed to generate AI insights"),g(P())}finally{y(!1)}},P=()=>{const B=i?r/i:0,D=B<3&&i&&i>5e6,K=B>5;return{overallScore:D?85:K?45:70,recommendation:D?"High Potential":K?"Proceed with Caution":"Good Opportunity",keyInsights:[{type:D?"positive":K?"warning":"neutral",title:"Valuation Analysis",description:D?"Excellent price-to-revenue ratio indicates strong value proposition":K?"Price appears high relative to current revenue streams":"Fair valuation based on current market conditions"},{type:a==="Technology"?"positive":"neutral",title:"Market Opportunity",description:a==="Technology"?"Tech sector showing strong growth potential in current market":`${a} sector maintains stable demand in ${l} market`},{type:l.includes("Mumbai")||l.includes("Bangalore")?"positive":"neutral",title:"Location Advantage",description:l.includes("Mumbai")||l.includes("Bangalore")?"Prime location with excellent business ecosystem and talent pool":"Strategic location with good market access and infrastructure"}],riskFactors:["Market competition analysis needed","Due diligence on financial statements required","Regulatory compliance verification pending"],opportunities:["Digital transformation potential","Market expansion possibilities","Operational efficiency improvements"]}},S=async()=>{if(m){_(!0);try{const B=new Rs,D=B.internal.pageSize.getWidth(),K=20;let H=20;B.setFontSize(20),B.setFont("helvetica","bold"),B.text("AI Investment Analysis Report",D/2,H,{align:"center"}),H+=15,B.setFontSize(12),B.setFont("helvetica","normal"),B.text(`Business: ${s}`,K,H),H+=7,B.text(`Type: ${n==="business"?"Business Acquisition":"Franchise Opportunity"}`,K,H),H+=7,B.text(`Industry: ${a}`,K,H),H+=7,B.text(`Location: ${l}`,K,H),H+=7,B.text(`Price: ${r.toLocaleString()}`,K,H),H+=7,i&&(B.text(`Revenue: ${i.toLocaleString()}`,K,H),H+=7),B.text(`Report Date: ${new Date().toLocaleDateString()}`,K,H),H+=15,B.setFontSize(14),B.setFont("helvetica","bold"),B.text(`AI Opportunity Score: ${m.overallScore}/100`,K,H),H+=7,B.setFontSize(12),B.setFont("helvetica","normal"),B.text(`Recommendation: ${m.recommendation}`,K,H),H+=15,B.setFont("helvetica","bold"),B.text("Key Insights:",K,H),H+=7,B.setFont("helvetica","normal"),m.keyInsights.forEach((Q,Z)=>{const ie=B.splitTextToSize(`${Z+1}. ${Q.title}: ${Q.description}`,D-2*K);B.text(ie,K,H),H+=ie.length*5+3,H>270&&(B.addPage(),H=20)}),H+=10,H>240&&(B.addPage(),H=20),B.setFont("helvetica","bold"),B.text("Risk Factors:",K,H),H+=7,B.setFont("helvetica","normal"),m.riskFactors.forEach((Q,Z)=>{const ie=B.splitTextToSize(`${Z+1}. ${Q}`,D-2*K);B.text(ie,K,H),H+=ie.length*5+3}),H+=10,H>240&&(B.addPage(),H=20),B.setFont("helvetica","bold"),B.text("Growth Opportunities:",K,H),H+=7,B.setFont("helvetica","normal"),m.opportunities.forEach((Q,Z)=>{const ie=B.splitTextToSize(`${Z+1}. ${Q}`,D-2*K);B.text(ie,K,H),H+=ie.length*5+3}),H+=15,m.detailedAnalysis&&(H>240&&(B.addPage(),H=20),B.setFont("helvetica","bold"),B.text("Detailed AI Analysis:",K,H),H+=7,B.setFont("helvetica","normal"),B.setFontSize(10),B.splitTextToSize(m.detailedAnalysis,D-2*K).forEach(Z=>{H>280&&(B.addPage(),H=20),B.text(Z,K,H),H+=5})),B.setFontSize(8),B.setFont("helvetica","italic");const W=B.splitTextToSize("Disclaimer: This AI-generated analysis is for informational purposes only. Please conduct thorough due diligence and consult with financial advisors before making investment decisions.",D-2*K);B.text(W,K,B.internal.pageSize.getHeight()-20),B.save(`AI-Analysis-${s.replace(/\s+/g,"-")}-${Date.now()}.pdf`)}catch(B){console.error("PDF Generation Error:",B),alert("Failed to generate PDF report. Please try again.")}finally{_(!1)}}},O=()=>{const B={businessName:s,type:n,initialMessage:`I'm interested in this ${n} opportunity: ${s}. Based on your AI analysis showing a score of ${m==null?void 0:m.overallScore}/100, can you provide more insights and help me evaluate this opportunity?`};if(u)u(B);else{const D=document.querySelector("[data-ai-chat]");D?D.click():alert("AI Chat feature is available. Please use the AI chat button in the navigation.")}},z=B=>B>=80?"text-green-600 bg-green-50":B>=60?"text-yellow-600 bg-yellow-50":"text-red-600 bg-red-50",V=B=>B==="High Potential"?"bg-green-500":B==="Proceed with Caution"?"bg-red-500":"bg-blue-500";return p?e.jsxs(de,{className:`${c}`,children:[e.jsx(Me,{className:"pb-4",children:e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(yv,{className:"h-5 w-5 text-purple-600"}),e.jsx("span",{className:"bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent",children:"AI Analysis"}),e.jsx(Be,{variant:"secondary",className:"ml-auto",children:"Powered by AI"})]})}),e.jsx(fe,{className:"space-y-6",children:e.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(Ht,{className:"h-12 w-12 text-purple-600 animate-spin mb-4"}),e.jsxs("p",{className:"text-muted-foreground text-center",children:["Generating AI insights...",e.jsx("br",{}),e.jsx("span",{className:"text-xs",children:"This may take a few moments"})]})]})})]}):j&&!m?e.jsxs(de,{className:`${c}`,children:[e.jsx(Me,{className:"pb-4",children:e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(yv,{className:"h-5 w-5 text-purple-600"}),e.jsx("span",{className:"bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent",children:"AI Analysis"})]})}),e.jsx(fe,{className:"space-y-6",children:e.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(vi,{className:"h-12 w-12 text-yellow-600 mb-4"}),e.jsxs("p",{className:"text-muted-foreground text-center mb-4",children:["Unable to generate AI insights",e.jsx("br",{}),e.jsx("span",{className:"text-xs text-red-600",children:j})]}),e.jsxs(ee,{onClick:C,variant:"outline",size:"sm",children:[e.jsx(yv,{className:"h-4 w-4 mr-2"}),"Try Again"]})]})})]}):m?e.jsxs(de,{className:`${c}`,children:[e.jsx(Me,{className:"pb-4",children:e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(yv,{className:"h-5 w-5 text-purple-600"}),e.jsx("span",{className:"bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent",children:"AI Analysis"}),e.jsx(Be,{variant:"secondary",className:"ml-auto",children:"Powered by AI"})]})}),e.jsxs(fe,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border bg-muted/30",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"AI Opportunity Score"}),e.jsxs("div",{className:`text-2xl font-bold ${z(m.overallScore).split(" ")[0]}`,children:[m.overallScore,"/100"]})]}),e.jsx(Be,{className:V(m.recommendation),children:m.recommendation})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[e.jsx(Tm,{className:"h-4 w-4"}),"Key Insights"]}),m.keyInsights.map((B,D)=>e.jsxs("div",{className:"flex gap-3 p-3 rounded-lg bg-muted/30",children:[B.type==="positive"?e.jsx(Lt,{className:"h-5 w-5 text-green-600 flex-shrink-0 mt-0.5"}):B.type==="warning"?e.jsx(vi,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}):e.jsx(Os,{className:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm",children:B.title}),e.jsx("div",{className:"text-sm text-muted-foreground",children:B.description})]})]},D))]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[e.jsx(vi,{className:"h-4 w-4 text-yellow-600"}),"Risk Factors to Consider"]}),e.jsx("div",{className:"space-y-2",children:m.riskFactors.map((B,D)=>e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-yellow-500 rounded-full flex-shrink-0"}),e.jsx("span",{className:"text-muted-foreground",children:B})]},D))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[e.jsx(Os,{className:"h-4 w-4 text-green-600"}),"Growth Opportunities"]}),e.jsx("div",{className:"space-y-2",children:m.opportunities.map((B,D)=>e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full flex-shrink-0"}),e.jsx("span",{className:"text-muted-foreground",children:B})]},D))})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4 border-t",children:[e.jsxs(ee,{variant:"outline",size:"sm",className:"flex-1",onClick:S,disabled:x,children:[x?e.jsx(Ht,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(oi,{className:"h-4 w-4 mr-2"}),x?"Generating...":"Download AI Report"]}),e.jsxs(ee,{size:"sm",className:"flex-1 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700",onClick:O,children:[e.jsx(Gy,{className:"h-4 w-4 mr-2"}),"Ask AI Advisor"]})]}),e.jsxs("div",{className:"text-xs text-muted-foreground bg-muted/30 p-3 rounded-lg",children:[e.jsx("strong",{children:"Disclaimer:"})," AI analysis is based on available data and market trends. Please conduct thorough due diligence and consult with financial advisors before making investment decisions."]})]})]}):null}function EZ({className:n}){const{id:t}=Jd(),s=Mn(),{user:r}=Bs(),[i,a]=w.useState(null),[l,c]=w.useState(!0),[u,m]=w.useState(!1),[g,p]=w.useState(!1),[y,x]=w.useState(0),[_,j]=w.useState(!1);if(w.useEffect(()=>{(async()=>{if(!t)return;c(!0);const H=await b0.getBusinessById(t);H&&!Array.isArray(H)&&a(H),c(!1)})()},[t]),l)return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading business details..."})]})});if(!i)return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Business Not Found"}),e.jsx("p",{className:"text-muted-foreground",children:"The business you're looking for doesn't exist."})]})});const A=K=>K>=1e7?`${(K/1e7).toFixed(1)} Cr`:K>=1e5?`${(K/1e5).toFixed(1)} L`:`${K.toLocaleString()}`,C=i.financials||[{year:2023,revenue:i.revenue??0,profit:(i.revenue??0)*.15,expenses:(i.revenue??0)*.85},{year:2022,revenue:(i.revenue??0)*.9,profit:(i.revenue??0)*.9*.12,expenses:(i.revenue??0)*.9*.88},{year:2021,revenue:(i.revenue??0)*.8,profit:(i.revenue??0)*.8*.1,expenses:(i.revenue??0)*.8*.9}],P=[{type:"Equipment & Machinery",value:i.price*.4,description:"Manufacturing equipment, computers, furniture"},{type:"Inventory",value:i.price*.2,description:"Raw materials, finished goods, supplies"},{type:"Real Estate",value:i.price*.3,description:"Office space, warehouse, retail locations"},{type:"Intangible Assets",value:i.price*.1,description:"Brand value, patents, customer database"}],S=[{name:"Financial Statements (3 years)",type:"PDF",protected:!1},{name:"Tax Returns",type:"PDF",protected:!0},{name:"Asset Inventory",type:"Excel",protected:!1},{name:"Customer Contracts",type:"PDF",protected:!0},{name:"Employee Records",type:"PDF",protected:!0},{name:"Legal Documents",type:"PDF",protected:!0}],O=i.images&&i.images.length>0?i.images:[i.logo||"https://images.unsplash.com/photo-1497366216548-37526070297c?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1497366216548-37526070297c?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1497366811353-6870744d04b2?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1556761175-b413da4baf72?w=800&h=600&fit=crop"],z=()=>{m(!u)},V=()=>{navigator.share?navigator.share({title:i.name,text:i.description,url:window.location.href}):navigator.clipboard.writeText(window.location.href)},B=()=>{p(!0)},D=async()=>{if(!r){s("/login",{state:{from:`/business/${t}`}});return}if(!(i!=null&&i.seller_id)&&!(i!=null&&i.owner_id)){Rt.error("Unable to message seller");return}j(!0);try{const K=i.seller_id||i.owner_id,H=await Sh.getOrCreateConversation(r.id,K,i.id,"business");H?s(`/messages?conversation=${H}`):Rt.error("Failed to start conversation")}catch(K){console.error("Error starting conversation:",K),Rt.error("Failed to start conversation")}finally{j(!1)}};return e.jsxs("div",{className:nt("min-h-screen bg-background",n),children:[e.jsx("div",{className:"bg-white border-b sticky top-0 z-10",children:e.jsx("div",{className:"container mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(ee,{variant:"ghost",size:"sm",onClick:()=>console.warn("Prevented function call: `window.history.back()`"),children:[e.jsx(ca,{className:"h-4 w-4 mr-2"}),"Back to Listings"]}),e.jsx(cr,{orientation:"vertical",className:"h-6"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold",children:i.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.industry,"  ",i.location]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(ee,{variant:"outline",size:"sm",onClick:z,children:[e.jsx(Iu,{className:nt("h-4 w-4 mr-2",u&&"fill-current text-red-500")}),u?"Saved":"Save"]}),e.jsxs(ee,{variant:"outline",size:"sm",onClick:V,children:[e.jsx(nA,{className:"h-4 w-4 mr-2"}),"Share"]}),e.jsxs(ee,{variant:"outline",size:"sm",onClick:D,disabled:_,children:[e.jsx(ua,{className:"h-4 w-4 mr-2"}),_?"Starting...":"Message"]}),e.jsxs(ee,{onClick:B,children:[e.jsx(Mr,{className:"h-4 w-4 mr-2"}),"Contact Seller"]})]})]})})}),e.jsx("div",{className:"container mx-auto px-4 py-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsx(de,{children:e.jsxs(fe,{className:"p-0",children:[e.jsxs("div",{className:"aspect-video relative overflow-hidden rounded-t-lg",children:[e.jsx("img",{src:O[y],alt:i.name,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute top-4 left-4",children:e.jsxs(Be,{className:"bg-black/70 text-white",children:[y+1," / ",O.length]})})]}),e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"flex gap-2 overflow-x-auto",children:O.map((K,H)=>e.jsx("button",{onClick:()=>x(H),className:nt("flex-shrink-0 w-20 h-16 rounded-md overflow-hidden border-2",y===H?"border-primary":"border-muted"),children:e.jsx("img",{src:K,alt:"",className:"w-full h-full object-cover"})},H))})})]})}),e.jsxs(Ui,{defaultValue:"overview",className:"space-y-6",children:[e.jsxs(yi,{className:"grid w-full grid-cols-5",children:[e.jsx(zt,{value:"overview",children:"Overview"}),e.jsx(zt,{value:"financials",children:"Financials"}),e.jsx(zt,{value:"assets",children:"Assets"}),e.jsx(zt,{value:"operations",children:"Operations"}),e.jsx(zt,{value:"documents",children:"Documents"})]}),e.jsxs(Es,{value:"overview",className:"space-y-6",children:[e.jsxs(de,{children:[e.jsx(Me,{children:e.jsx(Fe,{children:"Business Description"})}),e.jsxs(fe,{className:"space-y-4",children:[e.jsx("p",{className:"text-muted-foreground leading-relaxed",children:i.description}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(za,{className:"h-6 w-6 mx-auto mb-2 text-muted-foreground"}),e.jsx("div",{className:"text-sm font-medium",children:"Established"}),e.jsx("div",{className:"text-lg font-bold",children:i.establishedYear})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(gn,{className:"h-6 w-6 mx-auto mb-2 text-muted-foreground"}),e.jsx("div",{className:"text-sm font-medium",children:"Employees"}),e.jsx("div",{className:"text-lg font-bold",children:i.employees})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(Os,{className:"h-6 w-6 mx-auto mb-2 text-muted-foreground"}),e.jsx("div",{className:"text-sm font-medium",children:"Annual Revenue"}),e.jsx("div",{className:"text-lg font-bold",children:i.revenue?A(i.revenue):"N/A"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(Hy,{className:"h-6 w-6 mx-auto mb-2 text-muted-foreground"}),e.jsx("div",{className:"text-sm font-medium",children:"Asking Price"}),e.jsx("div",{className:"text-lg font-bold",children:A(i.price)})]})]})]})]}),e.jsxs(de,{children:[e.jsx(Me,{children:e.jsx(Fe,{children:"Key Highlights"})}),e.jsx(fe,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Strengths"}),e.jsxs("ul",{className:"space-y-1 text-sm",children:[e.jsx("li",{children:" Established customer base"}),e.jsx("li",{children:" Strong market position"}),e.jsx("li",{children:" Experienced team"}),e.jsx("li",{children:" Growth potential"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Opportunities"}),e.jsxs("ul",{className:"space-y-1 text-sm",children:[e.jsx("li",{children:" Digital transformation"}),e.jsx("li",{children:" Market expansion"}),e.jsx("li",{children:" Product diversification"}),e.jsx("li",{children:" Operational efficiency"})]})]})]})})]}),e.jsx(_P,{type:"business",businessId:i.id,businessName:i.name,price:i.price,revenue:i.revenue,industry:i.industry,location:i.location})]}),e.jsxs(Es,{value:"financials",className:"space-y-6",children:[e.jsxs(de,{children:[e.jsx(Me,{children:e.jsx(Fe,{children:"Financial Performance (Last 3 Years)"})}),e.jsx(fe,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-2",children:"Year"}),e.jsx("th",{className:"text-right py-2",children:"Revenue"}),e.jsx("th",{className:"text-right py-2",children:"Profit"}),e.jsx("th",{className:"text-right py-2",children:"Expenses"}),e.jsx("th",{className:"text-right py-2",children:"Margin"})]})}),e.jsx("tbody",{children:C.map(K=>e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"py-2 font-medium",children:K.year}),e.jsx("td",{className:"text-right py-2",children:K.revenue?A(K.revenue):"N/A"}),e.jsx("td",{className:"text-right py-2 text-green-600",children:K.profit?A(K.profit):"N/A"}),e.jsx("td",{className:"text-right py-2",children:K.expenses?A(K.expenses):"N/A"}),e.jsxs("td",{className:"text-right py-2",children:[K.revenue?(K.profit/K.revenue*100).toFixed(1):"0.0","%"]})]},K.year))})]})})})]}),e.jsxs(de,{children:[e.jsx(Me,{children:e.jsx(Fe,{children:"Financial Ratios"})}),e.jsx(fe,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:"15%"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Profit Margin"})]}),e.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"2.5x"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Revenue Multiple"})]}),e.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"18%"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"ROI"})]}),e.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:"6.7x"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"EBITDA Multiple"})]})]})})]})]}),e.jsx(Es,{value:"assets",className:"space-y-6",children:e.jsxs(de,{children:[e.jsx(Me,{children:e.jsx(Fe,{children:"Asset Breakdown"})}),e.jsx(fe,{children:e.jsx("div",{className:"space-y-4",children:P.map((K,H)=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold",children:K.type}),e.jsx("p",{className:"text-sm text-muted-foreground",children:K.description})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-bold",children:A(K.value)}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[(K.value/i.price*100).toFixed(1),"%"]})]})]},H))})})]})}),e.jsx(Es,{value:"operations",className:"space-y-6",children:e.jsxs(de,{children:[e.jsx(Me,{children:e.jsx(Fe,{children:"Operational Details"})}),e.jsxs(fe,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Business Hours"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Monday - Friday"}),e.jsx("span",{children:"9:00 AM - 6:00 PM"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Saturday"}),e.jsx("span",{children:"9:00 AM - 2:00 PM"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Sunday"}),e.jsx("span",{children:"Closed"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Key Customers"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsx("div",{children:" Enterprise clients (60%)"}),e.jsx("div",{children:" SME businesses (30%)"}),e.jsx("div",{children:" Individual customers (10%)"})]})]})]}),e.jsx(cr,{}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Reason for Sale"}),e.jsx("p",{className:"text-muted-foreground",children:"Owner retiring after 15 successful years. Looking for the right buyer to continue the legacy and grow the business further."})]})]})]})}),e.jsx(Es,{value:"documents",className:"space-y-6",children:e.jsxs(de,{children:[e.jsx(Me,{children:e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(_s,{className:"h-5 w-5"}),"Available Documents"]})}),e.jsxs(fe,{children:[e.jsx("div",{className:"space-y-3",children:S.map((K,H)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(_s,{className:"h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:K.name}),e.jsx("div",{className:"text-sm text-muted-foreground",children:K.type})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[K.protected&&e.jsxs(Be,{variant:"outline",className:"text-xs",children:[e.jsx(Fu,{className:"h-3 w-3 mr-1"}),"NDA Required"]}),e.jsxs(ee,{size:"sm",variant:"outline",children:[e.jsx(oi,{className:"h-4 w-4 mr-1"}),K.protected?"Request":"Download"]})]})]},H))}),e.jsx("div",{className:"mt-4 p-4 bg-muted rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(vi,{className:"h-5 w-5 text-amber-500 mt-0.5"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium",children:"Document Access"}),e.jsx("div",{className:"text-muted-foreground",children:"Some documents require signing an NDA. Contact the seller to request access to protected documents."})]})]})})]})]})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(de,{children:[e.jsx(Me,{children:e.jsx(Fe,{children:"Investment Details"})}),e.jsxs(fe,{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-primary",children:A(i.price)}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Asking Price"})]}),e.jsx(cr,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Annual Revenue"}),e.jsx("span",{className:"text-sm font-medium",children:i.revenue?A(i.revenue):"N/A"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Revenue Multiple"}),e.jsx("span",{className:"text-sm font-medium",children:"2.5x"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Expected ROI"}),e.jsx("span",{className:"text-sm font-medium text-green-600",children:"18%"})]})]}),e.jsxs(ee,{className:"w-full",onClick:B,children:[e.jsx(Mr,{className:"h-4 w-4 mr-2"}),"Contact Seller"]})]})]}),e.jsxs(de,{children:[e.jsx(Me,{children:e.jsx(Fe,{children:"Verification Status"})}),e.jsx(fe,{children:e.jsx("div",{className:"space-y-2",children:i.badges&&i.badges.map((K,H)=>e.jsxs(Be,{variant:"secondary",className:"w-full justify-start",children:[e.jsx(Fu,{className:"h-3 w-3 mr-2"}),K]},H))})})]}),e.jsxs(de,{children:[e.jsx(Me,{children:e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(Ln,{className:"h-5 w-5"}),"Location"]})}),e.jsx(fe,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"text-sm font-medium",children:i.location}),e.jsx("div",{className:"aspect-video bg-muted rounded-lg flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ln,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Interactive Map"})]})})]})})]})]})]})}),e.jsx(ha,{open:g,onOpenChange:p,children:e.jsxs($i,{className:"sm:max-w-md",children:[e.jsx(Vi,{children:e.jsx(Hi,{children:"Contact Seller"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ve,{htmlFor:"firstName",children:"First Name"}),e.jsx(Ue,{id:"firstName",placeholder:"John"})]}),e.jsxs("div",{children:[e.jsx(ve,{htmlFor:"lastName",children:"Last Name"}),e.jsx(Ue,{id:"lastName",placeholder:"Doe"})]})]}),e.jsxs("div",{children:[e.jsx(ve,{htmlFor:"email",children:"Email"}),e.jsx(Ue,{id:"email",type:"email",placeholder:"john@example.com"})]}),e.jsxs("div",{children:[e.jsx(ve,{htmlFor:"phone",children:"Phone"}),e.jsx(Ue,{id:"phone",placeholder:"+91 98765 43210"})]}),e.jsxs("div",{children:[e.jsx(ve,{htmlFor:"message",children:"Message"}),e.jsx(_n,{id:"message",placeholder:"I'm interested in learning more about this business..."})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ee,{className:"flex-1",children:"Send Message"}),e.jsx(ee,{variant:"outline",onClick:()=>p(!1),children:"Cancel"})]})]})]})})]})}function TZ({className:n}){var W,Q;const{id:t}=Jd(),s=Mn(),{user:r}=Bs(),[i,a]=w.useState(null),[l,c]=w.useState(!0),[u,m]=w.useState(!1),[g,p]=w.useState(!1),[y,x]=w.useState(0),[_,j]=w.useState(!1),A=Z=>/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(Z);if(w.useEffect(()=>{(async()=>{if(t){c(!0);try{let ie;A(t)?ie=await Hg.getFranchiseById(t):ie=await Hg.getFranchiseBySlug(t),ie&&!Array.isArray(ie)&&a(ie)}catch(ie){console.error("Error fetching franchise:",ie)}c(!1)}})()},[t]),l)return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading franchise details..."})]})});if(!i)return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Franchise Not Found"}),e.jsx("p",{className:"text-muted-foreground",children:"The franchise you're looking for doesn't exist."})]})});const C=Z=>Z>=1e7?`${(Z/1e7).toFixed(1)} Cr`:Z>=1e5?`${(Z/1e5).toFixed(1)} L`:`${Z.toLocaleString()}`,P=i.investmentMax||i.investmentMin||2e6,S=[{item:"Franchise Fee",amount:i.franchiseFee,percentage:25},{item:"Equipment & Setup",amount:P*.4,percentage:40},{item:"Interior & Branding",amount:P*.2,percentage:20},{item:"Working Capital",amount:P*.15,percentage:15}],O=i.roiProjections||[{year:"Year 1",revenue:P*.8,profit:P*.1,roi:"10%"},{year:"Year 2",revenue:P*1.2,profit:P*.18,roi:"18%"},{year:"Year 3",revenue:P*1.5,profit:P*.25,roi:"25%"},{year:"Year 4",revenue:P*1.8,profit:P*.32,roi:"32%"},{year:"Year 5",revenue:P*2.1,profit:P*.38,roi:"38%"}],z=[{service:"Initial Training",duration:"4-6 weeks",included:!0},{service:"Site Selection",duration:"2-3 weeks",included:!0},{service:"Store Setup",duration:"3-4 weeks",included:!0},{service:"Marketing Launch",duration:"2 weeks",included:!0},{service:"Ongoing Support",duration:"Continuous",included:!0},{service:"Staff Training",duration:"1-2 weeks",included:!0}],V=[{city:"Mumbai",status:"Available",population:"12.4M",competition:"Medium"},{city:"Delhi",status:"Limited",population:"11.0M",competition:"High"},{city:"Bangalore",status:"Available",population:"8.4M",competition:"Low"},{city:"Chennai",status:"Available",population:"7.0M",competition:"Medium"},{city:"Kolkata",status:"Taken",population:"4.5M",competition:"Low"}],B=[i.logo,"https://images.unsplash.com/photo-1554118811-1e0d58224f24?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1559329007-40df8a9345d8?w=800&h=600&fit=crop"],D=()=>{m(!u)},K=()=>{navigator.share?navigator.share({title:i.brandName,text:i.description,url:window.location.href}):navigator.clipboard.writeText(window.location.href)},H=()=>{p(!0)},$=async()=>{if(!r){s("/login",{state:{from:`/franchise/${t}`}});return}if(!(i!=null&&i.owner_id)&&!(i!=null&&i.franchisor_id)){Rt.error("Unable to message franchisor");return}j(!0);try{const Z=i.franchisor_id||i.owner_id,ie=await Sh.getOrCreateConversation(r.id,Z,i.id,"franchise");ie?s(`/messages?conversation=${ie}`):Rt.error("Failed to start conversation")}catch(Z){console.error("Error starting conversation:",Z),Rt.error("Failed to start conversation")}finally{j(!1)}};return e.jsxs("div",{className:nt("min-h-screen bg-background",n),children:[e.jsx("div",{className:"bg-white border-b sticky top-0 z-10",children:e.jsx("div",{className:"container mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(ee,{variant:"ghost",size:"sm",onClick:()=>console.warn("Prevented function call: `window.history.back()`"),children:[e.jsx(ca,{className:"h-4 w-4 mr-2"}),"Back to Franchises"]}),e.jsx(cr,{orientation:"vertical",className:"h-6"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:i.logo,alt:i.brandName,className:"w-10 h-10 rounded-lg object-cover"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold",children:i.brandName}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.industry,"  Est. 2015"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>s(`/franchise/${i.slug||t}/locations`),children:[e.jsx(Ln,{className:"h-4 w-4 mr-2"}),"View Locations"]}),e.jsxs(ee,{variant:"outline",size:"sm",onClick:D,children:[e.jsx(Iu,{className:nt("h-4 w-4 mr-2",u&&"fill-current text-red-500")}),u?"Saved":"Save"]}),e.jsxs(ee,{variant:"outline",size:"sm",onClick:K,children:[e.jsx(nA,{className:"h-4 w-4 mr-2"}),"Share"]}),e.jsxs(ee,{variant:"outline",size:"sm",onClick:$,disabled:_,children:[e.jsx(ua,{className:"h-4 w-4 mr-2"}),_?"Starting...":"Message"]}),e.jsxs(ee,{onClick:H,children:[e.jsx(Mr,{className:"h-4 w-4 mr-2"}),"Request Info"]})]})]})})}),e.jsx("div",{className:"container mx-auto px-4 py-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsx(de,{children:e.jsxs(fe,{className:"p-0",children:[e.jsxs("div",{className:"aspect-video relative overflow-hidden rounded-t-lg",children:[e.jsx("img",{src:B[y],alt:i.brandName,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute top-4 left-4",children:e.jsxs(Be,{className:"bg-black/70 text-white",children:[y+1," / ",B.length]})}),e.jsx("div",{className:"absolute top-4 right-4",children:e.jsxs(ee,{size:"sm",variant:"secondary",className:"gap-2",children:[e.jsx(J3,{className:"h-4 w-4"}),"Watch Video"]})})]}),e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"flex gap-2 overflow-x-auto",children:B.map((Z,ie)=>e.jsx("button",{onClick:()=>x(ie),className:nt("flex-shrink-0 w-20 h-16 rounded-md overflow-hidden border-2",y===ie?"border-primary":"border-muted"),children:e.jsx("img",{src:Z,alt:"",className:"w-full h-full object-cover"})},ie))})})]})}),e.jsxs(Ui,{defaultValue:"overview",className:"space-y-6",children:[e.jsxs(yi,{className:"grid w-full grid-cols-5",children:[e.jsx(zt,{value:"overview",children:"Overview"}),e.jsx(zt,{value:"investment",children:"Investment"}),e.jsx(zt,{value:"support",children:"Support"}),e.jsx(zt,{value:"territory",children:"Territory"}),e.jsx(zt,{value:"projections",children:"ROI"})]}),e.jsxs(Es,{value:"overview",className:"space-y-6",children:[e.jsxs(de,{children:[e.jsx(Me,{children:e.jsx(Fe,{children:"Brand Story"})}),e.jsxs(fe,{className:"space-y-4",children:[e.jsx("p",{className:"text-muted-foreground leading-relaxed",children:i.description}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(za,{className:"h-6 w-6 mx-auto mb-2 text-muted-foreground"}),e.jsx("div",{className:"text-sm font-medium",children:"Established"}),e.jsx("div",{className:"text-lg font-bold",children:"2015"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(ed,{className:"h-6 w-6 mx-auto mb-2 text-muted-foreground"}),e.jsx("div",{className:"text-sm font-medium",children:"Outlets"}),e.jsx("div",{className:"text-lg font-bold",children:i.outlets})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(Os,{className:"h-6 w-6 mx-auto mb-2 text-muted-foreground"}),e.jsx("div",{className:"text-sm font-medium",children:"Expected ROI"}),e.jsx("div",{className:"text-lg font-bold text-green-600",children:"25-35%"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(Hy,{className:"h-6 w-6 mx-auto mb-2 text-muted-foreground"}),e.jsx("div",{className:"text-sm font-medium",children:"Royalty"}),e.jsxs("div",{className:"text-lg font-bold",children:[i.royaltyPercentage,"%"]})]})]})]})]}),e.jsxs(de,{children:[e.jsx(Me,{children:e.jsx(Fe,{children:"Competitive Advantages"})}),e.jsx(fe,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(i.competitiveEdge||[]).map((Z,ie)=>e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Lt,{className:"h-5 w-5 text-green-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-sm",children:Z})]},ie))})})]}),e.jsxs(de,{children:[e.jsx(Me,{children:e.jsx(Fe,{children:"Franchise Model"})}),e.jsx(fe,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(ed,{className:"h-8 w-8 text-blue-600"})}),e.jsx("h4",{className:"font-semibold mb-2",children:"Business Format"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Complete business system with proven operations"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(gn,{className:"h-8 w-8 text-green-600"})}),e.jsx("h4",{className:"font-semibold mb-2",children:"Training & Support"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Comprehensive training and ongoing support"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(Os,{className:"h-8 w-8 text-purple-600"})}),e.jsx("h4",{className:"font-semibold mb-2",children:"Growth Potential"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Scalable business with expansion opportunities"})]})]})})]}),e.jsx(_P,{type:"franchise",businessId:i.id,businessName:i.brandName||"Franchise Opportunity",price:i.investmentMin||0,revenue:(W=O[0])==null?void 0:W.revenue,industry:i.industry,location:((Q=i.territories)==null?void 0:Q[0])||"India"})]}),e.jsxs(Es,{value:"investment",className:"space-y-6",children:[e.jsxs(de,{children:[e.jsx(Me,{children:e.jsx(Fe,{children:"Investment Breakdown"})}),e.jsx(fe,{children:e.jsxs("div",{className:"space-y-4",children:[S.map((Z,ie)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:Z.item}),e.jsx("span",{className:"font-bold",children:Z.amount?C(Z.amount):"N/A"})]}),e.jsx(On,{value:Z.percentage,className:"h-2"}),e.jsxs("div",{className:"text-right text-sm text-muted-foreground",children:[Z.percentage,"% of total investment"]})]},ie)),e.jsx(cr,{}),e.jsxs("div",{className:"flex justify-between items-center text-lg font-bold",children:[e.jsx("span",{children:"Total Investment"}),e.jsx("span",{className:"text-primary",children:C(P)})]})]})})]}),e.jsxs(de,{children:[e.jsx(Me,{children:e.jsx(Fe,{children:"Ongoing Fees"})}),e.jsx(fe,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:i.royaltyPercentage}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Royalty Fee"}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Monthly on gross revenue"})]}),e.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:"2%"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Marketing Fee"}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"National advertising fund"})]}),e.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"1%"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Technology Fee"}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"POS & software systems"})]})]})})]})]}),e.jsxs(Es,{value:"support",className:"space-y-6",children:[e.jsxs(de,{children:[e.jsx(Me,{children:e.jsx(Fe,{children:"Training & Support Services"})}),e.jsx(fe,{children:e.jsx("div",{className:"space-y-4",children:z.map((Z,ie)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Lt,{className:"h-5 w-5 text-green-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:Z.service}),e.jsx("div",{className:"text-sm text-muted-foreground",children:Z.duration})]})]}),e.jsx(Be,{variant:"secondary",children:"Included"})]},ie))})})]}),e.jsxs(de,{children:[e.jsx(Me,{children:e.jsx(Fe,{children:"Ongoing Support"})}),e.jsx(fe,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Operational Support"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:" Regular business reviews"}),e.jsx("li",{children:" Performance monitoring"}),e.jsx("li",{children:" Operational guidance"}),e.jsx("li",{children:" Quality assurance"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Marketing Support"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:" National advertising campaigns"}),e.jsx("li",{children:" Local marketing materials"}),e.jsx("li",{children:" Digital marketing support"}),e.jsx("li",{children:" Brand guidelines"})]})]})]})})]})]}),e.jsxs(Es,{value:"territory",className:"space-y-6",children:[e.jsxs(de,{children:[e.jsx(Me,{children:e.jsx(Fe,{children:"Territory Availability"})}),e.jsx(fe,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-2",children:"City"}),e.jsx("th",{className:"text-center py-2",children:"Status"}),e.jsx("th",{className:"text-right py-2",children:"Population"}),e.jsx("th",{className:"text-right py-2",children:"Competition"})]})}),e.jsx("tbody",{children:V.map((Z,ie)=>e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"py-2 font-medium",children:Z.city}),e.jsx("td",{className:"text-center py-2",children:e.jsx(Be,{variant:Z.status==="Available"?"default":Z.status==="Limited"?"secondary":"outline",children:Z.status})}),e.jsx("td",{className:"text-right py-2",children:Z.population}),e.jsx("td",{className:"text-right py-2",children:e.jsx(Be,{variant:"outline",className:Z.competition==="Low"?"text-green-600":Z.competition==="Medium"?"text-yellow-600":"text-red-600",children:Z.competition})})]},ie))})]})})})]}),e.jsxs(de,{children:[e.jsx(Me,{children:e.jsx(Fe,{children:"Territory Rights"})}),e.jsx(fe,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Exclusive Rights"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:" Protected territory radius"}),e.jsx("li",{children:" Population-based exclusivity"}),e.jsx("li",{children:" Non-compete protection"}),e.jsx("li",{children:" Expansion opportunities"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Multi-Unit Development"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:" Area development agreements"}),e.jsx("li",{children:" Reduced franchise fees"}),e.jsx("li",{children:" Accelerated growth plans"}),e.jsx("li",{children:" Regional master franchise"})]})]})]})})]})]}),e.jsxs(Es,{value:"projections",className:"space-y-6",children:[e.jsxs(de,{children:[e.jsx(Me,{children:e.jsx(Fe,{children:"5-Year ROI Projections"})}),e.jsx(fe,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-2",children:"Year"}),e.jsx("th",{className:"text-right py-2",children:"Revenue"}),e.jsx("th",{className:"text-right py-2",children:"Profit"}),e.jsx("th",{className:"text-right py-2",children:"ROI"})]})}),e.jsx("tbody",{children:O.map((Z,ie)=>e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"py-2 font-medium",children:typeof Z.year=="string"?Z.year:`Year ${Z.year}`}),e.jsx("td",{className:"text-right py-2",children:C((typeof Z.revenue=="number",Z.revenue))}),e.jsx("td",{className:"text-right py-2 text-green-600",children:C((typeof Z.profit=="number",Z.profit))}),e.jsx("td",{className:"text-right py-2 font-bold",children:typeof Z.roi=="string"?Z.roi:`${Z.roi}%`})]},ie))})]})})})]}),e.jsxs(de,{children:[e.jsx(Me,{children:e.jsx(Fe,{children:"Break-Even Analysis"})}),e.jsx(fe,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"18"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Months to Break-Even"})]}),e.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:"25%"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Average Profit Margin"})]}),e.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"3.2x"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Investment Multiple"})]})]})})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(de,{children:[e.jsx(Me,{children:e.jsx(Fe,{children:"Investment Summary"})}),e.jsxs(fe,{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-primary",children:C(P)}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Investment"})]}),e.jsx(cr,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Franchise Fee"}),e.jsx("span",{className:"text-sm font-medium",children:i.franchiseFee?C(i.franchiseFee):"N/A"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Royalty"}),e.jsxs("span",{className:"text-sm font-medium",children:[i.royaltyPercentage,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Expected ROI"}),e.jsx("span",{className:"text-sm font-medium text-green-600",children:"25-35%"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Payback Period"}),e.jsx("span",{className:"text-sm font-medium",children:"18 months"})]})]}),e.jsxs(ee,{className:"w-full",onClick:H,children:[e.jsx(Mr,{className:"h-4 w-4 mr-2"}),"Request Information"]})]})]}),e.jsxs(de,{children:[e.jsx(Me,{children:e.jsx(Fe,{children:"Verification & Awards"})}),e.jsx(fe,{children:e.jsx("div",{className:"space-y-2",children:i.badges&&i.badges.map((Z,ie)=>e.jsxs(Be,{variant:"secondary",className:"w-full justify-start",children:[e.jsx(Fu,{className:"h-3 w-3 mr-2"}),Z]},ie))})})]}),e.jsxs(de,{children:[e.jsx(Me,{children:e.jsx(Fe,{children:"Quick Stats"})}),e.jsxs(fe,{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Total Outlets"}),e.jsx("span",{className:"font-medium",children:i.outlets})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Countries"}),e.jsx("span",{className:"font-medium",children:"5"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Success Rate"}),e.jsx("span",{className:"font-medium text-green-600",children:"92%"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Avg. Rating"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Fl,{className:"h-4 w-4 fill-current text-yellow-500"}),e.jsx("span",{className:"font-medium",children:"4.7"})]})]})]})]}),e.jsxs(de,{children:[e.jsx(Me,{children:e.jsx(Fe,{children:"Franchise Development"})}),e.jsxs(fe,{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Mr,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm",children:"+91 98765 43210"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ln,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm",children:"Mumbai, Maharashtra"})]}),e.jsxs(ee,{variant:"outline",className:"w-full",children:[e.jsx(oi,{className:"h-4 w-4 mr-2"}),"Download Brochure"]})]})]})]})]})}),e.jsx(ha,{open:g,onOpenChange:p,children:e.jsxs($i,{className:"sm:max-w-md",children:[e.jsx(Vi,{children:e.jsx(Hi,{children:"Request Franchise Information"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ve,{htmlFor:"firstName",children:"First Name"}),e.jsx(Ue,{id:"firstName",placeholder:"John"})]}),e.jsxs("div",{children:[e.jsx(ve,{htmlFor:"lastName",children:"Last Name"}),e.jsx(Ue,{id:"lastName",placeholder:"Doe"})]})]}),e.jsxs("div",{children:[e.jsx(ve,{htmlFor:"email",children:"Email"}),e.jsx(Ue,{id:"email",type:"email",placeholder:"john@example.com"})]}),e.jsxs("div",{children:[e.jsx(ve,{htmlFor:"phone",children:"Phone"}),e.jsx(Ue,{id:"phone",placeholder:"+91 98765 43210"})]}),e.jsxs("div",{children:[e.jsx(ve,{htmlFor:"investment",children:"Available Investment"}),e.jsx(Ue,{id:"investment",placeholder:"25,00,000"})]}),e.jsxs("div",{children:[e.jsx(ve,{htmlFor:"location",children:"Preferred Location"}),e.jsx(Ue,{id:"location",placeholder:"Mumbai, Delhi, Bangalore..."})]}),e.jsxs("div",{children:[e.jsx(ve,{htmlFor:"message",children:"Message"}),e.jsx(_n,{id:"message",placeholder:"I'm interested in learning more about this franchise opportunity..."})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ee,{className:"flex-1",children:"Send Request"}),e.jsx(ee,{variant:"outline",onClick:()=>p(!1),children:"Cancel"})]})]})]})})]})}var Ng={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var PZ=Ng.exports,MS;function LZ(){return MS||(MS=1,(function(n,t){(function(s,r){r(t)})(PZ,(function(s){var r="1.9.4";function i(h){var v,k,I,Y;for(k=1,I=arguments.length;k<I;k++){Y=arguments[k];for(v in Y)h[v]=Y[v]}return h}var a=Object.create||(function(){function h(){}return function(v){return h.prototype=v,new h}})();function l(h,v){var k=Array.prototype.slice;if(h.bind)return h.bind.apply(h,k.call(arguments,1));var I=k.call(arguments,2);return function(){return h.apply(v,I.length?I.concat(k.call(arguments)):arguments)}}var c=0;function u(h){return"_leaflet_id"in h||(h._leaflet_id=++c),h._leaflet_id}function m(h,v,k){var I,Y,pe,Ae;return Ae=function(){I=!1,Y&&(pe.apply(k,Y),Y=!1)},pe=function(){I?Y=arguments:(h.apply(k,arguments),setTimeout(Ae,v),I=!0)},pe}function g(h,v,k){var I=v[1],Y=v[0],pe=I-Y;return h===I&&k?h:((h-Y)%pe+pe)%pe+Y}function p(){return!1}function y(h,v){if(v===!1)return h;var k=Math.pow(10,v===void 0?6:v);return Math.round(h*k)/k}function x(h){return h.trim?h.trim():h.replace(/^\s+|\s+$/g,"")}function _(h){return x(h).split(/\s+/)}function j(h,v){Object.prototype.hasOwnProperty.call(h,"options")||(h.options=h.options?a(h.options):{});for(var k in v)h.options[k]=v[k];return h.options}function A(h,v,k){var I=[];for(var Y in h)I.push(encodeURIComponent(k?Y.toUpperCase():Y)+"="+encodeURIComponent(h[Y]));return(!v||v.indexOf("?")===-1?"?":"&")+I.join("&")}var C=/\{ *([\w_ -]+) *\}/g;function P(h,v){return h.replace(C,function(k,I){var Y=v[I];if(Y===void 0)throw new Error("No value provided for variable "+k);return typeof Y=="function"&&(Y=Y(v)),Y})}var S=Array.isArray||function(h){return Object.prototype.toString.call(h)==="[object Array]"};function O(h,v){for(var k=0;k<h.length;k++)if(h[k]===v)return k;return-1}var z="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function V(h){return window["webkit"+h]||window["moz"+h]||window["ms"+h]}var B=0;function D(h){var v=+new Date,k=Math.max(0,16-(v-B));return B=v+k,window.setTimeout(h,k)}var K=window.requestAnimationFrame||V("RequestAnimationFrame")||D,H=window.cancelAnimationFrame||V("CancelAnimationFrame")||V("CancelRequestAnimationFrame")||function(h){window.clearTimeout(h)};function $(h,v,k){if(k&&K===D)h.call(v);else return K.call(window,l(h,v))}function W(h){h&&H.call(window,h)}var Q={__proto__:null,extend:i,create:a,bind:l,get lastId(){return c},stamp:u,throttle:m,wrapNum:g,falseFn:p,formatNum:y,trim:x,splitWords:_,setOptions:j,getParamString:A,template:P,isArray:S,indexOf:O,emptyImageUrl:z,requestFn:K,cancelFn:H,requestAnimFrame:$,cancelAnimFrame:W};function Z(){}Z.extend=function(h){var v=function(){j(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},k=v.__super__=this.prototype,I=a(k);I.constructor=v,v.prototype=I;for(var Y in this)Object.prototype.hasOwnProperty.call(this,Y)&&Y!=="prototype"&&Y!=="__super__"&&(v[Y]=this[Y]);return h.statics&&i(v,h.statics),h.includes&&(ie(h.includes),i.apply(null,[I].concat(h.includes))),i(I,h),delete I.statics,delete I.includes,I.options&&(I.options=k.options?a(k.options):{},i(I.options,h.options)),I._initHooks=[],I.callInitHooks=function(){if(!this._initHooksCalled){k.callInitHooks&&k.callInitHooks.call(this),this._initHooksCalled=!0;for(var pe=0,Ae=I._initHooks.length;pe<Ae;pe++)I._initHooks[pe].call(this)}},v},Z.include=function(h){var v=this.prototype.options;return i(this.prototype,h),h.options&&(this.prototype.options=v,this.mergeOptions(h.options)),this},Z.mergeOptions=function(h){return i(this.prototype.options,h),this},Z.addInitHook=function(h){var v=Array.prototype.slice.call(arguments,1),k=typeof h=="function"?h:function(){this[h].apply(this,v)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(k),this};function ie(h){if(!(typeof L>"u"||!L||!L.Mixin)){h=S(h)?h:[h];for(var v=0;v<h.length;v++)h[v]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var q={on:function(h,v,k){if(typeof h=="object")for(var I in h)this._on(I,h[I],v);else{h=_(h);for(var Y=0,pe=h.length;Y<pe;Y++)this._on(h[Y],v,k)}return this},off:function(h,v,k){if(!arguments.length)delete this._events;else if(typeof h=="object")for(var I in h)this._off(I,h[I],v);else{h=_(h);for(var Y=arguments.length===1,pe=0,Ae=h.length;pe<Ae;pe++)Y?this._off(h[pe]):this._off(h[pe],v,k)}return this},_on:function(h,v,k,I){if(typeof v!="function"){console.warn("wrong listener type: "+typeof v);return}if(this._listens(h,v,k)===!1){k===this&&(k=void 0);var Y={fn:v,ctx:k};I&&(Y.once=!0),this._events=this._events||{},this._events[h]=this._events[h]||[],this._events[h].push(Y)}},_off:function(h,v,k){var I,Y,pe;if(this._events&&(I=this._events[h],!!I)){if(arguments.length===1){if(this._firingCount)for(Y=0,pe=I.length;Y<pe;Y++)I[Y].fn=p;delete this._events[h];return}if(typeof v!="function"){console.warn("wrong listener type: "+typeof v);return}var Ae=this._listens(h,v,k);if(Ae!==!1){var Ve=I[Ae];this._firingCount&&(Ve.fn=p,this._events[h]=I=I.slice()),I.splice(Ae,1)}}},fire:function(h,v,k){if(!this.listens(h,k))return this;var I=i({},v,{type:h,target:this,sourceTarget:v&&v.sourceTarget||this});if(this._events){var Y=this._events[h];if(Y){this._firingCount=this._firingCount+1||1;for(var pe=0,Ae=Y.length;pe<Ae;pe++){var Ve=Y[pe],Qe=Ve.fn;Ve.once&&this.off(h,Qe,Ve.ctx),Qe.call(Ve.ctx||this,I)}this._firingCount--}}return k&&this._propagateEvent(I),this},listens:function(h,v,k,I){typeof h!="string"&&console.warn('"string" type argument expected');var Y=v;typeof v!="function"&&(I=!!v,Y=void 0,k=void 0);var pe=this._events&&this._events[h];if(pe&&pe.length&&this._listens(h,Y,k)!==!1)return!0;if(I){for(var Ae in this._eventParents)if(this._eventParents[Ae].listens(h,v,k,I))return!0}return!1},_listens:function(h,v,k){if(!this._events)return!1;var I=this._events[h]||[];if(!v)return!!I.length;k===this&&(k=void 0);for(var Y=0,pe=I.length;Y<pe;Y++)if(I[Y].fn===v&&I[Y].ctx===k)return Y;return!1},once:function(h,v,k){if(typeof h=="object")for(var I in h)this._on(I,h[I],v,!0);else{h=_(h);for(var Y=0,pe=h.length;Y<pe;Y++)this._on(h[Y],v,k,!0)}return this},addEventParent:function(h){return this._eventParents=this._eventParents||{},this._eventParents[u(h)]=h,this},removeEventParent:function(h){return this._eventParents&&delete this._eventParents[u(h)],this},_propagateEvent:function(h){for(var v in this._eventParents)this._eventParents[v].fire(h.type,i({layer:h.target,propagatedFrom:h.target},h),!0)}};q.addEventListener=q.on,q.removeEventListener=q.clearAllEventListeners=q.off,q.addOneTimeEventListener=q.once,q.fireEvent=q.fire,q.hasEventListeners=q.listens;var ce=Z.extend(q);function te(h,v,k){this.x=k?Math.round(h):h,this.y=k?Math.round(v):v}var oe=Math.trunc||function(h){return h>0?Math.floor(h):Math.ceil(h)};te.prototype={clone:function(){return new te(this.x,this.y)},add:function(h){return this.clone()._add(ne(h))},_add:function(h){return this.x+=h.x,this.y+=h.y,this},subtract:function(h){return this.clone()._subtract(ne(h))},_subtract:function(h){return this.x-=h.x,this.y-=h.y,this},divideBy:function(h){return this.clone()._divideBy(h)},_divideBy:function(h){return this.x/=h,this.y/=h,this},multiplyBy:function(h){return this.clone()._multiplyBy(h)},_multiplyBy:function(h){return this.x*=h,this.y*=h,this},scaleBy:function(h){return new te(this.x*h.x,this.y*h.y)},unscaleBy:function(h){return new te(this.x/h.x,this.y/h.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=oe(this.x),this.y=oe(this.y),this},distanceTo:function(h){h=ne(h);var v=h.x-this.x,k=h.y-this.y;return Math.sqrt(v*v+k*k)},equals:function(h){return h=ne(h),h.x===this.x&&h.y===this.y},contains:function(h){return h=ne(h),Math.abs(h.x)<=Math.abs(this.x)&&Math.abs(h.y)<=Math.abs(this.y)},toString:function(){return"Point("+y(this.x)+", "+y(this.y)+")"}};function ne(h,v,k){return h instanceof te?h:S(h)?new te(h[0],h[1]):h==null?h:typeof h=="object"&&"x"in h&&"y"in h?new te(h.x,h.y):new te(h,v,k)}function re(h,v){if(h)for(var k=v?[h,v]:h,I=0,Y=k.length;I<Y;I++)this.extend(k[I])}re.prototype={extend:function(h){var v,k;if(!h)return this;if(h instanceof te||typeof h[0]=="number"||"x"in h)v=k=ne(h);else if(h=U(h),v=h.min,k=h.max,!v||!k)return this;return!this.min&&!this.max?(this.min=v.clone(),this.max=k.clone()):(this.min.x=Math.min(v.x,this.min.x),this.max.x=Math.max(k.x,this.max.x),this.min.y=Math.min(v.y,this.min.y),this.max.y=Math.max(k.y,this.max.y)),this},getCenter:function(h){return ne((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,h)},getBottomLeft:function(){return ne(this.min.x,this.max.y)},getTopRight:function(){return ne(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(h){var v,k;return typeof h[0]=="number"||h instanceof te?h=ne(h):h=U(h),h instanceof re?(v=h.min,k=h.max):v=k=h,v.x>=this.min.x&&k.x<=this.max.x&&v.y>=this.min.y&&k.y<=this.max.y},intersects:function(h){h=U(h);var v=this.min,k=this.max,I=h.min,Y=h.max,pe=Y.x>=v.x&&I.x<=k.x,Ae=Y.y>=v.y&&I.y<=k.y;return pe&&Ae},overlaps:function(h){h=U(h);var v=this.min,k=this.max,I=h.min,Y=h.max,pe=Y.x>v.x&&I.x<k.x,Ae=Y.y>v.y&&I.y<k.y;return pe&&Ae},isValid:function(){return!!(this.min&&this.max)},pad:function(h){var v=this.min,k=this.max,I=Math.abs(v.x-k.x)*h,Y=Math.abs(v.y-k.y)*h;return U(ne(v.x-I,v.y-Y),ne(k.x+I,k.y+Y))},equals:function(h){return h?(h=U(h),this.min.equals(h.getTopLeft())&&this.max.equals(h.getBottomRight())):!1}};function U(h,v){return!h||h instanceof re?h:new re(h,v)}function J(h,v){if(h)for(var k=v?[h,v]:h,I=0,Y=k.length;I<Y;I++)this.extend(k[I])}J.prototype={extend:function(h){var v=this._southWest,k=this._northEast,I,Y;if(h instanceof ue)I=h,Y=h;else if(h instanceof J){if(I=h._southWest,Y=h._northEast,!I||!Y)return this}else return h?this.extend(be(h)||se(h)):this;return!v&&!k?(this._southWest=new ue(I.lat,I.lng),this._northEast=new ue(Y.lat,Y.lng)):(v.lat=Math.min(I.lat,v.lat),v.lng=Math.min(I.lng,v.lng),k.lat=Math.max(Y.lat,k.lat),k.lng=Math.max(Y.lng,k.lng)),this},pad:function(h){var v=this._southWest,k=this._northEast,I=Math.abs(v.lat-k.lat)*h,Y=Math.abs(v.lng-k.lng)*h;return new J(new ue(v.lat-I,v.lng-Y),new ue(k.lat+I,k.lng+Y))},getCenter:function(){return new ue((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ue(this.getNorth(),this.getWest())},getSouthEast:function(){return new ue(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(h){typeof h[0]=="number"||h instanceof ue||"lat"in h?h=be(h):h=se(h);var v=this._southWest,k=this._northEast,I,Y;return h instanceof J?(I=h.getSouthWest(),Y=h.getNorthEast()):I=Y=h,I.lat>=v.lat&&Y.lat<=k.lat&&I.lng>=v.lng&&Y.lng<=k.lng},intersects:function(h){h=se(h);var v=this._southWest,k=this._northEast,I=h.getSouthWest(),Y=h.getNorthEast(),pe=Y.lat>=v.lat&&I.lat<=k.lat,Ae=Y.lng>=v.lng&&I.lng<=k.lng;return pe&&Ae},overlaps:function(h){h=se(h);var v=this._southWest,k=this._northEast,I=h.getSouthWest(),Y=h.getNorthEast(),pe=Y.lat>v.lat&&I.lat<k.lat,Ae=Y.lng>v.lng&&I.lng<k.lng;return pe&&Ae},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(h,v){return h?(h=se(h),this._southWest.equals(h.getSouthWest(),v)&&this._northEast.equals(h.getNorthEast(),v)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function se(h,v){return h instanceof J?h:new J(h,v)}function ue(h,v,k){if(isNaN(h)||isNaN(v))throw new Error("Invalid LatLng object: ("+h+", "+v+")");this.lat=+h,this.lng=+v,k!==void 0&&(this.alt=+k)}ue.prototype={equals:function(h,v){if(!h)return!1;h=be(h);var k=Math.max(Math.abs(this.lat-h.lat),Math.abs(this.lng-h.lng));return k<=(v===void 0?1e-9:v)},toString:function(h){return"LatLng("+y(this.lat,h)+", "+y(this.lng,h)+")"},distanceTo:function(h){return Ce.distance(this,be(h))},wrap:function(){return Ce.wrapLatLng(this)},toBounds:function(h){var v=180*h/40075017,k=v/Math.cos(Math.PI/180*this.lat);return se([this.lat-v,this.lng-k],[this.lat+v,this.lng+k])},clone:function(){return new ue(this.lat,this.lng,this.alt)}};function be(h,v,k){return h instanceof ue?h:S(h)&&typeof h[0]!="object"?h.length===3?new ue(h[0],h[1],h[2]):h.length===2?new ue(h[0],h[1]):null:h==null?h:typeof h=="object"&&"lat"in h?new ue(h.lat,"lng"in h?h.lng:h.lon,h.alt):v===void 0?null:new ue(h,v,k)}var we={latLngToPoint:function(h,v){var k=this.projection.project(h),I=this.scale(v);return this.transformation._transform(k,I)},pointToLatLng:function(h,v){var k=this.scale(v),I=this.transformation.untransform(h,k);return this.projection.unproject(I)},project:function(h){return this.projection.project(h)},unproject:function(h){return this.projection.unproject(h)},scale:function(h){return 256*Math.pow(2,h)},zoom:function(h){return Math.log(h/256)/Math.LN2},getProjectedBounds:function(h){if(this.infinite)return null;var v=this.projection.bounds,k=this.scale(h),I=this.transformation.transform(v.min,k),Y=this.transformation.transform(v.max,k);return new re(I,Y)},infinite:!1,wrapLatLng:function(h){var v=this.wrapLng?g(h.lng,this.wrapLng,!0):h.lng,k=this.wrapLat?g(h.lat,this.wrapLat,!0):h.lat,I=h.alt;return new ue(k,v,I)},wrapLatLngBounds:function(h){var v=h.getCenter(),k=this.wrapLatLng(v),I=v.lat-k.lat,Y=v.lng-k.lng;if(I===0&&Y===0)return h;var pe=h.getSouthWest(),Ae=h.getNorthEast(),Ve=new ue(pe.lat-I,pe.lng-Y),Qe=new ue(Ae.lat-I,Ae.lng-Y);return new J(Ve,Qe)}},Ce=i({},we,{wrapLng:[-180,180],R:6371e3,distance:function(h,v){var k=Math.PI/180,I=h.lat*k,Y=v.lat*k,pe=Math.sin((v.lat-h.lat)*k/2),Ae=Math.sin((v.lng-h.lng)*k/2),Ve=pe*pe+Math.cos(I)*Math.cos(Y)*Ae*Ae,Qe=2*Math.atan2(Math.sqrt(Ve),Math.sqrt(1-Ve));return this.R*Qe}}),Re=6378137,Xe={R:Re,MAX_LATITUDE:85.0511287798,project:function(h){var v=Math.PI/180,k=this.MAX_LATITUDE,I=Math.max(Math.min(k,h.lat),-k),Y=Math.sin(I*v);return new te(this.R*h.lng*v,this.R*Math.log((1+Y)/(1-Y))/2)},unproject:function(h){var v=180/Math.PI;return new ue((2*Math.atan(Math.exp(h.y/this.R))-Math.PI/2)*v,h.x*v/this.R)},bounds:(function(){var h=Re*Math.PI;return new re([-h,-h],[h,h])})()};function tt(h,v,k,I){if(S(h)){this._a=h[0],this._b=h[1],this._c=h[2],this._d=h[3];return}this._a=h,this._b=v,this._c=k,this._d=I}tt.prototype={transform:function(h,v){return this._transform(h.clone(),v)},_transform:function(h,v){return v=v||1,h.x=v*(this._a*h.x+this._b),h.y=v*(this._c*h.y+this._d),h},untransform:function(h,v){return v=v||1,new te((h.x/v-this._b)/this._a,(h.y/v-this._d)/this._c)}};function lt(h,v,k,I){return new tt(h,v,k,I)}var jt=i({},Ce,{code:"EPSG:3857",projection:Xe,transformation:(function(){var h=.5/(Math.PI*Xe.R);return lt(h,.5,-h,.5)})()}),Et=i({},jt,{code:"EPSG:900913"});function Je(h){return document.createElementNS("http://www.w3.org/2000/svg",h)}function _e(h,v){var k="",I,Y,pe,Ae,Ve,Qe;for(I=0,pe=h.length;I<pe;I++){for(Ve=h[I],Y=0,Ae=Ve.length;Y<Ae;Y++)Qe=Ve[Y],k+=(Y?"L":"M")+Qe.x+" "+Qe.y;k+=v?Tt.svg?"z":"x":""}return k||"M0 0"}var $t=document.documentElement.style,Dt="ActiveXObject"in window,ht=Dt&&!document.addEventListener,je="msLaunchUri"in navigator&&!("documentMode"in document),ke=un("webkit"),Pe=un("android"),it=un("android 2")||un("android 3"),rt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ut=Pe&&un("Google")&&rt<537&&!("AudioNode"in window),Nt=!!window.opera,Vt=!je&&un("chrome"),Qt=un("gecko")&&!ke&&!Nt&&!Dt,Gt=!Vt&&un("safari"),fs=un("phantom"),At="OTransition"in $t,In=navigator.platform.indexOf("Win")===0,Ts=Dt&&"transition"in $t,rn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!it,zs="MozPerspective"in $t,Cs=!window.L_DISABLE_3D&&(Ts||rn||zs)&&!At&&!fs,Dr=typeof orientation<"u"||un("mobile"),Us=Dr&&ke,Gi=Dr&&rn,Fn=!window.PointerEvent&&window.MSPointerEvent,bi=!!(window.PointerEvent||Fn),Wi="ontouchstart"in window||!!window.TouchEvent,Sn=!window.L_NO_TOUCH&&(Wi||bi),Ct=Dr&&Nt,gs=Dr&&Qt,ur=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,xn=(function(){var h=!1;try{var v=Object.defineProperty({},"passive",{get:function(){h=!0}});window.addEventListener("testPassiveEventSupport",p,v),window.removeEventListener("testPassiveEventSupport",p,v)}catch{}return h})(),ji=(function(){return!!document.createElement("canvas").getContext})(),an=!!(document.createElementNS&&Je("svg").createSVGRect),es=!!an&&(function(){var h=document.createElement("div");return h.innerHTML="<svg/>",(h.firstChild&&h.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),wi=!an&&(function(){try{var h=document.createElement("div");h.innerHTML='<v:shape adj="1"/>';var v=h.firstChild;return v.style.behavior="url(#default#VML)",v&&typeof v.adj=="object"}catch{return!1}})(),gr=navigator.platform.indexOf("Mac")===0,Gn=navigator.platform.indexOf("Linux")===0;function un(h){return navigator.userAgent.toLowerCase().indexOf(h)>=0}var Tt={ie:Dt,ielt9:ht,edge:je,webkit:ke,android:Pe,android23:it,androidStock:ut,opera:Nt,chrome:Vt,gecko:Qt,safari:Gt,phantom:fs,opera12:At,win:In,ie3d:Ts,webkit3d:rn,gecko3d:zs,any3d:Cs,mobile:Dr,mobileWebkit:Us,mobileWebkit3d:Gi,msPointer:Fn,pointer:bi,touch:Sn,touchNative:Wi,mobileOpera:Ct,mobileGecko:gs,retina:ur,passiveEvents:xn,canvas:ji,svg:an,vml:wi,inlineSvg:es,mac:gr,linux:Gn},Yi=Tt.msPointer?"MSPointerDown":"pointerdown",Hl=Tt.msPointer?"MSPointerMove":"pointermove",Ni=Tt.msPointer?"MSPointerUp":"pointerup",Bn=Tt.msPointer?"MSPointerCancel":"pointercancel",er={touchstart:Yi,touchmove:Hl,touchend:Ni,touchcancel:Bn},_i={touchstart:Yl,touchmove:To,touchend:To,touchcancel:To},Si={},Ua=!1;function Wo(h,v,k){return v==="touchstart"&&Eo(),_i[v]?(k=_i[v].bind(this,k),h.addEventListener(er[v],k,!1),k):(console.warn("wrong event specified:",v),p)}function Gl(h,v,k){if(!er[v]){console.warn("wrong event specified:",v);return}h.removeEventListener(er[v],k,!1)}function Yo(h){Si[h.pointerId]=h}function Wl(h){Si[h.pointerId]&&(Si[h.pointerId]=h)}function no(h){delete Si[h.pointerId]}function Eo(){Ua||(document.addEventListener(Yi,Yo,!0),document.addEventListener(Hl,Wl,!0),document.addEventListener(Ni,no,!0),document.addEventListener(Bn,no,!0),Ua=!0)}function To(h,v){if(v.pointerType!==(v.MSPOINTER_TYPE_MOUSE||"mouse")){v.touches=[];for(var k in Si)v.touches.push(Si[k]);v.changedTouches=[v],h(v)}}function Yl(h,v){v.MSPOINTER_TYPE_TOUCH&&v.pointerType===v.MSPOINTER_TYPE_TOUCH&&hr(v),To(h,v)}function Ir(h){var v={},k,I;for(I in h)k=h[I],v[I]=k&&k.bind?k.bind(h):k;return h=v,v.type="dblclick",v.detail=2,v.isTrusted=!1,v._simulated=!0,v}var _c=200;function su(h,v){h.addEventListener("dblclick",v);var k=0,I;function Y(pe){if(pe.detail!==1){I=pe.detail;return}if(!(pe.pointerType==="mouse"||pe.sourceCapabilities&&!pe.sourceCapabilities.firesTouchEvents)){var Ae=oo(pe);if(!(Ae.some(function(Qe){return Qe instanceof HTMLLabelElement&&Qe.attributes.for})&&!Ae.some(function(Qe){return Qe instanceof HTMLInputElement||Qe instanceof HTMLSelectElement}))){var Ve=Date.now();Ve-k<=_c?(I++,I===2&&v(Ir(pe))):I=1,k=Ve}}}return h.addEventListener("click",Y),{dblclick:v,simDblclick:Y}}function pl(h,v){h.removeEventListener("dblclick",v.dblclick),h.removeEventListener("click",v.simDblclick)}var ro=Ac(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Sc=Ac(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),od=Sc==="webkitTransition"||Sc==="OTransition"?Sc+"End":"transitionend";function nu(h){return typeof h=="string"?document.getElementById(h):h}function Zo(h,v){var k=h.style[v]||h.currentStyle&&h.currentStyle[v];if((!k||k==="auto")&&document.defaultView){var I=document.defaultView.getComputedStyle(h,null);k=I?I[v]:null}return k==="auto"?null:k}function Ks(h,v,k){var I=document.createElement(h);return I.className=v||"",k&&k.appendChild(I),I}function Ps(h){var v=h.parentNode;v&&v.removeChild(h)}function fa(h){for(;h.firstChild;)h.removeChild(h.firstChild)}function Fr(h){var v=h.parentNode;v&&v.lastChild!==h&&v.appendChild(h)}function Ko(h){var v=h.parentNode;v&&v.firstChild!==h&&v.insertBefore(h,v.firstChild)}function Cc(h,v){if(h.classList!==void 0)return h.classList.contains(v);var k=Ci(h);return k.length>0&&new RegExp("(^|\\s)"+v+"(\\s|$)").test(k)}function Is(h,v){if(h.classList!==void 0)for(var k=_(v),I=0,Y=k.length;I<Y;I++)h.classList.add(k[I]);else if(!Cc(h,v)){var pe=Ci(h);Po(h,(pe?pe+" ":"")+v)}}function vn(h,v){h.classList!==void 0?h.classList.remove(v):Po(h,x((" "+Ci(h)+" ").replace(" "+v+" "," ")))}function Po(h,v){h.className.baseVal===void 0?h.className=v:h.className.baseVal=v}function Ci(h){return h.correspondingElement&&(h=h.correspondingElement),h.className.baseVal===void 0?h.className:h.className.baseVal}function Wn(h,v){"opacity"in h.style?h.style.opacity=v:"filter"in h.style&&ld(h,v)}function ld(h,v){var k=!1,I="DXImageTransform.Microsoft.Alpha";try{k=h.filters.item(I)}catch{if(v===1)return}v=Math.round(v*100),k?(k.Enabled=v!==100,k.Opacity=v):h.style.filter+=" progid:"+I+"(opacity="+v+")"}function Ac(h){for(var v=document.documentElement.style,k=0;k<h.length;k++)if(h[k]in v)return h[k];return!1}function io(h,v,k){var I=v||new te(0,0);h.style[ro]=(Tt.ie3d?"translate("+I.x+"px,"+I.y+"px)":"translate3d("+I.x+"px,"+I.y+"px,0)")+(k?" scale("+k+")":"")}function Yn(h,v){h._leaflet_pos=v,Tt.any3d?io(h,v):(h.style.left=v.x+"px",h.style.top=v.y+"px")}function Lo(h){return h._leaflet_pos||new te(0,0)}var Zl,Ta,ru;if("onselectstart"in document)Zl=function(){ws(window,"selectstart",hr)},Ta=function(){Js(window,"selectstart",hr)};else{var Kl=Ac(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Zl=function(){if(Kl){var h=document.documentElement.style;ru=h[Kl],h[Kl]="none"}},Ta=function(){Kl&&(document.documentElement.style[Kl]=ru,ru=void 0)}}function cd(){ws(window,"dragstart",hr)}function $a(){Js(window,"dragstart",hr)}var gl,Jl;function xl(h){for(;h.tabIndex===-1;)h=h.parentNode;h.style&&(Zn(),gl=h,Jl=h.style.outlineStyle,h.style.outlineStyle="none",ws(window,"keydown",Zn))}function Zn(){gl&&(gl.style.outlineStyle=Jl,gl=void 0,Jl=void 0,Js(window,"keydown",Zn))}function dd(h){do h=h.parentNode;while((!h.offsetWidth||!h.offsetHeight)&&h!==document.body);return h}function Xl(h){var v=h.getBoundingClientRect();return{x:v.width/h.offsetWidth||1,y:v.height/h.offsetHeight||1,boundingClientRect:v}}var js={__proto__:null,TRANSFORM:ro,TRANSITION:Sc,TRANSITION_END:od,get:nu,getStyle:Zo,create:Ks,remove:Ps,empty:fa,toFront:Fr,toBack:Ko,hasClass:Cc,addClass:Is,removeClass:vn,setClass:Po,getClass:Ci,setOpacity:Wn,testProp:Ac,setTransform:io,setPosition:Yn,getPosition:Lo,get disableTextSelection(){return Zl},get enableTextSelection(){return Ta},disableImageDrag:cd,enableImageDrag:$a,preventOutline:xl,restoreOutline:Zn,getSizedParentNode:dd,getScale:Xl};function ws(h,v,k,I){if(v&&typeof v=="object")for(var Y in v)Zi(h,Y,v[Y],k);else{v=_(v);for(var pe=0,Ae=v.length;pe<Ae;pe++)Zi(h,v[pe],k,I)}return this}var Va="_leaflet_events";function Js(h,v,k,I){if(arguments.length===1)ud(h),delete h[Va];else if(v&&typeof v=="object")for(var Y in v)vl(h,Y,v[Y],k);else if(v=_(v),arguments.length===2)ud(h,function(Ve){return O(v,Ve)!==-1});else for(var pe=0,Ae=v.length;pe<Ae;pe++)vl(h,v[pe],k,I);return this}function ud(h,v){for(var k in h[Va]){var I=k.split(/\d/)[0];(!v||v(I))&&vl(h,I,null,null,k)}}var Jo={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Zi(h,v,k,I){var Y=v+u(k)+(I?"_"+u(I):"");if(h[Va]&&h[Va][Y])return this;var pe=function(Ve){return k.call(I||h,Ve||window.event)},Ae=pe;!Tt.touchNative&&Tt.pointer&&v.indexOf("touch")===0?pe=Wo(h,v,pe):Tt.touch&&v==="dblclick"?pe=su(h,pe):"addEventListener"in h?v==="touchstart"||v==="touchmove"||v==="wheel"||v==="mousewheel"?h.addEventListener(Jo[v]||v,pe,Tt.passiveEvents?{passive:!1}:!1):v==="mouseenter"||v==="mouseleave"?(pe=function(Ve){Ve=Ve||window.event,La(h,Ve)&&Ae(Ve)},h.addEventListener(Jo[v],pe,!1)):h.addEventListener(v,Ae,!1):h.attachEvent("on"+v,pe),h[Va]=h[Va]||{},h[Va][Y]=pe}function vl(h,v,k,I,Y){Y=Y||v+u(k)+(I?"_"+u(I):"");var pe=h[Va]&&h[Va][Y];if(!pe)return this;!Tt.touchNative&&Tt.pointer&&v.indexOf("touch")===0?Gl(h,v,pe):Tt.touch&&v==="dblclick"?pl(h,pe):"removeEventListener"in h?h.removeEventListener(Jo[v]||v,pe,!1):h.detachEvent("on"+v,pe),h[Va][Y]=null}function Ha(h){return h.stopPropagation?h.stopPropagation():h.originalEvent?h.originalEvent._stopped=!0:h.cancelBubble=!0,this}function ao(h){return Zi(h,"wheel",Ha),this}function yl(h){return ws(h,"mousedown touchstart dblclick contextmenu",Ha),h._leaflet_disable_click=!0,this}function hr(h){return h.preventDefault?h.preventDefault():h.returnValue=!1,this}function Pa(h){return hr(h),Ha(h),this}function oo(h){if(h.composedPath)return h.composedPath();for(var v=[],k=h.target;k;)v.push(k),k=k.parentNode;return v}function kc(h,v){if(!v)return new te(h.clientX,h.clientY);var k=Xl(v),I=k.boundingClientRect;return new te((h.clientX-I.left)/k.x-v.clientLeft,(h.clientY-I.top)/k.y-v.clientTop)}var Ql=Tt.linux&&Tt.chrome?window.devicePixelRatio:Tt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Kr(h){return Tt.edge?h.wheelDeltaY/2:h.deltaY&&h.deltaMode===0?-h.deltaY/Ql:h.deltaY&&h.deltaMode===1?-h.deltaY*20:h.deltaY&&h.deltaMode===2?-h.deltaY*60:h.deltaX||h.deltaZ?0:h.wheelDelta?(h.wheelDeltaY||h.wheelDelta)/2:h.detail&&Math.abs(h.detail)<32765?-h.detail*20:h.detail?h.detail/-32765*60:0}function La(h,v){var k=v.relatedTarget;if(!k)return!0;try{for(;k&&k!==h;)k=k.parentNode}catch{return!1}return k!==h}var Ec={__proto__:null,on:ws,off:Js,stopPropagation:Ha,disableScrollPropagation:ao,disableClickPropagation:yl,preventDefault:hr,stop:Pa,getPropagationPath:oo,getMousePosition:kc,getWheelDelta:Kr,isExternalTarget:La,addListener:ws,removeListener:Js},bl=ce.extend({run:function(h,v,k,I){this.stop(),this._el=h,this._inProgress=!0,this._duration=k||.25,this._easeOutPower=1/Math.max(I||.5,.2),this._startPos=Lo(h),this._offset=v.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=$(this._animate,this),this._step()},_step:function(h){var v=+new Date-this._startTime,k=this._duration*1e3;v<k?this._runFrame(this._easeOut(v/k),h):(this._runFrame(1),this._complete())},_runFrame:function(h,v){var k=this._startPos.add(this._offset.multiplyBy(h));v&&k._round(),Yn(this._el,k),this.fire("step")},_complete:function(){W(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(h){return 1-Math.pow(1-h,this._easeOutPower)}}),Xs=ce.extend({options:{crs:jt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(h,v){v=j(this,v),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(h),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),v.maxBounds&&this.setMaxBounds(v.maxBounds),v.zoom!==void 0&&(this._zoom=this._limitZoom(v.zoom)),v.center&&v.zoom!==void 0&&this.setView(be(v.center),v.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Sc&&Tt.any3d&&!Tt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ws(this._proxy,od,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(h,v,k){if(v=v===void 0?this._zoom:this._limitZoom(v),h=this._limitCenter(be(h),v,this.options.maxBounds),k=k||{},this._stop(),this._loaded&&!k.reset&&k!==!0){k.animate!==void 0&&(k.zoom=i({animate:k.animate},k.zoom),k.pan=i({animate:k.animate,duration:k.duration},k.pan));var I=this._zoom!==v?this._tryAnimatedZoom&&this._tryAnimatedZoom(h,v,k.zoom):this._tryAnimatedPan(h,k.pan);if(I)return clearTimeout(this._sizeTimer),this}return this._resetView(h,v,k.pan&&k.pan.noMoveStart),this},setZoom:function(h,v){return this._loaded?this.setView(this.getCenter(),h,{zoom:v}):(this._zoom=h,this)},zoomIn:function(h,v){return h=h||(Tt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+h,v)},zoomOut:function(h,v){return h=h||(Tt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-h,v)},setZoomAround:function(h,v,k){var I=this.getZoomScale(v),Y=this.getSize().divideBy(2),pe=h instanceof te?h:this.latLngToContainerPoint(h),Ae=pe.subtract(Y).multiplyBy(1-1/I),Ve=this.containerPointToLatLng(Y.add(Ae));return this.setView(Ve,v,{zoom:k})},_getBoundsCenterZoom:function(h,v){v=v||{},h=h.getBounds?h.getBounds():se(h);var k=ne(v.paddingTopLeft||v.padding||[0,0]),I=ne(v.paddingBottomRight||v.padding||[0,0]),Y=this.getBoundsZoom(h,!1,k.add(I));if(Y=typeof v.maxZoom=="number"?Math.min(v.maxZoom,Y):Y,Y===1/0)return{center:h.getCenter(),zoom:Y};var pe=I.subtract(k).divideBy(2),Ae=this.project(h.getSouthWest(),Y),Ve=this.project(h.getNorthEast(),Y),Qe=this.unproject(Ae.add(Ve).divideBy(2).add(pe),Y);return{center:Qe,zoom:Y}},fitBounds:function(h,v){if(h=se(h),!h.isValid())throw new Error("Bounds are not valid.");var k=this._getBoundsCenterZoom(h,v);return this.setView(k.center,k.zoom,v)},fitWorld:function(h){return this.fitBounds([[-90,-180],[90,180]],h)},panTo:function(h,v){return this.setView(h,this._zoom,{pan:v})},panBy:function(h,v){if(h=ne(h).round(),v=v||{},!h.x&&!h.y)return this.fire("moveend");if(v.animate!==!0&&!this.getSize().contains(h))return this._resetView(this.unproject(this.project(this.getCenter()).add(h)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new bl,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),v.noMoveStart||this.fire("movestart"),v.animate!==!1){Is(this._mapPane,"leaflet-pan-anim");var k=this._getMapPanePos().subtract(h).round();this._panAnim.run(this._mapPane,k,v.duration||.25,v.easeLinearity)}else this._rawPanBy(h),this.fire("move").fire("moveend");return this},flyTo:function(h,v,k){if(k=k||{},k.animate===!1||!Tt.any3d)return this.setView(h,v,k);this._stop();var I=this.project(this.getCenter()),Y=this.project(h),pe=this.getSize(),Ae=this._zoom;h=be(h),v=v===void 0?Ae:v;var Ve=Math.max(pe.x,pe.y),Qe=Ve*this.getZoomScale(Ae,v),gt=Y.distanceTo(I)||1,Ot=1.42,ts=Ot*Ot;function Ys(zn){var zr=zn?-1:1,Oc=zn?Qe:Ve,Qh=Qe*Qe-Ve*Ve+zr*ts*ts*gt*gt,Cd=2*Oc*ts*gt,Ad=Qh/Cd,Al=Math.sqrt(Ad*Ad+1)-Ad,sl=Al<1e-9?-18:Math.log(Al);return sl}function Ri(zn){return(Math.exp(zn)-Math.exp(-zn))/2}function Er(zn){return(Math.exp(zn)+Math.exp(-zn))/2}function Qa(zn){return Ri(zn)/Er(zn)}var En=Ys(0);function Tn(zn){return Ve*(Er(En)/Er(En+Ot*zn))}function sn(zn){return Ve*(Er(En)*Qa(En+Ot*zn)-Ri(En))/ts}function va(zn){return 1-Math.pow(1-zn,1.5)}var Sr=Date.now(),go=(Ys(1)-En)/Ot,lc=k.duration?1e3*k.duration:1e3*go*.8;function Xu(){var zn=(Date.now()-Sr)/lc,zr=va(zn)*go;zn<=1?(this._flyToFrame=$(Xu,this),this._move(this.unproject(I.add(Y.subtract(I).multiplyBy(sn(zr)/gt)),Ae),this.getScaleZoom(Ve/Tn(zr),Ae),{flyTo:!0})):this._move(h,v)._moveEnd(!0)}return this._moveStart(!0,k.noMoveStart),Xu.call(this),this},flyToBounds:function(h,v){var k=this._getBoundsCenterZoom(h,v);return this.flyTo(k.center,k.zoom,v)},setMaxBounds:function(h){return h=se(h),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),h.isValid()?(this.options.maxBounds=h,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(h){var v=this.options.minZoom;return this.options.minZoom=h,this._loaded&&v!==h&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(h):this},setMaxZoom:function(h){var v=this.options.maxZoom;return this.options.maxZoom=h,this._loaded&&v!==h&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(h):this},panInsideBounds:function(h,v){this._enforcingBounds=!0;var k=this.getCenter(),I=this._limitCenter(k,this._zoom,se(h));return k.equals(I)||this.panTo(I,v),this._enforcingBounds=!1,this},panInside:function(h,v){v=v||{};var k=ne(v.paddingTopLeft||v.padding||[0,0]),I=ne(v.paddingBottomRight||v.padding||[0,0]),Y=this.project(this.getCenter()),pe=this.project(h),Ae=this.getPixelBounds(),Ve=U([Ae.min.add(k),Ae.max.subtract(I)]),Qe=Ve.getSize();if(!Ve.contains(pe)){this._enforcingBounds=!0;var gt=pe.subtract(Ve.getCenter()),Ot=Ve.extend(pe).getSize().subtract(Qe);Y.x+=gt.x<0?-Ot.x:Ot.x,Y.y+=gt.y<0?-Ot.y:Ot.y,this.panTo(this.unproject(Y),v),this._enforcingBounds=!1}return this},invalidateSize:function(h){if(!this._loaded)return this;h=i({animate:!1,pan:!0},h===!0?{animate:!0}:h);var v=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var k=this.getSize(),I=v.divideBy(2).round(),Y=k.divideBy(2).round(),pe=I.subtract(Y);return!pe.x&&!pe.y?this:(h.animate&&h.pan?this.panBy(pe):(h.pan&&this._rawPanBy(pe),this.fire("move"),h.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:v,newSize:k}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(h){if(h=this._locateOptions=i({timeout:1e4,watch:!1},h),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var v=l(this._handleGeolocationResponse,this),k=l(this._handleGeolocationError,this);return h.watch?this._locationWatchId=navigator.geolocation.watchPosition(v,k,h):navigator.geolocation.getCurrentPosition(v,k,h),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(h){if(this._container._leaflet_id){var v=h.code,k=h.message||(v===1?"permission denied":v===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:v,message:"Geolocation error: "+k+"."})}},_handleGeolocationResponse:function(h){if(this._container._leaflet_id){var v=h.coords.latitude,k=h.coords.longitude,I=new ue(v,k),Y=I.toBounds(h.coords.accuracy*2),pe=this._locateOptions;if(pe.setView){var Ae=this.getBoundsZoom(Y);this.setView(I,pe.maxZoom?Math.min(Ae,pe.maxZoom):Ae)}var Ve={latlng:I,bounds:Y,timestamp:h.timestamp};for(var Qe in h.coords)typeof h.coords[Qe]=="number"&&(Ve[Qe]=h.coords[Qe]);this.fire("locationfound",Ve)}},addHandler:function(h,v){if(!v)return this;var k=this[h]=new v(this);return this._handlers.push(k),this.options[h]&&k.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ps(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(W(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var h;for(h in this._layers)this._layers[h].remove();for(h in this._panes)Ps(this._panes[h]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(h,v){var k="leaflet-pane"+(h?" leaflet-"+h.replace("Pane","")+"-pane":""),I=Ks("div",k,v||this._mapPane);return h&&(this._panes[h]=I),I},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var h=this.getPixelBounds(),v=this.unproject(h.getBottomLeft()),k=this.unproject(h.getTopRight());return new J(v,k)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(h,v,k){h=se(h),k=ne(k||[0,0]);var I=this.getZoom()||0,Y=this.getMinZoom(),pe=this.getMaxZoom(),Ae=h.getNorthWest(),Ve=h.getSouthEast(),Qe=this.getSize().subtract(k),gt=U(this.project(Ve,I),this.project(Ae,I)).getSize(),Ot=Tt.any3d?this.options.zoomSnap:1,ts=Qe.x/gt.x,Ys=Qe.y/gt.y,Ri=v?Math.max(ts,Ys):Math.min(ts,Ys);return I=this.getScaleZoom(Ri,I),Ot&&(I=Math.round(I/(Ot/100))*(Ot/100),I=v?Math.ceil(I/Ot)*Ot:Math.floor(I/Ot)*Ot),Math.max(Y,Math.min(pe,I))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new te(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(h,v){var k=this._getTopLeftPoint(h,v);return new re(k,k.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(h){return this.options.crs.getProjectedBounds(h===void 0?this.getZoom():h)},getPane:function(h){return typeof h=="string"?this._panes[h]:h},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(h,v){var k=this.options.crs;return v=v===void 0?this._zoom:v,k.scale(h)/k.scale(v)},getScaleZoom:function(h,v){var k=this.options.crs;v=v===void 0?this._zoom:v;var I=k.zoom(h*k.scale(v));return isNaN(I)?1/0:I},project:function(h,v){return v=v===void 0?this._zoom:v,this.options.crs.latLngToPoint(be(h),v)},unproject:function(h,v){return v=v===void 0?this._zoom:v,this.options.crs.pointToLatLng(ne(h),v)},layerPointToLatLng:function(h){var v=ne(h).add(this.getPixelOrigin());return this.unproject(v)},latLngToLayerPoint:function(h){var v=this.project(be(h))._round();return v._subtract(this.getPixelOrigin())},wrapLatLng:function(h){return this.options.crs.wrapLatLng(be(h))},wrapLatLngBounds:function(h){return this.options.crs.wrapLatLngBounds(se(h))},distance:function(h,v){return this.options.crs.distance(be(h),be(v))},containerPointToLayerPoint:function(h){return ne(h).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(h){return ne(h).add(this._getMapPanePos())},containerPointToLatLng:function(h){var v=this.containerPointToLayerPoint(ne(h));return this.layerPointToLatLng(v)},latLngToContainerPoint:function(h){return this.layerPointToContainerPoint(this.latLngToLayerPoint(be(h)))},mouseEventToContainerPoint:function(h){return kc(h,this._container)},mouseEventToLayerPoint:function(h){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(h))},mouseEventToLatLng:function(h){return this.layerPointToLatLng(this.mouseEventToLayerPoint(h))},_initContainer:function(h){var v=this._container=nu(h);if(v){if(v._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ws(v,"scroll",this._onScroll,this),this._containerId=u(v)},_initLayout:function(){var h=this._container;this._fadeAnimated=this.options.fadeAnimation&&Tt.any3d,Is(h,"leaflet-container"+(Tt.touch?" leaflet-touch":"")+(Tt.retina?" leaflet-retina":"")+(Tt.ielt9?" leaflet-oldie":"")+(Tt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var v=Zo(h,"position");v!=="absolute"&&v!=="relative"&&v!=="fixed"&&v!=="sticky"&&(h.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var h=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Yn(this._mapPane,new te(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Is(h.markerPane,"leaflet-zoom-hide"),Is(h.shadowPane,"leaflet-zoom-hide"))},_resetView:function(h,v,k){Yn(this._mapPane,new te(0,0));var I=!this._loaded;this._loaded=!0,v=this._limitZoom(v),this.fire("viewprereset");var Y=this._zoom!==v;this._moveStart(Y,k)._move(h,v)._moveEnd(Y),this.fire("viewreset"),I&&this.fire("load")},_moveStart:function(h,v){return h&&this.fire("zoomstart"),v||this.fire("movestart"),this},_move:function(h,v,k,I){v===void 0&&(v=this._zoom);var Y=this._zoom!==v;return this._zoom=v,this._lastCenter=h,this._pixelOrigin=this._getNewPixelOrigin(h),I?k&&k.pinch&&this.fire("zoom",k):((Y||k&&k.pinch)&&this.fire("zoom",k),this.fire("move",k)),this},_moveEnd:function(h){return h&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return W(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(h){Yn(this._mapPane,this._getMapPanePos().subtract(h))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(h){this._targets={},this._targets[u(this._container)]=this;var v=h?Js:ws;v(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&v(window,"resize",this._onResize,this),Tt.any3d&&this.options.transform3DLimit&&(h?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){W(this._resizeRequest),this._resizeRequest=$(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var h=this._getMapPanePos();Math.max(Math.abs(h.x),Math.abs(h.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(h,v){for(var k=[],I,Y=v==="mouseout"||v==="mouseover",pe=h.target||h.srcElement,Ae=!1;pe;){if(I=this._targets[u(pe)],I&&(v==="click"||v==="preclick")&&this._draggableMoved(I)){Ae=!0;break}if(I&&I.listens(v,!0)&&(Y&&!La(pe,h)||(k.push(I),Y))||pe===this._container)break;pe=pe.parentNode}return!k.length&&!Ae&&!Y&&this.listens(v,!0)&&(k=[this]),k},_isClickDisabled:function(h){for(;h&&h!==this._container;){if(h._leaflet_disable_click)return!0;h=h.parentNode}},_handleDOMEvent:function(h){var v=h.target||h.srcElement;if(!(!this._loaded||v._leaflet_disable_events||h.type==="click"&&this._isClickDisabled(v))){var k=h.type;k==="mousedown"&&xl(v),this._fireDOMEvent(h,k)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(h,v,k){if(h.type==="click"){var I=i({},h);I.type="preclick",this._fireDOMEvent(I,I.type,k)}var Y=this._findEventTargets(h,v);if(k){for(var pe=[],Ae=0;Ae<k.length;Ae++)k[Ae].listens(v,!0)&&pe.push(k[Ae]);Y=pe.concat(Y)}if(Y.length){v==="contextmenu"&&hr(h);var Ve=Y[0],Qe={originalEvent:h};if(h.type!=="keypress"&&h.type!=="keydown"&&h.type!=="keyup"){var gt=Ve.getLatLng&&(!Ve._radius||Ve._radius<=10);Qe.containerPoint=gt?this.latLngToContainerPoint(Ve.getLatLng()):this.mouseEventToContainerPoint(h),Qe.layerPoint=this.containerPointToLayerPoint(Qe.containerPoint),Qe.latlng=gt?Ve.getLatLng():this.layerPointToLatLng(Qe.layerPoint)}for(Ae=0;Ae<Y.length;Ae++)if(Y[Ae].fire(v,Qe,!0),Qe.originalEvent._stopped||Y[Ae].options.bubblingMouseEvents===!1&&O(this._mouseEvents,v)!==-1)return}},_draggableMoved:function(h){return h=h.dragging&&h.dragging.enabled()?h:this,h.dragging&&h.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var h=0,v=this._handlers.length;h<v;h++)this._handlers[h].disable()},whenReady:function(h,v){return this._loaded?h.call(v||this,{target:this}):this.on("load",h,v),this},_getMapPanePos:function(){return Lo(this._mapPane)||new te(0,0)},_moved:function(){var h=this._getMapPanePos();return h&&!h.equals([0,0])},_getTopLeftPoint:function(h,v){var k=h&&v!==void 0?this._getNewPixelOrigin(h,v):this.getPixelOrigin();return k.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(h,v){var k=this.getSize()._divideBy(2);return this.project(h,v)._subtract(k)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(h,v,k){var I=this._getNewPixelOrigin(k,v);return this.project(h,v)._subtract(I)},_latLngBoundsToNewLayerBounds:function(h,v,k){var I=this._getNewPixelOrigin(k,v);return U([this.project(h.getSouthWest(),v)._subtract(I),this.project(h.getNorthWest(),v)._subtract(I),this.project(h.getSouthEast(),v)._subtract(I),this.project(h.getNorthEast(),v)._subtract(I)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(h){return this.latLngToLayerPoint(h).subtract(this._getCenterLayerPoint())},_limitCenter:function(h,v,k){if(!k)return h;var I=this.project(h,v),Y=this.getSize().divideBy(2),pe=new re(I.subtract(Y),I.add(Y)),Ae=this._getBoundsOffset(pe,k,v);return Math.abs(Ae.x)<=1&&Math.abs(Ae.y)<=1?h:this.unproject(I.add(Ae),v)},_limitOffset:function(h,v){if(!v)return h;var k=this.getPixelBounds(),I=new re(k.min.add(h),k.max.add(h));return h.add(this._getBoundsOffset(I,v))},_getBoundsOffset:function(h,v,k){var I=U(this.project(v.getNorthEast(),k),this.project(v.getSouthWest(),k)),Y=I.min.subtract(h.min),pe=I.max.subtract(h.max),Ae=this._rebound(Y.x,-pe.x),Ve=this._rebound(Y.y,-pe.y);return new te(Ae,Ve)},_rebound:function(h,v){return h+v>0?Math.round(h-v)/2:Math.max(0,Math.ceil(h))-Math.max(0,Math.floor(v))},_limitZoom:function(h){var v=this.getMinZoom(),k=this.getMaxZoom(),I=Tt.any3d?this.options.zoomSnap:1;return I&&(h=Math.round(h/I)*I),Math.max(v,Math.min(k,h))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){vn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(h,v){var k=this._getCenterOffset(h)._trunc();return(v&&v.animate)!==!0&&!this.getSize().contains(k)?!1:(this.panBy(k,v),!0)},_createAnimProxy:function(){var h=this._proxy=Ks("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(h),this.on("zoomanim",function(v){var k=ro,I=this._proxy.style[k];io(this._proxy,this.project(v.center,v.zoom),this.getZoomScale(v.zoom,1)),I===this._proxy.style[k]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ps(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var h=this.getCenter(),v=this.getZoom();io(this._proxy,this.project(h,v),this.getZoomScale(v,1))},_catchTransitionEnd:function(h){this._animatingZoom&&h.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(h,v,k){if(this._animatingZoom)return!0;if(k=k||{},!this._zoomAnimated||k.animate===!1||this._nothingToAnimate()||Math.abs(v-this._zoom)>this.options.zoomAnimationThreshold)return!1;var I=this.getZoomScale(v),Y=this._getCenterOffset(h)._divideBy(1-1/I);return k.animate!==!0&&!this.getSize().contains(Y)?!1:($(function(){this._moveStart(!0,k.noMoveStart||!1)._animateZoom(h,v,!0)},this),!0)},_animateZoom:function(h,v,k,I){this._mapPane&&(k&&(this._animatingZoom=!0,this._animateToCenter=h,this._animateToZoom=v,Is(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:h,zoom:v,noUpdate:I}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&vn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function hd(h,v){return new Xs(h,v)}var Nr=Z.extend({options:{position:"topright"},initialize:function(h){j(this,h)},getPosition:function(){return this.options.position},setPosition:function(h){var v=this._map;return v&&v.removeControl(this),this.options.position=h,v&&v.addControl(this),this},getContainer:function(){return this._container},addTo:function(h){this.remove(),this._map=h;var v=this._container=this.onAdd(h),k=this.getPosition(),I=h._controlCorners[k];return Is(v,"leaflet-control"),k.indexOf("bottom")!==-1?I.insertBefore(v,I.firstChild):I.appendChild(v),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ps(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(h){this._map&&h&&h.screenX>0&&h.screenY>0&&this._map.getContainer().focus()}}),Ai=function(h){return new Nr(h)};Xs.include({addControl:function(h){return h.addTo(this),this},removeControl:function(h){return h.remove(),this},_initControlPos:function(){var h=this._controlCorners={},v="leaflet-",k=this._controlContainer=Ks("div",v+"control-container",this._container);function I(Y,pe){var Ae=v+Y+" "+v+pe;h[Y+pe]=Ks("div",Ae,k)}I("top","left"),I("top","right"),I("bottom","left"),I("bottom","right")},_clearControlPos:function(){for(var h in this._controlCorners)Ps(this._controlCorners[h]);Ps(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Tc=Nr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(h,v,k,I){return k<I?-1:I<k?1:0}},initialize:function(h,v,k){j(this,k),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var I in h)this._addLayer(h[I],I);for(I in v)this._addLayer(v[I],I,!0)},onAdd:function(h){this._initLayout(),this._update(),this._map=h,h.on("zoomend",this._checkDisabledLayers,this);for(var v=0;v<this._layers.length;v++)this._layers[v].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(h){return Nr.prototype.addTo.call(this,h),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(h,v){return this._addLayer(h,v),this._map?this._update():this},addOverlay:function(h,v){return this._addLayer(h,v,!0),this._map?this._update():this},removeLayer:function(h){h.off("add remove",this._onLayerChange,this);var v=this._getLayer(u(h));return v&&this._layers.splice(this._layers.indexOf(v),1),this._map?this._update():this},expand:function(){Is(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var h=this._map.getSize().y-(this._container.offsetTop+50);return h<this._section.clientHeight?(Is(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=h+"px"):vn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return vn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var h="leaflet-control-layers",v=this._container=Ks("div",h),k=this.options.collapsed;v.setAttribute("aria-haspopup",!0),yl(v),ao(v);var I=this._section=Ks("section",h+"-list");k&&(this._map.on("click",this.collapse,this),ws(v,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var Y=this._layersLink=Ks("a",h+"-toggle",v);Y.href="#",Y.title="Layers",Y.setAttribute("role","button"),ws(Y,{keydown:function(pe){pe.keyCode===13&&this._expandSafely()},click:function(pe){hr(pe),this._expandSafely()}},this),k||this.expand(),this._baseLayersList=Ks("div",h+"-base",I),this._separator=Ks("div",h+"-separator",I),this._overlaysList=Ks("div",h+"-overlays",I),v.appendChild(I)},_getLayer:function(h){for(var v=0;v<this._layers.length;v++)if(this._layers[v]&&u(this._layers[v].layer)===h)return this._layers[v]},_addLayer:function(h,v,k){this._map&&h.on("add remove",this._onLayerChange,this),this._layers.push({layer:h,name:v,overlay:k}),this.options.sortLayers&&this._layers.sort(l(function(I,Y){return this.options.sortFunction(I.layer,Y.layer,I.name,Y.name)},this)),this.options.autoZIndex&&h.setZIndex&&(this._lastZIndex++,h.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;fa(this._baseLayersList),fa(this._overlaysList),this._layerControlInputs=[];var h,v,k,I,Y=0;for(k=0;k<this._layers.length;k++)I=this._layers[k],this._addItem(I),v=v||I.overlay,h=h||!I.overlay,Y+=I.overlay?0:1;return this.options.hideSingleBase&&(h=h&&Y>1,this._baseLayersList.style.display=h?"":"none"),this._separator.style.display=v&&h?"":"none",this},_onLayerChange:function(h){this._handlingClick||this._update();var v=this._getLayer(u(h.target)),k=v.overlay?h.type==="add"?"overlayadd":"overlayremove":h.type==="add"?"baselayerchange":null;k&&this._map.fire(k,v)},_createRadioElement:function(h,v){var k='<input type="radio" class="leaflet-control-layers-selector" name="'+h+'"'+(v?' checked="checked"':"")+"/>",I=document.createElement("div");return I.innerHTML=k,I.firstChild},_addItem:function(h){var v=document.createElement("label"),k=this._map.hasLayer(h.layer),I;h.overlay?(I=document.createElement("input"),I.type="checkbox",I.className="leaflet-control-layers-selector",I.defaultChecked=k):I=this._createRadioElement("leaflet-base-layers_"+u(this),k),this._layerControlInputs.push(I),I.layerId=u(h.layer),ws(I,"click",this._onInputClick,this);var Y=document.createElement("span");Y.innerHTML=" "+h.name;var pe=document.createElement("span");v.appendChild(pe),pe.appendChild(I),pe.appendChild(Y);var Ae=h.overlay?this._overlaysList:this._baseLayersList;return Ae.appendChild(v),this._checkDisabledLayers(),v},_onInputClick:function(){if(!this._preventClick){var h=this._layerControlInputs,v,k,I=[],Y=[];this._handlingClick=!0;for(var pe=h.length-1;pe>=0;pe--)v=h[pe],k=this._getLayer(v.layerId).layer,v.checked?I.push(k):v.checked||Y.push(k);for(pe=0;pe<Y.length;pe++)this._map.hasLayer(Y[pe])&&this._map.removeLayer(Y[pe]);for(pe=0;pe<I.length;pe++)this._map.hasLayer(I[pe])||this._map.addLayer(I[pe]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var h=this._layerControlInputs,v,k,I=this._map.getZoom(),Y=h.length-1;Y>=0;Y--)v=h[Y],k=this._getLayer(v.layerId).layer,v.disabled=k.options.minZoom!==void 0&&I<k.options.minZoom||k.options.maxZoom!==void 0&&I>k.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var h=this._section;this._preventClick=!0,ws(h,"click",hr),this.expand();var v=this;setTimeout(function(){Js(h,"click",hr),v._preventClick=!1})}}),jl=function(h,v,k){return new Tc(h,v,k)},Ga=Nr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(h){var v="leaflet-control-zoom",k=Ks("div",v+" leaflet-bar"),I=this.options;return this._zoomInButton=this._createButton(I.zoomInText,I.zoomInTitle,v+"-in",k,this._zoomIn),this._zoomOutButton=this._createButton(I.zoomOutText,I.zoomOutTitle,v+"-out",k,this._zoomOut),this._updateDisabled(),h.on("zoomend zoomlevelschange",this._updateDisabled,this),k},onRemove:function(h){h.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(h){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(h.shiftKey?3:1))},_zoomOut:function(h){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(h.shiftKey?3:1))},_createButton:function(h,v,k,I,Y){var pe=Ks("a",k,I);return pe.innerHTML=h,pe.href="#",pe.title=v,pe.setAttribute("role","button"),pe.setAttribute("aria-label",v),yl(pe),ws(pe,"click",Pa),ws(pe,"click",Y,this),ws(pe,"click",this._refocusOnMap,this),pe},_updateDisabled:function(){var h=this._map,v="leaflet-disabled";vn(this._zoomInButton,v),vn(this._zoomOutButton,v),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||h._zoom===h.getMinZoom())&&(Is(this._zoomOutButton,v),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||h._zoom===h.getMaxZoom())&&(Is(this._zoomInButton,v),this._zoomInButton.setAttribute("aria-disabled","true"))}});Xs.mergeOptions({zoomControl:!0}),Xs.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ga,this.addControl(this.zoomControl))});var iu=function(h){return new Ga(h)},ec=Nr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(h){var v="leaflet-control-scale",k=Ks("div",v),I=this.options;return this._addScales(I,v+"-line",k),h.on(I.updateWhenIdle?"moveend":"move",this._update,this),h.whenReady(this._update,this),k},onRemove:function(h){h.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(h,v,k){h.metric&&(this._mScale=Ks("div",v,k)),h.imperial&&(this._iScale=Ks("div",v,k))},_update:function(){var h=this._map,v=h.getSize().y/2,k=h.distance(h.containerPointToLatLng([0,v]),h.containerPointToLatLng([this.options.maxWidth,v]));this._updateScales(k)},_updateScales:function(h){this.options.metric&&h&&this._updateMetric(h),this.options.imperial&&h&&this._updateImperial(h)},_updateMetric:function(h){var v=this._getRoundNum(h),k=v<1e3?v+" m":v/1e3+" km";this._updateScale(this._mScale,k,v/h)},_updateImperial:function(h){var v=h*3.2808399,k,I,Y;v>5280?(k=v/5280,I=this._getRoundNum(k),this._updateScale(this._iScale,I+" mi",I/k)):(Y=this._getRoundNum(v),this._updateScale(this._iScale,Y+" ft",Y/v))},_updateScale:function(h,v,k){h.style.width=Math.round(this.options.maxWidth*k)+"px",h.innerHTML=v},_getRoundNum:function(h){var v=Math.pow(10,(Math.floor(h)+"").length-1),k=h/v;return k=k>=10?10:k>=5?5:k>=3?3:k>=2?2:1,v*k}}),au=function(h){return new ec(h)},md='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ou=Nr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Tt.inlineSvg?md+" ":"")+"Leaflet</a>"},initialize:function(h){j(this,h),this._attributions={}},onAdd:function(h){h.attributionControl=this,this._container=Ks("div","leaflet-control-attribution"),yl(this._container);for(var v in h._layers)h._layers[v].getAttribution&&this.addAttribution(h._layers[v].getAttribution());return this._update(),h.on("layeradd",this._addAttribution,this),this._container},onRemove:function(h){h.off("layeradd",this._addAttribution,this)},_addAttribution:function(h){h.layer.getAttribution&&(this.addAttribution(h.layer.getAttribution()),h.layer.once("remove",function(){this.removeAttribution(h.layer.getAttribution())},this))},setPrefix:function(h){return this.options.prefix=h,this._update(),this},addAttribution:function(h){return h?(this._attributions[h]||(this._attributions[h]=0),this._attributions[h]++,this._update(),this):this},removeAttribution:function(h){return h?(this._attributions[h]&&(this._attributions[h]--,this._update()),this):this},_update:function(){if(this._map){var h=[];for(var v in this._attributions)this._attributions[v]&&h.push(v);var k=[];this.options.prefix&&k.push(this.options.prefix),h.length&&k.push(h.join(", ")),this._container.innerHTML=k.join(' <span aria-hidden="true">|</span> ')}}});Xs.mergeOptions({attributionControl:!0}),Xs.addInitHook(function(){this.options.attributionControl&&new ou().addTo(this)});var lu=function(h){return new ou(h)};Nr.Layers=Tc,Nr.Zoom=Ga,Nr.Scale=ec,Nr.Attribution=ou,Ai.layers=jl,Ai.zoom=iu,Ai.scale=au,Ai.attribution=lu;var Ra=Z.extend({initialize:function(h){this._map=h},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ra.addTo=function(h,v){return h.addHandler(v,this),this};var Wu={Events:q},tc=Tt.touch?"touchstart mousedown":"mousedown",lo=ce.extend({options:{clickTolerance:3},initialize:function(h,v,k,I){j(this,I),this._element=h,this._dragStartTarget=v||h,this._preventOutline=k},enable:function(){this._enabled||(ws(this._dragStartTarget,tc,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(lo._dragging===this&&this.finishDrag(!0),Js(this._dragStartTarget,tc,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(h){if(this._enabled&&(this._moved=!1,!Cc(this._element,"leaflet-zoom-anim"))){if(h.touches&&h.touches.length!==1){lo._dragging===this&&this.finishDrag();return}if(!(lo._dragging||h.shiftKey||h.which!==1&&h.button!==1&&!h.touches)&&(lo._dragging=this,this._preventOutline&&xl(this._element),cd(),Zl(),!this._moving)){this.fire("down");var v=h.touches?h.touches[0]:h,k=dd(this._element);this._startPoint=new te(v.clientX,v.clientY),this._startPos=Lo(this._element),this._parentScale=Xl(k);var I=h.type==="mousedown";ws(document,I?"mousemove":"touchmove",this._onMove,this),ws(document,I?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(h){if(this._enabled){if(h.touches&&h.touches.length>1){this._moved=!0;return}var v=h.touches&&h.touches.length===1?h.touches[0]:h,k=new te(v.clientX,v.clientY)._subtract(this._startPoint);!k.x&&!k.y||Math.abs(k.x)+Math.abs(k.y)<this.options.clickTolerance||(k.x/=this._parentScale.x,k.y/=this._parentScale.y,hr(h),this._moved||(this.fire("dragstart"),this._moved=!0,Is(document.body,"leaflet-dragging"),this._lastTarget=h.target||h.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Is(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(k),this._moving=!0,this._lastEvent=h,this._updatePosition())}},_updatePosition:function(){var h={originalEvent:this._lastEvent};this.fire("predrag",h),Yn(this._element,this._newPos),this.fire("drag",h)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(h){vn(document.body,"leaflet-dragging"),this._lastTarget&&(vn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Js(document,"mousemove touchmove",this._onMove,this),Js(document,"mouseup touchend touchcancel",this._onUp,this),$a(),Ta();var v=this._moved&&this._moving;this._moving=!1,lo._dragging=!1,v&&this.fire("dragend",{noInertia:h,distance:this._newPos.distanceTo(this._startPos)})}});function fd(h,v,k){var I,Y=[1,4,2,8],pe,Ae,Ve,Qe,gt,Ot,ts,Ys;for(pe=0,Ot=h.length;pe<Ot;pe++)h[pe]._code=ct(h[pe],v);for(Ve=0;Ve<4;Ve++){for(ts=Y[Ve],I=[],pe=0,Ot=h.length,Ae=Ot-1;pe<Ot;Ae=pe++)Qe=h[pe],gt=h[Ae],Qe._code&ts?gt._code&ts||(Ys=Ge(gt,Qe,ts,v,k),Ys._code=ct(Ys,v),I.push(Ys)):(gt._code&ts&&(Ys=Ge(gt,Qe,ts,v,k),Ys._code=ct(Ys,v),I.push(Ys)),I.push(Qe));h=I}return h}function cu(h,v){var k,I,Y,pe,Ae,Ve,Qe,gt,Ot;if(!h||h.length===0)throw new Error("latlngs not passed");Zt(h)||(console.warn("latlngs are not flat! Only the first ring will be used"),h=h[0]);var ts=be([0,0]),Ys=se(h),Ri=Ys.getNorthWest().distanceTo(Ys.getSouthWest())*Ys.getNorthEast().distanceTo(Ys.getNorthWest());Ri<1700&&(ts=du(h));var Er=h.length,Qa=[];for(k=0;k<Er;k++){var En=be(h[k]);Qa.push(v.project(be([En.lat-ts.lat,En.lng-ts.lng])))}for(Ve=Qe=gt=0,k=0,I=Er-1;k<Er;I=k++)Y=Qa[k],pe=Qa[I],Ae=Y.y*pe.x-pe.y*Y.x,Qe+=(Y.x+pe.x)*Ae,gt+=(Y.y+pe.y)*Ae,Ve+=Ae*3;Ve===0?Ot=Qa[0]:Ot=[Qe/Ve,gt/Ve];var Tn=v.unproject(ne(Ot));return be([Tn.lat+ts.lat,Tn.lng+ts.lng])}function du(h){for(var v=0,k=0,I=0,Y=0;Y<h.length;Y++){var pe=be(h[Y]);v+=pe.lat,k+=pe.lng,I++}return be([v/I,k/I])}var sc={__proto__:null,clipPolygon:fd,polygonCenter:cu,centroid:du};function nc(h,v){if(!v||!h.length)return h.slice();var k=v*v;return h=le(h,k),h=gd(h,k),h}function pd(h,v,k){return Math.sqrt(Bt(h,v,k,!0))}function rc(h,v,k){return Bt(h,v,k)}function gd(h,v){var k=h.length,I=typeof Uint8Array<"u"?Uint8Array:Array,Y=new I(k);Y[0]=Y[k-1]=1,M(h,Y,v,0,k-1);var pe,Ae=[];for(pe=0;pe<k;pe++)Y[pe]&&Ae.push(h[pe]);return Ae}function M(h,v,k,I,Y){var pe=0,Ae,Ve,Qe;for(Ve=I+1;Ve<=Y-1;Ve++)Qe=Bt(h[Ve],h[I],h[Y],!0),Qe>pe&&(Ae=Ve,pe=Qe);pe>k&&(v[Ae]=1,M(h,v,k,I,Ae),M(h,v,k,Ae,Y))}function le(h,v){for(var k=[h[0]],I=1,Y=0,pe=h.length;I<pe;I++)_t(h[I],h[Y])>v&&(k.push(h[I]),Y=I);return Y<pe-1&&k.push(h[pe-1]),k}var Se;function Oe(h,v,k,I,Y){var pe=I?Se:ct(h,k),Ae=ct(v,k),Ve,Qe,gt;for(Se=Ae;;){if(!(pe|Ae))return[h,v];if(pe&Ae)return!1;Ve=pe||Ae,Qe=Ge(h,v,Ve,k,Y),gt=ct(Qe,k),Ve===pe?(h=Qe,pe=gt):(v=Qe,Ae=gt)}}function Ge(h,v,k,I,Y){var pe=v.x-h.x,Ae=v.y-h.y,Ve=I.min,Qe=I.max,gt,Ot;return k&8?(gt=h.x+pe*(Qe.y-h.y)/Ae,Ot=Qe.y):k&4?(gt=h.x+pe*(Ve.y-h.y)/Ae,Ot=Ve.y):k&2?(gt=Qe.x,Ot=h.y+Ae*(Qe.x-h.x)/pe):k&1&&(gt=Ve.x,Ot=h.y+Ae*(Ve.x-h.x)/pe),new te(gt,Ot,Y)}function ct(h,v){var k=0;return h.x<v.min.x?k|=1:h.x>v.max.x&&(k|=2),h.y<v.min.y?k|=4:h.y>v.max.y&&(k|=8),k}function _t(h,v){var k=v.x-h.x,I=v.y-h.y;return k*k+I*I}function Bt(h,v,k,I){var Y=v.x,pe=v.y,Ae=k.x-Y,Ve=k.y-pe,Qe=Ae*Ae+Ve*Ve,gt;return Qe>0&&(gt=((h.x-Y)*Ae+(h.y-pe)*Ve)/Qe,gt>1?(Y=k.x,pe=k.y):gt>0&&(Y+=Ae*gt,pe+=Ve*gt)),Ae=h.x-Y,Ve=h.y-pe,I?Ae*Ae+Ve*Ve:new te(Y,pe)}function Zt(h){return!S(h[0])||typeof h[0][0]!="object"&&typeof h[0][0]<"u"}function Ls(h){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Zt(h)}function Ns(h,v){var k,I,Y,pe,Ae,Ve,Qe,gt;if(!h||h.length===0)throw new Error("latlngs not passed");Zt(h)||(console.warn("latlngs are not flat! Only the first ring will be used"),h=h[0]);var Ot=be([0,0]),ts=se(h),Ys=ts.getNorthWest().distanceTo(ts.getSouthWest())*ts.getNorthEast().distanceTo(ts.getNorthWest());Ys<1700&&(Ot=du(h));var Ri=h.length,Er=[];for(k=0;k<Ri;k++){var Qa=be(h[k]);Er.push(v.project(be([Qa.lat-Ot.lat,Qa.lng-Ot.lng])))}for(k=0,I=0;k<Ri-1;k++)I+=Er[k].distanceTo(Er[k+1])/2;if(I===0)gt=Er[0];else for(k=0,pe=0;k<Ri-1;k++)if(Ae=Er[k],Ve=Er[k+1],Y=Ae.distanceTo(Ve),pe+=Y,pe>I){Qe=(pe-I)/Y,gt=[Ve.x-Qe*(Ve.x-Ae.x),Ve.y-Qe*(Ve.y-Ae.y)];break}var En=v.unproject(ne(gt));return be([En.lat+Ot.lat,En.lng+Ot.lng])}var on={__proto__:null,simplify:nc,pointToSegmentDistance:pd,closestPointOnSegment:rc,clipSegment:Oe,_getEdgeIntersection:Ge,_getBitCode:ct,_sqClosestPointOnSegment:Bt,isFlat:Zt,_flat:Ls,polylineCenter:Ns},tr={project:function(h){return new te(h.lng,h.lat)},unproject:function(h){return new ue(h.y,h.x)},bounds:new re([-180,-90],[180,90])},sr={R:6378137,R_MINOR:6356752314245179e-9,bounds:new re([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(h){var v=Math.PI/180,k=this.R,I=h.lat*v,Y=this.R_MINOR/k,pe=Math.sqrt(1-Y*Y),Ae=pe*Math.sin(I),Ve=Math.tan(Math.PI/4-I/2)/Math.pow((1-Ae)/(1+Ae),pe/2);return I=-k*Math.log(Math.max(Ve,1e-10)),new te(h.lng*v*k,I)},unproject:function(h){for(var v=180/Math.PI,k=this.R,I=this.R_MINOR/k,Y=Math.sqrt(1-I*I),pe=Math.exp(-h.y/k),Ae=Math.PI/2-2*Math.atan(pe),Ve=0,Qe=.1,gt;Ve<15&&Math.abs(Qe)>1e-7;Ve++)gt=Y*Math.sin(Ae),gt=Math.pow((1-gt)/(1+gt),Y/2),Qe=Math.PI/2-2*Math.atan(pe*gt)-Ae,Ae+=Qe;return new ue(Ae*v,h.x*v/k)}},Ar={__proto__:null,LonLat:tr,Mercator:sr,SphericalMercator:Xe},ki=i({},Ce,{code:"EPSG:3395",projection:sr,transformation:(function(){var h=.5/(Math.PI*sr.R);return lt(h,.5,-h,.5)})()}),Br=i({},Ce,{code:"EPSG:4326",projection:tr,transformation:lt(1/180,1,-1/180,.5)}),Ki=i({},we,{projection:tr,transformation:lt(1,0,-1,0),scale:function(h){return Math.pow(2,h)},zoom:function(h){return Math.log(h)/Math.LN2},distance:function(h,v){var k=v.lng-h.lng,I=v.lat-h.lat;return Math.sqrt(k*k+I*I)},infinite:!0});we.Earth=Ce,we.EPSG3395=ki,we.EPSG3857=jt,we.EPSG900913=Et,we.EPSG4326=Br,we.Simple=Ki;var xr=ce.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(h){return h.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(h){return h&&h.removeLayer(this),this},getPane:function(h){return this._map.getPane(h?this.options[h]||h:this.options.pane)},addInteractiveTarget:function(h){return this._map._targets[u(h)]=this,this},removeInteractiveTarget:function(h){return delete this._map._targets[u(h)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(h){var v=h.target;if(v.hasLayer(this)){if(this._map=v,this._zoomAnimated=v._zoomAnimated,this.getEvents){var k=this.getEvents();v.on(k,this),this.once("remove",function(){v.off(k,this)},this)}this.onAdd(v),this.fire("add"),v.fire("layeradd",{layer:this})}}});Xs.include({addLayer:function(h){if(!h._layerAdd)throw new Error("The provided object is not a Layer.");var v=u(h);return this._layers[v]?this:(this._layers[v]=h,h._mapToAdd=this,h.beforeAdd&&h.beforeAdd(this),this.whenReady(h._layerAdd,h),this)},removeLayer:function(h){var v=u(h);return this._layers[v]?(this._loaded&&h.onRemove(this),delete this._layers[v],this._loaded&&(this.fire("layerremove",{layer:h}),h.fire("remove")),h._map=h._mapToAdd=null,this):this},hasLayer:function(h){return u(h)in this._layers},eachLayer:function(h,v){for(var k in this._layers)h.call(v,this._layers[k]);return this},_addLayers:function(h){h=h?S(h)?h:[h]:[];for(var v=0,k=h.length;v<k;v++)this.addLayer(h[v])},_addZoomLimit:function(h){(!isNaN(h.options.maxZoom)||!isNaN(h.options.minZoom))&&(this._zoomBoundLayers[u(h)]=h,this._updateZoomLevels())},_removeZoomLimit:function(h){var v=u(h);this._zoomBoundLayers[v]&&(delete this._zoomBoundLayers[v],this._updateZoomLevels())},_updateZoomLevels:function(){var h=1/0,v=-1/0,k=this._getZoomSpan();for(var I in this._zoomBoundLayers){var Y=this._zoomBoundLayers[I].options;h=Y.minZoom===void 0?h:Math.min(h,Y.minZoom),v=Y.maxZoom===void 0?v:Math.max(v,Y.maxZoom)}this._layersMaxZoom=v===-1/0?void 0:v,this._layersMinZoom=h===1/0?void 0:h,k!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var pa=xr.extend({initialize:function(h,v){j(this,v),this._layers={};var k,I;if(h)for(k=0,I=h.length;k<I;k++)this.addLayer(h[k])},addLayer:function(h){var v=this.getLayerId(h);return this._layers[v]=h,this._map&&this._map.addLayer(h),this},removeLayer:function(h){var v=h in this._layers?h:this.getLayerId(h);return this._map&&this._layers[v]&&this._map.removeLayer(this._layers[v]),delete this._layers[v],this},hasLayer:function(h){var v=typeof h=="number"?h:this.getLayerId(h);return v in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(h){var v=Array.prototype.slice.call(arguments,1),k,I;for(k in this._layers)I=this._layers[k],I[h]&&I[h].apply(I,v);return this},onAdd:function(h){this.eachLayer(h.addLayer,h)},onRemove:function(h){this.eachLayer(h.removeLayer,h)},eachLayer:function(h,v){for(var k in this._layers)h.call(v,this._layers[k]);return this},getLayer:function(h){return this._layers[h]},getLayers:function(){var h=[];return this.eachLayer(h.push,h),h},setZIndex:function(h){return this.invoke("setZIndex",h)},getLayerId:function(h){return u(h)}}),Yu=function(h,v){return new pa(h,v)},Oa=pa.extend({addLayer:function(h){return this.hasLayer(h)?this:(h.addEventParent(this),pa.prototype.addLayer.call(this,h),this.fire("layeradd",{layer:h}))},removeLayer:function(h){return this.hasLayer(h)?(h in this._layers&&(h=this._layers[h]),h.removeEventParent(this),pa.prototype.removeLayer.call(this,h),this.fire("layerremove",{layer:h})):this},setStyle:function(h){return this.invoke("setStyle",h)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var h=new J;for(var v in this._layers){var k=this._layers[v];h.extend(k.getBounds?k.getBounds():k.getLatLng())}return h}}),xd=function(h,v){return new Oa(h,v)},ga=Z.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(h){j(this,h)},createIcon:function(h){return this._createIcon("icon",h)},createShadow:function(h){return this._createIcon("shadow",h)},_createIcon:function(h,v){var k=this._getIconUrl(h);if(!k){if(h==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var I=this._createImg(k,v&&v.tagName==="IMG"?v:null);return this._setIconStyles(I,h),(this.options.crossOrigin||this.options.crossOrigin==="")&&(I.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),I},_setIconStyles:function(h,v){var k=this.options,I=k[v+"Size"];typeof I=="number"&&(I=[I,I]);var Y=ne(I),pe=ne(v==="shadow"&&k.shadowAnchor||k.iconAnchor||Y&&Y.divideBy(2,!0));h.className="leaflet-marker-"+v+" "+(k.className||""),pe&&(h.style.marginLeft=-pe.x+"px",h.style.marginTop=-pe.y+"px"),Y&&(h.style.width=Y.x+"px",h.style.height=Y.y+"px")},_createImg:function(h,v){return v=v||document.createElement("img"),v.src=h,v},_getIconUrl:function(h){return Tt.retina&&this.options[h+"RetinaUrl"]||this.options[h+"Url"]}});function wl(h){return new ga(h)}var Nl=ga.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(h){return typeof Nl.imagePath!="string"&&(Nl.imagePath=this._detectIconPath()),(this.options.imagePath||Nl.imagePath)+ga.prototype._getIconUrl.call(this,h)},_stripUrl:function(h){var v=function(k,I,Y){var pe=I.exec(k);return pe&&pe[Y]};return h=v(h,/^url\((['"])?(.+)\1\)$/,2),h&&v(h,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var h=Ks("div","leaflet-default-icon-path",document.body),v=Zo(h,"background-image")||Zo(h,"backgroundImage");if(document.body.removeChild(h),v=this._stripUrl(v),v)return v;var k=document.querySelector('link[href$="leaflet.css"]');return k?k.href.substring(0,k.href.length-11-1):""}}),Xo=Ra.extend({initialize:function(h){this._marker=h},addHooks:function(){var h=this._marker._icon;this._draggable||(this._draggable=new lo(h,h,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Is(h,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&vn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(h){var v=this._marker,k=v._map,I=this._marker.options.autoPanSpeed,Y=this._marker.options.autoPanPadding,pe=Lo(v._icon),Ae=k.getPixelBounds(),Ve=k.getPixelOrigin(),Qe=U(Ae.min._subtract(Ve).add(Y),Ae.max._subtract(Ve).subtract(Y));if(!Qe.contains(pe)){var gt=ne((Math.max(Qe.max.x,pe.x)-Qe.max.x)/(Ae.max.x-Qe.max.x)-(Math.min(Qe.min.x,pe.x)-Qe.min.x)/(Ae.min.x-Qe.min.x),(Math.max(Qe.max.y,pe.y)-Qe.max.y)/(Ae.max.y-Qe.max.y)-(Math.min(Qe.min.y,pe.y)-Qe.min.y)/(Ae.min.y-Qe.min.y)).multiplyBy(I);k.panBy(gt,{animate:!1}),this._draggable._newPos._add(gt),this._draggable._startPos._add(gt),Yn(v._icon,this._draggable._newPos),this._onDrag(h),this._panRequest=$(this._adjustPan.bind(this,h))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(h){this._marker.options.autoPan&&(W(this._panRequest),this._panRequest=$(this._adjustPan.bind(this,h)))},_onDrag:function(h){var v=this._marker,k=v._shadow,I=Lo(v._icon),Y=v._map.layerPointToLatLng(I);k&&Yn(k,I),v._latlng=Y,h.latlng=Y,h.oldLatLng=this._oldLatLng,v.fire("move",h).fire("drag",h)},_onDragEnd:function(h){W(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",h)}}),kr=xr.extend({options:{icon:new Nl,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(h,v){j(this,v),this._latlng=be(h)},onAdd:function(h){this._zoomAnimated=this._zoomAnimated&&h.options.markerZoomAnimation,this._zoomAnimated&&h.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(h){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&h.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(h){var v=this._latlng;return this._latlng=be(h),this.update(),this.fire("move",{oldLatLng:v,latlng:this._latlng})},setZIndexOffset:function(h){return this.options.zIndexOffset=h,this.update()},getIcon:function(){return this.options.icon},setIcon:function(h){return this.options.icon=h,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var h=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(h)}return this},_initIcon:function(){var h=this.options,v="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),k=h.icon.createIcon(this._icon),I=!1;k!==this._icon&&(this._icon&&this._removeIcon(),I=!0,h.title&&(k.title=h.title),k.tagName==="IMG"&&(k.alt=h.alt||"")),Is(k,v),h.keyboard&&(k.tabIndex="0",k.setAttribute("role","button")),this._icon=k,h.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ws(k,"focus",this._panOnFocus,this);var Y=h.icon.createShadow(this._shadow),pe=!1;Y!==this._shadow&&(this._removeShadow(),pe=!0),Y&&(Is(Y,v),Y.alt=""),this._shadow=Y,h.opacity<1&&this._updateOpacity(),I&&this.getPane().appendChild(this._icon),this._initInteraction(),Y&&pe&&this.getPane(h.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Js(this._icon,"focus",this._panOnFocus,this),Ps(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ps(this._shadow),this._shadow=null},_setPos:function(h){this._icon&&Yn(this._icon,h),this._shadow&&Yn(this._shadow,h),this._zIndex=h.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(h){this._icon&&(this._icon.style.zIndex=this._zIndex+h)},_animateZoom:function(h){var v=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center).round();this._setPos(v)},_initInteraction:function(){if(this.options.interactive&&(Is(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Xo)){var h=this.options.draggable;this.dragging&&(h=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Xo(this),h&&this.dragging.enable()}},setOpacity:function(h){return this.options.opacity=h,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var h=this.options.opacity;this._icon&&Wn(this._icon,h),this._shadow&&Wn(this._shadow,h)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var h=this._map;if(h){var v=this.options.icon.options,k=v.iconSize?ne(v.iconSize):ne(0,0),I=v.iconAnchor?ne(v.iconAnchor):ne(0,0);h.panInside(this._latlng,{paddingTopLeft:I,paddingBottomRight:k.subtract(I)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Pc(h,v){return new kr(h,v)}var xa=xr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(h){this._renderer=h.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(h){return j(this,h),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&h&&Object.prototype.hasOwnProperty.call(h,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ro=xa.extend({options:{fill:!0,radius:10},initialize:function(h,v){j(this,v),this._latlng=be(h),this._radius=this.options.radius},setLatLng:function(h){var v=this._latlng;return this._latlng=be(h),this.redraw(),this.fire("move",{oldLatLng:v,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(h){return this.options.radius=this._radius=h,this.redraw()},getRadius:function(){return this._radius},setStyle:function(h){var v=h&&h.radius||this._radius;return xa.prototype.setStyle.call(this,h),this.setRadius(v),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var h=this._radius,v=this._radiusY||h,k=this._clickTolerance(),I=[h+k,v+k];this._pxBounds=new re(this._point.subtract(I),this._point.add(I))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(h){return h.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function vd(h,v){return new Ro(h,v)}var Ei=Ro.extend({initialize:function(h,v,k){if(typeof v=="number"&&(v=i({},k,{radius:v})),j(this,v),this._latlng=be(h),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(h){return this._mRadius=h,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var h=[this._radius,this._radiusY||this._radius];return new J(this._map.layerPointToLatLng(this._point.subtract(h)),this._map.layerPointToLatLng(this._point.add(h)))},setStyle:xa.prototype.setStyle,_project:function(){var h=this._latlng.lng,v=this._latlng.lat,k=this._map,I=k.options.crs;if(I.distance===Ce.distance){var Y=Math.PI/180,pe=this._mRadius/Ce.R/Y,Ae=k.project([v+pe,h]),Ve=k.project([v-pe,h]),Qe=Ae.add(Ve).divideBy(2),gt=k.unproject(Qe).lat,Ot=Math.acos((Math.cos(pe*Y)-Math.sin(v*Y)*Math.sin(gt*Y))/(Math.cos(v*Y)*Math.cos(gt*Y)))/Y;(isNaN(Ot)||Ot===0)&&(Ot=pe/Math.cos(Math.PI/180*v)),this._point=Qe.subtract(k.getPixelOrigin()),this._radius=isNaN(Ot)?0:Qe.x-k.project([gt,h-Ot]).x,this._radiusY=Qe.y-Ae.y}else{var ts=I.unproject(I.project(this._latlng).subtract([this._mRadius,0]));this._point=k.latLngToLayerPoint(this._latlng),this._radius=this._point.x-k.latLngToLayerPoint(ts).x}this._updateBounds()}});function Zu(h,v,k){return new Ei(h,v,k)}var Wa=xa.extend({options:{smoothFactor:1,noClip:!1},initialize:function(h,v){j(this,v),this._setLatLngs(h)},getLatLngs:function(){return this._latlngs},setLatLngs:function(h){return this._setLatLngs(h),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(h){for(var v=1/0,k=null,I=Bt,Y,pe,Ae=0,Ve=this._parts.length;Ae<Ve;Ae++)for(var Qe=this._parts[Ae],gt=1,Ot=Qe.length;gt<Ot;gt++){Y=Qe[gt-1],pe=Qe[gt];var ts=I(h,Y,pe,!0);ts<v&&(v=ts,k=I(h,Y,pe))}return k&&(k.distance=Math.sqrt(v)),k},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ns(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(h,v){return v=v||this._defaultShape(),h=be(h),v.push(h),this._bounds.extend(h),this.redraw()},_setLatLngs:function(h){this._bounds=new J,this._latlngs=this._convertLatLngs(h)},_defaultShape:function(){return Zt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(h){for(var v=[],k=Zt(h),I=0,Y=h.length;I<Y;I++)k?(v[I]=be(h[I]),this._bounds.extend(v[I])):v[I]=this._convertLatLngs(h[I]);return v},_project:function(){var h=new re;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,h),this._bounds.isValid()&&h.isValid()&&(this._rawPxBounds=h,this._updateBounds())},_updateBounds:function(){var h=this._clickTolerance(),v=new te(h,h);this._rawPxBounds&&(this._pxBounds=new re([this._rawPxBounds.min.subtract(v),this._rawPxBounds.max.add(v)]))},_projectLatlngs:function(h,v,k){var I=h[0]instanceof ue,Y=h.length,pe,Ae;if(I){for(Ae=[],pe=0;pe<Y;pe++)Ae[pe]=this._map.latLngToLayerPoint(h[pe]),k.extend(Ae[pe]);v.push(Ae)}else for(pe=0;pe<Y;pe++)this._projectLatlngs(h[pe],v,k)},_clipPoints:function(){var h=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(h))){if(this.options.noClip){this._parts=this._rings;return}var v=this._parts,k,I,Y,pe,Ae,Ve,Qe;for(k=0,Y=0,pe=this._rings.length;k<pe;k++)for(Qe=this._rings[k],I=0,Ae=Qe.length;I<Ae-1;I++)Ve=Oe(Qe[I],Qe[I+1],h,I,!0),Ve&&(v[Y]=v[Y]||[],v[Y].push(Ve[0]),(Ve[1]!==Qe[I+1]||I===Ae-2)&&(v[Y].push(Ve[1]),Y++))}},_simplifyPoints:function(){for(var h=this._parts,v=this.options.smoothFactor,k=0,I=h.length;k<I;k++)h[k]=nc(h[k],v)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(h,v){var k,I,Y,pe,Ae,Ve,Qe=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(h))return!1;for(k=0,pe=this._parts.length;k<pe;k++)for(Ve=this._parts[k],I=0,Ae=Ve.length,Y=Ae-1;I<Ae;Y=I++)if(!(!v&&I===0)&&pd(h,Ve[Y],Ve[I])<=Qe)return!0;return!1}});function Ku(h,v){return new Wa(h,v)}Wa._flat=Ls;var Ti=Wa.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return cu(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(h){var v=Wa.prototype._convertLatLngs.call(this,h),k=v.length;return k>=2&&v[0]instanceof ue&&v[0].equals(v[k-1])&&v.pop(),v},_setLatLngs:function(h){Wa.prototype._setLatLngs.call(this,h),Zt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Zt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var h=this._renderer._bounds,v=this.options.weight,k=new te(v,v);if(h=new re(h.min.subtract(k),h.max.add(k)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(h))){if(this.options.noClip){this._parts=this._rings;return}for(var I=0,Y=this._rings.length,pe;I<Y;I++)pe=fd(this._rings[I],h,!0),pe.length&&this._parts.push(pe)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(h){var v=!1,k,I,Y,pe,Ae,Ve,Qe,gt;if(!this._pxBounds||!this._pxBounds.contains(h))return!1;for(pe=0,Qe=this._parts.length;pe<Qe;pe++)for(k=this._parts[pe],Ae=0,gt=k.length,Ve=gt-1;Ae<gt;Ve=Ae++)I=k[Ae],Y=k[Ve],I.y>h.y!=Y.y>h.y&&h.x<(Y.x-I.x)*(h.y-I.y)/(Y.y-I.y)+I.x&&(v=!v);return v||Wa.prototype._containsPoint.call(this,h,!0)}});function yd(h,v){return new Ti(h,v)}var co=Oa.extend({initialize:function(h,v){j(this,v),this._layers={},h&&this.addData(h)},addData:function(h){var v=S(h)?h:h.features,k,I,Y;if(v){for(k=0,I=v.length;k<I;k++)Y=v[k],(Y.geometries||Y.geometry||Y.features||Y.coordinates)&&this.addData(Y);return this}var pe=this.options;if(pe.filter&&!pe.filter(h))return this;var Ae=Jr(h,pe);return Ae?(Ae.feature=ho(h),Ae.defaultOptions=Ae.options,this.resetStyle(Ae),pe.onEachFeature&&pe.onEachFeature(h,Ae),this.addLayer(Ae)):this},resetStyle:function(h){return h===void 0?this.eachLayer(this.resetStyle,this):(h.options=i({},h.defaultOptions),this._setLayerStyle(h,this.options.style),this)},setStyle:function(h){return this.eachLayer(function(v){this._setLayerStyle(v,h)},this)},_setLayerStyle:function(h,v){h.setStyle&&(typeof v=="function"&&(v=v(h.feature)),h.setStyle(v))}});function Jr(h,v){var k=h.type==="Feature"?h.geometry:h,I=k?k.coordinates:null,Y=[],pe=v&&v.pointToLayer,Ae=v&&v.coordsToLatLng||Qo,Ve,Qe,gt,Ot;if(!I&&!k)return null;switch(k.type){case"Point":return Ve=Ae(I),Ya(pe,h,Ve,v);case"MultiPoint":for(gt=0,Ot=I.length;gt<Ot;gt++)Ve=Ae(I[gt]),Y.push(Ya(pe,h,Ve,v));return new Oa(Y);case"LineString":case"MultiLineString":return Qe=li(I,k.type==="LineString"?0:1,Ae),new Wa(Qe,v);case"Polygon":case"MultiPolygon":return Qe=li(I,k.type==="Polygon"?1:2,Ae),new Ti(Qe,v);case"GeometryCollection":for(gt=0,Ot=k.geometries.length;gt<Ot;gt++){var ts=Jr({geometry:k.geometries[gt],type:"Feature",properties:h.properties},v);ts&&Y.push(ts)}return new Oa(Y);case"FeatureCollection":for(gt=0,Ot=k.features.length;gt<Ot;gt++){var Ys=Jr(k.features[gt],v);Ys&&Y.push(Ys)}return new Oa(Y);default:throw new Error("Invalid GeoJSON object.")}}function Ya(h,v,k,I){return h?h(v,k):new kr(k,I&&I.markersInheritOptions&&I)}function Qo(h){return new ue(h[1],h[0],h[2])}function li(h,v,k){for(var I=[],Y=0,pe=h.length,Ae;Y<pe;Y++)Ae=v?li(h[Y],v-1,k):(k||Qo)(h[Y]),I.push(Ae);return I}function ci(h,v){return h=be(h),h.alt!==void 0?[y(h.lng,v),y(h.lat,v),y(h.alt,v)]:[y(h.lng,v),y(h.lat,v)]}function uo(h,v,k,I){for(var Y=[],pe=0,Ae=h.length;pe<Ae;pe++)Y.push(v?uo(h[pe],Zt(h[pe])?0:v-1,k,I):ci(h[pe],I));return!v&&k&&Y.length>0&&Y.push(Y[0].slice()),Y}function Ji(h,v){return h.feature?i({},h.feature,{geometry:v}):ho(v)}function ho(h){return h.type==="Feature"||h.type==="FeatureCollection"?h:{type:"Feature",properties:{},geometry:h}}var Za={toGeoJSON:function(h){return Ji(this,{type:"Point",coordinates:ci(this.getLatLng(),h)})}};kr.include(Za),Ei.include(Za),Ro.include(Za),Wa.include({toGeoJSON:function(h){var v=!Zt(this._latlngs),k=uo(this._latlngs,v?1:0,!1,h);return Ji(this,{type:(v?"Multi":"")+"LineString",coordinates:k})}}),Ti.include({toGeoJSON:function(h){var v=!Zt(this._latlngs),k=v&&!Zt(this._latlngs[0]),I=uo(this._latlngs,k?2:v?1:0,!0,h);return v||(I=[I]),Ji(this,{type:(k?"Multi":"")+"Polygon",coordinates:I})}}),pa.include({toMultiPoint:function(h){var v=[];return this.eachLayer(function(k){v.push(k.toGeoJSON(h).geometry.coordinates)}),Ji(this,{type:"MultiPoint",coordinates:v})},toGeoJSON:function(h){var v=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(v==="MultiPoint")return this.toMultiPoint(h);var k=v==="GeometryCollection",I=[];return this.eachLayer(function(Y){if(Y.toGeoJSON){var pe=Y.toGeoJSON(h);if(k)I.push(pe.geometry);else{var Ae=ho(pe);Ae.type==="FeatureCollection"?I.push.apply(I,Ae.features):I.push(Ae)}}}),k?Ji(this,{geometries:I,type:"GeometryCollection"}):{type:"FeatureCollection",features:I}}});function mo(h,v){return new co(h,v)}var nr=mo,el=xr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(h,v,k){this._url=h,this._bounds=se(v),j(this,k)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Is(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ps(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(h){return this.options.opacity=h,this._image&&this._updateOpacity(),this},setStyle:function(h){return h.opacity&&this.setOpacity(h.opacity),this},bringToFront:function(){return this._map&&Fr(this._image),this},bringToBack:function(){return this._map&&Ko(this._image),this},setUrl:function(h){return this._url=h,this._image&&(this._image.src=h),this},setBounds:function(h){return this._bounds=se(h),this._map&&this._reset(),this},getEvents:function(){var h={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},setZIndex:function(h){return this.options.zIndex=h,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var h=this._url.tagName==="IMG",v=this._image=h?this._url:Ks("img");if(Is(v,"leaflet-image-layer"),this._zoomAnimated&&Is(v,"leaflet-zoom-animated"),this.options.className&&Is(v,this.options.className),v.onselectstart=p,v.onmousemove=p,v.onload=l(this.fire,this,"load"),v.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(v.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),h){this._url=v.src;return}v.src=this._url,v.alt=this.options.alt},_animateZoom:function(h){var v=this._map.getZoomScale(h.zoom),k=this._map._latLngBoundsToNewLayerBounds(this._bounds,h.zoom,h.center).min;io(this._image,k,v)},_reset:function(){var h=this._image,v=new re(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),k=v.getSize();Yn(h,v.min),h.style.width=k.x+"px",h.style.height=k.y+"px"},_updateOpacity:function(){Wn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var h=this.options.errorOverlayUrl;h&&this._url!==h&&(this._url=h,this._image.src=h)},getCenter:function(){return this._bounds.getCenter()}}),Xi=function(h,v,k){return new el(h,v,k)},Xr=el.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var h=this._url.tagName==="VIDEO",v=this._image=h?this._url:Ks("video");if(Is(v,"leaflet-image-layer"),this._zoomAnimated&&Is(v,"leaflet-zoom-animated"),this.options.className&&Is(v,this.options.className),v.onselectstart=p,v.onmousemove=p,v.onloadeddata=l(this.fire,this,"load"),h){for(var k=v.getElementsByTagName("source"),I=[],Y=0;Y<k.length;Y++)I.push(k[Y].src);this._url=k.length>0?I:[v.src];return}S(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(v.style,"objectFit")&&(v.style.objectFit="fill"),v.autoplay=!!this.options.autoplay,v.loop=!!this.options.loop,v.muted=!!this.options.muted,v.playsInline=!!this.options.playsInline;for(var pe=0;pe<this._url.length;pe++){var Ae=Ks("source");Ae.src=this._url[pe],v.appendChild(Ae)}}});function Oo(h,v,k){return new Xr(h,v,k)}var Lc=el.extend({_initImage:function(){var h=this._image=this._url;Is(h,"leaflet-image-layer"),this._zoomAnimated&&Is(h,"leaflet-zoom-animated"),this.options.className&&Is(h,this.options.className),h.onselectstart=p,h.onmousemove=p}});function bd(h,v,k){return new Lc(h,v,k)}var _r=xr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(h,v){h&&(h instanceof ue||S(h))?(this._latlng=be(h),j(this,v)):(j(this,h),this._source=v),this.options.content&&(this._content=this.options.content)},openOn:function(h){return h=arguments.length?h:this._source._map,h.hasLayer(this)||h.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(h){return this._map?this.close():(arguments.length?this._source=h:h=this._source,this._prepareOpen(),this.openOn(h._map)),this},onAdd:function(h){this._zoomAnimated=h._zoomAnimated,this._container||this._initLayout(),h._fadeAnimated&&Wn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),h._fadeAnimated&&Wn(this._container,1),this.bringToFront(),this.options.interactive&&(Is(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(h){h._fadeAnimated?(Wn(this._container,0),this._removeTimeout=setTimeout(l(Ps,void 0,this._container),200)):Ps(this._container),this.options.interactive&&(vn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(h){return this._latlng=be(h),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(h){return this._content=h,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var h={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Fr(this._container),this},bringToBack:function(){return this._map&&Ko(this._container),this},_prepareOpen:function(h){var v=this._source;if(!v._map)return!1;if(v instanceof Oa){v=null;var k=this._source._layers;for(var I in k)if(k[I]._map){v=k[I];break}if(!v)return!1;this._source=v}if(!h)if(v.getCenter)h=v.getCenter();else if(v.getLatLng)h=v.getLatLng();else if(v.getBounds)h=v.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(h),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var h=this._contentNode,v=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof v=="string")h.innerHTML=v;else{for(;h.hasChildNodes();)h.removeChild(h.firstChild);h.appendChild(v)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var h=this._map.latLngToLayerPoint(this._latlng),v=ne(this.options.offset),k=this._getAnchor();this._zoomAnimated?Yn(this._container,h.add(k)):v=v.add(h).add(k);var I=this._containerBottom=-v.y,Y=this._containerLeft=-Math.round(this._containerWidth/2)+v.x;this._container.style.bottom=I+"px",this._container.style.left=Y+"px"}},_getAnchor:function(){return[0,0]}});Xs.include({_initOverlay:function(h,v,k,I){var Y=v;return Y instanceof h||(Y=new h(I).setContent(v)),k&&Y.setLatLng(k),Y}}),xr.include({_initOverlay:function(h,v,k,I){var Y=k;return Y instanceof h?(j(Y,I),Y._source=this):(Y=v&&!I?v:new h(I,this),Y.setContent(k)),Y}});var Mo=_r.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(h){return h=arguments.length?h:this._source._map,!h.hasLayer(this)&&h._popup&&h._popup.options.autoClose&&h.removeLayer(h._popup),h._popup=this,_r.prototype.openOn.call(this,h)},onAdd:function(h){_r.prototype.onAdd.call(this,h),h.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof xa||this._source.on("preclick",Ha))},onRemove:function(h){_r.prototype.onRemove.call(this,h),h.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof xa||this._source.off("preclick",Ha))},getEvents:function(){var h=_r.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(h.preclick=this.close),this.options.keepInView&&(h.moveend=this._adjustPan),h},_initLayout:function(){var h="leaflet-popup",v=this._container=Ks("div",h+" "+(this.options.className||"")+" leaflet-zoom-animated"),k=this._wrapper=Ks("div",h+"-content-wrapper",v);if(this._contentNode=Ks("div",h+"-content",k),yl(v),ao(this._contentNode),ws(v,"contextmenu",Ha),this._tipContainer=Ks("div",h+"-tip-container",v),this._tip=Ks("div",h+"-tip",this._tipContainer),this.options.closeButton){var I=this._closeButton=Ks("a",h+"-close-button",v);I.setAttribute("role","button"),I.setAttribute("aria-label","Close popup"),I.href="#close",I.innerHTML='<span aria-hidden="true">&#215;</span>',ws(I,"click",function(Y){hr(Y),this.close()},this)}},_updateLayout:function(){var h=this._contentNode,v=h.style;v.width="",v.whiteSpace="nowrap";var k=h.offsetWidth;k=Math.min(k,this.options.maxWidth),k=Math.max(k,this.options.minWidth),v.width=k+1+"px",v.whiteSpace="",v.height="";var I=h.offsetHeight,Y=this.options.maxHeight,pe="leaflet-popup-scrolled";Y&&I>Y?(v.height=Y+"px",Is(h,pe)):vn(h,pe),this._containerWidth=this._container.offsetWidth},_animateZoom:function(h){var v=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center),k=this._getAnchor();Yn(this._container,v.add(k))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var h=this._map,v=parseInt(Zo(this._container,"marginBottom"),10)||0,k=this._container.offsetHeight+v,I=this._containerWidth,Y=new te(this._containerLeft,-k-this._containerBottom);Y._add(Lo(this._container));var pe=h.layerPointToContainerPoint(Y),Ae=ne(this.options.autoPanPadding),Ve=ne(this.options.autoPanPaddingTopLeft||Ae),Qe=ne(this.options.autoPanPaddingBottomRight||Ae),gt=h.getSize(),Ot=0,ts=0;pe.x+I+Qe.x>gt.x&&(Ot=pe.x+I-gt.x+Qe.x),pe.x-Ot-Ve.x<0&&(Ot=pe.x-Ve.x),pe.y+k+Qe.y>gt.y&&(ts=pe.y+k-gt.y+Qe.y),pe.y-ts-Ve.y<0&&(ts=pe.y-Ve.y),(Ot||ts)&&(this.options.keepInView&&(this._autopanning=!0),h.fire("autopanstart").panBy([Ot,ts]))}},_getAnchor:function(){return ne(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),_l=function(h,v){return new Mo(h,v)};Xs.mergeOptions({closePopupOnClick:!0}),Xs.include({openPopup:function(h,v,k){return this._initOverlay(Mo,h,v,k).openOn(this),this},closePopup:function(h){return h=arguments.length?h:this._popup,h&&h.close(),this}}),xr.include({bindPopup:function(h,v){return this._popup=this._initOverlay(Mo,this._popup,h,v),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(h){return this._popup&&(this instanceof Oa||(this._popup._source=this),this._popup._prepareOpen(h||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(h){return this._popup&&this._popup.setContent(h),this},getPopup:function(){return this._popup},_openPopup:function(h){if(!(!this._popup||!this._map)){Pa(h);var v=h.layer||h.target;if(this._popup._source===v&&!(v instanceof xa)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(h.latlng);return}this._popup._source=v,this.openPopup(h.latlng)}},_movePopup:function(h){this._popup.setLatLng(h.latlng)},_onKeyPress:function(h){h.originalEvent.keyCode===13&&this._openPopup(h)}});var Do=_r.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(h){_r.prototype.onAdd.call(this,h),this.setOpacity(this.options.opacity),h.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(h){_r.prototype.onRemove.call(this,h),h.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var h=_r.prototype.getEvents.call(this);return this.options.permanent||(h.preclick=this.close),h},_initLayout:function(){var h="leaflet-tooltip",v=h+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ks("div",v),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(h){var v,k,I=this._map,Y=this._container,pe=I.latLngToContainerPoint(I.getCenter()),Ae=I.layerPointToContainerPoint(h),Ve=this.options.direction,Qe=Y.offsetWidth,gt=Y.offsetHeight,Ot=ne(this.options.offset),ts=this._getAnchor();Ve==="top"?(v=Qe/2,k=gt):Ve==="bottom"?(v=Qe/2,k=0):Ve==="center"?(v=Qe/2,k=gt/2):Ve==="right"?(v=0,k=gt/2):Ve==="left"?(v=Qe,k=gt/2):Ae.x<pe.x?(Ve="right",v=0,k=gt/2):(Ve="left",v=Qe+(Ot.x+ts.x)*2,k=gt/2),h=h.subtract(ne(v,k,!0)).add(Ot).add(ts),vn(Y,"leaflet-tooltip-right"),vn(Y,"leaflet-tooltip-left"),vn(Y,"leaflet-tooltip-top"),vn(Y,"leaflet-tooltip-bottom"),Is(Y,"leaflet-tooltip-"+Ve),Yn(Y,h)},_updatePosition:function(){var h=this._map.latLngToLayerPoint(this._latlng);this._setPosition(h)},setOpacity:function(h){this.options.opacity=h,this._container&&Wn(this._container,h)},_animateZoom:function(h){var v=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center);this._setPosition(v)},_getAnchor:function(){return ne(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),jd=function(h,v){return new Do(h,v)};Xs.include({openTooltip:function(h,v,k){return this._initOverlay(Do,h,v,k).openOn(this),this},closeTooltip:function(h){return h.close(),this}}),xr.include({bindTooltip:function(h,v){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Do,this._tooltip,h,v),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(h){if(!(!h&&this._tooltipHandlersAdded)){var v=h?"off":"on",k={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?k.add=this._openTooltip:(k.mouseover=this._openTooltip,k.mouseout=this.closeTooltip,k.click=this._openTooltip,this._map?this._addFocusListeners():k.add=this._addFocusListeners),this._tooltip.options.sticky&&(k.mousemove=this._moveTooltip),this[v](k),this._tooltipHandlersAdded=!h}},openTooltip:function(h){return this._tooltip&&(this instanceof Oa||(this._tooltip._source=this),this._tooltip._prepareOpen(h)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(h){return this._tooltip&&this._tooltip.setContent(h),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(h){var v=typeof h.getElement=="function"&&h.getElement();v&&(ws(v,"focus",function(){this._tooltip._source=h,this.openTooltip()},this),ws(v,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(h){var v=typeof h.getElement=="function"&&h.getElement();v&&v.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(h){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var v=this;this._map.once("moveend",function(){v._openOnceFlag=!1,v._openTooltip(h)});return}this._tooltip._source=h.layer||h.target,this.openTooltip(this._tooltip.options.sticky?h.latlng:void 0)}},_moveTooltip:function(h){var v=h.latlng,k,I;this._tooltip.options.sticky&&h.originalEvent&&(k=this._map.mouseEventToContainerPoint(h.originalEvent),I=this._map.containerPointToLayerPoint(k),v=this._map.layerPointToLatLng(I)),this._tooltip.setLatLng(v)}});var ic=ga.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(h){var v=h&&h.tagName==="DIV"?h:document.createElement("div"),k=this.options;if(k.html instanceof Element?(fa(v),v.appendChild(k.html)):v.innerHTML=k.html!==!1?k.html:"",k.bgPos){var I=ne(k.bgPos);v.style.backgroundPosition=-I.x+"px "+-I.y+"px"}return this._setIconStyles(v,"icon"),v},createShadow:function(){return null}});function ac(h){return new ic(h)}ga.Default=Nl;var tl=xr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Tt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(h){j(this,h)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(h){h._addZoomLimit(this)},onRemove:function(h){this._removeAllTiles(),Ps(this._container),h._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Fr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ko(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(h){return this.options.opacity=h,this._updateOpacity(),this},setZIndex:function(h){return this.options.zIndex=h,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var h=this._clampZoom(this._map.getZoom());h!==this._tileZoom&&(this._tileZoom=h,this._updateLevels()),this._update()}return this},getEvents:function(){var h={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=m(this._onMoveEnd,this.options.updateInterval,this)),h.move=this._onMove),this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},createTile:function(){return document.createElement("div")},getTileSize:function(){var h=this.options.tileSize;return h instanceof te?h:new te(h,h)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(h){for(var v=this.getPane().children,k=-h(-1/0,1/0),I=0,Y=v.length,pe;I<Y;I++)pe=v[I].style.zIndex,v[I]!==this._container&&pe&&(k=h(k,+pe));isFinite(k)&&(this.options.zIndex=k+h(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Tt.ielt9){Wn(this._container,this.options.opacity);var h=+new Date,v=!1,k=!1;for(var I in this._tiles){var Y=this._tiles[I];if(!(!Y.current||!Y.loaded)){var pe=Math.min(1,(h-Y.loaded)/200);Wn(Y.el,pe),pe<1?v=!0:(Y.active?k=!0:this._onOpaqueTile(Y),Y.active=!0)}}k&&!this._noPrune&&this._pruneTiles(),v&&(W(this._fadeFrame),this._fadeFrame=$(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=Ks("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var h=this._tileZoom,v=this.options.maxZoom;if(h!==void 0){for(var k in this._levels)k=Number(k),this._levels[k].el.children.length||k===h?(this._levels[k].el.style.zIndex=v-Math.abs(h-k),this._onUpdateLevel(k)):(Ps(this._levels[k].el),this._removeTilesAtZoom(k),this._onRemoveLevel(k),delete this._levels[k]);var I=this._levels[h],Y=this._map;return I||(I=this._levels[h]={},I.el=Ks("div","leaflet-tile-container leaflet-zoom-animated",this._container),I.el.style.zIndex=v,I.origin=Y.project(Y.unproject(Y.getPixelOrigin()),h).round(),I.zoom=h,this._setZoomTransform(I,Y.getCenter(),Y.getZoom()),p(I.el.offsetWidth),this._onCreateLevel(I)),this._level=I,I}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var h,v,k=this._map.getZoom();if(k>this.options.maxZoom||k<this.options.minZoom){this._removeAllTiles();return}for(h in this._tiles)v=this._tiles[h],v.retain=v.current;for(h in this._tiles)if(v=this._tiles[h],v.current&&!v.active){var I=v.coords;this._retainParent(I.x,I.y,I.z,I.z-5)||this._retainChildren(I.x,I.y,I.z,I.z+2)}for(h in this._tiles)this._tiles[h].retain||this._removeTile(h)}},_removeTilesAtZoom:function(h){for(var v in this._tiles)this._tiles[v].coords.z===h&&this._removeTile(v)},_removeAllTiles:function(){for(var h in this._tiles)this._removeTile(h)},_invalidateAll:function(){for(var h in this._levels)Ps(this._levels[h].el),this._onRemoveLevel(Number(h)),delete this._levels[h];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(h,v,k,I){var Y=Math.floor(h/2),pe=Math.floor(v/2),Ae=k-1,Ve=new te(+Y,+pe);Ve.z=+Ae;var Qe=this._tileCoordsToKey(Ve),gt=this._tiles[Qe];return gt&&gt.active?(gt.retain=!0,!0):(gt&&gt.loaded&&(gt.retain=!0),Ae>I?this._retainParent(Y,pe,Ae,I):!1)},_retainChildren:function(h,v,k,I){for(var Y=2*h;Y<2*h+2;Y++)for(var pe=2*v;pe<2*v+2;pe++){var Ae=new te(Y,pe);Ae.z=k+1;var Ve=this._tileCoordsToKey(Ae),Qe=this._tiles[Ve];if(Qe&&Qe.active){Qe.retain=!0;continue}else Qe&&Qe.loaded&&(Qe.retain=!0);k+1<I&&this._retainChildren(Y,pe,k+1,I)}},_resetView:function(h){var v=h&&(h.pinch||h.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),v,v)},_animateZoom:function(h){this._setView(h.center,h.zoom,!0,h.noUpdate)},_clampZoom:function(h){var v=this.options;return v.minNativeZoom!==void 0&&h<v.minNativeZoom?v.minNativeZoom:v.maxNativeZoom!==void 0&&v.maxNativeZoom<h?v.maxNativeZoom:h},_setView:function(h,v,k,I){var Y=Math.round(v);this.options.maxZoom!==void 0&&Y>this.options.maxZoom||this.options.minZoom!==void 0&&Y<this.options.minZoom?Y=void 0:Y=this._clampZoom(Y);var pe=this.options.updateWhenZooming&&Y!==this._tileZoom;(!I||pe)&&(this._tileZoom=Y,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),Y!==void 0&&this._update(h),k||this._pruneTiles(),this._noPrune=!!k),this._setZoomTransforms(h,v)},_setZoomTransforms:function(h,v){for(var k in this._levels)this._setZoomTransform(this._levels[k],h,v)},_setZoomTransform:function(h,v,k){var I=this._map.getZoomScale(k,h.zoom),Y=h.origin.multiplyBy(I).subtract(this._map._getNewPixelOrigin(v,k)).round();Tt.any3d?io(h.el,Y,I):Yn(h.el,Y)},_resetGrid:function(){var h=this._map,v=h.options.crs,k=this._tileSize=this.getTileSize(),I=this._tileZoom,Y=this._map.getPixelWorldBounds(this._tileZoom);Y&&(this._globalTileRange=this._pxBoundsToTileRange(Y)),this._wrapX=v.wrapLng&&!this.options.noWrap&&[Math.floor(h.project([0,v.wrapLng[0]],I).x/k.x),Math.ceil(h.project([0,v.wrapLng[1]],I).x/k.y)],this._wrapY=v.wrapLat&&!this.options.noWrap&&[Math.floor(h.project([v.wrapLat[0],0],I).y/k.x),Math.ceil(h.project([v.wrapLat[1],0],I).y/k.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(h){var v=this._map,k=v._animatingZoom?Math.max(v._animateToZoom,v.getZoom()):v.getZoom(),I=v.getZoomScale(k,this._tileZoom),Y=v.project(h,this._tileZoom).floor(),pe=v.getSize().divideBy(I*2);return new re(Y.subtract(pe),Y.add(pe))},_update:function(h){var v=this._map;if(v){var k=this._clampZoom(v.getZoom());if(h===void 0&&(h=v.getCenter()),this._tileZoom!==void 0){var I=this._getTiledPixelBounds(h),Y=this._pxBoundsToTileRange(I),pe=Y.getCenter(),Ae=[],Ve=this.options.keepBuffer,Qe=new re(Y.getBottomLeft().subtract([Ve,-Ve]),Y.getTopRight().add([Ve,-Ve]));if(!(isFinite(Y.min.x)&&isFinite(Y.min.y)&&isFinite(Y.max.x)&&isFinite(Y.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var gt in this._tiles){var Ot=this._tiles[gt].coords;(Ot.z!==this._tileZoom||!Qe.contains(new te(Ot.x,Ot.y)))&&(this._tiles[gt].current=!1)}if(Math.abs(k-this._tileZoom)>1){this._setView(h,k);return}for(var ts=Y.min.y;ts<=Y.max.y;ts++)for(var Ys=Y.min.x;Ys<=Y.max.x;Ys++){var Ri=new te(Ys,ts);if(Ri.z=this._tileZoom,!!this._isValidTile(Ri)){var Er=this._tiles[this._tileCoordsToKey(Ri)];Er?Er.current=!0:Ae.push(Ri)}}if(Ae.sort(function(En,Tn){return En.distanceTo(pe)-Tn.distanceTo(pe)}),Ae.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Qa=document.createDocumentFragment();for(Ys=0;Ys<Ae.length;Ys++)this._addTile(Ae[Ys],Qa);this._level.el.appendChild(Qa)}}}},_isValidTile:function(h){var v=this._map.options.crs;if(!v.infinite){var k=this._globalTileRange;if(!v.wrapLng&&(h.x<k.min.x||h.x>k.max.x)||!v.wrapLat&&(h.y<k.min.y||h.y>k.max.y))return!1}if(!this.options.bounds)return!0;var I=this._tileCoordsToBounds(h);return se(this.options.bounds).overlaps(I)},_keyToBounds:function(h){return this._tileCoordsToBounds(this._keyToTileCoords(h))},_tileCoordsToNwSe:function(h){var v=this._map,k=this.getTileSize(),I=h.scaleBy(k),Y=I.add(k),pe=v.unproject(I,h.z),Ae=v.unproject(Y,h.z);return[pe,Ae]},_tileCoordsToBounds:function(h){var v=this._tileCoordsToNwSe(h),k=new J(v[0],v[1]);return this.options.noWrap||(k=this._map.wrapLatLngBounds(k)),k},_tileCoordsToKey:function(h){return h.x+":"+h.y+":"+h.z},_keyToTileCoords:function(h){var v=h.split(":"),k=new te(+v[0],+v[1]);return k.z=+v[2],k},_removeTile:function(h){var v=this._tiles[h];v&&(Ps(v.el),delete this._tiles[h],this.fire("tileunload",{tile:v.el,coords:this._keyToTileCoords(h)}))},_initTile:function(h){Is(h,"leaflet-tile");var v=this.getTileSize();h.style.width=v.x+"px",h.style.height=v.y+"px",h.onselectstart=p,h.onmousemove=p,Tt.ielt9&&this.options.opacity<1&&Wn(h,this.options.opacity)},_addTile:function(h,v){var k=this._getTilePos(h),I=this._tileCoordsToKey(h),Y=this.createTile(this._wrapCoords(h),l(this._tileReady,this,h));this._initTile(Y),this.createTile.length<2&&$(l(this._tileReady,this,h,null,Y)),Yn(Y,k),this._tiles[I]={el:Y,coords:h,current:!0},v.appendChild(Y),this.fire("tileloadstart",{tile:Y,coords:h})},_tileReady:function(h,v,k){v&&this.fire("tileerror",{error:v,tile:k,coords:h});var I=this._tileCoordsToKey(h);k=this._tiles[I],k&&(k.loaded=+new Date,this._map._fadeAnimated?(Wn(k.el,0),W(this._fadeFrame),this._fadeFrame=$(this._updateOpacity,this)):(k.active=!0,this._pruneTiles()),v||(Is(k.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:k.el,coords:h})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Tt.ielt9||!this._map._fadeAnimated?$(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(h){return h.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(h){var v=new te(this._wrapX?g(h.x,this._wrapX):h.x,this._wrapY?g(h.y,this._wrapY):h.y);return v.z=h.z,v},_pxBoundsToTileRange:function(h){var v=this.getTileSize();return new re(h.min.unscaleBy(v).floor(),h.max.unscaleBy(v).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var h in this._tiles)if(!this._tiles[h].loaded)return!1;return!0}});function Ka(h){return new tl(h)}var Qr=tl.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(h,v){this._url=h,v=j(this,v),v.detectRetina&&Tt.retina&&v.maxZoom>0?(v.tileSize=Math.floor(v.tileSize/2),v.zoomReverse?(v.zoomOffset--,v.minZoom=Math.min(v.maxZoom,v.minZoom+1)):(v.zoomOffset++,v.maxZoom=Math.max(v.minZoom,v.maxZoom-1)),v.minZoom=Math.max(0,v.minZoom)):v.zoomReverse?v.minZoom=Math.min(v.maxZoom,v.minZoom):v.maxZoom=Math.max(v.minZoom,v.maxZoom),typeof v.subdomains=="string"&&(v.subdomains=v.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(h,v){return this._url===h&&v===void 0&&(v=!0),this._url=h,v||this.redraw(),this},createTile:function(h,v){var k=document.createElement("img");return ws(k,"load",l(this._tileOnLoad,this,v,k)),ws(k,"error",l(this._tileOnError,this,v,k)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(k.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(k.referrerPolicy=this.options.referrerPolicy),k.alt="",k.src=this.getTileUrl(h),k},getTileUrl:function(h){var v={r:Tt.retina?"@2x":"",s:this._getSubdomain(h),x:h.x,y:h.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var k=this._globalTileRange.max.y-h.y;this.options.tms&&(v.y=k),v["-y"]=k}return P(this._url,i(v,this.options))},_tileOnLoad:function(h,v){Tt.ielt9?setTimeout(l(h,this,null,v),0):h(null,v)},_tileOnError:function(h,v,k){var I=this.options.errorTileUrl;I&&v.getAttribute("src")!==I&&(v.src=I),h(k,v)},_onTileRemove:function(h){h.tile.onload=null},_getZoomForUrl:function(){var h=this._tileZoom,v=this.options.maxZoom,k=this.options.zoomReverse,I=this.options.zoomOffset;return k&&(h=v-h),h+I},_getSubdomain:function(h){var v=Math.abs(h.x+h.y)%this.options.subdomains.length;return this.options.subdomains[v]},_abortLoading:function(){var h,v;for(h in this._tiles)if(this._tiles[h].coords.z!==this._tileZoom&&(v=this._tiles[h].el,v.onload=p,v.onerror=p,!v.complete)){v.src=z;var k=this._tiles[h].coords;Ps(v),delete this._tiles[h],this.fire("tileabort",{tile:v,coords:k})}},_removeTile:function(h){var v=this._tiles[h];if(v)return v.el.setAttribute("src",z),tl.prototype._removeTile.call(this,h)},_tileReady:function(h,v,k){if(!(!this._map||k&&k.getAttribute("src")===z))return tl.prototype._tileReady.call(this,h,v,k)}});function Qs(h,v){return new Qr(h,v)}var kn=Qr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(h,v){this._url=h;var k=i({},this.defaultWmsParams);for(var I in v)I in this.options||(k[I]=v[I]);v=j(this,v);var Y=v.detectRetina&&Tt.retina?2:1,pe=this.getTileSize();k.width=pe.x*Y,k.height=pe.y*Y,this.wmsParams=k},onAdd:function(h){this._crs=this.options.crs||h.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var v=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[v]=this._crs.code,Qr.prototype.onAdd.call(this,h)},getTileUrl:function(h){var v=this._tileCoordsToNwSe(h),k=this._crs,I=U(k.project(v[0]),k.project(v[1])),Y=I.min,pe=I.max,Ae=(this._wmsVersion>=1.3&&this._crs===Br?[Y.y,Y.x,pe.y,pe.x]:[Y.x,Y.y,pe.x,pe.y]).join(","),Ve=Qr.prototype.getTileUrl.call(this,h);return Ve+A(this.wmsParams,Ve,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Ae},setParams:function(h,v){return i(this.wmsParams,h),v||this.redraw(),this}});function yn(h,v){return new kn(h,v)}Qr.WMS=kn,Qs.wms=yn;var bn=xr.extend({options:{padding:.1},initialize:function(h){j(this,h),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Is(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var h={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(h.zoomanim=this._onAnimZoom),h},_onAnimZoom:function(h){this._updateTransform(h.center,h.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(h,v){var k=this._map.getZoomScale(v,this._zoom),I=this._map.getSize().multiplyBy(.5+this.options.padding),Y=this._map.project(this._center,v),pe=I.multiplyBy(-k).add(Y).subtract(this._map._getNewPixelOrigin(h,v));Tt.any3d?io(this._container,pe,k):Yn(this._container,pe)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var h in this._layers)this._layers[h]._reset()},_onZoomEnd:function(){for(var h in this._layers)this._layers[h]._project()},_updatePaths:function(){for(var h in this._layers)this._layers[h]._update()},_update:function(){var h=this.options.padding,v=this._map.getSize(),k=this._map.containerPointToLayerPoint(v.multiplyBy(-h)).round();this._bounds=new re(k,k.add(v.multiplyBy(1+h*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),fo=bn.extend({options:{tolerance:0},getEvents:function(){var h=bn.prototype.getEvents.call(this);return h.viewprereset=this._onViewPreReset,h},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){bn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var h=this._container=document.createElement("canvas");ws(h,"mousemove",this._onMouseMove,this),ws(h,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ws(h,"mouseout",this._handleMouseOut,this),h._leaflet_disable_events=!0,this._ctx=h.getContext("2d")},_destroyContainer:function(){W(this._redrawRequest),delete this._ctx,Ps(this._container),Js(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var h;this._redrawBounds=null;for(var v in this._layers)h=this._layers[v],h._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){bn.prototype._update.call(this);var h=this._bounds,v=this._container,k=h.getSize(),I=Tt.retina?2:1;Yn(v,h.min),v.width=I*k.x,v.height=I*k.y,v.style.width=k.x+"px",v.style.height=k.y+"px",Tt.retina&&this._ctx.scale(2,2),this._ctx.translate(-h.min.x,-h.min.y),this.fire("update")}},_reset:function(){bn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(h){this._updateDashArray(h),this._layers[u(h)]=h;var v=h._order={layer:h,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=v),this._drawLast=v,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(h){this._requestRedraw(h)},_removePath:function(h){var v=h._order,k=v.next,I=v.prev;k?k.prev=I:this._drawLast=I,I?I.next=k:this._drawFirst=k,delete h._order,delete this._layers[u(h)],this._requestRedraw(h)},_updatePath:function(h){this._extendRedrawBounds(h),h._project(),h._update(),this._requestRedraw(h)},_updateStyle:function(h){this._updateDashArray(h),this._requestRedraw(h)},_updateDashArray:function(h){if(typeof h.options.dashArray=="string"){var v=h.options.dashArray.split(/[, ]+/),k=[],I,Y;for(Y=0;Y<v.length;Y++){if(I=Number(v[Y]),isNaN(I))return;k.push(I)}h.options._dashArray=k}else h.options._dashArray=h.options.dashArray},_requestRedraw:function(h){this._map&&(this._extendRedrawBounds(h),this._redrawRequest=this._redrawRequest||$(this._redraw,this))},_extendRedrawBounds:function(h){if(h._pxBounds){var v=(h.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new re,this._redrawBounds.extend(h._pxBounds.min.subtract([v,v])),this._redrawBounds.extend(h._pxBounds.max.add([v,v]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var h=this._redrawBounds;if(h){var v=h.getSize();this._ctx.clearRect(h.min.x,h.min.y,v.x,v.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var h,v=this._redrawBounds;if(this._ctx.save(),v){var k=v.getSize();this._ctx.beginPath(),this._ctx.rect(v.min.x,v.min.y,k.x,k.y),this._ctx.clip()}this._drawing=!0;for(var I=this._drawFirst;I;I=I.next)h=I.layer,(!v||h._pxBounds&&h._pxBounds.intersects(v))&&h._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(h,v){if(this._drawing){var k,I,Y,pe,Ae=h._parts,Ve=Ae.length,Qe=this._ctx;if(Ve){for(Qe.beginPath(),k=0;k<Ve;k++){for(I=0,Y=Ae[k].length;I<Y;I++)pe=Ae[k][I],Qe[I?"lineTo":"moveTo"](pe.x,pe.y);v&&Qe.closePath()}this._fillStroke(Qe,h)}}},_updateCircle:function(h){if(!(!this._drawing||h._empty())){var v=h._point,k=this._ctx,I=Math.max(Math.round(h._radius),1),Y=(Math.max(Math.round(h._radiusY),1)||I)/I;Y!==1&&(k.save(),k.scale(1,Y)),k.beginPath(),k.arc(v.x,v.y/Y,I,0,Math.PI*2,!1),Y!==1&&k.restore(),this._fillStroke(k,h)}},_fillStroke:function(h,v){var k=v.options;k.fill&&(h.globalAlpha=k.fillOpacity,h.fillStyle=k.fillColor||k.color,h.fill(k.fillRule||"evenodd")),k.stroke&&k.weight!==0&&(h.setLineDash&&h.setLineDash(v.options&&v.options._dashArray||[]),h.globalAlpha=k.opacity,h.lineWidth=k.weight,h.strokeStyle=k.color,h.lineCap=k.lineCap,h.lineJoin=k.lineJoin,h.stroke())},_onClick:function(h){for(var v=this._map.mouseEventToLayerPoint(h),k,I,Y=this._drawFirst;Y;Y=Y.next)k=Y.layer,k.options.interactive&&k._containsPoint(v)&&(!(h.type==="click"||h.type==="preclick")||!this._map._draggableMoved(k))&&(I=k);this._fireEvent(I?[I]:!1,h)},_onMouseMove:function(h){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var v=this._map.mouseEventToLayerPoint(h);this._handleMouseHover(h,v)}},_handleMouseOut:function(h){var v=this._hoveredLayer;v&&(vn(this._container,"leaflet-interactive"),this._fireEvent([v],h,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(h,v){if(!this._mouseHoverThrottled){for(var k,I,Y=this._drawFirst;Y;Y=Y.next)k=Y.layer,k.options.interactive&&k._containsPoint(v)&&(I=k);I!==this._hoveredLayer&&(this._handleMouseOut(h),I&&(Is(this._container,"leaflet-interactive"),this._fireEvent([I],h,"mouseover"),this._hoveredLayer=I)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,h),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(h,v,k){this._map._fireDOMEvent(v,k||v.type,h)},_bringToFront:function(h){var v=h._order;if(v){var k=v.next,I=v.prev;if(k)k.prev=I;else return;I?I.next=k:k&&(this._drawFirst=k),v.prev=this._drawLast,this._drawLast.next=v,v.next=null,this._drawLast=v,this._requestRedraw(h)}},_bringToBack:function(h){var v=h._order;if(v){var k=v.next,I=v.prev;if(I)I.next=k;else return;k?k.prev=I:I&&(this._drawLast=I),v.prev=null,v.next=this._drawFirst,this._drawFirst.prev=v,this._drawFirst=v,this._requestRedraw(h)}}});function Sl(h){return Tt.canvas?new fo(h):null}var Ja=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(h){return document.createElement("<lvml:"+h+' class="lvml">')}}catch{}return function(h){return document.createElement("<"+h+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),wd={_initContainer:function(){this._container=Ks("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(bn.prototype._update.call(this),this.fire("update"))},_initPath:function(h){var v=h._container=Ja("shape");Is(v,"leaflet-vml-shape "+(this.options.className||"")),v.coordsize="1 1",h._path=Ja("path"),v.appendChild(h._path),this._updateStyle(h),this._layers[u(h)]=h},_addPath:function(h){var v=h._container;this._container.appendChild(v),h.options.interactive&&h.addInteractiveTarget(v)},_removePath:function(h){var v=h._container;Ps(v),h.removeInteractiveTarget(v),delete this._layers[u(h)]},_updateStyle:function(h){var v=h._stroke,k=h._fill,I=h.options,Y=h._container;Y.stroked=!!I.stroke,Y.filled=!!I.fill,I.stroke?(v||(v=h._stroke=Ja("stroke")),Y.appendChild(v),v.weight=I.weight+"px",v.color=I.color,v.opacity=I.opacity,I.dashArray?v.dashStyle=S(I.dashArray)?I.dashArray.join(" "):I.dashArray.replace(/( *, *)/g," "):v.dashStyle="",v.endcap=I.lineCap.replace("butt","flat"),v.joinstyle=I.lineJoin):v&&(Y.removeChild(v),h._stroke=null),I.fill?(k||(k=h._fill=Ja("fill")),Y.appendChild(k),k.color=I.fillColor||I.color,k.opacity=I.fillOpacity):k&&(Y.removeChild(k),h._fill=null)},_updateCircle:function(h){var v=h._point.round(),k=Math.round(h._radius),I=Math.round(h._radiusY||k);this._setPath(h,h._empty()?"M0 0":"AL "+v.x+","+v.y+" "+k+","+I+" 0,"+65535*360)},_setPath:function(h,v){h._path.v=v},_bringToFront:function(h){Fr(h._container)},_bringToBack:function(h){Ko(h._container)}},po=Tt.vml?Ja:Je,Cl=bn.extend({_initContainer:function(){this._container=po("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=po("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ps(this._container),Js(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){bn.prototype._update.call(this);var h=this._bounds,v=h.getSize(),k=this._container;(!this._svgSize||!this._svgSize.equals(v))&&(this._svgSize=v,k.setAttribute("width",v.x),k.setAttribute("height",v.y)),Yn(k,h.min),k.setAttribute("viewBox",[h.min.x,h.min.y,v.x,v.y].join(" ")),this.fire("update")}},_initPath:function(h){var v=h._path=po("path");h.options.className&&Is(v,h.options.className),h.options.interactive&&Is(v,"leaflet-interactive"),this._updateStyle(h),this._layers[u(h)]=h},_addPath:function(h){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(h._path),h.addInteractiveTarget(h._path)},_removePath:function(h){Ps(h._path),h.removeInteractiveTarget(h._path),delete this._layers[u(h)]},_updatePath:function(h){h._project(),h._update()},_updateStyle:function(h){var v=h._path,k=h.options;v&&(k.stroke?(v.setAttribute("stroke",k.color),v.setAttribute("stroke-opacity",k.opacity),v.setAttribute("stroke-width",k.weight),v.setAttribute("stroke-linecap",k.lineCap),v.setAttribute("stroke-linejoin",k.lineJoin),k.dashArray?v.setAttribute("stroke-dasharray",k.dashArray):v.removeAttribute("stroke-dasharray"),k.dashOffset?v.setAttribute("stroke-dashoffset",k.dashOffset):v.removeAttribute("stroke-dashoffset")):v.setAttribute("stroke","none"),k.fill?(v.setAttribute("fill",k.fillColor||k.color),v.setAttribute("fill-opacity",k.fillOpacity),v.setAttribute("fill-rule",k.fillRule||"evenodd")):v.setAttribute("fill","none"))},_updatePoly:function(h,v){this._setPath(h,_e(h._parts,v))},_updateCircle:function(h){var v=h._point,k=Math.max(Math.round(h._radius),1),I=Math.max(Math.round(h._radiusY),1)||k,Y="a"+k+","+I+" 0 1,0 ",pe=h._empty()?"M0 0":"M"+(v.x-k)+","+v.y+Y+k*2+",0 "+Y+-k*2+",0 ";this._setPath(h,pe)},_setPath:function(h,v){h._path.setAttribute("d",v)},_bringToFront:function(h){Fr(h._path)},_bringToBack:function(h){Ko(h._path)}});Tt.vml&&Cl.include(wd);function Pi(h){return Tt.svg||Tt.vml?new Cl(h):null}Xs.include({getRenderer:function(h){var v=h.options.renderer||this._getPaneRenderer(h.options.pane)||this.options.renderer||this._renderer;return v||(v=this._renderer=this._createRenderer()),this.hasLayer(v)||this.addLayer(v),v},_getPaneRenderer:function(h){if(h==="overlayPane"||h===void 0)return!1;var v=this._paneRenderers[h];return v===void 0&&(v=this._createRenderer({pane:h}),this._paneRenderers[h]=v),v},_createRenderer:function(h){return this.options.preferCanvas&&Sl(h)||Pi(h)}});var di=Ti.extend({initialize:function(h,v){Ti.prototype.initialize.call(this,this._boundsToLatLngs(h),v)},setBounds:function(h){return this.setLatLngs(this._boundsToLatLngs(h))},_boundsToLatLngs:function(h){return h=se(h),[h.getSouthWest(),h.getNorthWest(),h.getNorthEast(),h.getSouthEast()]}});function Ju(h,v){return new di(h,v)}Cl.create=po,Cl.pointsToPath=_e,co.geometryToLayer=Jr,co.coordsToLatLng=Qo,co.coordsToLatLngs=li,co.latLngToCoords=ci,co.latLngsToCoords=uo,co.getFeature=Ji,co.asFeature=ho,Xs.mergeOptions({boxZoom:!0});var Li=Ra.extend({initialize:function(h){this._map=h,this._container=h._container,this._pane=h._panes.overlayPane,this._resetStateTimeout=0,h.on("unload",this._destroy,this)},addHooks:function(){ws(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Js(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ps(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(h){if(!h.shiftKey||h.which!==1&&h.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Zl(),cd(),this._startPoint=this._map.mouseEventToContainerPoint(h),ws(document,{contextmenu:Pa,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(h){this._moved||(this._moved=!0,this._box=Ks("div","leaflet-zoom-box",this._container),Is(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(h);var v=new re(this._point,this._startPoint),k=v.getSize();Yn(this._box,v.min),this._box.style.width=k.x+"px",this._box.style.height=k.y+"px"},_finish:function(){this._moved&&(Ps(this._box),vn(this._container,"leaflet-crosshair")),Ta(),$a(),Js(document,{contextmenu:Pa,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(h){if(!(h.which!==1&&h.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var v=new J(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(v).fire("boxzoomend",{boxZoomBounds:v})}},_onKeyDown:function(h){h.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Xs.addInitHook("addHandler","boxZoom",Li),Xs.mergeOptions({doubleClickZoom:!0});var uu=Ra.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(h){var v=this._map,k=v.getZoom(),I=v.options.zoomDelta,Y=h.originalEvent.shiftKey?k-I:k+I;v.options.doubleClickZoom==="center"?v.setZoom(Y):v.setZoomAround(h.containerPoint,Y)}});Xs.addInitHook("addHandler","doubleClickZoom",uu),Xs.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Xa=Ra.extend({addHooks:function(){if(!this._draggable){var h=this._map;this._draggable=new lo(h._mapPane,h._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),h.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),h.on("zoomend",this._onZoomEnd,this),h.whenReady(this._onZoomEnd,this))}Is(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){vn(this._map._container,"leaflet-grab"),vn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var h=this._map;if(h._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var v=se(this._map.options.maxBounds);this._offsetLimit=U(this._map.latLngToContainerPoint(v.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(v.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;h.fire("movestart").fire("dragstart"),h.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(h){if(this._map.options.inertia){var v=this._lastTime=+new Date,k=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(k),this._times.push(v),this._prunePositions(v)}this._map.fire("move",h).fire("drag",h)},_prunePositions:function(h){for(;this._positions.length>1&&h-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var h=this._map.getSize().divideBy(2),v=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=v.subtract(h).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(h,v){return h-(h-v)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var h=this._draggable._newPos.subtract(this._draggable._startPos),v=this._offsetLimit;h.x<v.min.x&&(h.x=this._viscousLimit(h.x,v.min.x)),h.y<v.min.y&&(h.y=this._viscousLimit(h.y,v.min.y)),h.x>v.max.x&&(h.x=this._viscousLimit(h.x,v.max.x)),h.y>v.max.y&&(h.y=this._viscousLimit(h.y,v.max.y)),this._draggable._newPos=this._draggable._startPos.add(h)}},_onPreDragWrap:function(){var h=this._worldWidth,v=Math.round(h/2),k=this._initialWorldOffset,I=this._draggable._newPos.x,Y=(I-v+k)%h+v-k,pe=(I+v+k)%h-v-k,Ae=Math.abs(Y+k)<Math.abs(pe+k)?Y:pe;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Ae},_onDragEnd:function(h){var v=this._map,k=v.options,I=!k.inertia||h.noInertia||this._times.length<2;if(v.fire("dragend",h),I)v.fire("moveend");else{this._prunePositions(+new Date);var Y=this._lastPos.subtract(this._positions[0]),pe=(this._lastTime-this._times[0])/1e3,Ae=k.easeLinearity,Ve=Y.multiplyBy(Ae/pe),Qe=Ve.distanceTo([0,0]),gt=Math.min(k.inertiaMaxSpeed,Qe),Ot=Ve.multiplyBy(gt/Qe),ts=gt/(k.inertiaDeceleration*Ae),Ys=Ot.multiplyBy(-ts/2).round();!Ys.x&&!Ys.y?v.fire("moveend"):(Ys=v._limitOffset(Ys,v.options.maxBounds),$(function(){v.panBy(Ys,{duration:ts,easeLinearity:Ae,noMoveStart:!0,animate:!0})}))}}});Xs.addInitHook("addHandler","dragging",Xa),Xs.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Nd=Ra.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(h){this._map=h,this._setPanDelta(h.options.keyboardPanDelta),this._setZoomDelta(h.options.zoomDelta)},addHooks:function(){var h=this._map._container;h.tabIndex<=0&&(h.tabIndex="0"),ws(h,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Js(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var h=document.body,v=document.documentElement,k=h.scrollTop||v.scrollTop,I=h.scrollLeft||v.scrollLeft;this._map._container.focus(),window.scrollTo(I,k)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(h){var v=this._panKeys={},k=this.keyCodes,I,Y;for(I=0,Y=k.left.length;I<Y;I++)v[k.left[I]]=[-1*h,0];for(I=0,Y=k.right.length;I<Y;I++)v[k.right[I]]=[h,0];for(I=0,Y=k.down.length;I<Y;I++)v[k.down[I]]=[0,h];for(I=0,Y=k.up.length;I<Y;I++)v[k.up[I]]=[0,-1*h]},_setZoomDelta:function(h){var v=this._zoomKeys={},k=this.keyCodes,I,Y;for(I=0,Y=k.zoomIn.length;I<Y;I++)v[k.zoomIn[I]]=h;for(I=0,Y=k.zoomOut.length;I<Y;I++)v[k.zoomOut[I]]=-h},_addHooks:function(){ws(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Js(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(h){if(!(h.altKey||h.ctrlKey||h.metaKey)){var v=h.keyCode,k=this._map,I;if(v in this._panKeys){if(!k._panAnim||!k._panAnim._inProgress)if(I=this._panKeys[v],h.shiftKey&&(I=ne(I).multiplyBy(3)),k.options.maxBounds&&(I=k._limitOffset(ne(I),k.options.maxBounds)),k.options.worldCopyJump){var Y=k.wrapLatLng(k.unproject(k.project(k.getCenter()).add(I)));k.panTo(Y)}else k.panBy(I)}else if(v in this._zoomKeys)k.setZoom(k.getZoom()+(h.shiftKey?3:1)*this._zoomKeys[v]);else if(v===27&&k._popup&&k._popup.options.closeOnEscapeKey)k.closePopup();else return;Pa(h)}}});Xs.addInitHook("addHandler","keyboard",Nd),Xs.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Rc=Ra.extend({addHooks:function(){ws(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Js(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(h){var v=Kr(h),k=this._map.options.wheelDebounceTime;this._delta+=v,this._lastMousePos=this._map.mouseEventToContainerPoint(h),this._startTime||(this._startTime=+new Date);var I=Math.max(k-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),I),Pa(h)},_performZoom:function(){var h=this._map,v=h.getZoom(),k=this._map.options.zoomSnap||0;h._stop();var I=this._delta/(this._map.options.wheelPxPerZoomLevel*4),Y=4*Math.log(2/(1+Math.exp(-Math.abs(I))))/Math.LN2,pe=k?Math.ceil(Y/k)*k:Y,Ae=h._limitZoom(v+(this._delta>0?pe:-pe))-v;this._delta=0,this._startTime=null,Ae&&(h.options.scrollWheelZoom==="center"?h.setZoom(v+Ae):h.setZoomAround(this._lastMousePos,v+Ae))}});Xs.addInitHook("addHandler","scrollWheelZoom",Rc);var oc=600;Xs.mergeOptions({tapHold:Tt.touchNative&&Tt.safari&&Tt.mobile,tapTolerance:15});var _d=Ra.extend({addHooks:function(){ws(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Js(this._map._container,"touchstart",this._onDown,this)},_onDown:function(h){if(clearTimeout(this._holdTimeout),h.touches.length===1){var v=h.touches[0];this._startPos=this._newPos=new te(v.clientX,v.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(ws(document,"touchend",hr),ws(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",v))},this),oc),ws(document,"touchend touchcancel contextmenu",this._cancel,this),ws(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function h(){Js(document,"touchend",hr),Js(document,"touchend touchcancel",h)},_cancel:function(){clearTimeout(this._holdTimeout),Js(document,"touchend touchcancel contextmenu",this._cancel,this),Js(document,"touchmove",this._onMove,this)},_onMove:function(h){var v=h.touches[0];this._newPos=new te(v.clientX,v.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(h,v){var k=new MouseEvent(h,{bubbles:!0,cancelable:!0,view:window,screenX:v.screenX,screenY:v.screenY,clientX:v.clientX,clientY:v.clientY});k._simulated=!0,v.target.dispatchEvent(k)}});Xs.addInitHook("addHandler","tapHold",_d),Xs.mergeOptions({touchZoom:Tt.touch,bounceAtZoomLimits:!0});var hu=Ra.extend({addHooks:function(){Is(this._map._container,"leaflet-touch-zoom"),ws(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){vn(this._map._container,"leaflet-touch-zoom"),Js(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(h){var v=this._map;if(!(!h.touches||h.touches.length!==2||v._animatingZoom||this._zooming)){var k=v.mouseEventToContainerPoint(h.touches[0]),I=v.mouseEventToContainerPoint(h.touches[1]);this._centerPoint=v.getSize()._divideBy(2),this._startLatLng=v.containerPointToLatLng(this._centerPoint),v.options.touchZoom!=="center"&&(this._pinchStartLatLng=v.containerPointToLatLng(k.add(I)._divideBy(2))),this._startDist=k.distanceTo(I),this._startZoom=v.getZoom(),this._moved=!1,this._zooming=!0,v._stop(),ws(document,"touchmove",this._onTouchMove,this),ws(document,"touchend touchcancel",this._onTouchEnd,this),hr(h)}},_onTouchMove:function(h){if(!(!h.touches||h.touches.length!==2||!this._zooming)){var v=this._map,k=v.mouseEventToContainerPoint(h.touches[0]),I=v.mouseEventToContainerPoint(h.touches[1]),Y=k.distanceTo(I)/this._startDist;if(this._zoom=v.getScaleZoom(Y,this._startZoom),!v.options.bounceAtZoomLimits&&(this._zoom<v.getMinZoom()&&Y<1||this._zoom>v.getMaxZoom()&&Y>1)&&(this._zoom=v._limitZoom(this._zoom)),v.options.touchZoom==="center"){if(this._center=this._startLatLng,Y===1)return}else{var pe=k._add(I)._divideBy(2)._subtract(this._centerPoint);if(Y===1&&pe.x===0&&pe.y===0)return;this._center=v.unproject(v.project(this._pinchStartLatLng,this._zoom).subtract(pe),this._zoom)}this._moved||(v._moveStart(!0,!1),this._moved=!0),W(this._animRequest);var Ae=l(v._move,v,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=$(Ae,this,!0),hr(h)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,W(this._animRequest),Js(document,"touchmove",this._onTouchMove,this),Js(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Xs.addInitHook("addHandler","touchZoom",hu),Xs.BoxZoom=Li,Xs.DoubleClickZoom=uu,Xs.Drag=Xa,Xs.Keyboard=Nd,Xs.ScrollWheelZoom=Rc,Xs.TapHold=_d,Xs.TouchZoom=hu,s.Bounds=re,s.Browser=Tt,s.CRS=we,s.Canvas=fo,s.Circle=Ei,s.CircleMarker=Ro,s.Class=Z,s.Control=Nr,s.DivIcon=ic,s.DivOverlay=_r,s.DomEvent=Ec,s.DomUtil=js,s.Draggable=lo,s.Evented=ce,s.FeatureGroup=Oa,s.GeoJSON=co,s.GridLayer=tl,s.Handler=Ra,s.Icon=ga,s.ImageOverlay=el,s.LatLng=ue,s.LatLngBounds=J,s.Layer=xr,s.LayerGroup=pa,s.LineUtil=on,s.Map=Xs,s.Marker=kr,s.Mixin=Wu,s.Path=xa,s.Point=te,s.PolyUtil=sc,s.Polygon=Ti,s.Polyline=Wa,s.Popup=Mo,s.PosAnimation=bl,s.Projection=Ar,s.Rectangle=di,s.Renderer=bn,s.SVG=Cl,s.SVGOverlay=Lc,s.TileLayer=Qr,s.Tooltip=Do,s.Transformation=tt,s.Util=Q,s.VideoOverlay=Xr,s.bind=l,s.bounds=U,s.canvas=Sl,s.circle=Zu,s.circleMarker=vd,s.control=Ai,s.divIcon=ac,s.extend=i,s.featureGroup=xd,s.geoJSON=mo,s.geoJson=nr,s.gridLayer=Ka,s.icon=wl,s.imageOverlay=Xi,s.latLng=be,s.latLngBounds=se,s.layerGroup=Yu,s.map=hd,s.marker=Pc,s.point=ne,s.polygon=yd,s.polyline=Ku,s.popup=_l,s.rectangle=Ju,s.setOptions=j,s.stamp=u,s.svg=Pi,s.svgOverlay=bd,s.tileLayer=Qs,s.tooltip=jd,s.transformation=lt,s.version=r,s.videoOverlay=Oo;var Sd=window.L;s.noConflict=function(){return window.L=Sd,this},window.L=s}))})(Ng,Ng.exports)),Ng.exports}var RZ=LZ();const hl=Iy(RZ);delete hl.Icon.Default.prototype._getIconUrl;hl.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png"});function OZ({locations:n,onLocationClick:t}){const s=w.useRef(null),r=w.useRef(null),[i,a]=w.useState(null),l=w.useRef([]);w.useEffect(()=>{if(!(!s.current||r.current))return r.current=hl.map(s.current).setView([10.8155,78.7047],6),hl.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(r.current),()=>{var u;(u=r.current)==null||u.remove(),r.current=null}},[]),w.useEffect(()=>{if(!r.current||!n.length)return;l.current.forEach(y=>y.remove()),l.current=[];const u=n.filter(y=>y.latitude&&y.longitude);if(u.length===0)return;const m=y=>{const A=`
        <svg width="32" height="42" viewBox="0 0 32 42" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <filter id="shadow${y?"Op":"Av"}" x="-30%" y="-20%" width="160%" height="160%">
              <feDropShadow dx="0" dy="2" stdDeviation="2" flood-opacity="0.35"/>
            </filter>
            <linearGradient id="pinGrad${y?"Op":"Av"}" x1="0%" y1="0%" x2="0%" y2="100%">
              <stop offset="0%" style="stop-color:${y?"#EF4444":"#F9FAFB"}"/>
              <stop offset="100%" style="stop-color:${y?"#DC2626":"#FFFFFF"}"/>
            </linearGradient>
          </defs>
          
          <!-- Teardrop shape -->
          <path 
            d="M16 0C7.16 0 0 7.16 0 16c0 10.67 16 26 16 26s16-15.33 16-26C32 7.16 24.84 0 16 0z" 
            fill="url(#pinGrad${y?"Op":"Av"})" 
            stroke="${y?"#991B1B":"#6B7280"}" 
            stroke-width="2"
            filter="url(#shadow${y?"Op":"Av"})"
          />
          
          <!-- Inner dot -->
          <circle cx="16" cy="14" r="6" fill="${y?"#FFFFFF":"#6B7280"}" opacity="${y?"0.9":"0.4"}"/>
        </svg>
      `;return hl.divIcon({className:"custom-pin-icon",html:A,iconSize:[32,42],iconAnchor:[16,42],popupAnchor:[0,-42]})},g=m(!0),p=m(!1);if(u.forEach(y=>{const x=y.status==="operating"?g:p,_=hl.marker([y.latitude,y.longitude],{icon:x}).addTo(r.current),j=`
        <div style="min-width: 200px;">
          <strong>${y.location_name||`${y.city} Location`}</strong><br/>
          <small>${y.city}, ${y.state}</small><br/>
          <span style="
            display: inline-block;
            margin-top: 4px;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 12px;
            ${y.status==="operating"?"background: #EF4444; color: white;":"background: white; color: #374151; border: 1px solid #9CA3AF;"}
          ">
            ${y.status==="operating"?"Operating":"Available"}
          </span>
        </div>
      `;_.bindPopup(j),_.on("click",()=>{a(y),t&&t(y)}),l.current.push(_)}),u.length>0){const y=hl.latLngBounds(u.map(x=>[x.latitude,x.longitude]));r.current.fitBounds(y,{padding:[50,50],maxZoom:12})}},[n,t]);const c=u=>u?new Date(u).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A";return e.jsxs("div",{className:"relative w-full h-full",children:[e.jsx("div",{ref:s,className:"w-full h-full rounded-lg",style:{minHeight:"600px"}}),i&&e.jsx(de,{className:"absolute top-4 left-4 w-80 shadow-lg z-[1000]",children:e.jsxs(fe,{className:"pt-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-lg",children:i.location_name||`${i.city} Location`}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.jsx(Ln,{className:"inline h-3 w-3 mr-1"}),i.city,", ",i.state]})]}),e.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>a(null),children:e.jsx(Lr,{className:"h-4 w-4"})})]}),e.jsx(Be,{className:i.status==="operating"?"bg-red-500 text-white":"bg-white text-gray-800 border border-gray-300",children:i.status==="operating"?"Operating":"Looking for Franchise"}),e.jsxs("div",{className:"mt-4 space-y-2 text-sm",children:[e.jsx("p",{className:"text-muted-foreground",children:i.address_line1}),i.address_line2&&e.jsx("p",{className:"text-muted-foreground",children:i.address_line2}),e.jsxs("p",{className:"text-muted-foreground",children:[i.city,", ",i.state," ",i.zip_code]}),i.opening_date&&e.jsxs("p",{className:"pt-2 border-t",children:[e.jsx("span",{className:"text-muted-foreground",children:"Opened:"})," ",e.jsx("span",{className:"font-medium",children:c(i.opening_date)})]})]})]})}),e.jsx(de,{className:"absolute bottom-4 left-4 shadow-lg z-[1000]",children:e.jsx(fe,{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{width:"18",height:"22",viewBox:"0 0 36 44",className:"shrink-0",children:e.jsx("path",{d:"M18 0C8.06 0 0 8.06 0 18c0 12 18 26 18 26s18-14 18-26C36 8.06 27.94 0 18 0z",fill:"#DC2626",stroke:"#B91C1C",strokeWidth:"2"})}),e.jsx("span",{children:"Operating"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{width:"18",height:"22",viewBox:"0 0 36 44",className:"shrink-0",children:e.jsx("path",{d:"M18 0C8.06 0 0 8.06 0 18c0 12 18 26 18 26s18-14 18-26C36 8.06 27.94 0 18 0z",fill:"#FFFFFF",stroke:"#9CA3AF",strokeWidth:"2"})}),e.jsx("span",{children:"Available"})]})]})})})]})}var _0="Switch",[MZ]=qa(_0),[DZ,IZ]=MZ(_0),SP=w.forwardRef((n,t)=>{const{__scopeSwitch:s,name:r,checked:i,defaultChecked:a,required:l,disabled:c,value:u="on",onCheckedChange:m,form:g,...p}=n,[y,x]=w.useState(null),_=Ss(t,S=>x(S)),j=w.useRef(!1),A=y?g||!!y.closest("form"):!0,[C,P]=$l({prop:i,defaultProp:a??!1,onChange:m,caller:_0});return e.jsxs(DZ,{scope:s,checked:C,disabled:c,children:[e.jsx(as.button,{type:"button",role:"switch","aria-checked":C,"aria-required":l,"data-state":EP(C),"data-disabled":c?"":void 0,disabled:c,value:u,...p,ref:_,onClick:kt(n.onClick,S=>{P(O=>!O),A&&(j.current=S.isPropagationStopped(),j.current||S.stopPropagation())})}),A&&e.jsx(kP,{control:y,bubbles:!j.current,name:r,value:u,checked:C,required:l,disabled:c,form:g,style:{transform:"translateX(-100%)"}})]})});SP.displayName=_0;var CP="SwitchThumb",AP=w.forwardRef((n,t)=>{const{__scopeSwitch:s,...r}=n,i=IZ(CP,s);return e.jsx(as.span,{"data-state":EP(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});AP.displayName=CP;var FZ="SwitchBubbleInput",kP=w.forwardRef(({__scopeSwitch:n,control:t,checked:s,bubbles:r=!0,...i},a)=>{const l=w.useRef(null),c=Ss(l,a),u=px(s),m=rx(t);return w.useEffect(()=>{const g=l.current;if(!g)return;const p=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(p,"checked").set;if(u!==s&&x){const _=new Event("click",{bubbles:r});x.call(g,s),g.dispatchEvent(_)}},[u,s,r]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...i,tabIndex:-1,ref:c,style:{...i.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});kP.displayName=FZ;function EP(n){return n?"checked":"unchecked"}var TP=SP,BZ=AP;const ii=w.forwardRef(({className:n,...t},s)=>e.jsx(TP,{className:nt("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",n),...t,ref:s,children:e.jsx(BZ,{className:nt("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));ii.displayName=TP.displayName;class DS{static parseCSV(t){const s=t.split(`
`).filter(a=>a.trim());if(s.length<2)throw new Error("CSV file is empty or invalid");const r=s[0].split(",").map(a=>a.trim().toLowerCase()),i=[];for(let a=1;a<s.length;a++){const l=s[a].split(",").map(u=>u.trim()),c={};r.forEach((u,m)=>{const g=l[m];if(g)switch(u){case"location_name":case"name":c.location_name=g;break;case"address":case"address_line1":c.address_line1=g;break;case"address_line2":c.address_line2=g;break;case"city":c.city=g;break;case"state":c.state=g;break;case"zip":case"zip_code":case"zipcode":c.zip_code=g;break;case"country":c.country=g;break;case"status":c.status=g.toLowerCase()==="operating"?"operating":"looking_for_franchise";break;case"opening_date":case"opened":c.opening_date=g;break;case"latitude":case"lat":c.latitude=parseFloat(g);break;case"longitude":case"lng":case"lon":c.longitude=parseFloat(g);break}}),c.address_line1&&c.city&&c.state&&c.zip_code&&i.push(c)}return i}static async geocodeAddress(t,s,r,i){try{const a=encodeURIComponent(`${t}, ${s}, ${r} ${i}, USA`),c=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${a}&limit=1`,{headers:{"User-Agent":"BizSearch-Franchise-Locator"}})).json();return c&&c.length>0?{latitude:parseFloat(c[0].lat),longitude:parseFloat(c[0].lon),formatted_address:c[0].display_name}:null}catch(a){return console.error("Geocoding error:",a),null}}static async bulkUploadLocations(t,s,r=!0){const i={success:0,failed:0,errors:[],locations:[]};try{const a=this.parseCSV(s);for(let l=0;l<a.length;l++){const c=a[l];try{if(r&&(!c.latitude||!c.longitude)){const g=await this.geocodeAddress(c.address_line1,c.city,c.state,c.zip_code);g&&(c.latitude=g.latitude,c.longitude=g.longitude),await new Promise(p=>setTimeout(p,1e3))}const{data:u,error:m}=await Le.from("franchise_locations").insert({...c,franchise_id:t}).select().single();if(m)throw m;i.success++,i.locations.push(u)}catch(u){i.failed++,i.errors.push({row:l+2,error:u.message||"Unknown error"})}}}catch(a){throw new Error(`CSV parsing failed: ${a.message}`)}return i}static downloadCSVTemplate(){const t=`location_name,address_line1,address_line2,city,state,zip_code,country,status,opening_date,latitude,longitude
McDonald's Downtown,123 Main St,,New York,NY,10001,United States,operating,2020-01-15,40.7580,-73.9855
Available Location,456 Broadway,,Los Angeles,CA,90012,United States,looking_for_franchise,,,
`,s=new Blob([t],{type:"text/csv"}),r=window.URL.createObjectURL(s),i=document.createElement("a");i.href=r,i.download="franchise_locations_template.csv",i.click(),window.URL.revokeObjectURL(r)}static exportLocationsToCSV(t){const s=["location_name","address_line1","address_line2","city","state","zip_code","country","status","opening_date","latitude","longitude"],r=t.map(u=>[u.location_name||"",u.address_line1,u.address_line2||"",u.city,u.state,u.zip_code,u.country,u.status,u.opening_date||"",u.latitude||"",u.longitude||""]),i=[s.join(","),...r.map(u=>u.map(m=>`"${m}"`).join(","))].join(`
`),a=new Blob([i],{type:"text/csv"}),l=window.URL.createObjectURL(a),c=document.createElement("a");c.href=l,c.download=`franchise_locations_${new Date().toISOString().split("T")[0]}.csv`,c.click(),window.URL.revokeObjectURL(l)}static async geocodeAndUpdateLocation(t){const{data:s,error:r}=await Le.from("franchise_locations").select("*").eq("id",t).single();if(r)throw r;const i=await this.geocodeAddress(s.address_line1,s.city,s.state,s.zip_code);if(!i)throw new Error("Could not geocode address");const{data:a,error:l}=await Le.from("franchise_locations").update({latitude:i.latitude,longitude:i.longitude}).eq("id",t).select().single();if(l)throw l;return a}static async batchGeocodeLocations(t){const s={success:0,failed:0,errors:[]},{data:r,error:i}=await Le.from("franchise_locations").select("*").eq("franchise_id",t).or("latitude.is.null,longitude.is.null");if(i)throw i;if(!r||r.length===0)return s;for(const a of r)try{await this.geocodeAndUpdateLocation(a.id),s.success++,await new Promise(l=>setTimeout(l,1e3))}catch(l){s.failed++,s.errors.push(`${a.location_name||a.city}: ${l.message}`)}return s}}function zZ({franchiseId:n,onComplete:t}){const[s,r]=w.useState(!1),[i,a]=w.useState(null),[l,c]=w.useState(!0),[u,m]=w.useState(0),g=async p=>{var x;const y=(x=p.target.files)==null?void 0:x[0];if(y){r(!0),a(null),m(0);try{const _=await y.text(),j=setInterval(()=>{m(C=>Math.min(C+10,90))},500),A=await DS.bulkUploadLocations(n,_,l);clearInterval(j),m(100),a(A),t&&t(A)}catch(_){a({success:0,failed:0,errors:[{row:0,error:_.message}],locations:[]})}finally{r(!1)}}};return e.jsxs(de,{children:[e.jsxs(Me,{children:[e.jsx(Fe,{children:"Bulk Upload Locations"}),e.jsx(ms,{children:"Upload multiple franchise locations at once using a CSV file"})]}),e.jsxs(fe,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(_s,{className:"h-5 w-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:"CSV Template"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Download the template to see required format"})]})]}),e.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>DS.downloadCSVTemplate(),children:[e.jsx(oi,{className:"h-4 w-4 mr-2"}),"Download"]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(ve,{htmlFor:"auto-geocode",className:"text-sm font-medium",children:"Auto-geocode Addresses"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically find latitude/longitude for addresses without coordinates"})]}),e.jsx(ii,{id:"auto-geocode",checked:l,onCheckedChange:c})]}),e.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center",children:[e.jsx("input",{type:"file",accept:".csv",onChange:g,disabled:s,className:"hidden",id:"csv-upload"}),e.jsxs("label",{htmlFor:"csv-upload",className:"cursor-pointer",children:[e.jsx(ml,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-sm font-medium mb-1",children:"Click to upload CSV file"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"or drag and drop your file here"})]})]}),s&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Uploading locations..."}),e.jsxs("span",{className:"font-medium",children:[u,"%"]})]}),e.jsx(On,{value:u,className:"h-2"})]}),i&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(de,{className:"border-green-200 bg-green-50",children:e.jsx(fe,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Lt,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-green-900",children:i.success}),e.jsx("p",{className:"text-sm text-green-700",children:"Successful"})]})]})})}),e.jsx(de,{className:"border-red-200 bg-red-50",children:e.jsx(fe,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(pi,{className:"h-8 w-8 text-red-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-red-900",children:i.failed}),e.jsx("p",{className:"text-sm text-red-700",children:"Failed"})]})]})})})]}),i.errors.length>0&&e.jsx(Xn,{variant:"destructive",children:e.jsxs(Qn,{children:[e.jsx("p",{className:"font-medium mb-2",children:"Errors found:"}),e.jsxs("ul",{className:"list-disc list-inside text-sm space-y-1",children:[i.errors.slice(0,5).map((p,y)=>e.jsxs("li",{children:["Row ",p.row,": ",p.error]},y)),i.errors.length>5&&e.jsxs("li",{children:["... and ",i.errors.length-5," more errors"]})]})]})})]})]})]})}class IS{static async getFranchiseIdBySlug(t){const{data:s,error:r}=await Le.from("franchises").select("id").eq("slug",t).single();return r?(console.error("Error fetching franchise by slug:",r),null):(s==null?void 0:s.id)||null}static async getLocations(t){let s=t;if(!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t)){const a=await this.getFranchiseIdBySlug(t);if(!a)throw new Error("Franchise not found");s=a}const{data:r,error:i}=await Le.from("franchise_locations").select("*").eq("franchise_id",s).order("opening_date",{ascending:!1});if(i)throw i;return r||[]}static async getOperatingLocations(t){const{data:s,error:r}=await Le.from("franchise_locations").select("*").eq("franchise_id",t).eq("status","operating").order("opening_date",{ascending:!1});if(r)throw r;return s||[]}static async getLocationsByState(t,s){const{data:r,error:i}=await Le.from("franchise_locations").select("*").eq("franchise_id",t).eq("state",s).order("city");if(i)throw i;return r||[]}static async getLocationStats(t){let s=t;if(!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t)){const a=await this.getFranchiseIdBySlug(t);if(!a)return null;s=a}const{data:r,error:i}=await Le.from("franchise_location_summary").select("*").eq("franchise_id",s).single();return i?(console.error("Error fetching location stats:",i),null):r}static async getTerritories(t){const{data:s,error:r}=await Le.from("franchise_territories").select("*").eq("franchise_id",t).order("state");if(r)throw r;return s||[]}static async getAvailableTerritories(t){const{data:s,error:r}=await Le.from("franchise_territories").select("*").eq("franchise_id",t).eq("status","available").order("market_potential_score",{ascending:!1});if(r)throw r;return s||[]}static async getTerritoryStats(t){const{data:s,error:r}=await Le.from("franchise_territory_summary").select("*").eq("franchise_id",t).single();return r?(console.error("Error fetching territory stats:",r),null):s}static async getLocationsByStateGrouped(t){return(await this.getLocations(t)).reduce((r,i)=>(r[i.state]||(r[i.state]=[]),r[i.state].push(i),r),{})}static async searchNearby(t,s,r,i=50){const a=i/69,l=i/(69*Math.cos(s*Math.PI/180)),{data:c,error:u}=await Le.from("franchise_locations").select("*").eq("franchise_id",t).gte("latitude",s-a).lte("latitude",s+a).gte("longitude",r-l).lte("longitude",r+l).not("latitude","is",null).not("longitude","is",null);if(u)throw u;return(c||[]).filter(g=>!g.latitude||!g.longitude?!1:this.calculateDistance(s,r,g.latitude,g.longitude)<=i)}static calculateDistance(t,s,r,i){const l=(r-t)*Math.PI/180,c=(i-s)*Math.PI/180,u=Math.sin(l/2)*Math.sin(l/2)+Math.cos(t*Math.PI/180)*Math.cos(r*Math.PI/180)*Math.sin(c/2)*Math.sin(c/2);return 3959*(2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)))}static async addLocation(t){const{data:s,error:r}=await Le.from("franchise_locations").insert(t).select().single();if(r)throw r;return s}static async updateLocation(t,s){const{data:r,error:i}=await Le.from("franchise_locations").update(s).eq("id",t).select().single();if(i)throw i;return r}static async deleteLocation(t){const{error:s}=await Le.from("franchise_locations").delete().eq("id",t);if(s)throw s}static async addTerritory(t){const{data:s,error:r}=await Le.from("franchise_territories").insert(t).select().single();if(r)throw r;return s}static async reserveTerritory(t,s,r=30){const i=new Date;i.setDate(i.getDate()+r);const{data:a,error:l}=await Le.from("franchise_territories").update({status:"reserved",reserved_by:s,reserved_until:i.toISOString().split("T")[0]}).eq("id",t).eq("status","available").select().single();if(l)throw l;return a}}function qZ(){const{id:n}=Jd(),{user:t,profile:s}=Bs(),[r,i]=w.useState([]),[a,l]=w.useState(null),[c,u]=w.useState(!0),[m,g]=w.useState("all"),[p,y]=w.useState(""),[x,_]=w.useState(!1),[j,A]=w.useState(!1);w.useEffect(()=>{n&&P()},[n]);const C=D=>/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(D),P=async()=>{if(n){u(!0);try{const[D,K]=await Promise.all([IS.getLocations(n),IS.getLocationStats(n)]);if(i(D),l(K),t&&s){const{supabase:H}=await wy(async()=>{const{supabase:Q}=await Promise.resolve().then(()=>fI);return{supabase:Q}},void 0),$=H.from("franchises").select("franchisor_id"),{data:W}=await(C(n)?$.eq("id",n).single():$.eq("slug",n).single());A((W==null?void 0:W.franchisor_id)===t.id)}}catch(D){console.error("Error loading franchise locations:",D)}finally{u(!1)}}},S=Array.from(new Set(r.map(D=>D.state))).sort(),O=r.filter(D=>{if(m!=="all"&&D.state!==m)return!1;if(p){const K=p.toLowerCase();return D.city.toLowerCase().includes(K)||D.state.toLowerCase().includes(K)||D.address_line1.toLowerCase().includes(K)||D.zip_code.includes(K)}return!0}),z=D=>D==="operating"?"bg-red-500 text-white":"bg-white text-gray-800 border border-gray-300",V=D=>D==="operating"?"Operating":"Looking for Franchise",B=D=>D?new Date(D).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A";return c?e.jsx("div",{className:"container mx-auto px-4 py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-current border-r-transparent"}),e.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading locations..."})]})}):e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Franchise Locations"}),e.jsx("p",{className:"text-muted-foreground",children:"Red pins: Operating franchises  White pins: Available for new franchisors"})]}),j&&e.jsxs(ha,{open:x,onOpenChange:_,children:[e.jsx(zh,{asChild:!0,children:e.jsxs(ee,{children:[e.jsx(ml,{className:"h-4 w-4 mr-2"}),"Bulk Upload Locations"]})}),e.jsxs($i,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(Vi,{children:e.jsx(Hi,{children:"Bulk Upload Franchise Locations"})}),e.jsx(zZ,{franchiseId:n,onComplete:D=>{D.success>0&&(P(),setTimeout(()=>_(!1),2e3))}})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[e.jsxs(de,{children:[e.jsxs(Me,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(Fe,{className:"text-sm font-medium",children:"Total Locations"}),e.jsx(Zs,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(fe,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(a==null?void 0:a.total_locations)||0}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Across ",(a==null?void 0:a.states_covered)||0," states"]})]})]}),e.jsxs(de,{children:[e.jsxs(Me,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(Fe,{className:"text-sm font-medium",children:"Operating"}),e.jsx("div",{className:"h-3 w-3 rounded-full bg-red-500"})]}),e.jsxs(fe,{children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:(a==null?void 0:a.operating_count)||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently running"})]})]}),e.jsxs(de,{children:[e.jsxs(Me,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(Fe,{className:"text-sm font-medium",children:"Available"}),e.jsx("div",{className:"h-3 w-3 rounded-full bg-white border-2 border-gray-300"})]}),e.jsxs(fe,{children:[e.jsx("div",{className:"text-2xl font-bold text-gray-600",children:(a==null?void 0:a.looking_for_franchise_count)||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Looking for franchisors"})]})]})]}),e.jsx(de,{className:"mb-6",children:e.jsx(fe,{className:"pt-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(Ue,{placeholder:"Search city, state, or zip...",value:p,onChange:D=>y(D.target.value),className:"w-full"}),e.jsxs(Jt,{value:m,onValueChange:g,children:[e.jsx(Wt,{children:e.jsx(Xt,{placeholder:"Filter by state"})}),e.jsxs(Yt,{children:[e.jsx(Ee,{value:"all",children:"All States"}),S.map(D=>e.jsx(Ee,{value:D,children:D},D))]})]})]})})}),e.jsx(de,{className:"mb-6",children:e.jsx(fe,{className:"p-0",children:e.jsx("div",{className:"h-[600px] rounded-lg overflow-hidden",children:e.jsx(OZ,{locations:O})})})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold mb-4",children:["All Locations (",O.length,")"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[O.map(D=>e.jsxs(de,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(Me,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(Fe,{className:"text-base",children:D.location_name||`${D.city} Location`}),e.jsxs(ms,{className:"mt-1",children:[e.jsx(Ln,{className:"inline h-3 w-3 mr-1"}),D.city,", ",D.state]})]}),e.jsx(Be,{className:z(D.status),children:V(D.status)})]})}),e.jsxs(fe,{className:"space-y-2",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"text-muted-foreground",children:D.address_line1}),D.address_line2&&e.jsx("p",{className:"text-muted-foreground",children:D.address_line2}),e.jsxs("p",{className:"text-muted-foreground",children:[D.city,", ",D.state," ",D.zip_code]})]}),D.opening_date&&e.jsxs("div",{className:"flex items-center text-sm pt-2 border-t",children:[e.jsx("span",{className:"text-muted-foreground mr-2",children:"Opening Date:"}),e.jsx("span",{className:"font-medium",children:B(D.opening_date)})]})]})]},D.id)),O.length===0&&e.jsxs("div",{className:"col-span-full text-center py-12",children:[e.jsx(Zs,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-muted-foreground",children:"No locations found"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Try adjusting your filters"})]})]})]})]})}var S0="Collapsible",[UZ]=qa(S0),[$Z,x2]=UZ(S0),PP=w.forwardRef((n,t)=>{const{__scopeCollapsible:s,open:r,defaultOpen:i,disabled:a,onOpenChange:l,...c}=n,[u,m]=$l({prop:r,defaultProp:i??!1,onChange:l,caller:S0});return e.jsx($Z,{scope:s,disabled:a,contentId:Bl(),open:u,onOpenToggle:w.useCallback(()=>m(g=>!g),[m]),children:e.jsx(as.div,{"data-state":y2(u),"data-disabled":a?"":void 0,...c,ref:t})})});PP.displayName=S0;var LP="CollapsibleTrigger",RP=w.forwardRef((n,t)=>{const{__scopeCollapsible:s,...r}=n,i=x2(LP,s);return e.jsx(as.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":y2(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:t,onClick:kt(n.onClick,i.onOpenToggle)})});RP.displayName=LP;var v2="CollapsibleContent",OP=w.forwardRef((n,t)=>{const{forceMount:s,...r}=n,i=x2(v2,n.__scopeCollapsible);return e.jsx(ma,{present:s||i.open,children:({present:a})=>e.jsx(VZ,{...r,ref:t,present:a})})});OP.displayName=v2;var VZ=w.forwardRef((n,t)=>{const{__scopeCollapsible:s,present:r,children:i,...a}=n,l=x2(v2,s),[c,u]=w.useState(r),m=w.useRef(null),g=Ss(t,m),p=w.useRef(0),y=p.current,x=w.useRef(0),_=x.current,j=l.open||c,A=w.useRef(j),C=w.useRef(void 0);return w.useEffect(()=>{const P=requestAnimationFrame(()=>A.current=!1);return()=>cancelAnimationFrame(P)},[]),qi(()=>{const P=m.current;if(P){C.current=C.current||{transitionDuration:P.style.transitionDuration,animationName:P.style.animationName},P.style.transitionDuration="0s",P.style.animationName="none";const S=P.getBoundingClientRect();p.current=S.height,x.current=S.width,A.current||(P.style.transitionDuration=C.current.transitionDuration,P.style.animationName=C.current.animationName),u(r)}},[l.open,r]),e.jsx(as.div,{"data-state":y2(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!j,...a,ref:g,style:{"--radix-collapsible-content-height":y?`${y}px`:void 0,"--radix-collapsible-content-width":_?`${_}px`:void 0,...n.style},children:j&&i})});function y2(n){return n?"open":"closed"}var HZ=PP;const Rv=HZ,Ov=RP,Mv=OP,FS=n=>n>=1e7?`${(n/1e7).toFixed(1)}Cr`:n>=1e5?`${(n/1e5).toFixed(0)}L`:`${n.toLocaleString("en-IN")}`;function BS({availableFilters:n,currentFilters:t,onFiltersChange:s,className:r=""}){var V,B,D,K,H,$,W,Q,Z,ie,q,ce,te;const[i,a]=w.useState(!0),[l,c]=w.useState(!0),[u,m]=w.useState(!1),[g,p]=w.useState(!1),[y,x]=w.useState([0,5e6]),_=[((V=t.franchiseIds)==null?void 0:V.length)||0,((B=t.categories)==null?void 0:B.length)||0,((D=t.states)==null?void 0:D.length)||0,t.status&&t.status!=="all"?1:0,t.franchiseFeeMin||t.franchiseFeeMax?1:0,t.investmentMin||t.investmentMax?1:0].reduce((oe,ne)=>oe+ne,0),j=oe=>{const ne=t.franchiseIds||[],re=ne.includes(oe)?ne.filter(U=>U!==oe):[...ne,oe];s({...t,franchiseIds:re})},A=oe=>{const ne=t.categories||[],re=ne.includes(oe)?ne.filter(U=>U!==oe):[...ne,oe];s({...t,categories:re})},C=oe=>{s(oe==="all"?{...t,states:void 0}:{...t,states:[oe]})},P=oe=>{s({...t,status:oe})},S=oe=>{x([oe[0],oe[1]])},O=()=>{s({...t,franchiseFeeMin:y[0]>0?y[0]:void 0,franchiseFeeMax:y[1]<5e6?y[1]:void 0})},z=()=>{x([0,5e6]),s({})};return e.jsxs(de,{className:`${r}`,children:[e.jsx(Me,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(Fe,{className:"flex items-center gap-2 text-lg",children:[e.jsx(qm,{className:"h-5 w-5"}),"Filters",_>0&&e.jsx(Be,{variant:"secondary",className:"ml-2",children:_})]}),_>0&&e.jsxs(ee,{variant:"ghost",size:"sm",onClick:z,className:"h-8 text-muted-foreground hover:text-foreground",children:[e.jsx(WF,{className:"h-4 w-4 mr-1"}),"Reset"]})]})}),e.jsxs(fe,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{className:"text-sm font-medium",children:"Location Status"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(ee,{variant:!t.status||t.status==="all"?"default":"outline",size:"sm",onClick:()=>P("all"),className:"flex-1",children:"All"}),e.jsx(ee,{variant:t.status==="operating"?"default":"outline",size:"sm",onClick:()=>P("operating"),className:"flex-1",children:"Operating"}),e.jsx(ee,{variant:t.status==="looking_for_franchise"?"default":"outline",size:"sm",onClick:()=>P("looking_for_franchise"),className:"flex-1 text-xs",children:"Available"})]})]}),e.jsxs(Rv,{open:i,onOpenChange:a,children:[e.jsxs(Ov,{className:"flex items-center justify-between w-full py-2 text-sm font-medium",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Zs,{className:"h-4 w-4"}),"Franchisor",(((K=t.franchiseIds)==null?void 0:K.length)||0)>0&&e.jsx(Be,{variant:"secondary",className:"ml-1 text-xs",children:(H=t.franchiseIds)==null?void 0:H.length})]}),i?e.jsx(bg,{className:"h-4 w-4"}):e.jsx(jm,{className:"h-4 w-4"})]}),e.jsx(Mv,{className:"pt-2",children:e.jsx(Bh,{className:"h-40",children:e.jsxs("div",{className:"space-y-2",children:[n.franchises.map(oe=>{var ne;return e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ln,{id:`franchise-${oe.id}`,checked:((ne=t.franchiseIds)==null?void 0:ne.includes(oe.id))||!1,onCheckedChange:()=>j(oe.id)}),e.jsxs("label",{htmlFor:`franchise-${oe.id}`,className:"flex-1 text-sm cursor-pointer flex items-center justify-between",children:[e.jsx("span",{className:"truncate",children:oe.brand_name}),e.jsx(Be,{variant:"outline",className:"ml-2 text-xs",children:oe.locationCount})]})]},oe.id)}),n.franchises.length===0&&e.jsx("p",{className:"text-sm text-muted-foreground",children:"No franchises with locations"})]})})})]}),e.jsxs(Rv,{open:l,onOpenChange:c,children:[e.jsxs(Ov,{className:"flex items-center justify-between w-full py-2 text-sm font-medium",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Zs,{className:"h-4 w-4"}),"Category",((($=t.categories)==null?void 0:$.length)||0)>0&&e.jsx(Be,{variant:"secondary",className:"ml-1 text-xs",children:(W=t.categories)==null?void 0:W.length})]}),l?e.jsx(bg,{className:"h-4 w-4"}):e.jsx(jm,{className:"h-4 w-4"})]}),e.jsx(Mv,{className:"pt-2",children:e.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.categories.map(oe=>{var ne,re;return e.jsxs(Be,{variant:(ne=t.categories)!=null&&ne.includes(oe)?"default":"outline",className:"cursor-pointer hover:bg-primary/80",onClick:()=>A(oe),children:[oe,((re=t.categories)==null?void 0:re.includes(oe))&&e.jsx(Lr,{className:"h-3 w-3 ml-1"})]},oe)}),n.categories.length===0&&e.jsx("p",{className:"text-sm text-muted-foreground",children:"No categories available"})]})})]}),e.jsxs(Rv,{open:u,onOpenChange:m,children:[e.jsxs(Ov,{className:"flex items-center justify-between w-full py-2 text-sm font-medium",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Hy,{className:"h-4 w-4"}),"Franchise Fee"]}),u?e.jsx(bg,{className:"h-4 w-4"}):e.jsx(jm,{className:"h-4 w-4"})]}),e.jsx(Mv,{className:"pt-4 px-1",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(_m,{min:0,max:5e6,step:1e5,value:y,onValueChange:S,onValueCommit:O}),e.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[e.jsx("span",{children:FS(y[0])}),e.jsx("span",{children:FS(y[1])})]})]})})]}),e.jsxs(Rv,{open:g,onOpenChange:p,children:[e.jsxs(Ov,{className:"flex items-center justify-between w-full py-2 text-sm font-medium",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ln,{className:"h-4 w-4"}),"State/Region",(((Q=t.states)==null?void 0:Q.length)||0)>0&&e.jsx(Be,{variant:"secondary",className:"ml-1 text-xs",children:(Z=t.states)==null?void 0:Z.length})]}),g?e.jsx(bg,{className:"h-4 w-4"}):e.jsx(jm,{className:"h-4 w-4"})]}),e.jsx(Mv,{className:"pt-2",children:e.jsxs(Jt,{value:((ie=t.states)==null?void 0:ie[0])||"all",onValueChange:C,children:[e.jsx(Wt,{className:"w-full",children:e.jsx(Xt,{placeholder:"All States"})}),e.jsxs(Yt,{children:[e.jsx(Ee,{value:"all",children:"All States"}),n.states.map(oe=>e.jsx(Ee,{value:oe,children:oe},oe))]})]})})]}),_>0&&e.jsxs("div",{className:"pt-4 border-t",children:[e.jsx(ve,{className:"text-xs text-muted-foreground mb-2 block",children:"Active Filters"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[(q=t.franchiseIds)==null?void 0:q.map(oe=>{const ne=n.franchises.find(re=>re.id===oe);return e.jsxs(Be,{variant:"secondary",className:"text-xs cursor-pointer",onClick:()=>j(oe),children:[(ne==null?void 0:ne.brand_name)||"Unknown",e.jsx(Lr,{className:"h-3 w-3 ml-1"})]},oe)}),(ce=t.categories)==null?void 0:ce.map(oe=>e.jsxs(Be,{variant:"secondary",className:"text-xs cursor-pointer",onClick:()=>A(oe),children:[oe,e.jsx(Lr,{className:"h-3 w-3 ml-1"})]},oe)),(te=t.states)==null?void 0:te.map(oe=>e.jsxs(Be,{variant:"secondary",className:"text-xs cursor-pointer",onClick:()=>C("all"),children:[oe,e.jsx(Lr,{className:"h-3 w-3 ml-1"})]},oe)),t.status&&t.status!=="all"&&e.jsxs(Be,{variant:"secondary",className:"text-xs cursor-pointer",onClick:()=>P("all"),children:[t.status==="operating"?"Operating":"Available",e.jsx(Lr,{className:"h-3 w-3 ml-1"})]})]})]})]})]})}class Jv{static async getAllLocationsWithFranchises(t){let s=Le.from("franchise_locations").select(`
        *,
        franchise:franchises!inner (
          id,
          brand_name,
          slug,
          industry,
          logo_url,
          franchise_fee,
          total_investment_min,
          total_investment_max
        )
      `).not("latitude","is",null).not("longitude","is",null);t&&(t.franchiseIds&&t.franchiseIds.length>0&&(s=s.in("franchise_id",t.franchiseIds)),t.status&&t.status!=="all"&&(s=s.eq("status",t.status)),t.states&&t.states.length>0&&(s=s.in("state",t.states)),t.categories&&t.categories.length>0&&(s=s.in("franchise.industry",t.categories)),t.franchiseFeeMin!==void 0&&(s=s.gte("franchise.franchise_fee",t.franchiseFeeMin)),t.franchiseFeeMax!==void 0&&(s=s.lte("franchise.franchise_fee",t.franchiseFeeMax)),t.investmentMin!==void 0&&(s=s.gte("franchise.total_investment_min",t.investmentMin)),t.investmentMax!==void 0&&(s=s.lte("franchise.total_investment_max",t.investmentMax)));const{data:r,error:i}=await s.order("created_at",{ascending:!1});if(i)throw console.error("Error fetching discovery locations:",i),i;return(r||[]).map(a=>({...a,franchise:a.franchise}))}static async getAvailableFilters(){const{data:t,error:s}=await Le.from("franchises").select(`
        id,
        brand_name,
        slug,
        industry,
        franchise_locations (count)
      `).eq("status","active");s&&console.error("Error fetching franchises for filters:",s);const{data:r,error:i}=await Le.from("franchise_locations").select("state").not("latitude","is",null);i&&console.error("Error fetching states for filters:",i);const a=[...new Set((r||[]).map(u=>u.state))].sort(),l=[...new Set((t||[]).map(u=>u.industry))].filter(Boolean).sort();return{franchises:(t||[]).map(u=>{var m,g;return{id:u.id,brand_name:u.brand_name,slug:u.slug,industry:u.industry,locationCount:((g=(m=u.franchise_locations)==null?void 0:m[0])==null?void 0:g.count)||0}}).filter(u=>u.locationCount>0),categories:l,states:a}}static async getDiscoveryStats(t){const s=await this.getAllLocationsWithFranchises(t),r=s.filter(c=>c.status==="operating").length,i=s.filter(c=>c.status==="looking_for_franchise").length,a=new Set(s.map(c=>c.franchise_id)),l=new Set(s.map(c=>c.state));return{totalLocations:s.length,operatingCount:r,availableCount:i,franchiseCount:a.size,statesCount:l.size}}static getBrandColors(t){const s=["#3B82F6","#10B981","#8B5CF6","#F59E0B","#EC4899","#06B6D4","#84CC16","#F97316","#6366F1","#14B8A6"],r={};return t.forEach((i,a)=>{r[i]=s[a%s.length]}),r}}delete hl.Icon.Default.prototype._getIconUrl;hl.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png"});function GZ({locations:n,onLocationClick:t}){const s=Mn(),r=w.useRef(null),i=w.useRef(null),[a,l]=w.useState(null),c=w.useRef([]),u=Jv.getBrandColors([...new Set(n.map(p=>p.franchise_id))]);w.useEffect(()=>{if(!(!r.current||i.current))return i.current=hl.map(r.current).setView([20.5937,78.9629],5),hl.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(i.current),()=>{var p;(p=i.current)==null||p.remove(),i.current=null}},[]),w.useEffect(()=>{if(!i.current)return;c.current.forEach(x=>x.remove()),c.current=[];const p=n.filter(x=>x.latitude&&x.longitude);if(p.length===0)return;const y=(x,_)=>{const j=x?_:"#FFFFFF",A=x?_:"#6B7280",C=x?"#FFFFFF":_,P=`
        <svg width="32" height="42" viewBox="0 0 32 42" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <filter id="shadow${_.replace("#","")}" x="-30%" y="-20%" width="160%" height="160%">
              <feDropShadow dx="0" dy="2" stdDeviation="2" flood-opacity="0.35"/>
            </filter>
          </defs>
          
          <!-- Teardrop shape -->
          <path 
            d="M16 0C7.16 0 0 7.16 0 16c0 10.67 16 26 16 26s16-15.33 16-26C32 7.16 24.84 0 16 0z" 
            fill="${j}" 
            stroke="${A}" 
            stroke-width="2"
            filter="url(#shadow${_.replace("#","")})"
          />
          
          <!-- Inner dot -->
          <circle cx="16" cy="14" r="6" fill="${C}" opacity="0.9"/>
        </svg>
      `;return hl.divIcon({className:"custom-pin-icon",html:P,iconSize:[32,42],iconAnchor:[16,42],popupAnchor:[0,-42]})};if(p.forEach(x=>{const _=u[x.franchise_id]||"#3B82F6",j=y(x.status==="operating",_),A=hl.marker([x.latitude,x.longitude],{icon:j}).addTo(i.current),C=`
        <div style="min-width: 220px;">
          <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px;">
            ${x.franchise.logo_url?`<img src="${x.franchise.logo_url}" alt="${x.franchise.brand_name}" style="width: 32px; height: 32px; object-fit: contain; border-radius: 4px;" />`:`<div style="width: 32px; height: 32px; background: ${_}; border-radius: 4px; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">${x.franchise.brand_name.charAt(0)}</div>`}
            <div>
              <strong>${x.franchise.brand_name}</strong><br/>
              <small style="color: #6B7280;">${x.franchise.industry}</small>
            </div>
          </div>
          <div style="margin-bottom: 8px;">
            <strong>${x.location_name||`${x.city} Location`}</strong><br/>
            <small>${x.city}, ${x.state}</small>
          </div>
          <span style="
            display: inline-block;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 12px;
            ${x.status==="operating"?`background: ${_}; color: white;`:"background: white; color: #374151; border: 1px solid #9CA3AF;"}
          ">
            ${x.status==="operating"?"Operating":"Available"}
          </span>
        </div>
      `;A.bindPopup(C),A.on("click",()=>{l(x),t&&t(x)}),c.current.push(A)}),p.length>0){const x=hl.latLngBounds(p.map(_=>[_.latitude,_.longitude]));i.current.fitBounds(x,{padding:[50,50],maxZoom:12})}},[n,u,t]);const m=p=>p?p>=1e7?`${(p/1e7).toFixed(1)}Cr`:p>=1e5?`${(p/1e5).toFixed(0)}L`:`${p.toLocaleString("en-IN")}`:"N/A",g=[...new Map(n.map(p=>[p.franchise_id,{id:p.franchise_id,name:p.franchise.brand_name}])).values()];return e.jsxs("div",{className:"relative w-full h-full",children:[e.jsx("div",{ref:r,className:"w-full h-full rounded-lg",style:{minHeight:"600px"}}),a&&e.jsx(de,{className:"absolute top-4 left-4 w-80 shadow-lg z-[1000]",children:e.jsxs(fe,{className:"pt-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[a.franchise.logo_url?e.jsx("img",{src:a.franchise.logo_url,alt:a.franchise.brand_name,className:"w-12 h-12 object-contain rounded"}):e.jsx("div",{className:"w-12 h-12 rounded flex items-center justify-center text-white font-bold text-xl",style:{backgroundColor:u[a.franchise_id]},children:a.franchise.brand_name.charAt(0)}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:a.franchise.brand_name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:a.franchise.industry})]})]}),e.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>l(null),children:e.jsx(Lr,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"font-medium",children:a.location_name||`${a.city} Location`}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.jsx(Ln,{className:"inline h-3 w-3 mr-1"}),a.city,", ",a.state]})]}),e.jsx(Be,{className:a.status==="operating"?"text-white":"bg-white text-gray-800 border border-gray-300",style:{backgroundColor:a.status==="operating"?u[a.franchise_id]:void 0},children:a.status==="operating"?"Operating":"Looking for Franchise"}),e.jsxs("div",{className:"mt-4 pt-3 border-t space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Franchise Fee"}),e.jsx("span",{className:"font-medium",children:m(a.franchise.franchise_fee)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Investment"}),e.jsxs("span",{className:"font-medium",children:[m(a.franchise.total_investment_min)," - ",m(a.franchise.total_investment_max)]})]})]}),e.jsxs(ee,{className:"w-full mt-4",onClick:()=>s(`/franchise/${a.franchise.slug}`),children:[e.jsx(Am,{className:"h-4 w-4 mr-2"}),"View Franchise Details"]})]})}),e.jsx(de,{className:"absolute bottom-4 left-4 shadow-lg z-[1000] max-w-xs",children:e.jsxs(fe,{className:"py-3 px-4",children:[e.jsx("div",{className:"text-xs font-medium mb-2",children:"Brands"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[g.slice(0,5).map(p=>e.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:u[p.id]}}),e.jsx("span",{className:"truncate max-w-[80px]",children:p.name})]},p.id)),g.length>5&&e.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",g.length-5," more"]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-xs mt-2 pt-2 border-t",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),e.jsx("span",{children:"Operating"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-white border-2 border-gray-400"}),e.jsx("span",{children:"Available"})]})]})]})})]})}function WZ({className:n}){const[t,s]=w.useState([]),[r,i]=w.useState({franchises:[],categories:[],states:[]}),[a,l]=w.useState({}),[c,u]=w.useState(null),[m,g]=w.useState(!0),[p,y]=w.useState(!1);w.useEffect(()=>{(async()=>{try{const j=await Jv.getAvailableFilters();i(j)}catch(j){console.error("Error loading filters:",j)}})()},[]),w.useEffect(()=>{(async()=>{g(!0);try{const[j,A]=await Promise.all([Jv.getAllLocationsWithFranchises(a),Jv.getDiscoveryStats(a)]);s(j),u(A)}catch(j){console.error("Error loading locations:",j)}finally{g(!1)}})()},[a]);const x=_=>{l(_),y(!1)};return e.jsxs("div",{className:nt("min-h-screen bg-background",n),children:[e.jsx("div",{className:"bg-gradient-to-r from-primary/10 via-primary/5 to-background border-b",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center gap-3",children:[e.jsx(Ln,{className:"h-8 w-8 text-primary"}),"Franchise Location Explorer"]}),e.jsx("p",{className:"text-muted-foreground",children:"Discover franchise opportunities across India on an interactive map"})]}),e.jsx("div",{className:"md:hidden",children:e.jsxs(C6,{open:p,onOpenChange:y,children:[e.jsx(A6,{asChild:!0,children:e.jsxs(ee,{variant:"outline",className:"gap-2",children:[e.jsx(qm,{className:"h-4 w-4"}),"Filters",Object.keys(a).length>0&&e.jsx(Be,{variant:"secondary",className:"ml-1",children:Object.values(a).filter(_=>_!==void 0&&(Array.isArray(_)?_.length>0:!0)).length})]})}),e.jsx(Ww,{side:"left",className:"w-full sm:w-96 p-0",children:e.jsx("div",{className:"p-4 h-full overflow-y-auto",children:e.jsx(BS,{availableFilters:r,currentFilters:a,onFiltersChange:x})})})]})})]}),c&&e.jsxs("div",{className:"mt-6 flex flex-wrap gap-4",children:[e.jsx(de,{className:"px-4 py-2 bg-background/80 backdrop-blur",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ln,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm",children:[e.jsx("strong",{children:c.totalLocations})," locations"]})]})}),e.jsx(de,{className:"px-4 py-2 bg-background/80 backdrop-blur",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Zs,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm",children:[e.jsx("strong",{children:c.franchiseCount})," franchises"]})]})}),e.jsx(de,{className:"px-4 py-2 bg-background/80 backdrop-blur",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),e.jsxs("span",{className:"text-sm",children:[e.jsx("strong",{children:c.operatingCount})," operating"]})]})}),e.jsx(de,{className:"px-4 py-2 bg-background/80 backdrop-blur",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-white border-2 border-gray-400"}),e.jsxs("span",{className:"text-sm",children:[e.jsx("strong",{children:c.availableCount})," available"]})]})}),e.jsx(de,{className:"px-4 py-2 bg-background/80 backdrop-blur",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Os,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm",children:[e.jsx("strong",{children:c.statesCount})," states"]})]})})]})]})}),e.jsx("div",{className:"container mx-auto px-4 py-6",children:e.jsxs("div",{className:"flex gap-6",children:[e.jsx("div",{className:"hidden md:block w-80 flex-shrink-0",children:e.jsx("div",{className:"sticky top-4",children:e.jsx(BS,{availableFilters:r,currentFilters:a,onFiltersChange:x})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(de,{className:"overflow-hidden",children:e.jsx(fe,{className:"p-0",children:m?e.jsx("div",{className:"h-[600px] flex items-center justify-center bg-muted/20",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ht,{className:"h-12 w-12 animate-spin text-primary mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading locations..."})]})}):t.length===0?e.jsx("div",{className:"h-[600px] flex items-center justify-center bg-muted/20",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ln,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4 opacity-50"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Locations Found"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Try adjusting your filters to see more locations"}),e.jsx(ee,{variant:"outline",onClick:()=>l({}),children:"Clear Filters"})]})}):e.jsx("div",{className:"h-[600px]",children:e.jsx(GZ,{locations:t})})})}),!m&&t.length>0&&e.jsxs("div",{className:"mt-4 text-sm text-muted-foreground",children:["Showing ",t.length," locations from ",(c==null?void 0:c.franchiseCount)||0," franchises across ",(c==null?void 0:c.statesCount)||0," states"]})]})]})})]})}function YZ({className:n}){const t=[{name:"Ajay Kumar",role:"Business Acquisition Specialist",image:"https://github.com/yusufhilmi.png",experience:"8+ years",expertise:["Business Valuation","Due Diligence","Market Analysis"]},{name:"Vijay Sharma",role:"Franchise Development Expert",image:"https://github.com/kdrnp.png",experience:"10+ years",expertise:["Franchise Models","ROI Analysis","Territory Planning"]},{name:"Priya Patel",role:"Technology Lead",image:"https://github.com/yahyabedirhan.png",experience:"6+ years",expertise:["AI/ML","Platform Development","Data Analytics"]},{name:"Rahul Singh",role:"Market Research Director",image:"https://github.com/denizbuyuktas.png",experience:"12+ years",expertise:["Market Intelligence","Industry Analysis","Trend Forecasting"]}],s=[{number:"10,000+",label:"Businesses Listed",icon:ed},{number:"5,000+",label:"Successful Matches",icon:X7},{number:"500Cr+",label:"Deals Facilitated",icon:Os},{number:"95%",label:"Client Satisfaction",icon:Fl}],r=[{icon:Ds,title:"Verified Listings",description:"Every business and franchise opportunity is thoroughly verified by our expert team"},{icon:Tm,title:"AI-Powered Matching",description:"Advanced algorithms match you with opportunities that fit your criteria perfectly"},{icon:gn,title:"Expert Guidance",description:"Get personalized advice from industry specialists throughout your journey"},{icon:Du,title:"Pan-India Coverage",description:"Access opportunities across all major cities and emerging markets in India"}];return e.jsxs("div",{className:`min-h-screen ${n}`,children:[e.jsx("section",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 py-16",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsx(Be,{variant:"outline",className:"mb-4",children:" AI-Powered Business Discovery Platform"}),e.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-foreground mb-6",children:["Transforming Business",e.jsxs("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:[" ","Discovery"]})]}),e.jsx("p",{className:"text-xl text-muted-foreground mb-8 leading-relaxed",children:"BizSearch is India's most trusted platform for business acquisitions and franchise opportunities. We leverage cutting-edge AI technology to connect entrepreneurs with their perfect business match."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(ee,{size:"lg",className:"bg-blue-600 hover:bg-blue-700",children:"Explore Opportunities"}),e.jsx(ee,{size:"lg",variant:"outline",children:"List Your Business"})]})]})})}),e.jsx("section",{className:"py-16",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-foreground mb-6",children:"Our Mission"}),e.jsx("p",{className:"text-lg text-muted-foreground mb-6 leading-relaxed",children:"To democratize business ownership by making quality business opportunities accessible to every entrepreneur. We believe that with the right guidance and technology, anyone can build a successful business."}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Lt,{className:"h-6 w-6 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-muted-foreground",children:"Transparent and verified business listings"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Lt,{className:"h-6 w-6 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-muted-foreground",children:"Expert guidance throughout the acquisition process"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Lt,{className:"h-6 w-6 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-muted-foreground",children:"AI-powered recommendations for better matches"})]})]})]}),e.jsx("div",{className:"grid grid-cols-2 gap-6",children:s.map((i,a)=>e.jsx(de,{className:"text-center",children:e.jsxs(fe,{className:"pt-6",children:[e.jsx(i.icon,{className:"h-8 w-8 text-blue-600 mx-auto mb-3"}),e.jsx("div",{className:"text-2xl font-bold text-foreground",children:i.number}),e.jsx("div",{className:"text-sm text-muted-foreground",children:i.label})]})},a))})]})})}),e.jsx("section",{className:"py-16 bg-muted/30",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-foreground mb-4",children:"Why Choose BizSearch?"}),e.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"We combine technology, expertise, and trust to deliver the best business discovery experience"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:r.map((i,a)=>e.jsxs(de,{className:"text-center hover:shadow-lg transition-shadow",children:[e.jsxs(Me,{children:[e.jsx(i.icon,{className:"h-12 w-12 text-blue-600 mx-auto mb-4"}),e.jsx(Fe,{className:"text-lg",children:i.title})]}),e.jsx(fe,{children:e.jsx(ms,{className:"text-sm leading-relaxed",children:i.description})})]},a))})]})}),e.jsx("section",{className:"py-16",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-foreground mb-4",children:"Meet Our Expert Team"}),e.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Industry veterans with decades of combined experience in business acquisitions and franchise development"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map((i,a)=>e.jsxs(de,{className:"text-center hover:shadow-lg transition-shadow",children:[e.jsxs(Me,{children:[e.jsx("img",{src:i.image,alt:i.name,className:"w-20 h-20 rounded-full mx-auto mb-4 object-cover"}),e.jsx(Fe,{className:"text-lg",children:i.name}),e.jsx(ms,{className:"text-sm font-medium text-blue-600",children:i.role}),e.jsx(Be,{variant:"secondary",className:"text-xs",children:i.experience})]}),e.jsx(fe,{children:e.jsx("div",{className:"flex flex-wrap gap-1 justify-center",children:i.expertise.map((l,c)=>e.jsx(Be,{variant:"outline",className:"text-xs",children:l},c))})})]},a))})]})}),e.jsx("section",{className:"py-16 bg-gradient-to-r from-blue-600 to-purple-600",children:e.jsxs("div",{className:"container mx-auto px-4 text-center",children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Ready to Find Your Perfect Business Opportunity?"}),e.jsx("p",{className:"text-xl text-blue-100 mb-8 max-w-2xl mx-auto",children:"Join thousands of successful entrepreneurs who found their ideal business through BizSearch"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(ee,{size:"lg",variant:"secondary",className:"bg-white text-blue-600 hover:bg-gray-100",children:"Start Your Search"}),e.jsx(ee,{size:"lg",variant:"outline",className:"border-white text-white hover:bg-white hover:text-blue-600",children:"Talk to an Expert"})]})]})})]})}function ZZ({className:n}){const[t,s]=w.useState({name:"",email:"",phone:"",subject:"",message:"",inquiryType:""}),[r,i]=w.useState(!1),a=g=>{g.preventDefault(),i(!0),setTimeout(()=>i(!1),3e3)},l=(g,p)=>{s(y=>({...y,[g]:p}))},c=[{icon:Mr,title:"Phone Support",description:"Speak directly with our experts",value:"+91 98765 43210",action:"Call Now",available:"Mon-Sat, 9 AM - 7 PM"},{icon:Or,title:"Email Support",description:"Get detailed responses to your queries",value:"support@bizsearch.in",action:"Send Email",available:"24/7 Response"},{icon:Gy,title:"Live Chat",description:"Instant support through our AI chat",value:"Available on website",action:"Start Chat",available:"24/7 Available"},{icon:eF,title:"Video Consultation",description:"Schedule a personalized consultation",value:"Book appointment",action:"Schedule Call",available:"Mon-Fri, 10 AM - 6 PM"}],u=[{city:"Mumbai",address:"Level 12, One World Centre, Tower 1, Jupiter Mill Compound, 841, Senapati Bapat Marg, Elphinstone Road, Mumbai - 400013",phone:"+91 98765 43210",email:"mumbai@bizsearch.in",type:"Headquarters"},{city:"Delhi",address:"3rd Floor, DLF Cyber City, Phase II, Sector 24, Gurugram, Haryana - 122002",phone:"+91 98765 43211",email:"delhi@bizsearch.in",type:"Regional Office"},{city:"Bangalore",address:"5th Floor, UB City Mall, Vittal Mallya Road, Ashok Nagar, Bengaluru, Karnataka - 560001",phone:"+91 98765 43212",email:"bangalore@bizsearch.in",type:"Regional Office"},{city:"Pune",address:"2nd Floor, Cerebrum IT Park, Kalyani Nagar, Pune, Maharashtra - 411014",phone:"+91 98765 43213",email:"pune@bizsearch.in",type:"Branch Office"}],m=[{name:"Ajay Kumar",role:"Business Acquisition Specialist",image:"https://github.com/yusufhilmi.png",expertise:"Business Valuation & Due Diligence",phone:"+91 98765 43220",email:"ajay@bizsearch.in"},{name:"Vijay Sharma",role:"Franchise Development Expert",image:"https://github.com/kdrnp.png",expertise:"Franchise Models & ROI Analysis",phone:"+91 98765 43221",email:"vijay@bizsearch.in"}];return e.jsxs("div",{className:`min-h-screen ${n}`,children:[e.jsx("section",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 py-16",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsx(Be,{variant:"outline",className:"mb-4",children:" 24/7 Expert Support Available"}),e.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-foreground mb-6",children:["Get in Touch with",e.jsxs("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:[" ","Our Experts"]})]}),e.jsx("p",{className:"text-xl text-muted-foreground mb-8 leading-relaxed",children:"Whether you're looking to buy a business, sell your company, or explore franchise opportunities, our team of specialists is here to guide you every step of the way."})]})})}),e.jsx("section",{className:"py-16",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-foreground mb-4",children:"Multiple Ways to Reach Us"}),e.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Choose the communication method that works best for you"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:c.map((g,p)=>e.jsxs(de,{className:"text-center hover:shadow-lg transition-shadow",children:[e.jsxs(Me,{children:[e.jsx(g.icon,{className:"h-12 w-12 text-blue-600 mx-auto mb-4"}),e.jsx(Fe,{className:"text-lg",children:g.title}),e.jsx(ms,{children:g.description})]}),e.jsxs(fe,{className:"space-y-3",children:[e.jsx("p",{className:"font-medium text-foreground",children:g.value}),e.jsx(Be,{variant:"secondary",className:"text-xs",children:g.available}),e.jsx(ee,{size:"sm",className:"w-full",children:g.action})]})]},p))})]})}),e.jsx("section",{className:"py-16 bg-muted/30",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(de,{children:[e.jsxs(Me,{children:[e.jsx(Fe,{className:"text-2xl",children:"Send Us a Message"}),e.jsx(ms,{children:"Fill out the form below and we'll get back to you within 24 hours"})]}),e.jsx(fe,{children:r?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Lt,{className:"h-16 w-16 text-green-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"Message Sent Successfully!"}),e.jsx("p",{className:"text-muted-foreground",children:"Thank you for reaching out. Our team will contact you within 24 hours."})]}):e.jsxs("form",{onSubmit:a,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"name",children:"Full Name *"}),e.jsx(Ue,{id:"name",value:t.name,onChange:g=>l("name",g.target.value),placeholder:"Enter your full name",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"email",children:"Email Address *"}),e.jsx(Ue,{id:"email",type:"email",value:t.email,onChange:g=>l("email",g.target.value),placeholder:"Enter your email",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"phone",children:"Phone Number"}),e.jsx(Ue,{id:"phone",value:t.phone,onChange:g=>l("phone",g.target.value),placeholder:"+91 98765 43210"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"inquiry-type",children:"Inquiry Type *"}),e.jsxs(Jt,{value:t.inquiryType,onValueChange:g=>l("inquiryType",g),children:[e.jsx(Wt,{children:e.jsx(Xt,{placeholder:"Select inquiry type"})}),e.jsxs(Yt,{children:[e.jsx(Ee,{value:"buy-business",children:"Buy a Business"}),e.jsx(Ee,{value:"sell-business",children:"Sell My Business"}),e.jsx(Ee,{value:"franchise-opportunity",children:"Franchise Opportunity"}),e.jsx(Ee,{value:"partnership",children:"Partnership"}),e.jsx(Ee,{value:"general",children:"General Inquiry"}),e.jsx(Ee,{value:"support",children:"Technical Support"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"subject",children:"Subject *"}),e.jsx(Ue,{id:"subject",value:t.subject,onChange:g=>l("subject",g.target.value),placeholder:"Brief subject of your inquiry",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"message",children:"Message *"}),e.jsx(_n,{id:"message",value:t.message,onChange:g=>l("message",g.target.value),placeholder:"Please provide details about your inquiry...",rows:5,required:!0})]}),e.jsxs(ee,{type:"submit",size:"lg",className:"w-full",children:[e.jsx(Em,{className:"h-4 w-4 mr-2"}),"Send Message"]})]})})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-foreground mb-4",children:"Talk to Our Specialists"}),e.jsx("p",{className:"text-muted-foreground text-sm mb-6",children:"Get personalized guidance from our industry experts"})]}),m.map((g,p)=>e.jsx(de,{className:"hover:shadow-lg transition-shadow",children:e.jsx(fe,{className:"pt-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("img",{src:g.image,alt:g.name,className:"w-16 h-16 rounded-full object-cover"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-foreground",children:g.name}),e.jsx("p",{className:"text-sm text-blue-600 font-medium",children:g.role}),e.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:g.expertise}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Mr,{className:"h-3 w-3 text-muted-foreground"}),e.jsx("span",{className:"text-muted-foreground",children:g.phone})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Or,{className:"h-3 w-3 text-muted-foreground"}),e.jsx("span",{className:"text-muted-foreground",children:g.email})]})]}),e.jsx(ee,{size:"sm",className:"w-full mt-3",children:"Schedule Call"})]})]})})},p))]})]})})}),e.jsx("section",{className:"py-16",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-foreground mb-4",children:"Our Office Locations"}),e.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Visit us at any of our offices across India for in-person consultations"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:u.map((g,p)=>e.jsxs(de,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(Me,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Fe,{className:"text-xl",children:g.city}),e.jsx(Be,{variant:g.type==="Headquarters"?"default":"secondary",children:g.type})]})}),e.jsxs(fe,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Ln,{className:"h-5 w-5 text-muted-foreground mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:g.address})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Mr,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:g.phone})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Or,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:g.email})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Hn,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Mon-Sat, 9:00 AM - 7:00 PM"})]}),e.jsxs(ee,{variant:"outline",size:"sm",className:"w-full",children:[e.jsx(Ln,{className:"h-4 w-4 mr-2"}),"Get Directions"]})]})]},p))})]})}),e.jsx("section",{className:"py-16 bg-muted/30",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[e.jsx("h2",{className:"text-3xl font-bold text-foreground mb-4",children:"Frequently Asked Questions"}),e.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:"Quick answers to common questions about our services"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 text-left",children:[e.jsx(de,{children:e.jsxs(fe,{className:"pt-6",children:[e.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"How do I list my business?"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Contact our team for a free consultation. We'll help you prepare and list your business with complete documentation."})]})}),e.jsx(de,{children:e.jsxs(fe,{className:"pt-6",children:[e.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Are all listings verified?"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Yes, every business and franchise opportunity undergoes thorough verification by our expert team before listing."})]})}),e.jsx(de,{children:e.jsxs(fe,{className:"pt-6",children:[e.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"What are your service charges?"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Our pricing is transparent and success-based. Contact us for detailed information about our fee structure."})]})}),e.jsx(de,{children:e.jsxs(fe,{className:"pt-6",children:[e.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Do you provide financing assistance?"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"We have partnerships with leading financial institutions to help you secure funding for your business acquisition."})]})})]})]})})})]})}class MP{static async getProfile(t){const{data:s,error:r}=await Le.from("profiles").select("*").eq("id",t).single();if(r)throw r;return s}static async getProfileByEmail(t){const{data:s,error:r}=await Le.from("profiles").select("*").eq("email",t).single();if(r)throw r;return s}static async createProfile(t){const{data:s,error:r}=await Le.from("profiles").insert(t).select().single();if(r)throw r;return s}static async updateProfile(t,s){const{data:r,error:i}=await Le.from("profiles").update({...s,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(i)throw i;return r}static async deleteProfile(t){const{error:s}=await Le.from("profiles").delete().eq("id",t);if(s)throw s}static async uploadAvatar(t,s){const r=s.name.split(".").pop(),a=`avatars/${`${t}-${Date.now()}.${r}`}`,{error:l}=await Le.storage.from("avatars").upload(a,s);if(l)throw l;const{data:c}=Le.storage.from("avatars").getPublicUrl(a);return await this.updateProfile(t,{avatar_url:c.publicUrl}),c.publicUrl}static async uploadDocument(t,s,r){const i=s.name.split(".").pop(),l=`documents/${`${t}-${r}-${Date.now()}.${i}`}`,{error:c}=await Le.storage.from("documents").upload(l,s);if(c)throw c;const{data:u}=Le.storage.from("documents").getPublicUrl(l),{data:m,error:g}=await Le.from("verification_documents").insert({profile_id:t,document_type:r,file_name:s.name,file_url:u.publicUrl,status:"pending"}).select().single();if(g)throw g;return m}static async getVerificationDocuments(t){const{data:s,error:r}=await Le.from("verification_documents").select("*").eq("profile_id",t).order("created_at",{ascending:!1});if(r)throw r;return s}static async logActivity(t,s,r,i,a){const{error:l}=await Le.from("activity_logs").insert({profile_id:t,action:s,entity_type:r,entity_id:i,metadata:a});if(l)throw l}static async getActivityLogs(t,s=20){const{data:r,error:i}=await Le.from("activity_logs").select("*").eq("profile_id",t).order("created_at",{ascending:!1}).limit(s);if(i)throw i;return r}static async searchProfiles(t,s){let r=Le.from("profiles").select("*").or(`display_name.ilike.%${t}%,email.ilike.%${t}%,industry.ilike.%${t}%`);s&&(r=r.eq("role",s));const{data:i,error:a}=await r;if(a)throw a;return i}static async getProfilesByRole(t){const{data:s,error:r}=await Le.from("profiles").select("*").eq("role",t).order("created_at",{ascending:!1});if(r)throw r;return s}static async getVerifiedProfiles(){const{data:t,error:s}=await Le.from("profiles").select("*").eq("verified",!0).order("verification_level",{ascending:!1});if(s)throw s;return t}}function KZ({profile:n,isOwnProfile:t=!1,onEdit:s,onShare:r,className:i=""}){var g,p,y,x,_;const a=()=>{switch(n.verificationStatus){case"verified":return e.jsx(Fu,{className:"w-4 h-4 text-green-600"});case"pending":return e.jsx(Hn,{className:"w-4 h-4 text-yellow-600"});default:return e.jsx(Ds,{className:"w-4 h-4 text-gray-400"})}},l=()=>{const j={verified:"bg-green-100 text-green-800 border-green-200",pending:"bg-yellow-100 text-yellow-800 border-yellow-200",unverified:"bg-gray-100 text-gray-600 border-gray-200"};return e.jsxs(Be,{variant:"outline",className:j[n.verificationStatus],children:[a(),e.jsx("span",{className:"ml-1 capitalize",children:n.verificationStatus})]})},c=()=>{const A={seller:{label:"Business Seller",icon:Zs,color:"bg-blue-100 text-blue-800 border-blue-200"},buyer:{label:"Business Buyer",icon:Os,color:"bg-green-100 text-green-800 border-green-200"},franchisor:{label:"Franchisor",icon:gn,color:"bg-orange-100 text-orange-800 border-orange-200"},franchisee:{label:"Franchisee",icon:Mh,color:"bg-purple-100 text-purple-800 border-purple-200"},advisor:{label:"Advisor/Broker",icon:Du,color:"bg-gray-100 text-gray-800 border-gray-200"}}[n.role],C=A.icon;return e.jsxs(Be,{variant:"outline",className:A.color,children:[e.jsx(C,{className:"w-4 h-4 mr-1"}),A.label]})},m=(()=>{switch(n.role){case"seller":const j=n;return{name:j.companyName,logo:j.companyLogo,subtitle:`${j.industry}  ${j.employees} employees`};case"buyer":const A=n;return{name:A.firmName||"Individual Investor",logo:A.firmLogo,subtitle:`${A.buyerType.replace("-"," ").toUpperCase()}  ${(A.investmentRange.min/1e7).toFixed(1)}-${(A.investmentRange.max/1e7).toFixed(1)}Cr range`};case"franchisor":const C=n;return{name:C.brandName,logo:C.brandLogo,subtitle:`${C.industry}  ${C.totalOutlets} outlets`};case"franchisee":const P=n;return{name:"Franchise Investor",logo:void 0,subtitle:`Budget: ${(P.investmentBudget.min/1e7).toFixed(1)}-${(P.investmentBudget.max/1e7).toFixed(1)}Cr`};case"advisor":const S=n;return{name:S.firmName,logo:S.firmLogo,subtitle:`${S.experience} years experience  ${S.services.length} services`};default:return{name:"",logo:void 0,subtitle:""}}})();return e.jsxs("div",{className:`bg-white border rounded-lg p-6 ${i}`,children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 flex-1",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsx("img",{src:n.avatar||"https://github.com/polymet-ai.png",alt:n.displayName,className:"w-20 h-20 rounded-full object-cover border-2 border-gray-200"}),m.logo&&e.jsx("img",{src:m.logo,alt:m.name,className:"w-16 h-16 rounded-lg object-cover border border-gray-200"})]}),e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n.displayName}),m.name&&e.jsx("p",{className:"text-lg text-gray-600 font-medium",children:m.name}),e.jsx("p",{className:"text-sm text-gray-500",children:m.subtitle})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[c(),l(),n.isPublic&&e.jsxs(Be,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:[e.jsx(Du,{className:"w-3 h-3 mr-1"}),"Public Profile"]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ln,{className:"w-4 h-4"}),e.jsxs("span",{children:[n.location.city,", ",n.location.state]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(za,{className:"w-4 h-4"}),e.jsxs("span",{children:["Joined ",new Date(n.joinedDate).toLocaleDateString()]})]})]})]})]}),e.jsxs("div",{className:"flex flex-col gap-2 md:w-auto",children:[t?e.jsxs(ee,{onClick:s,className:"flex items-center gap-2",children:[e.jsx(Bu,{className:"w-4 h-4"}),"Edit Profile"]}):e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{className:"w-full",children:"Connect"}),e.jsx(ee,{variant:"outline",className:"w-full",children:"Message"})]}),e.jsxs(ee,{variant:"outline",onClick:r,className:"flex items-center gap-2",children:[e.jsx(xp,{className:"w-4 h-4"}),"Share"]})]})]}),n.bio&&e.jsx("div",{className:"mt-6 pt-6 border-t",children:e.jsx("p",{className:"text-gray-700 leading-relaxed",children:n.bio})}),e.jsx("div",{className:"mt-6 pt-6 border-t",children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.role==="seller"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:((g=n.listings)==null?void 0:g.length)||0}),e.jsx("div",{className:"text-sm text-gray-500",children:"Active Listings"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:n.inquiries||0}),e.jsx("div",{className:"text-sm text-gray-500",children:"Inquiries"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:n.offers||0}),e.jsx("div",{className:"text-sm text-gray-500",children:"Offers"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:n.employees||0}),e.jsx("div",{className:"text-sm text-gray-500",children:"Employees"})]})]}),n.role==="buyer"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:((p=n.savedBusinesses)==null?void 0:p.length)||0}),e.jsx("div",{className:"text-sm text-gray-500",children:"Saved"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:((y=n.ndaRequests)==null?void 0:y.length)||0}),e.jsx("div",{className:"text-sm text-gray-500",children:"NDAs"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:((x=n.preferredIndustries)==null?void 0:x.length)||0}),e.jsx("div",{className:"text-sm text-gray-500",children:"Industries"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:["",(((_=n.investmentRange)==null?void 0:_.max)/1e7).toFixed(0),"Cr"]}),e.jsx("div",{className:"text-sm text-gray-500",children:"Max Budget"})]})]}),n.role==="franchisor"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:n.totalOutlets||0}),e.jsx("div",{className:"text-sm text-gray-500",children:"Outlets"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:n.leads||0}),e.jsx("div",{className:"text-sm text-gray-500",children:"Leads"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[n.royaltyPercentage||0,"%"]}),e.jsx("div",{className:"text-sm text-gray-500",children:"Royalty"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:n.yearFounded?new Date().getFullYear()-n.yearFounded:0}),e.jsx("div",{className:"text-sm text-gray-500",children:"Years"})]})]}),(n.role==="franchisee"||n.role==="advisor")&&e.jsx("div",{className:"col-span-2 md:col-span-4 text-center text-gray-500",children:e.jsx("p",{children:"Profile statistics will appear here based on activity"})})]})})]})}function JZ({activeRole:n,onRoleChange:t,showAddRole:s=!1,onAddRole:r,className:i=""}){var c;const a=[{id:"seller",label:"Business Seller",shortLabel:"Seller",icon:Zs,description:"Sell your business",color:"blue",count:1},{id:"buyer",label:"Business Buyer",shortLabel:"Buyer",icon:Os,description:"Buy businesses",color:"green",count:0},{id:"franchisor",label:"Franchisor",shortLabel:"Franchisor",icon:gn,description:"Offer franchises",color:"orange",count:0},{id:"franchisee",label:"Franchisee",shortLabel:"Franchisee",icon:Mh,description:"Buy franchises",color:"purple",count:0},{id:"advisor",label:"Advisor/Broker",shortLabel:"Advisor",icon:Du,description:"Provide advisory services",color:"gray",count:0}],l=(u,m)=>{var p;return((p={blue:{active:"bg-blue-100 text-blue-900 border-blue-300",inactive:"text-blue-600 hover:bg-blue-50 border-transparent"},green:{active:"bg-green-100 text-green-900 border-green-300",inactive:"text-green-600 hover:bg-green-50 border-transparent"},orange:{active:"bg-orange-100 text-orange-900 border-orange-300",inactive:"text-orange-600 hover:bg-orange-50 border-transparent"},purple:{active:"bg-purple-100 text-purple-900 border-purple-300",inactive:"text-purple-600 hover:bg-purple-50 border-transparent"},gray:{active:"bg-gray-100 text-gray-900 border-gray-300",inactive:"text-gray-600 hover:bg-gray-50 border-transparent"}}[u])==null?void 0:p[m?"active":"inactive"])||""};return e.jsxs("div",{className:`bg-white border rounded-lg p-4 ${i}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Your Roles"}),s&&e.jsxs(ee,{variant:"outline",size:"sm",onClick:r,className:"flex items-center gap-2",children:[e.jsx(la,{className:"w-4 h-4"}),"Add Role"]})]}),e.jsx("div",{className:"hidden md:flex flex-wrap gap-2",children:a.map(u=>{const m=n===u.id,g=u.icon;return e.jsxs("button",{onClick:()=>t(u.id),className:`
                flex items-center gap-2 px-4 py-3 rounded-lg border-2 transition-all duration-200
                ${l(u.color,m)}
                ${m?"shadow-sm":"hover:shadow-sm"}
              `,children:[e.jsx(g,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium",children:u.shortLabel}),u.count>0&&e.jsx(Be,{variant:"secondary",className:"ml-1 text-xs",children:u.count})]},u.id)})}),e.jsx("div",{className:"md:hidden",children:e.jsx("select",{value:n,onChange:u=>t(u.target.value),className:"w-full p-3 border rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:a.map(u=>e.jsxs("option",{value:u.id,children:[u.label," ",u.count>0?`(${u.count})`:""]},u.id))})}),e.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"flex items-center gap-2 mb-2",children:(()=>{const u=a.find(g=>g.id===n);if(!u)return null;const m=u.icon;return e.jsxs(e.Fragment,{children:[e.jsx(m,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"font-medium text-gray-900",children:u.label})]})})()}),e.jsx("p",{className:"text-sm text-gray-600",children:(c=a.find(u=>u.id===n))==null?void 0:c.description})]}),e.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[n==="seller"&&e.jsxs(e.Fragment,{children:[e.jsx(ee,{size:"sm",variant:"outline",children:"Create Listing"}),e.jsx(ee,{size:"sm",variant:"outline",children:"View Inquiries"}),e.jsx(ee,{size:"sm",variant:"outline",children:"Upload Documents"})]}),n==="buyer"&&e.jsxs(e.Fragment,{children:[e.jsx(ee,{size:"sm",variant:"outline",children:"Browse Businesses"}),e.jsx(ee,{size:"sm",variant:"outline",children:"Saved Searches"}),e.jsx(ee,{size:"sm",variant:"outline",children:"My NDAs"})]}),n==="franchisor"&&e.jsxs(e.Fragment,{children:[e.jsx(ee,{size:"sm",variant:"outline",children:"Create Franchise"}),e.jsx(ee,{size:"sm",variant:"outline",children:"Manage Leads"}),e.jsx(ee,{size:"sm",variant:"outline",children:"Franchise Kit"})]}),n==="franchisee"&&e.jsxs(e.Fragment,{children:[e.jsx(ee,{size:"sm",variant:"outline",children:"Browse Franchises"}),e.jsx(ee,{size:"sm",variant:"outline",children:"My Applications"}),e.jsx(ee,{size:"sm",variant:"outline",children:"Compare Options"})]}),n==="advisor"&&e.jsxs(e.Fragment,{children:[e.jsx(ee,{size:"sm",variant:"outline",children:"Manage Clients"}),e.jsx(ee,{size:"sm",variant:"outline",children:"Create Listing"}),e.jsx(ee,{size:"sm",variant:"outline",children:"Lead Pipeline"})]})]})]})}function XZ({onVerified:n}){const{user:t,profile:s,refreshProfile:r}=Bs(),[i,a]=w.useState((s==null?void 0:s.phone)||""),[l,c]=w.useState(""),[u,m]=w.useState("phone"),[g,p]=w.useState(!1),[y,x]=w.useState(null),[_,j]=w.useState(!1),[A,C]=w.useState(60);w.useEffect(()=>{s!=null&&s.phone&&a(s.phone)},[s]),w.useEffect(()=>{if(u==="otp"&&A>0){const V=setTimeout(()=>{C(A-1),A===1&&j(!0)},1e3);return()=>clearTimeout(V)}},[u,A]);const P=V=>{const B=V.replace(/\D/g,"");return V.startsWith("+")?"+"+B.slice(0,12):"+91"+B.slice(0,10)},S=async V=>{V.preventDefault(),x(null),p(!0);const B=i.replace(/\D/g,"");if(B.length<10||B.length>12){x("Please enter a valid phone number"),p(!1);return}try{const{error:D}=await Le.from("profiles").update({phone:i}).eq("id",t==null?void 0:t.id);if(D)throw D;const{error:K}=await Le.auth.signInWithOtp({phone:i});if(K)throw K;m("otp"),C(60),j(!1),Rt.success("OTP sent to your phone")}catch(D){x(D.message||"Failed to send OTP")}finally{p(!1)}},O=async V=>{if(V.preventDefault(),x(null),p(!0),l.length!==6){x("Please enter a valid 6-digit OTP"),p(!1);return}try{const{error:B}=await Le.auth.verifyOtp({phone:i,token:l,type:"sms"});if(B)throw B;const{error:D}=await Le.from("profiles").update({phone:i,phone_verified:!0,phone_verified_at:new Date().toISOString()}).eq("id",t==null?void 0:t.id);if(D)throw D;await r(),Rt.success("Phone verified successfully!"),n==null||n()}catch(B){x(B.message||"Failed to verify OTP")}finally{p(!1)}},z=async()=>{x(null),p(!0),j(!1);try{const{error:V}=await Le.auth.signInWithOtp({phone:i});if(V)throw V;C(60),Rt.success("OTP resent")}catch(V){x(V.message||"Failed to resend OTP"),j(!0)}finally{p(!1)}};return s!=null&&s.phone_verified?e.jsxs(de,{children:[e.jsx(Me,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Fe,{className:"text-lg",children:"Phone Verification"}),e.jsxs(Be,{variant:"default",className:"bg-green-100 text-green-800",children:[e.jsx(Lt,{className:"h-3 w-3 mr-1"}),"Verified"]})]})}),e.jsx(fe,{children:e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(Mr,{className:"h-4 w-4"}),e.jsx("span",{children:s.phone})]})})]}):e.jsxs(de,{children:[e.jsxs(Me,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ds,{className:"h-5 w-5 text-primary"}),e.jsx(Fe,{className:"text-lg",children:"Verify Your Phone"})]}),e.jsx(ms,{children:"Verify your phone number to enhance account security and enable SMS notifications"})]}),e.jsx(fe,{children:e.jsxs("form",{onSubmit:u==="phone"?S:O,className:"space-y-4",children:[y&&e.jsx(Xn,{variant:"destructive",children:e.jsx(Qn,{children:y})}),u==="phone"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"phone",children:"Phone Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(Mr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(Ue,{id:"phone",type:"tel",placeholder:"+91 98765 43210",value:i,onChange:V=>a(P(V.target.value)),className:"pl-10",required:!0,disabled:g})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"We'll send a 6-digit OTP to verify your number"})]}),e.jsx(ee,{type:"submit",className:"w-full",disabled:g,children:g?e.jsxs(e.Fragment,{children:[e.jsx(Ht,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending OTP..."]}):"Send OTP"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"otp",children:"Enter OTP"}),e.jsx(Ue,{id:"otp",type:"text",placeholder:"123456",value:l,onChange:V=>c(V.target.value.replace(/\D/g,"").slice(0,6)),className:"text-center text-2xl tracking-widest",maxLength:6,required:!0,disabled:g,autoFocus:!0}),e.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["Enter the 6-digit code sent to ",i]})]}),e.jsx(ee,{type:"submit",className:"w-full",disabled:g||l.length!==6,children:g?e.jsxs(e.Fragment,{children:[e.jsx(Ht,{className:"mr-2 h-4 w-4 animate-spin"}),"Verifying..."]}):"Verify Phone"}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[_?e.jsx(ee,{type:"button",variant:"link",onClick:z,disabled:g,className:"p-0 h-auto",children:"Resend OTP"}):e.jsxs("span",{className:"text-muted-foreground",children:["Resend in ",A,"s"]}),e.jsx(ee,{type:"button",variant:"link",onClick:()=>{m("phone"),c(""),x(null)},disabled:g,className:"p-0 h-auto",children:"Change Number"})]})]})]})})]})}function DP({profile:n,onUploadDocument:t,onViewDocument:s,onStartVerification:r,className:i=""}){const l=(x=>{const _=[{id:"identity",name:"Government ID",description:"Aadhaar Card, PAN Card, or Passport",required:!0,status:"verified",uploadDate:"2024-01-10"},{id:"address",name:"Address Proof",description:"Utility bill or bank statement (last 3 months)",required:!0,status:"verified",uploadDate:"2024-01-10"}];return{seller:[..._,{id:"business_registration",name:"Business Registration",description:"Certificate of Incorporation or Partnership Deed",required:!0,status:"uploaded",uploadDate:"2024-01-12"},{id:"gst_certificate",name:"GST Certificate",description:"Valid GST registration certificate",required:!0,status:"not_uploaded"},{id:"financial_statements",name:"Financial Statements",description:"Last 3 years P&L and Balance Sheet",required:!0,status:"not_uploaded"},{id:"bank_statements",name:"Bank Statements",description:"Last 12 months business bank statements",required:!1,status:"not_uploaded"}],buyer:[..._,{id:"income_proof",name:"Income Proof",description:"ITR or salary slips for last 2 years",required:!0,status:"uploaded",uploadDate:"2024-01-11"},{id:"net_worth",name:"Net Worth Statement",description:"CA certified net worth statement",required:!0,status:"not_uploaded"},{id:"investment_experience",name:"Investment Experience",description:"Previous investment portfolio or business ownership proof",required:!1,status:"not_uploaded"}],franchisor:[..._,{id:"brand_registration",name:"Brand Registration",description:"Trademark registration certificate",required:!0,status:"verified",uploadDate:"2024-01-08"},{id:"franchise_agreement",name:"Franchise Agreement Template",description:"Legal franchise agreement template",required:!0,status:"uploaded",uploadDate:"2024-01-09"},{id:"financial_disclosure",name:"Financial Disclosure Document",description:"FDD with financial performance representations",required:!0,status:"not_uploaded"}],franchisee:[..._,{id:"financial_capacity",name:"Financial Capacity Proof",description:"Bank statements and investment capacity proof",required:!0,status:"not_uploaded"},{id:"business_plan",name:"Business Plan",description:"Detailed business plan for franchise operation",required:!1,status:"not_uploaded"}],advisor:[..._,{id:"professional_license",name:"Professional License",description:"Real estate or business broker license",required:!0,status:"verified",uploadDate:"2024-01-05"},{id:"experience_certificate",name:"Experience Certificate",description:"Proof of relevant industry experience",required:!0,status:"uploaded",uploadDate:"2024-01-06"},{id:"client_testimonials",name:"Client Testimonials",description:"References from previous successful deals",required:!1,status:"not_uploaded"}]}[x]||_})(n.role),c=l.filter(x=>x.required).length,u=l.filter(x=>x.required&&(x.status==="verified"||x.status==="uploaded")).length,m=u/c*100,g=x=>{switch(x){case"verified":return e.jsx(Lt,{className:"w-4 h-4 text-green-600"});case"uploaded":return e.jsx(Hn,{className:"w-4 h-4 text-yellow-600"});case"rejected":return e.jsx(pi,{className:"w-4 h-4 text-red-600"});default:return e.jsx(Ea,{className:"w-4 h-4 text-gray-400"})}},p=x=>{const _={verified:"bg-green-100 text-green-800",uploaded:"bg-yellow-100 text-yellow-800",rejected:"bg-red-100 text-red-800",not_uploaded:"bg-gray-100 text-gray-600"},j={verified:"Verified",uploaded:"Under Review",rejected:"Rejected",not_uploaded:"Not Uploaded"};return e.jsx(Be,{className:_[x],children:j[x]})},y=()=>{switch(n.verificationStatus){case"verified":return e.jsx(Fu,{className:"w-6 h-6 text-green-600"});case"pending":return e.jsx(Hn,{className:"w-6 h-6 text-yellow-600"});default:return e.jsx(Ds,{className:"w-6 h-6 text-gray-400"})}};return e.jsxs("div",{className:`space-y-6 ${i}`,children:[e.jsx(XZ,{}),e.jsxs("div",{className:"bg-white border rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[y(),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Verification Status"}),e.jsxs("p",{className:"text-sm text-gray-600 capitalize",children:[n.verificationStatus==="verified"&&"Your profile is fully verified",n.verificationStatus==="pending"&&"Verification in progress",n.verificationStatus==="unverified"&&"Complete verification to build trust"]})]})]}),n.verificationStatus==="unverified"&&e.jsx(ee,{onClick:r,children:"Start Verification"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Progress (",u,"/",c," required documents)"]}),e.jsxs("span",{className:"text-sm text-gray-600",children:[Math.round(m),"%"]})]}),e.jsx(On,{value:m,className:"h-2"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Required Documents"}),l.map(x=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[g(x.status),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h5",{className:"font-medium text-gray-900",children:x.name}),x.required&&e.jsx(Be,{variant:"outline",className:"text-xs",children:"Required"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:x.description}),x.uploadDate&&e.jsxs("p",{className:"text-xs text-gray-500",children:["Uploaded on ",new Date(x.uploadDate).toLocaleDateString()]}),x.status==="rejected"&&x.rejectionReason&&e.jsxs("p",{className:"text-xs text-red-600 mt-1",children:["Rejected: ",x.rejectionReason]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[p(x.status),x.status==="not_uploaded"?e.jsxs(ee,{size:"sm",variant:"outline",onClick:()=>t==null?void 0:t(x.id),className:"flex items-center gap-1",children:[e.jsx(ml,{className:"w-3 h-3"}),"Upload"]}):e.jsxs(ee,{size:"sm",variant:"ghost",onClick:()=>s==null?void 0:s(x.id),className:"flex items-center gap-1",children:[e.jsx(dn,{className:"w-3 h-3"}),"View"]})]})]},x.id))]}),e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[e.jsxs("h4",{className:"font-medium text-blue-900 mb-2 flex items-center gap-2",children:[e.jsx(Fu,{className:"w-4 h-4"}),"Verification Benefits"]}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:" Higher visibility in search results"}),e.jsx("li",{children:" Increased trust from potential partners"}),e.jsx("li",{children:" Access to premium features and tools"}),e.jsx("li",{children:" Priority customer support"}),e.jsx("li",{children:" Verified badge on your profile"})]})]})]})]})}function IP({profile:n,documents:t=[],isOwnVault:s=!1,hasSignedNDA:r=!1,onUploadDocument:i,onDownloadDocument:a,onSignNDA:l,className:c=""}){const[u,m]=w.useState(!1),[g,p]=w.useState(!1),[y,x]=w.useState("all"),j=(()=>{const D=[{id:"doc1",name:"Company Profile.pdf",type:"marketing",size:"2.4 MB",uploadDate:"2024-01-15",uploadedBy:n.displayName,isPrivate:!1,requiresNDA:!1,description:"Company overview and capabilities",downloadCount:12},{id:"doc2",name:"Business License.pdf",type:"legal",size:"1.2 MB",uploadDate:"2024-01-10",uploadedBy:n.displayName,isPrivate:!0,requiresNDA:!0,description:"Official business registration documents",downloadCount:3}],K={seller:[...D,{id:"doc3",name:"Financial_Statements_2023.xlsx",type:"financial",size:"5.8 MB",uploadDate:"2024-01-12",uploadedBy:n.displayName,isPrivate:!0,requiresNDA:!0,description:"Detailed P&L and balance sheet for 2023",downloadCount:8},{id:"doc4",name:"Asset_Inventory.pdf",type:"operational",size:"3.1 MB",uploadDate:"2024-01-08",uploadedBy:n.displayName,isPrivate:!0,requiresNDA:!0,description:"Complete inventory of business assets",downloadCount:5},{id:"doc5",name:"Customer_Contracts.zip",type:"legal",size:"12.4 MB",uploadDate:"2024-01-05",uploadedBy:n.displayName,isPrivate:!0,requiresNDA:!0,description:"Key customer contracts and agreements",downloadCount:2}],buyer:[...D,{id:"doc3",name:"Investment_Criteria.pdf",type:"other",size:"1.8 MB",uploadDate:"2024-01-14",uploadedBy:n.displayName,isPrivate:!1,requiresNDA:!1,description:"Investment preferences and criteria",downloadCount:15},{id:"doc4",name:"Proof_of_Funds.pdf",type:"financial",size:"2.2 MB",uploadDate:"2024-01-11",uploadedBy:n.displayName,isPrivate:!0,requiresNDA:!0,description:"Bank statements and financial capacity proof",downloadCount:0}],franchisor:[...D,{id:"doc3",name:"Franchise_Disclosure_Document.pdf",type:"legal",size:"8.7 MB",uploadDate:"2024-01-13",uploadedBy:n.displayName,isPrivate:!0,requiresNDA:!0,description:"Complete FDD with financial performance data",downloadCount:18},{id:"doc4",name:"Operations_Manual.pdf",type:"operational",size:"15.2 MB",uploadDate:"2024-01-09",uploadedBy:n.displayName,isPrivate:!0,requiresNDA:!0,description:"Comprehensive franchise operations guide",downloadCount:7},{id:"doc5",name:"Marketing_Kit.zip",type:"marketing",size:"25.6 MB",uploadDate:"2024-01-07",uploadedBy:n.displayName,isPrivate:!1,requiresNDA:!1,description:"Brand assets and marketing materials",downloadCount:34}],franchisee:[...D,{id:"doc3",name:"Business_Plan_Draft.pdf",type:"other",size:"4.3 MB",uploadDate:"2024-01-12",uploadedBy:n.displayName,isPrivate:!0,requiresNDA:!1,description:"Franchise business plan and projections",downloadCount:1}],advisor:[...D,{id:"doc3",name:"Client_Success_Stories.pdf",type:"marketing",size:"6.1 MB",uploadDate:"2024-01-11",uploadedBy:n.displayName,isPrivate:!1,requiresNDA:!1,description:"Case studies and client testimonials",downloadCount:22},{id:"doc4",name:"Professional_Credentials.pdf",type:"legal",size:"2.8 MB",uploadDate:"2024-01-06",uploadedBy:n.displayName,isPrivate:!1,requiresNDA:!1,description:"Licenses and professional certifications",downloadCount:9}]};return t.length>0?t:K[n.role]||D})(),A=["all","financial","legal","operational","marketing","other"],C=y==="all"?j:j.filter(D=>D.type===y),P=C.filter(D=>!D.isPrivate),S=C.filter(D=>D.isPrivate),O=D=>({financial:"",legal:"",operational:"",marketing:"",other:""})[D]||"",z=D=>{const K={financial:"bg-green-100 text-green-800",legal:"bg-blue-100 text-blue-800",operational:"bg-orange-100 text-orange-800",marketing:"bg-purple-100 text-purple-800",other:"bg-gray-100 text-gray-800"};return e.jsx(Be,{className:K[D],children:D.charAt(0).toUpperCase()+D.slice(1)})},V=D=>{D.requiresNDA&&!r&&!s?m(!0):a==null||a(D.id)},B=()=>{g&&(l==null||l(),m(!1),p(!1))};return e.jsxs("div",{className:`bg-white border rounded-lg p-6 ${c}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(_s,{className:"w-5 h-5"}),"Documents Vault"]}),e.jsx("p",{className:"text-sm text-gray-600",children:s?"Manage your documents":`${n.displayName}'s documents`})]}),s&&e.jsxs(ee,{onClick:i,className:"flex items-center gap-2",children:[e.jsx(ml,{className:"w-4 h-4"}),"Upload Document"]})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:A.map(D=>e.jsx(ee,{variant:y===D?"default":"outline",size:"sm",onClick:()=>x(D),className:"capitalize",children:D==="all"?"All Documents":D},D))}),P.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(yF,{className:"w-4 h-4 text-green-600"}),e.jsx("h4",{className:"font-medium text-gray-900",children:"Public Documents"}),e.jsxs(Be,{variant:"outline",className:"text-xs",children:[P.length," documents"]})]}),e.jsx("div",{className:"space-y-3",children:P.map(D=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx("span",{className:"text-2xl",children:O(D.type)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h5",{className:"font-medium text-gray-900",children:D.name}),z(D.type)]}),D.description&&e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:D.description}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[e.jsx("span",{children:D.size}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(za,{className:"w-3 h-3"}),new Date(D.uploadDate).toLocaleDateString()]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(oi,{className:"w-3 h-3"}),D.downloadCount," downloads"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(ee,{size:"sm",variant:"outline",onClick:()=>V(D),className:"flex items-center gap-1",children:[e.jsx(oi,{className:"w-3 h-3"}),"Download"]}),!s&&e.jsx(ee,{size:"sm",variant:"ghost",className:"flex items-center gap-1",children:e.jsx(xp,{className:"w-3 h-3"})})]})]},D.id))})]}),S.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Il,{className:"w-4 h-4 text-red-600"}),e.jsx("h4",{className:"font-medium text-gray-900",children:"Private Documents"}),e.jsxs(Be,{variant:"outline",className:"text-xs",children:[S.length," documents"]}),!s&&!r&&e.jsx(Be,{className:"bg-red-100 text-red-800 text-xs",children:"NDA Required"})]}),!s&&!r&&e.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(vi,{className:"w-4 h-4 text-red-600"}),e.jsx("span",{className:"font-medium text-red-900",children:"NDA Required"})]}),e.jsx("p",{className:"text-sm text-red-800 mb-3",children:"These documents contain sensitive information. You must sign a Non-Disclosure Agreement to access them."}),e.jsx(ee,{size:"sm",onClick:()=>m(!0),className:"bg-red-600 hover:bg-red-700",children:"Sign NDA to Access"})]}),e.jsx("div",{className:"space-y-3",children:S.map(D=>e.jsxs("div",{className:`flex items-center justify-between p-4 border rounded-lg transition-colors ${!s&&!r?"opacity-50 bg-gray-50":"hover:bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx("span",{className:"text-2xl",children:O(D.type)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h5",{className:"font-medium text-gray-900",children:D.name}),z(D.type),D.requiresNDA&&e.jsxs(Be,{className:"bg-red-100 text-red-800 text-xs",children:[e.jsx(Ds,{className:"w-3 h-3 mr-1"}),"NDA"]})]}),D.description&&e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:D.description}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[e.jsx("span",{children:D.size}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(za,{className:"w-3 h-3"}),new Date(D.uploadDate).toLocaleDateString()]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(oi,{className:"w-3 h-3"}),D.downloadCount," downloads"]})]})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(ee,{size:"sm",variant:"outline",onClick:()=>V(D),disabled:!s&&!r&&D.requiresNDA,className:"flex items-center gap-1",children:[e.jsx(oi,{className:"w-3 h-3"}),"Download"]})})]},D.id))})]}),C.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(_s,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Documents Found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:y==="all"?"No documents have been uploaded yet.":`No ${y} documents found.`}),s&&e.jsx(ee,{onClick:i,children:"Upload Your First Document"})]}),e.jsx(ha,{open:u,onOpenChange:m,children:e.jsxs($i,{className:"max-w-2xl",children:[e.jsxs(Vi,{children:[e.jsxs(Hi,{className:"flex items-center gap-2",children:[e.jsx(Ds,{className:"w-5 h-5 text-red-600"}),"Non-Disclosure Agreement"]}),e.jsxs(Im,{children:["Please review and accept the NDA to access private documents from"," ",n.displayName,"."]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"max-h-64 overflow-y-auto p-4 bg-gray-50 rounded-lg text-sm",children:[e.jsx("h4",{className:"font-medium mb-2",children:"CONFIDENTIALITY AND NON-DISCLOSURE AGREEMENT"}),e.jsxs("p",{className:"mb-2",children:['This Non-Disclosure Agreement ("Agreement") is entered into between ',n.displayName,' ("Disclosing Party") and you ("Receiving Party") for the purpose of preventing the unauthorized disclosure of Confidential Information.']}),e.jsxs("p",{className:"mb-2",children:[e.jsx("strong",{children:"1. Definition of Confidential Information:"})," All business, financial, operational, and proprietary information shared through this platform, including but not limited to financial statements, business plans, customer lists, and operational procedures."]}),e.jsxs("p",{className:"mb-2",children:[e.jsx("strong",{children:"2. Obligations:"})," The Receiving Party agrees to maintain confidentiality and not disclose, use, or reproduce any Confidential Information for any purpose other than evaluating potential business opportunities."]}),e.jsxs("p",{className:"mb-2",children:[e.jsx("strong",{children:"3. Term:"})," This Agreement shall remain in effect for a period of 2 years from the date of acceptance."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"4. Remedies:"})," Any breach of this Agreement may result in irreparable harm, and the Disclosing Party shall be entitled to seek injunctive relief and monetary damages."]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ln,{id:"nda-accept",checked:g,onCheckedChange:D=>p(D)}),e.jsx("label",{htmlFor:"nda-accept",className:"text-sm font-medium",children:"I have read, understood, and agree to the terms of this Non-Disclosure Agreement"})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(ee,{variant:"outline",onClick:()=>m(!1),children:"Cancel"}),e.jsx(ee,{onClick:B,disabled:!g,className:"bg-red-600 hover:bg-red-700",children:"Sign NDA & Access Documents"})]})]})]})})]})}const FP=[{id:"u1",email:"rajesh.kumar@techflow.com",phone:"+91 98765 43210",avatar:"https://github.com/yusufhilmi.png",displayName:"Rajesh Kumar",role:"seller",location:{city:"Bangalore",state:"Karnataka",country:"India"},bio:"Experienced tech entrepreneur looking to sell my successful software consultancy to focus on new ventures.",verificationStatus:"verified",joinedDate:"2023-06-15",lastActive:"2024-01-15",isPublic:!0,ndaAccepted:!1,companyName:"TechFlow Solutions",companyLogo:"https://github.com/polymet-ai.png",industry:"Technology",businessType:"llc",yearEstablished:2018,employees:25,publicInfo:{shortDescription:"Leading software consultancy specializing in enterprise solutions and digital transformation.",keyFeatures:["Established client base of 50+ companies","Recurring revenue model","Skilled development team","Modern tech stack"],businessHours:"Mon-Fri 9AM-6PM",website:"https://techflow.com"},privateInfo:{monthlyRevenue:8e5,annualRevenue:96e5,netProfit:24e5,askingPrice:12e6,assets:{equipment:5e5,inventory:0,realEstate:0},liabilities:2e5,customerBase:52,leaseInfo:{monthlyRent:15e4,leaseExpiry:"2026-12-31",renewalOptions:"5-year renewal available"},reasonForSelling:"Pursuing new venture in AI/ML space"},listings:["b1","b2"],inquiries:23,offers:5},{id:"u2",email:"priya.investments@gmail.com",phone:"+91 98765 43211",avatar:"https://github.com/kdrnp.png",displayName:"Priya Sharma",role:"buyer",location:{city:"Mumbai",state:"Maharashtra",country:"India"},bio:"Private equity investor focused on acquiring profitable SMEs in technology and healthcare sectors.",verificationStatus:"verified",joinedDate:"2023-08-20",lastActive:"2024-01-14",isPublic:!0,ndaAccepted:!0,buyerType:"private-equity",firmName:"Sharma Capital Partners",firmLogo:"https://github.com/polymet-ai.png",investmentRange:{min:5e6,max:5e7},preferredIndustries:["Technology","Healthcare","Manufacturing"],preferredLocations:["Mumbai","Pune","Bangalore","Delhi"],experience:"15+ years in private equity and business acquisitions",privateInfo:{financingPreference:"mixed",preApprovalAmount:3e7,timeline:"3-6 months for due diligence and closing",dueDiligenceProcess:"Comprehensive financial, legal, and operational review"},savedBusinesses:["b1","b3","b5"],savedSearches:["tech-bangalore","healthcare-mumbai"],ndaRequests:["b1","b2"]},{id:"u3",email:"franchise@burgerjunction.com",phone:"+91 98765 43212",avatar:"https://github.com/yahyabedirhan.png",displayName:"Amit Patel",role:"franchisor",location:{city:"Ahmedabad",state:"Gujarat",country:"India"},bio:"Founder of Burger Junction, expanding our successful QSR franchise across India with proven systems and support.",verificationStatus:"verified",joinedDate:"2023-05-10",lastActive:"2024-01-15",isPublic:!0,ndaAccepted:!1,brandName:"Burger Junction",brandLogo:"https://github.com/polymet-ai.png",industry:"Food & Beverage",yearFounded:2019,totalOutlets:45,franchiseFee:5e5,royaltyPercentage:6,investmentRange:{min:2e6,max:35e5},publicInfo:{brandStory:"Started as a single outlet in Ahmedabad, now India's fastest-growing burger franchise with a focus on quality ingredients and customer experience.",keyDifferentiators:["Fresh, never frozen patties","Proprietary sauce recipes","Quick service model","Strong brand recognition"],supportProvided:["Site selection assistance","Complete training program","Marketing support","Operations manual","Ongoing business coaching"],territoryAvailability:["Mumbai","Pune","Surat","Vadodara","Rajkot"]},privateInfo:{franchiseKit:"comprehensive-franchise-kit-v2.pdf",roiCaseStudies:["mumbai-outlet-case-study.pdf","pune-success-story.pdf"],legalDocuments:["franchise-agreement.pdf","disclosure-document.pdf"],financialPerformance:{averageUnitRevenue:25e5,averageUnitProfit:5e5,breakEvenTime:18},franchiseeRequirements:["Minimum 5 years business experience","Food service experience preferred","Commitment to brand standards","Local market knowledge"]},franchiseListings:["f1","f2"],leads:34,activeNegotiations:8}],BP=n=>FP.find(t=>t.id===n),Sy=()=>FP[0],QZ=[{id:"a1",type:"listing_created",title:"New Business Listed",description:"TechFlow Solutions listed for sale",timestamp:"2024-01-15T10:30:00Z",metadata:{listingId:"b1",askingPrice:12e6}},{id:"a2",type:"inquiry_received",title:"New Inquiry",description:"Inquiry received from Priya Sharma",timestamp:"2024-01-14T15:45:00Z",metadata:{inquiryId:"i1",buyerId:"u2"}},{id:"a3",type:"document_uploaded",title:"Financial Documents Uploaded",description:"P&L statements and balance sheets uploaded",timestamp:"2024-01-13T09:15:00Z",metadata:{documentCount:5,documentType:"financial"}},{id:"a4",type:"nda_signed",title:"NDA Signed",description:"Non-disclosure agreement signed with potential buyer",timestamp:"2024-01-12T14:20:00Z",metadata:{buyerId:"u2",ndaId:"nda1"}},{id:"a5",type:"offer_made",title:"Offer Received",description:"10.5Cr offer received for TechFlow Solutions",timestamp:"2024-01-11T11:00:00Z",metadata:{offerId:"o1",amount:105e5,buyerId:"u2"}}],eK=n=>QZ,tK={listing_created:_s,inquiry_received:ua,offer_made:zi,document_uploaded:ml,nda_signed:Lt,profile_viewed:dn,meeting_scheduled:za,verification_completed:Lt,payment_received:zi,contract_signed:_s,milestone_reached:Os,team_member_added:gn},sK={listing_created:"bg-blue-500",inquiry_received:"bg-green-500",offer_made:"bg-orange-500",document_uploaded:"bg-purple-500",nda_signed:"bg-red-500",profile_viewed:"bg-gray-500",meeting_scheduled:"bg-indigo-500",verification_completed:"bg-emerald-500",payment_received:"bg-yellow-500",contract_signed:"bg-pink-500",milestone_reached:"bg-cyan-500",team_member_added:"bg-violet-500"};function nK({userId:n,limit:t=10,showFilters:s=!0,className:r=""}){const i=eK().slice(0,t),[a,l]=ot.useState("all"),c=i.filter(g=>a==="all"?!0:g.type===a),u=g=>{const p=new Date,y=new Date(g),x=Math.floor((p.getTime()-y.getTime())/(1e3*60*60));return x<1?"Just now":x<24?`${x}h ago`:x<168?`${Math.floor(x/24)}d ago`:`${Math.floor(x/168)}w ago`},m=[...new Set(i.map(g=>g.type))];return e.jsxs(de,{className:r,children:[e.jsxs(Me,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(Hn,{className:"w-5 h-5"}),"Recent Activity"]}),e.jsx(ee,{variant:"ghost",size:"sm",children:e.jsx(gw,{className:"w-4 h-4"})})]}),s&&e.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[e.jsx(ee,{variant:a==="all"?"default":"outline",size:"sm",onClick:()=>l("all"),children:"All"}),m.map(g=>e.jsx(ee,{variant:a===g?"default":"outline",size:"sm",onClick:()=>l(g),children:g.replace(/_/g," ").replace(/\b\w/g,p=>p.toUpperCase())},g))]})]}),e.jsxs(fe,{children:[c.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(Hn,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"No recent activity"}),e.jsx("p",{className:"text-sm",children:"Your activities will appear here"})]}):e.jsx("div",{className:"space-y-4",children:c.map((g,p)=>{const y=tK[g.type]||Ea,x=sK[g.type]||"bg-gray-500";return e.jsxs("div",{className:"flex gap-4 group",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`w-8 h-8 rounded-full ${x} flex items-center justify-center flex-shrink-0`,children:e.jsx(y,{className:"w-4 h-4 text-white"})}),p<c.length-1&&e.jsx("div",{className:"w-px h-8 bg-border mt-2"})]}),e.jsx("div",{className:"flex-1 min-w-0 pb-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-sm group-hover:text-primary transition-colors",children:g.title}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:g.description}),g.metadata&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:Object.entries(g.metadata).map(([_,j])=>e.jsxs(Be,{variant:"secondary",className:"text-xs",children:[_,": ",String(j)]},_))})]}),e.jsx("div",{className:"text-xs text-muted-foreground ml-4 flex-shrink-0",children:u(g.timestamp)})]})})]},g.id)})}),i.length>t&&e.jsx("div",{className:"text-center pt-4 border-t",children:e.jsx(ee,{variant:"outline",size:"sm",children:"View All Activity"})})]})]})}const Tg={owner:["All permissions","Billing access","Delete account"],admin:["Manage team","Edit profile","View documents","Manage listings"],editor:["Edit profile","View documents","Manage listings"],viewer:["View profile","View public documents"]},zS={owner:"bg-purple-100 text-purple-800",admin:"bg-blue-100 text-blue-800",editor:"bg-green-100 text-green-800",viewer:"bg-gray-100 text-gray-800"},rK={active:Lt,pending:Hn,suspended:Ea},iK={active:"text-green-600",pending:"text-yellow-600",suspended:"text-red-600"},aK=[{id:"tm1",name:"Rajesh Kumar",email:"rajesh@techflow.com",role:"owner",status:"active",avatar:"https://github.com/yusufhilmi.png",joinedDate:"2024-01-15",lastActive:"2024-03-15T10:30:00Z",permissions:Tg.owner},{id:"tm2",name:"Priya Sharma",email:"priya@techflow.com",role:"admin",status:"active",avatar:"https://github.com/kdrnp.png",joinedDate:"2024-02-01",lastActive:"2024-03-14T16:45:00Z",permissions:Tg.admin},{id:"tm3",name:"Amit Patel",email:"amit@consultant.com",role:"editor",status:"pending",avatar:"https://github.com/yahyabedirhan.png",joinedDate:"2024-03-10",lastActive:"2024-03-10T09:00:00Z",permissions:Tg.editor}];function oK({members:n=aK,onInviteMember:t,onUpdateRole:s,onRemoveMember:r,onResendInvite:i,className:a=""}){var _;const[l,c]=w.useState(!1),[u,m]=w.useState(""),[g,p]=w.useState("viewer"),y=()=>{u&&t&&(t(u,g),m(""),p("viewer"),c(!1))},x=j=>{const A=new Date,C=new Date(j),P=Math.floor((A.getTime()-C.getTime())/(1e3*60*60));return P<1?"Just now":P<24?`${P}h ago`:P<168?`${Math.floor(P/24)}d ago`:`${Math.floor(P/168)}w ago`};return e.jsxs(de,{className:a,children:[e.jsx(Me,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(gn,{className:"w-5 h-5"}),"Team Management",e.jsx(Be,{variant:"secondary",children:n.length})]}),e.jsxs(ha,{open:l,onOpenChange:c,children:[e.jsx(zh,{asChild:!0,children:e.jsxs(ee,{size:"sm",children:[e.jsx(AB,{className:"w-4 h-4 mr-2"}),"Invite Member"]})}),e.jsxs($i,{children:[e.jsxs(Vi,{children:[e.jsx(Hi,{children:"Invite Team Member"}),e.jsx(Im,{children:"Send an invitation to collaborate on your profile and listings."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ve,{htmlFor:"email",children:"Email Address"}),e.jsx(Ue,{id:"email",type:"email",placeholder:"colleague@company.com",value:u,onChange:j=>m(j.target.value)})]}),e.jsxs("div",{children:[e.jsx(ve,{htmlFor:"role",children:"Role"}),e.jsxs(Jt,{value:g,onValueChange:p,children:[e.jsx(Wt,{children:e.jsx(Xt,{})}),e.jsxs(Yt,{children:[e.jsx(Ee,{value:"admin",children:"Admin"}),e.jsx(Ee,{value:"editor",children:"Editor"}),e.jsx(Ee,{value:"viewer",children:"Viewer"})]})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:(_=Tg[g])==null?void 0:_.join(", ")})]})]}),e.jsxs(Uu,{children:[e.jsx(ee,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),e.jsxs(ee,{onClick:y,disabled:!u,children:[e.jsx(Or,{className:"w-4 h-4 mr-2"}),"Send Invite"]})]})]})]})]})}),e.jsxs(fe,{children:[e.jsx("div",{className:"space-y-4",children:n.map(j=>{const A=rK[j.status];return e.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[e.jsx("img",{src:j.avatar,alt:j.name,className:"w-10 h-10 rounded-full"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"font-medium truncate",children:j.name}),j.role==="owner"&&e.jsx(P7,{className:"w-4 h-4 text-yellow-600"}),e.jsx(Be,{className:zS[j.role],children:j.role}),e.jsx(A,{className:`w-4 h-4 ${iK[j.status]}`})]}),e.jsx("p",{className:"text-sm text-muted-foreground truncate",children:j.email}),e.jsx("p",{className:"text-xs text-muted-foreground",children:j.status==="active"?`Active ${x(j.lastActive)}`:j.status==="pending"?"Invitation pending":"Account suspended"})]}),e.jsxs(yc,{children:[e.jsx(bc,{asChild:!0,children:e.jsx(ee,{variant:"ghost",size:"sm",children:e.jsx(gw,{className:"w-4 h-4"})})}),e.jsxs(ql,{align:"end",children:[j.status==="pending"&&e.jsxs(Rn,{onClick:()=>i==null?void 0:i(j.id),children:[e.jsx(Or,{className:"w-4 h-4 mr-2"}),"Resend Invite"]}),j.role!=="owner"&&e.jsxs(e.Fragment,{children:[e.jsxs(Rn,{onClick:()=>s==null?void 0:s(j.id,"admin"),children:[e.jsx(Ds,{className:"w-4 h-4 mr-2"}),"Change Role"]}),e.jsxs(Rn,{onClick:()=>r==null?void 0:r(j.id),className:"text-red-600",children:[e.jsx(Vo,{className:"w-4 h-4 mr-2"}),"Remove Member"]})]})]})]})]},j.id)})}),e.jsxs("div",{className:"mt-6 p-4 bg-muted/30 rounded-lg",children:[e.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[e.jsx(Ds,{className:"w-4 h-4"}),"Role Permissions"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:Object.entries(Tg).map(([j,A])=>e.jsxs("div",{children:[e.jsx(Be,{className:`${zS[j]} mb-2`,children:j}),e.jsx("ul",{className:"space-y-1 text-muted-foreground",children:A.map(C=>e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-1 h-1 bg-current rounded-full"}),C]},C))})]},j))})]})]})]})}function lK({showIfComplete:n=!1,className:t=""}){const s=Mn(),{profile:r}=Bs(),i=m2(r);if(i.score>=100&&!n||!r)return null;const a=i.missingFields.filter(c=>c.priority==="high").slice(0,3),l=()=>i.score>=80?"text-green-600":i.score>=50?"text-yellow-600":"text-red-600";return e.jsxs(de,{className:`border-dashed ${t}`,children:[e.jsx(Me,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(Fe,{className:"text-base font-medium flex items-center gap-2",children:[e.jsx(Aa,{className:"h-4 w-4"}),"Profile Completeness"]}),e.jsxs(Be,{variant:i.score>=80?"default":"secondary",className:l(),children:[i.score,"%"]})]})}),e.jsxs(fe,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(On,{value:i.score,className:"h-2"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:i.score>=80?e.jsxs("span",{className:"flex items-center gap-1 text-green-600",children:[e.jsx(tp,{className:"h-3 w-3"}),"Great job! Your profile is well optimized"]}):i.score>=50?e.jsxs("span",{className:"flex items-center gap-1 text-yellow-600",children:[e.jsx(ko,{className:"h-3 w-3"}),"Almost there! Complete a few more fields"]}):e.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground",children:[e.jsx(Ea,{className:"h-3 w-3"}),"Complete your profile to improve visibility"]})})]}),a.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Suggested next steps:"}),e.jsx("ul",{className:"space-y-1",children:a.map((c,u)=>e.jsxs("li",{className:"text-sm flex items-center gap-2 text-muted-foreground",children:[e.jsx("span",{className:"w-5 h-5 rounded-full bg-primary/10 text-primary text-xs flex items-center justify-center",children:u+1}),"Add ",c.label.toLowerCase()]},c.field))})]}),e.jsxs(ee,{variant:i.score>=80?"outline":"default",size:"sm",className:"w-full",onClick:()=>s("/profile/edit"),children:[i.score>=80?"View Profile":"Complete Profile",e.jsx(Qg,{className:"h-4 w-4 ml-1"})]})]})]})}function qS(n){const t={id:n.id,email:n.email,phone:n.phone||"",avatar:n.avatar_url||void 0,displayName:n.display_name||"Unknown User",location:{city:n.city||"",state:n.state||"",country:n.country||"India"},bio:n.bio||"",verificationStatus:n.verified?"verified":"unverified",joinedDate:n.created_at,lastActive:n.updated_at,isPublic:!0,ndaAccepted:!1};switch(n.role){case"seller":return{...t,role:"seller",companyName:n.display_name||"Business",companyLogo:n.avatar_url||void 0,industry:n.industry||"General",businessType:"llc",yearEstablished:n.founded_year||new Date().getFullYear(),employees:n.employees||0,publicInfo:{shortDescription:n.bio||"",keyFeatures:Array.isArray(n.key_products)?n.key_products:[],businessHours:"Mon-Fri 9AM-6PM",website:n.website||void 0},privateInfo:{monthlyRevenue:0,annualRevenue:0,netProfit:0,askingPrice:n.asking_price||0,assets:{equipment:0,inventory:0,realEstate:0},liabilities:0,customerBase:0,leaseInfo:{monthlyRent:0,leaseExpiry:"",renewalOptions:""},reasonForSelling:""},listings:[],inquiries:0,offers:0};case"buyer":return{...t,role:"buyer",buyerType:n.buyer_type||"individual",firmName:n.display_name||void 0,firmLogo:n.avatar_url||void 0,investmentRange:{min:n.investment_min||0,max:n.investment_max||0},preferredIndustries:Array.isArray(n.preferred_industries)?n.preferred_industries:[],preferredLocations:[],experience:n.bio||"",privateInfo:{financingPreference:"cash",preApprovalAmount:0,timeline:"",dueDiligenceProcess:""},savedBusinesses:[],savedSearches:[],ndaRequests:[]};case"franchisor":const s=n.support;return{...t,role:"franchisor",brandName:n.display_name||"Brand",brandLogo:n.avatar_url||void 0,industry:n.industry||"General",yearFounded:n.founded_year||new Date().getFullYear(),totalOutlets:n.total_outlets||0,franchiseFee:n.franchise_fee||0,royaltyPercentage:n.royalty_percentage||0,investmentRange:{min:n.investment_min||0,max:n.investment_max||0},publicInfo:{brandStory:n.bio||"",keyDifferentiators:[],supportProvided:s!=null&&s.training?[s.training,s.marketing,s.operations]:[],territoryAvailability:[]},privateInfo:{franchiseKit:"",roiCaseStudies:[],legalDocuments:[],financialPerformance:{averageUnitRevenue:0,averageUnitProfit:0,breakEvenTime:0},franchiseeRequirements:[]},franchiseListings:[],leads:0,activeNegotiations:0};case"franchisee":return{...t,role:"franchisee",preferredIndustries:Array.isArray(n.preferred_industries)?n.preferred_industries:[],preferredTerritories:[],investmentBudget:{min:n.investment_min||0,max:n.investment_max||0},experience:{businessExperience:n.bio||"",franchiseExperience:"",industryExperience:""},timeline:"",savedFranchises:[],applications:[],comparisonMatrix:[]};case"advisor":return{...t,role:"advisor",firmName:n.display_name||"Advisory Firm",firmLogo:n.avatar_url||void 0,licenseNumber:"",services:[],specialization:[],coverageRegions:[],experience:0,credentials:[],professionalInfo:{successRate:0,averageDealSize:0,totalDealsCompleted:0,clientTestimonials:[]},managedListings:[],activeClients:0,commissionStructure:""};case"broker":return{...t,role:"advisor",firmName:n.display_name||"Brokerage Firm",firmLogo:n.avatar_url||void 0,licenseNumber:"",services:[],specialization:[],coverageRegions:[],experience:0,credentials:[],professionalInfo:{successRate:0,averageDealSize:0,totalDealsCompleted:0,clientTestimonials:[]},managedListings:[],activeClients:0,commissionStructure:""};case"admin":return{...t,role:"advisor",firmName:n.display_name||"Admin",firmLogo:n.avatar_url||void 0,licenseNumber:"",services:[],specialization:[],coverageRegions:[],experience:0,credentials:[],professionalInfo:{successRate:0,averageDealSize:0,totalDealsCompleted:0,clientTestimonials:[]},managedListings:[],activeClients:0,commissionStructure:""};default:throw new Error(`Unsupported role: ${n.role}`)}}function cK({className:n=""}){const{userId:t}=Jd(),s=Mn(),{user:r,profile:i,loading:a}=Bs(),[l,c]=w.useState(null),[u,m]=w.useState(!0),[g,p]=w.useState("seller"),y=!t||t===(r==null?void 0:r.id);if(w.useEffect(()=>{(async()=>{if(!a)try{if(t){const O=await MP.getProfile(t),z=qS(O);c(z)}else if(i){const O=qS(i);c(O)}}catch(O){console.error("Error loading profile:",O)}finally{m(!1)}})()},[t,i,a]),u||a)return e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),e.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading profile..."})]})});if(!l)return e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Profile Not Found"}),e.jsx("p",{className:"text-muted-foreground",children:"The requested profile could not be found."}),e.jsx(ee,{onClick:()=>s("/"),className:"mt-4",children:"Go Home"})]})});const x=()=>{s("/profile/edit")},_=()=>{console.log("Share profile"),navigator.clipboard.writeText(window.location.href)},j=()=>{console.log("Send message to",l.displayName)},C=l.role==="seller"?a2.filter(S=>S.id==="biz-001"||S.id==="biz-002"):l.role==="franchisor"?o2.filter(S=>S.id==="fran-001"||S.id==="fran-002"):[],P=()=>{var S,O,z,V,B,D,K,H,$,W;switch(l.role){case"seller":const Q=l;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(de,{children:[e.jsx(Me,{children:e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(ed,{className:"w-5 h-5"}),"Business Overview"]})}),e.jsxs(fe,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-muted/30 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-primary",children:Q.yearEstablished||"N/A"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Founded"})]}),e.jsxs("div",{className:"text-center p-4 bg-muted/30 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-primary",children:Q.employees}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Employees"})]}),e.jsxs("div",{className:"text-center p-4 bg-muted/30 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-primary",children:Q.industry}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Industry"})]}),e.jsxs("div",{className:"text-center p-4 bg-muted/30 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-primary",children:(S=Q.privateInfo)!=null&&S.askingPrice?`${(Q.privateInfo.askingPrice/1e7).toFixed(1)} Cr`:"N/A"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Asking Price"})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h4",{className:"font-medium mb-3",children:"Business Description"}),e.jsx("p",{className:"text-muted-foreground",children:((O=Q.publicInfo)==null?void 0:O.shortDescription)||Q.bio})]}),((z=Q.publicInfo)==null?void 0:z.keyFeatures)&&Array.isArray(Q.publicInfo.keyFeatures)&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"font-medium mb-3",children:"Key Products/Services"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Q.publicInfo.keyFeatures.map(q=>e.jsx(Be,{variant:"secondary",children:q},q))})]})]})]}),C.length>0&&e.jsxs(de,{children:[e.jsx(Me,{children:e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(_s,{className:"w-5 h-5"}),"Active Listings",e.jsx(Be,{variant:"secondary",children:C.length})]})}),e.jsx(fe,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:C.map(q=>e.jsx(Lh,{business:q,onViewDetails:()=>console.log("View",q.id)},q.id))})})]})]});case"buyer":const Z=l;return e.jsx("div",{className:"space-y-6",children:e.jsxs(de,{children:[e.jsx(Me,{children:e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(Os,{className:"w-5 h-5"}),"Investment Profile"]})}),e.jsxs(fe,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-muted/30 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-primary capitalize",children:((V=Z.buyerType)==null?void 0:V.replace("_"," "))||"N/A"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Buyer Type"})]}),e.jsxs("div",{className:"text-center p-4 bg-muted/30 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-primary",children:(B=Z.investmentRange)!=null&&B.min&&((D=Z.investmentRange)!=null&&D.max)?`${(Z.investmentRange.min/1e7).toFixed(1)}-${(Z.investmentRange.max/1e7).toFixed(1)} Cr`:"N/A"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Investment Range"})]}),e.jsxs("div",{className:"text-center p-4 bg-muted/30 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-primary",children:Array.isArray(Z.preferredIndustries)?Z.preferredIndustries.length:0}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Industries"})]})]}),Array.isArray(Z.preferredIndustries)&&Z.preferredIndustries.length>0&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h4",{className:"font-medium mb-3",children:"Preferred Industries"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Z.preferredIndustries.map(q=>e.jsx(Be,{variant:"secondary",children:q},q))})]}),Z.experience&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"font-medium mb-3",children:"Investment Criteria"}),e.jsx("p",{className:"text-muted-foreground",children:Z.experience})]})]})]})});case"franchisor":const ie=l;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(de,{children:[e.jsx(Me,{children:e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(Mh,{className:"w-5 h-5"}),"Franchise Details"]})}),e.jsxs(fe,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-muted/30 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-primary",children:ie.totalOutlets||0}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Outlets"})]}),e.jsxs("div",{className:"text-center p-4 bg-muted/30 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-primary",children:[ie.royaltyPercentage||0,"%"]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Royalty"})]}),e.jsxs("div",{className:"text-center p-4 bg-muted/30 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-primary",children:ie.franchiseFee?`${(ie.franchiseFee/1e5).toFixed(0)}L`:"N/A"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Franchise Fee"})]}),e.jsxs("div",{className:"text-center p-4 bg-muted/30 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-primary",children:(K=ie.investmentRange)!=null&&K.min&&((H=ie.investmentRange)!=null&&H.max)?`${(ie.investmentRange.min/1e7).toFixed(1)}-${(ie.investmentRange.max/1e7).toFixed(1)} Cr`:"N/A"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Investment"})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h4",{className:"font-medium mb-3",children:"Brand Description"}),e.jsx("p",{className:"text-muted-foreground",children:(($=ie.publicInfo)==null?void 0:$.brandStory)||ie.bio})]}),((W=ie.publicInfo)==null?void 0:W.supportProvided)&&ie.publicInfo.supportProvided.length>0&&e.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("h5",{className:"font-medium mb-2",children:"Training Support"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:ie.publicInfo.supportProvided[0]||"Comprehensive training provided"})]}),e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("h5",{className:"font-medium mb-2",children:"Marketing Support"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:ie.publicInfo.supportProvided[1]||"Marketing assistance available"})]}),e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("h5",{className:"font-medium mb-2",children:"Operations Support"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:ie.publicInfo.supportProvided[2]||"Ongoing operational support"})]})]})]})]}),C.length>0&&e.jsxs(de,{children:[e.jsx(Me,{children:e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(_s,{className:"w-5 h-5"}),"Franchise Opportunities",e.jsx(Be,{variant:"secondary",children:C.length})]})}),e.jsx(fe,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:C.map(q=>e.jsx(Sm,{franchise:q,onViewDetails:()=>console.log("View",q.id)},q.id))})})]})]});default:return e.jsx(de,{children:e.jsx(fe,{className:"py-8 text-center",children:e.jsxs("p",{className:"text-muted-foreground",children:["Profile content for ",l.role," role is coming soon."]})})})}};return e.jsxs("div",{className:`container mx-auto px-4 py-8 space-y-8 ${n}`,children:[e.jsx(KZ,{profile:l,isOwnProfile:y,onEdit:x,onShare:_}),!y&&e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(ee,{onClick:j,className:"flex-1 sm:flex-none",children:[e.jsx(ua,{className:"w-4 h-4 mr-2"}),"Send Message"]}),e.jsxs(ee,{variant:"outline",onClick:_,children:[e.jsx(xp,{className:"w-4 h-4 mr-2"}),"Share Profile"]})]}),e.jsxs(Ui,{defaultValue:"overview",className:"space-y-6",children:[e.jsxs(yi,{className:"grid w-full grid-cols-2 md:grid-cols-5",children:[e.jsx(zt,{value:"overview",children:"Overview"}),e.jsx(zt,{value:"verification",children:"Verification"}),e.jsx(zt,{value:"documents",children:"Documents"}),e.jsx(zt,{value:"activity",children:"Activity"}),y&&e.jsx(zt,{value:"team",children:"Team"})]}),e.jsxs(Es,{value:"overview",className:"space-y-6",children:[y&&e.jsx(lK,{className:"mb-4"}),y&&e.jsx(JZ,{activeRole:g,onRoleChange:p,showAddRole:!0,onAddRole:()=>console.log("Add new role")}),P()]}),e.jsx(Es,{value:"verification",children:e.jsx(DP,{profile:l,onUploadDocument:S=>console.log("Upload",S),onViewDocument:S=>console.log("View",S),onStartVerification:()=>console.log("Start verification")})}),e.jsx(Es,{value:"documents",children:e.jsx(IP,{profile:l,isOwnVault:y,hasSignedNDA:!1,onUploadDocument:()=>console.log("Upload document"),onDownloadDocument:S=>console.log("Download",S),onSignNDA:()=>console.log("Sign NDA")})}),e.jsx(Es,{value:"activity",children:e.jsx(nK,{userId:l.id,limit:20,showFilters:!0})}),y&&e.jsx(Es,{value:"team",children:e.jsx(oK,{onInviteMember:(S,O)=>console.log("Invite",S,O),onUpdateRole:(S,O)=>console.log("Update role",S,O),onRemoveMember:S=>console.log("Remove",S),onResendInvite:S=>console.log("Resend",S)})})]})]})}var vx=n=>n.type==="checkbox",wm=n=>n instanceof Date,ul=n=>n==null;const zP=n=>typeof n=="object";var da=n=>!ul(n)&&!Array.isArray(n)&&zP(n)&&!wm(n),qP=n=>da(n)&&n.target?vx(n.target)?n.target.checked:n.target.value:n,dK=n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n,UP=(n,t)=>n.has(dK(t)),uK=n=>{const t=n.constructor&&n.constructor.prototype;return da(t)&&t.hasOwnProperty("isPrototypeOf")},b2=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Sa(n){let t;const s=Array.isArray(n),r=typeof FileList<"u"?n instanceof FileList:!1;if(n instanceof Date)t=new Date(n);else if(!(b2&&(n instanceof Blob||r))&&(s||da(n)))if(t=s?[]:Object.create(Object.getPrototypeOf(n)),!s&&!uK(n))t=n;else for(const i in n)n.hasOwnProperty(i)&&(t[i]=Sa(n[i]));else return n;return t}var C0=n=>/^\w*$/.test(n),fi=n=>n===void 0,j2=n=>Array.isArray(n)?n.filter(Boolean):[],w2=n=>j2(n.replace(/["|']|\]/g,"").split(/\.|\[/)),Ut=(n,t,s)=>{if(!t||!da(n))return s;const r=(C0(t)?[t]:w2(t)).reduce((i,a)=>ul(i)?i:i[a],n);return fi(r)||r===n?fi(n[t])?s:n[t]:r},Pl=n=>typeof n=="boolean",or=(n,t,s)=>{let r=-1;const i=C0(t)?[t]:w2(t),a=i.length,l=a-1;for(;++r<a;){const c=i[r];let u=s;if(r!==l){const m=n[c];u=da(m)||Array.isArray(m)?m:isNaN(+i[r+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;n[c]=u,n=n[c]}};const Cy={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Kc={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Tu={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},N2=ot.createContext(null);N2.displayName="HookFormContext";const A0=()=>ot.useContext(N2),hK=n=>{const{children:t,...s}=n;return ot.createElement(N2.Provider,{value:s},t)};var $P=(n,t,s,r=!0)=>{const i={defaultValues:t._defaultValues};for(const a in n)Object.defineProperty(i,a,{get:()=>{const l=a;return t._proxyFormState[l]!==Kc.all&&(t._proxyFormState[l]=!r||Kc.all),s&&(s[l]=!0),n[l]}});return i};const _2=typeof window<"u"?ot.useLayoutEffect:ot.useEffect;function mK(n){const t=A0(),{control:s=t.control,disabled:r,name:i,exact:a}=n||{},[l,c]=ot.useState(s._formState),u=ot.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return _2(()=>s._subscribe({name:i,formState:u.current,exact:a,callback:m=>{!r&&c({...s._formState,...m})}}),[i,r,a]),ot.useEffect(()=>{u.current.isValid&&s._setValid(!0)},[s]),ot.useMemo(()=>$P(l,s,u.current,!1),[l,s])}var Ml=n=>typeof n=="string",M1=(n,t,s,r,i)=>Ml(n)?(r&&t.watch.add(n),Ut(s,n,i)):Array.isArray(n)?n.map(a=>(r&&t.watch.add(a),Ut(s,a))):(r&&(t.watchAll=!0),s),D1=n=>ul(n)||!zP(n);function Jc(n,t,s=new WeakSet){if(D1(n)||D1(t))return n===t;if(wm(n)&&wm(t))return n.getTime()===t.getTime();const r=Object.keys(n),i=Object.keys(t);if(r.length!==i.length)return!1;if(s.has(n)||s.has(t))return!0;s.add(n),s.add(t);for(const a of r){const l=n[a];if(!i.includes(a))return!1;if(a!=="ref"){const c=t[a];if(wm(l)&&wm(c)||da(l)&&da(c)||Array.isArray(l)&&Array.isArray(c)?!Jc(l,c,s):l!==c)return!1}}return!0}function fK(n){const t=A0(),{control:s=t.control,name:r,defaultValue:i,disabled:a,exact:l,compute:c}=n||{},u=ot.useRef(i),m=ot.useRef(c),g=ot.useRef(void 0),p=ot.useRef(s),y=ot.useRef(r);m.current=c;const[x,_]=ot.useState(()=>{const O=s._getWatch(r,u.current);return m.current?m.current(O):O}),j=ot.useCallback(O=>{const z=M1(r,s._names,O||s._formValues,!1,u.current);return m.current?m.current(z):z},[s._formValues,s._names,r]),A=ot.useCallback(O=>{if(!a){const z=M1(r,s._names,O||s._formValues,!1,u.current);if(m.current){const V=m.current(z);Jc(V,g.current)||(_(V),g.current=V)}else _(z)}},[s._formValues,s._names,a,r]);_2(()=>((p.current!==s||!Jc(y.current,r))&&(p.current=s,y.current=r,A()),s._subscribe({name:r,formState:{values:!0},exact:l,callback:O=>{A(O.values)}})),[s,l,r,A]),ot.useEffect(()=>s._removeUnmounted());const C=p.current!==s,P=y.current,S=ot.useMemo(()=>{if(a)return null;const O=!C&&!Jc(P,r);return C||O?j():null},[a,C,r,P,j]);return S!==null?S:x}function pK(n){const t=A0(),{name:s,disabled:r,control:i=t.control,shouldUnregister:a,defaultValue:l}=n,c=UP(i._names.array,s),u=ot.useMemo(()=>Ut(i._formValues,s,Ut(i._defaultValues,s,l)),[i,s,l]),m=fK({control:i,name:s,defaultValue:u,exact:!0}),g=mK({control:i,name:s,exact:!0}),p=ot.useRef(n),y=ot.useRef(void 0),x=ot.useRef(i.register(s,{...n.rules,value:m,...Pl(n.disabled)?{disabled:n.disabled}:{}}));p.current=n;const _=ot.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ut(g.errors,s)},isDirty:{enumerable:!0,get:()=>!!Ut(g.dirtyFields,s)},isTouched:{enumerable:!0,get:()=>!!Ut(g.touchedFields,s)},isValidating:{enumerable:!0,get:()=>!!Ut(g.validatingFields,s)},error:{enumerable:!0,get:()=>Ut(g.errors,s)}}),[g,s]),j=ot.useCallback(S=>x.current.onChange({target:{value:qP(S),name:s},type:Cy.CHANGE}),[s]),A=ot.useCallback(()=>x.current.onBlur({target:{value:Ut(i._formValues,s),name:s},type:Cy.BLUR}),[s,i._formValues]),C=ot.useCallback(S=>{const O=Ut(i._fields,s);O&&S&&(O._f.ref={focus:()=>S.focus&&S.focus(),select:()=>S.select&&S.select(),setCustomValidity:z=>S.setCustomValidity(z),reportValidity:()=>S.reportValidity()})},[i._fields,s]),P=ot.useMemo(()=>({name:s,value:m,...Pl(r)||g.disabled?{disabled:g.disabled||r}:{},onChange:j,onBlur:A,ref:C}),[s,r,g.disabled,j,A,C,m]);return ot.useEffect(()=>{const S=i._options.shouldUnregister||a,O=y.current;O&&O!==s&&!c&&i.unregister(O),i.register(s,{...p.current.rules,...Pl(p.current.disabled)?{disabled:p.current.disabled}:{}});const z=(V,B)=>{const D=Ut(i._fields,V);D&&D._f&&(D._f.mount=B)};if(z(s,!0),S){const V=Sa(Ut(i._options.defaultValues,s,p.current.defaultValue));or(i._defaultValues,s,V),fi(Ut(i._formValues,s))&&or(i._formValues,s,V)}return!c&&i.register(s),y.current=s,()=>{(c?S&&!i._state.action:S)?i.unregister(s):z(s,!1)}},[s,i,c,a]),ot.useEffect(()=>{i._setDisabledField({disabled:r,name:s})},[r,s,i]),ot.useMemo(()=>({field:P,formState:g,fieldState:_}),[P,g,_])}const gK=n=>n.render(pK(n));var VP=(n,t,s,r,i)=>t?{...s[n],types:{...s[n]&&s[n].types?s[n].types:{},[r]:i||!0}}:{},Pg=n=>Array.isArray(n)?n:[n],US=()=>{let n=[];return{get observers(){return n},next:i=>{for(const a of n)a.next&&a.next(i)},subscribe:i=>(n.push(i),{unsubscribe:()=>{n=n.filter(a=>a!==i)}}),unsubscribe:()=>{n=[]}}};function HP(n,t){const s={};for(const r in n)if(n.hasOwnProperty(r)){const i=n[r],a=t[r];if(i&&da(i)&&a){const l=HP(i,a);da(l)&&(s[r]=l)}else n[r]&&(s[r]=a)}return s}var zo=n=>da(n)&&!Object.keys(n).length,S2=n=>n.type==="file",Xc=n=>typeof n=="function",Ay=n=>{if(!b2)return!1;const t=n?n.ownerDocument:0;return n instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},GP=n=>n.type==="select-multiple",C2=n=>n.type==="radio",xK=n=>C2(n)||vx(n),Pj=n=>Ay(n)&&n.isConnected;function vK(n,t){const s=t.slice(0,-1).length;let r=0;for(;r<s;)n=fi(n)?r++:n[t[r++]];return n}function yK(n){for(const t in n)if(n.hasOwnProperty(t)&&!fi(n[t]))return!1;return!0}function ia(n,t){const s=Array.isArray(t)?t:C0(t)?[t]:w2(t),r=s.length===1?n:vK(n,s),i=s.length-1,a=s[i];return r&&delete r[a],i!==0&&(da(r)&&zo(r)||Array.isArray(r)&&yK(r))&&ia(n,s.slice(0,-1)),n}var bK=n=>{for(const t in n)if(Xc(n[t]))return!0;return!1};function WP(n){return Array.isArray(n)||da(n)&&!bK(n)}function I1(n,t={}){for(const s in n)WP(n[s])?(t[s]=Array.isArray(n[s])?[]:{},I1(n[s],t[s])):fi(n[s])||(t[s]=!0);return t}function Bf(n,t,s){s||(s=I1(t));for(const r in n)WP(n[r])?fi(t)||D1(s[r])?s[r]=I1(n[r],Array.isArray(n[r])?[]:{}):Bf(n[r],ul(t)?{}:t[r],s[r]):s[r]=!Jc(n[r],t[r]);return s}const $S={value:!1,isValid:!1},VS={value:!0,isValid:!0};var YP=n=>{if(Array.isArray(n)){if(n.length>1){const t=n.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:t,isValid:!!t.length}}return n[0].checked&&!n[0].disabled?n[0].attributes&&!fi(n[0].attributes.value)?fi(n[0].value)||n[0].value===""?VS:{value:n[0].value,isValid:!0}:VS:$S}return $S},ZP=(n,{valueAsNumber:t,valueAsDate:s,setValueAs:r})=>fi(n)?n:t?n===""?NaN:n&&+n:s&&Ml(n)?new Date(n):r?r(n):n;const HS={isValid:!1,value:null};var KP=n=>Array.isArray(n)?n.reduce((t,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:t,HS):HS;function GS(n){const t=n.ref;return S2(t)?t.files:C2(t)?KP(n.refs).value:GP(t)?[...t.selectedOptions].map(({value:s})=>s):vx(t)?YP(n.refs).value:ZP(fi(t.value)?n.ref.value:t.value,n)}var jK=(n,t,s,r)=>{const i={};for(const a of n){const l=Ut(t,a);l&&or(i,a,l._f)}return{criteriaMode:s,names:[...n],fields:i,shouldUseNativeValidation:r}},ky=n=>n instanceof RegExp,dg=n=>fi(n)?n:ky(n)?n.source:da(n)?ky(n.value)?n.value.source:n.value:n,WS=n=>({isOnSubmit:!n||n===Kc.onSubmit,isOnBlur:n===Kc.onBlur,isOnChange:n===Kc.onChange,isOnAll:n===Kc.all,isOnTouch:n===Kc.onTouched});const YS="AsyncFunction";var wK=n=>!!n&&!!n.validate&&!!(Xc(n.validate)&&n.validate.constructor.name===YS||da(n.validate)&&Object.values(n.validate).find(t=>t.constructor.name===YS)),NK=n=>n.mount&&(n.required||n.min||n.max||n.maxLength||n.minLength||n.pattern||n.validate),ZS=(n,t,s)=>!s&&(t.watchAll||t.watch.has(n)||[...t.watch].some(r=>n.startsWith(r)&&/^\.\w+/.test(n.slice(r.length))));const Lg=(n,t,s,r)=>{for(const i of s||Object.keys(n)){const a=Ut(n,i);if(a){const{_f:l,...c}=a;if(l){if(l.refs&&l.refs[0]&&t(l.refs[0],i)&&!r)return!0;if(l.ref&&t(l.ref,l.name)&&!r)return!0;if(Lg(c,t))break}else if(da(c)&&Lg(c,t))break}}};function KS(n,t,s){const r=Ut(n,s);if(r||C0(s))return{error:r,name:s};const i=s.split(".");for(;i.length;){const a=i.join("."),l=Ut(t,a),c=Ut(n,a);if(l&&!Array.isArray(l)&&s!==a)return{name:s};if(c&&c.type)return{name:a,error:c};if(c&&c.root&&c.root.type)return{name:`${a}.root`,error:c.root};i.pop()}return{name:s}}var _K=(n,t,s,r)=>{s(n);const{name:i,...a}=n;return zo(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(l=>t[l]===(!r||Kc.all))},SK=(n,t,s)=>!n||!t||n===t||Pg(n).some(r=>r&&(s?r===t:r.startsWith(t)||t.startsWith(r))),CK=(n,t,s,r,i)=>i.isOnAll?!1:!s&&i.isOnTouch?!(t||n):(s?r.isOnBlur:i.isOnBlur)?!n:(s?r.isOnChange:i.isOnChange)?n:!0,AK=(n,t)=>!j2(Ut(n,t)).length&&ia(n,t),kK=(n,t,s)=>{const r=Pg(Ut(n,s));return or(r,"root",t[s]),or(n,s,r),n};function JS(n,t,s="validate"){if(Ml(n)||Array.isArray(n)&&n.every(Ml)||Pl(n)&&!n)return{type:s,message:Ml(n)?n:"",ref:t}}var Tf=n=>da(n)&&!ky(n)?n:{value:n,message:""},XS=async(n,t,s,r,i,a)=>{const{ref:l,refs:c,required:u,maxLength:m,minLength:g,min:p,max:y,pattern:x,validate:_,name:j,valueAsNumber:A,mount:C}=n._f,P=Ut(s,j);if(!C||t.has(j))return{};const S=c?c[0]:l,O=W=>{i&&S.reportValidity&&(S.setCustomValidity(Pl(W)?"":W||""),S.reportValidity())},z={},V=C2(l),B=vx(l),D=V||B,K=(A||S2(l))&&fi(l.value)&&fi(P)||Ay(l)&&l.value===""||P===""||Array.isArray(P)&&!P.length,H=VP.bind(null,j,r,z),$=(W,Q,Z,ie=Tu.maxLength,q=Tu.minLength)=>{const ce=W?Q:Z;z[j]={type:W?ie:q,message:ce,ref:l,...H(W?ie:q,ce)}};if(a?!Array.isArray(P)||!P.length:u&&(!D&&(K||ul(P))||Pl(P)&&!P||B&&!YP(c).isValid||V&&!KP(c).isValid)){const{value:W,message:Q}=Ml(u)?{value:!!u,message:u}:Tf(u);if(W&&(z[j]={type:Tu.required,message:Q,ref:S,...H(Tu.required,Q)},!r))return O(Q),z}if(!K&&(!ul(p)||!ul(y))){let W,Q;const Z=Tf(y),ie=Tf(p);if(!ul(P)&&!isNaN(P)){const q=l.valueAsNumber||P&&+P;ul(Z.value)||(W=q>Z.value),ul(ie.value)||(Q=q<ie.value)}else{const q=l.valueAsDate||new Date(P),ce=ne=>new Date(new Date().toDateString()+" "+ne),te=l.type=="time",oe=l.type=="week";Ml(Z.value)&&P&&(W=te?ce(P)>ce(Z.value):oe?P>Z.value:q>new Date(Z.value)),Ml(ie.value)&&P&&(Q=te?ce(P)<ce(ie.value):oe?P<ie.value:q<new Date(ie.value))}if((W||Q)&&($(!!W,Z.message,ie.message,Tu.max,Tu.min),!r))return O(z[j].message),z}if((m||g)&&!K&&(Ml(P)||a&&Array.isArray(P))){const W=Tf(m),Q=Tf(g),Z=!ul(W.value)&&P.length>+W.value,ie=!ul(Q.value)&&P.length<+Q.value;if((Z||ie)&&($(Z,W.message,Q.message),!r))return O(z[j].message),z}if(x&&!K&&Ml(P)){const{value:W,message:Q}=Tf(x);if(ky(W)&&!P.match(W)&&(z[j]={type:Tu.pattern,message:Q,ref:l,...H(Tu.pattern,Q)},!r))return O(Q),z}if(_){if(Xc(_)){const W=await _(P,s),Q=JS(W,S);if(Q&&(z[j]={...Q,...H(Tu.validate,Q.message)},!r))return O(Q.message),z}else if(da(_)){let W={};for(const Q in _){if(!zo(W)&&!r)break;const Z=JS(await _[Q](P,s),S,Q);Z&&(W={...Z,...H(Q,Z.message)},O(Z.message),r&&(z[j]=W))}if(!zo(W)&&(z[j]={ref:S,...W},!r))return z}}return O(!0),z};const EK={mode:Kc.onSubmit,reValidateMode:Kc.onChange,shouldFocusError:!0};function TK(n={}){let t={...EK,...n},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:Xc(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},i=da(t.defaultValues)||da(t.values)?Sa(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:Sa(i),l={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,m=0;const g={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let p={...g};const y={array:US(),state:US()},x=t.criteriaMode===Kc.all,_=je=>ke=>{clearTimeout(m),m=setTimeout(je,ke)},j=async je=>{if(!t.disabled&&(g.isValid||p.isValid||je)){const ke=t.resolver?zo((await B()).errors):await K(r,!0);ke!==s.isValid&&y.state.next({isValid:ke})}},A=(je,ke)=>{!t.disabled&&(g.isValidating||g.validatingFields||p.isValidating||p.validatingFields)&&((je||Array.from(c.mount)).forEach(Pe=>{Pe&&(ke?or(s.validatingFields,Pe,ke):ia(s.validatingFields,Pe))}),y.state.next({validatingFields:s.validatingFields,isValidating:!zo(s.validatingFields)}))},C=(je,ke=[],Pe,it,rt=!0,ut=!0)=>{if(it&&Pe&&!t.disabled){if(l.action=!0,ut&&Array.isArray(Ut(r,je))){const Nt=Pe(Ut(r,je),it.argA,it.argB);rt&&or(r,je,Nt)}if(ut&&Array.isArray(Ut(s.errors,je))){const Nt=Pe(Ut(s.errors,je),it.argA,it.argB);rt&&or(s.errors,je,Nt),AK(s.errors,je)}if((g.touchedFields||p.touchedFields)&&ut&&Array.isArray(Ut(s.touchedFields,je))){const Nt=Pe(Ut(s.touchedFields,je),it.argA,it.argB);rt&&or(s.touchedFields,je,Nt)}(g.dirtyFields||p.dirtyFields)&&(s.dirtyFields=Bf(i,a)),y.state.next({name:je,isDirty:$(je,ke),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else or(a,je,ke)},P=(je,ke)=>{or(s.errors,je,ke),y.state.next({errors:s.errors})},S=je=>{s.errors=je,y.state.next({errors:s.errors,isValid:!1})},O=(je,ke,Pe,it)=>{const rt=Ut(r,je);if(rt){const ut=Ut(a,je,fi(Pe)?Ut(i,je):Pe);fi(ut)||it&&it.defaultChecked||ke?or(a,je,ke?ut:GS(rt._f)):Z(je,ut),l.mount&&j()}},z=(je,ke,Pe,it,rt)=>{let ut=!1,Nt=!1;const Vt={name:je};if(!t.disabled){if(!Pe||it){(g.isDirty||p.isDirty)&&(Nt=s.isDirty,s.isDirty=Vt.isDirty=$(),ut=Nt!==Vt.isDirty);const Qt=Jc(Ut(i,je),ke);Nt=!!Ut(s.dirtyFields,je),Qt?ia(s.dirtyFields,je):or(s.dirtyFields,je,!0),Vt.dirtyFields=s.dirtyFields,ut=ut||(g.dirtyFields||p.dirtyFields)&&Nt!==!Qt}if(Pe){const Qt=Ut(s.touchedFields,je);Qt||(or(s.touchedFields,je,Pe),Vt.touchedFields=s.touchedFields,ut=ut||(g.touchedFields||p.touchedFields)&&Qt!==Pe)}ut&&rt&&y.state.next(Vt)}return ut?Vt:{}},V=(je,ke,Pe,it)=>{const rt=Ut(s.errors,je),ut=(g.isValid||p.isValid)&&Pl(ke)&&s.isValid!==ke;if(t.delayError&&Pe?(u=_(()=>P(je,Pe)),u(t.delayError)):(clearTimeout(m),u=null,Pe?or(s.errors,je,Pe):ia(s.errors,je)),(Pe?!Jc(rt,Pe):rt)||!zo(it)||ut){const Nt={...it,...ut&&Pl(ke)?{isValid:ke}:{},errors:s.errors,name:je};s={...s,...Nt},y.state.next(Nt)}},B=async je=>{A(je,!0);const ke=await t.resolver(a,t.context,jK(je||c.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return A(je),ke},D=async je=>{const{errors:ke}=await B(je);if(je)for(const Pe of je){const it=Ut(ke,Pe);it?or(s.errors,Pe,it):ia(s.errors,Pe)}else s.errors=ke;return ke},K=async(je,ke,Pe={valid:!0})=>{for(const it in je){const rt=je[it];if(rt){const{_f:ut,...Nt}=rt;if(ut){const Vt=c.array.has(ut.name),Qt=rt._f&&wK(rt._f);Qt&&g.validatingFields&&A([ut.name],!0);const Gt=await XS(rt,c.disabled,a,x,t.shouldUseNativeValidation&&!ke,Vt);if(Qt&&g.validatingFields&&A([ut.name]),Gt[ut.name]&&(Pe.valid=!1,ke))break;!ke&&(Ut(Gt,ut.name)?Vt?kK(s.errors,Gt,ut.name):or(s.errors,ut.name,Gt[ut.name]):ia(s.errors,ut.name))}!zo(Nt)&&await K(Nt,ke,Pe)}}return Pe.valid},H=()=>{for(const je of c.unMount){const ke=Ut(r,je);ke&&(ke._f.refs?ke._f.refs.every(Pe=>!Pj(Pe)):!Pj(ke._f.ref))&&we(je)}c.unMount=new Set},$=(je,ke)=>!t.disabled&&(je&&ke&&or(a,je,ke),!Jc(ne(),i)),W=(je,ke,Pe)=>M1(je,c,{...l.mount?a:fi(ke)?i:Ml(je)?{[je]:ke}:ke},Pe,ke),Q=je=>j2(Ut(l.mount?a:i,je,t.shouldUnregister?Ut(i,je,[]):[])),Z=(je,ke,Pe={})=>{const it=Ut(r,je);let rt=ke;if(it){const ut=it._f;ut&&(!ut.disabled&&or(a,je,ZP(ke,ut)),rt=Ay(ut.ref)&&ul(ke)?"":ke,GP(ut.ref)?[...ut.ref.options].forEach(Nt=>Nt.selected=rt.includes(Nt.value)):ut.refs?vx(ut.ref)?ut.refs.forEach(Nt=>{(!Nt.defaultChecked||!Nt.disabled)&&(Array.isArray(rt)?Nt.checked=!!rt.find(Vt=>Vt===Nt.value):Nt.checked=rt===Nt.value||!!rt)}):ut.refs.forEach(Nt=>Nt.checked=Nt.value===rt):S2(ut.ref)?ut.ref.value="":(ut.ref.value=rt,ut.ref.type||y.state.next({name:je,values:Sa(a)})))}(Pe.shouldDirty||Pe.shouldTouch)&&z(je,rt,Pe.shouldTouch,Pe.shouldDirty,!0),Pe.shouldValidate&&oe(je)},ie=(je,ke,Pe)=>{for(const it in ke){if(!ke.hasOwnProperty(it))return;const rt=ke[it],ut=je+"."+it,Nt=Ut(r,ut);(c.array.has(je)||da(rt)||Nt&&!Nt._f)&&!wm(rt)?ie(ut,rt,Pe):Z(ut,rt,Pe)}},q=(je,ke,Pe={})=>{const it=Ut(r,je),rt=c.array.has(je),ut=Sa(ke);or(a,je,ut),rt?(y.array.next({name:je,values:Sa(a)}),(g.isDirty||g.dirtyFields||p.isDirty||p.dirtyFields)&&Pe.shouldDirty&&y.state.next({name:je,dirtyFields:Bf(i,a),isDirty:$(je,ut)})):it&&!it._f&&!ul(ut)?ie(je,ut,Pe):Z(je,ut,Pe),ZS(je,c)&&y.state.next({...s,name:je}),y.state.next({name:l.mount?je:void 0,values:Sa(a)})},ce=async je=>{l.mount=!0;const ke=je.target;let Pe=ke.name,it=!0;const rt=Ut(r,Pe),ut=Qt=>{it=Number.isNaN(Qt)||wm(Qt)&&isNaN(Qt.getTime())||Jc(Qt,Ut(a,Pe,Qt))},Nt=WS(t.mode),Vt=WS(t.reValidateMode);if(rt){let Qt,Gt;const fs=ke.type?GS(rt._f):qP(je),At=je.type===Cy.BLUR||je.type===Cy.FOCUS_OUT,In=!NK(rt._f)&&!t.resolver&&!Ut(s.errors,Pe)&&!rt._f.deps||CK(At,Ut(s.touchedFields,Pe),s.isSubmitted,Vt,Nt),Ts=ZS(Pe,c,At);or(a,Pe,fs),At?(!ke||!ke.readOnly)&&(rt._f.onBlur&&rt._f.onBlur(je),u&&u(0)):rt._f.onChange&&rt._f.onChange(je);const rn=z(Pe,fs,At),zs=!zo(rn)||Ts;if(!At&&y.state.next({name:Pe,type:je.type,values:Sa(a)}),In)return(g.isValid||p.isValid)&&(t.mode==="onBlur"?At&&j():At||j()),zs&&y.state.next({name:Pe,...Ts?{}:rn});if(!At&&Ts&&y.state.next({...s}),t.resolver){const{errors:Cs}=await B([Pe]);if(ut(fs),it){const Dr=KS(s.errors,r,Pe),Us=KS(Cs,r,Dr.name||Pe);Qt=Us.error,Pe=Us.name,Gt=zo(Cs)}}else A([Pe],!0),Qt=(await XS(rt,c.disabled,a,x,t.shouldUseNativeValidation))[Pe],A([Pe]),ut(fs),it&&(Qt?Gt=!1:(g.isValid||p.isValid)&&(Gt=await K(r,!0)));it&&(rt._f.deps&&(!Array.isArray(rt._f.deps)||rt._f.deps.length>0)&&oe(rt._f.deps),V(Pe,Gt,Qt,rn))}},te=(je,ke)=>{if(Ut(s.errors,ke)&&je.focus)return je.focus(),1},oe=async(je,ke={})=>{let Pe,it;const rt=Pg(je);if(t.resolver){const ut=await D(fi(je)?je:rt);Pe=zo(ut),it=je?!rt.some(Nt=>Ut(ut,Nt)):Pe}else je?(it=(await Promise.all(rt.map(async ut=>{const Nt=Ut(r,ut);return await K(Nt&&Nt._f?{[ut]:Nt}:Nt)}))).every(Boolean),!(!it&&!s.isValid)&&j()):it=Pe=await K(r);return y.state.next({...!Ml(je)||(g.isValid||p.isValid)&&Pe!==s.isValid?{}:{name:je},...t.resolver||!je?{isValid:Pe}:{},errors:s.errors}),ke.shouldFocus&&!it&&Lg(r,te,je?rt:c.mount),it},ne=(je,ke)=>{let Pe={...l.mount?a:i};return ke&&(Pe=HP(ke.dirtyFields?s.dirtyFields:s.touchedFields,Pe)),fi(je)?Pe:Ml(je)?Ut(Pe,je):je.map(it=>Ut(Pe,it))},re=(je,ke)=>({invalid:!!Ut((ke||s).errors,je),isDirty:!!Ut((ke||s).dirtyFields,je),error:Ut((ke||s).errors,je),isValidating:!!Ut(s.validatingFields,je),isTouched:!!Ut((ke||s).touchedFields,je)}),U=je=>{je&&Pg(je).forEach(ke=>ia(s.errors,ke)),y.state.next({errors:je?s.errors:{}})},J=(je,ke,Pe)=>{const it=(Ut(r,je,{_f:{}})._f||{}).ref,rt=Ut(s.errors,je)||{},{ref:ut,message:Nt,type:Vt,...Qt}=rt;or(s.errors,je,{...Qt,...ke,ref:it}),y.state.next({name:je,errors:s.errors,isValid:!1}),Pe&&Pe.shouldFocus&&it&&it.focus&&it.focus()},se=(je,ke)=>Xc(je)?y.state.subscribe({next:Pe=>"values"in Pe&&je(W(void 0,ke),Pe)}):W(je,ke,!0),ue=je=>y.state.subscribe({next:ke=>{SK(je.name,ke.name,je.exact)&&_K(ke,je.formState||g,$t,je.reRenderRoot)&&je.callback({values:{...a},...s,...ke,defaultValues:i})}}).unsubscribe,be=je=>(l.mount=!0,p={...p,...je.formState},ue({...je,formState:p})),we=(je,ke={})=>{for(const Pe of je?Pg(je):c.mount)c.mount.delete(Pe),c.array.delete(Pe),ke.keepValue||(ia(r,Pe),ia(a,Pe)),!ke.keepError&&ia(s.errors,Pe),!ke.keepDirty&&ia(s.dirtyFields,Pe),!ke.keepTouched&&ia(s.touchedFields,Pe),!ke.keepIsValidating&&ia(s.validatingFields,Pe),!t.shouldUnregister&&!ke.keepDefaultValue&&ia(i,Pe);y.state.next({values:Sa(a)}),y.state.next({...s,...ke.keepDirty?{isDirty:$()}:{}}),!ke.keepIsValid&&j()},Ce=({disabled:je,name:ke})=>{(Pl(je)&&l.mount||je||c.disabled.has(ke))&&(je?c.disabled.add(ke):c.disabled.delete(ke))},Re=(je,ke={})=>{let Pe=Ut(r,je);const it=Pl(ke.disabled)||Pl(t.disabled);return or(r,je,{...Pe||{},_f:{...Pe&&Pe._f?Pe._f:{ref:{name:je}},name:je,mount:!0,...ke}}),c.mount.add(je),Pe?Ce({disabled:Pl(ke.disabled)?ke.disabled:t.disabled,name:je}):O(je,!0,ke.value),{...it?{disabled:ke.disabled||t.disabled}:{},...t.progressive?{required:!!ke.required,min:dg(ke.min),max:dg(ke.max),minLength:dg(ke.minLength),maxLength:dg(ke.maxLength),pattern:dg(ke.pattern)}:{},name:je,onChange:ce,onBlur:ce,ref:rt=>{if(rt){Re(je,ke),Pe=Ut(r,je);const ut=fi(rt.value)&&rt.querySelectorAll&&rt.querySelectorAll("input,select,textarea")[0]||rt,Nt=xK(ut),Vt=Pe._f.refs||[];if(Nt?Vt.find(Qt=>Qt===ut):ut===Pe._f.ref)return;or(r,je,{_f:{...Pe._f,...Nt?{refs:[...Vt.filter(Pj),ut,...Array.isArray(Ut(i,je))?[{}]:[]],ref:{type:ut.type,name:je}}:{ref:ut}}}),O(je,!1,void 0,ut)}else Pe=Ut(r,je,{}),Pe._f&&(Pe._f.mount=!1),(t.shouldUnregister||ke.shouldUnregister)&&!(UP(c.array,je)&&l.action)&&c.unMount.add(je)}}},Xe=()=>t.shouldFocusError&&Lg(r,te,c.mount),tt=je=>{Pl(je)&&(y.state.next({disabled:je}),Lg(r,(ke,Pe)=>{const it=Ut(r,Pe);it&&(ke.disabled=it._f.disabled||je,Array.isArray(it._f.refs)&&it._f.refs.forEach(rt=>{rt.disabled=it._f.disabled||je}))},0,!1))},lt=(je,ke)=>async Pe=>{let it;Pe&&(Pe.preventDefault&&Pe.preventDefault(),Pe.persist&&Pe.persist());let rt=Sa(a);if(y.state.next({isSubmitting:!0}),t.resolver){const{errors:ut,values:Nt}=await B();s.errors=ut,rt=Sa(Nt)}else await K(r);if(c.disabled.size)for(const ut of c.disabled)ia(rt,ut);if(ia(s.errors,"root"),zo(s.errors)){y.state.next({errors:{}});try{await je(rt,Pe)}catch(ut){it=ut}}else ke&&await ke({...s.errors},Pe),Xe(),setTimeout(Xe);if(y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:zo(s.errors)&&!it,submitCount:s.submitCount+1,errors:s.errors}),it)throw it},jt=(je,ke={})=>{Ut(r,je)&&(fi(ke.defaultValue)?q(je,Sa(Ut(i,je))):(q(je,ke.defaultValue),or(i,je,Sa(ke.defaultValue))),ke.keepTouched||ia(s.touchedFields,je),ke.keepDirty||(ia(s.dirtyFields,je),s.isDirty=ke.defaultValue?$(je,Sa(Ut(i,je))):$()),ke.keepError||(ia(s.errors,je),g.isValid&&j()),y.state.next({...s}))},Et=(je,ke={})=>{const Pe=je?Sa(je):i,it=Sa(Pe),rt=zo(je),ut=rt?i:it;if(ke.keepDefaultValues||(i=Pe),!ke.keepValues){if(ke.keepDirtyValues){const Nt=new Set([...c.mount,...Object.keys(Bf(i,a))]);for(const Vt of Array.from(Nt))Ut(s.dirtyFields,Vt)?or(ut,Vt,Ut(a,Vt)):q(Vt,Ut(ut,Vt))}else{if(b2&&fi(je))for(const Nt of c.mount){const Vt=Ut(r,Nt);if(Vt&&Vt._f){const Qt=Array.isArray(Vt._f.refs)?Vt._f.refs[0]:Vt._f.ref;if(Ay(Qt)){const Gt=Qt.closest("form");if(Gt){Gt.reset();break}}}}if(ke.keepFieldsRef)for(const Nt of c.mount)q(Nt,Ut(ut,Nt));else r={}}a=t.shouldUnregister?ke.keepDefaultValues?Sa(i):{}:Sa(ut),y.array.next({values:{...ut}}),y.state.next({values:{...ut}})}c={mount:ke.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!g.isValid||!!ke.keepIsValid||!!ke.keepDirtyValues||!t.shouldUnregister&&!zo(ut),l.watch=!!t.shouldUnregister,y.state.next({submitCount:ke.keepSubmitCount?s.submitCount:0,isDirty:rt?!1:ke.keepDirty?s.isDirty:!!(ke.keepDefaultValues&&!Jc(je,i)),isSubmitted:ke.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:rt?{}:ke.keepDirtyValues?ke.keepDefaultValues&&a?Bf(i,a):s.dirtyFields:ke.keepDefaultValues&&je?Bf(i,je):ke.keepDirty?s.dirtyFields:{},touchedFields:ke.keepTouched?s.touchedFields:{},errors:ke.keepErrors?s.errors:{},isSubmitSuccessful:ke.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},Je=(je,ke)=>Et(Xc(je)?je(a):je,ke),_e=(je,ke={})=>{const Pe=Ut(r,je),it=Pe&&Pe._f;if(it){const rt=it.refs?it.refs[0]:it.ref;rt.focus&&(rt.focus(),ke.shouldSelect&&Xc(rt.select)&&rt.select())}},$t=je=>{s={...s,...je}},ht={control:{register:Re,unregister:we,getFieldState:re,handleSubmit:lt,setError:J,_subscribe:ue,_runSchema:B,_focusError:Xe,_getWatch:W,_getDirty:$,_setValid:j,_setFieldArray:C,_setDisabledField:Ce,_setErrors:S,_getFieldArray:Q,_reset:Et,_resetDefaultValues:()=>Xc(t.defaultValues)&&t.defaultValues().then(je=>{Je(je,t.resetOptions),y.state.next({isLoading:!1})}),_removeUnmounted:H,_disableForm:tt,_subjects:y,_proxyFormState:g,get _fields(){return r},get _formValues(){return a},get _state(){return l},set _state(je){l=je},get _defaultValues(){return i},get _names(){return c},set _names(je){c=je},get _formState(){return s},get _options(){return t},set _options(je){t={...t,...je}}},subscribe:be,trigger:oe,register:Re,handleSubmit:lt,watch:se,setValue:q,getValues:ne,reset:Je,resetField:jt,clearErrors:U,unregister:we,setError:J,setFocus:_e,getFieldState:re};return{...ht,formControl:ht}}function A2(n={}){const t=ot.useRef(void 0),s=ot.useRef(void 0),[r,i]=ot.useState({isDirty:!1,isValidating:!1,isLoading:Xc(n.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1,isReady:!1,defaultValues:Xc(n.defaultValues)?void 0:n.defaultValues});if(!t.current)if(n.formControl)t.current={...n.formControl,formState:r},n.defaultValues&&!Xc(n.defaultValues)&&n.formControl.reset(n.defaultValues,n.resetOptions);else{const{formControl:l,...c}=TK(n);t.current={...c,formState:r}}const a=t.current.control;return a._options=n,_2(()=>{const l=a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0});return i(c=>({...c,isReady:!0})),a._formState.isReady=!0,l},[a]),ot.useEffect(()=>a._disableForm(n.disabled),[a,n.disabled]),ot.useEffect(()=>{n.mode&&(a._options.mode=n.mode),n.reValidateMode&&(a._options.reValidateMode=n.reValidateMode)},[a,n.mode,n.reValidateMode]),ot.useEffect(()=>{n.errors&&(a._setErrors(n.errors),a._focusError())},[a,n.errors]),ot.useEffect(()=>{n.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,n.shouldUnregister]),ot.useEffect(()=>{if(a._proxyFormState.isDirty){const l=a._getDirty();l!==r.isDirty&&a._subjects.state.next({isDirty:l})}},[a,r.isDirty]),ot.useEffect(()=>{n.values&&!Jc(n.values,s.current)?(a._reset(n.values,{keepFieldsRef:!0,...a._options.resetOptions}),s.current=n.values,i(l=>({...l}))):a._resetDefaultValues()},[a,n.values]),ot.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=$P(r,a),t.current}const QS=(n,t,s)=>{if(n&&"reportValidity"in n){const r=Ut(s,t);n.setCustomValidity(r&&r.message||""),n.reportValidity()}},JP=(n,t)=>{for(const s in t.fields){const r=t.fields[s];r&&r.ref&&"reportValidity"in r.ref?QS(r.ref,s,n):r.refs&&r.refs.forEach(i=>QS(i,s,n))}},PK=(n,t)=>{t.shouldUseNativeValidation&&JP(n,t);const s={};for(const r in n){const i=Ut(t.fields,r),a=Object.assign(n[r]||{},{ref:i&&i.ref});if(LK(t.names||Object.keys(n),r)){const l=Object.assign({},Ut(s,r));or(l,"root",a),or(s,r,l)}else or(s,r,a)}return s},LK=(n,t)=>n.some(s=>s.startsWith(t+"."));var RK=function(n,t){for(var s={};n.length;){var r=n[0],i=r.code,a=r.message,l=r.path.join(".");if(!s[l])if("unionErrors"in r){var c=r.unionErrors[0].errors[0];s[l]={message:c.message,type:c.code}}else s[l]={message:a,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(g){return g.errors.forEach(function(p){return n.push(p)})}),t){var u=s[l].types,m=u&&u[r.code];s[l]=VP(l,t,s,i,m?[].concat(m,r.message):r.message)}n.shift()}return s},k2=function(n,t,s){return s===void 0&&(s={}),function(r,i,a){try{return Promise.resolve((function(l,c){try{var u=Promise.resolve(n[s.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(m){return a.shouldUseNativeValidation&&JP({},a),{errors:{},values:s.raw?r:m}})}catch(m){return c(m)}return u&&u.then?u.then(void 0,c):u})(0,function(l){if((function(c){return Array.isArray(c==null?void 0:c.errors)})(l))return{values:{},errors:PK(RK(l.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw l}))}catch(l){return Promise.reject(l)}}},Vn;(function(n){n.assertEqual=i=>{};function t(i){}n.assertIs=t;function s(i){throw new Error}n.assertNever=s,n.arrayToEnum=i=>{const a={};for(const l of i)a[l]=l;return a},n.getValidEnumValues=i=>{const a=n.objectKeys(i).filter(c=>typeof i[i[c]]!="number"),l={};for(const c of a)l[c]=i[c];return n.objectValues(l)},n.objectValues=i=>n.objectKeys(i).map(function(a){return i[a]}),n.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const l in i)Object.prototype.hasOwnProperty.call(i,l)&&a.push(l);return a},n.find=(i,a)=>{for(const l of i)if(a(l))return l},n.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,a=" | "){return i.map(l=>typeof l=="string"?`'${l}'`:l).join(a)}n.joinValues=r,n.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(Vn||(Vn={}));var eC;(function(n){n.mergeShapes=(t,s)=>({...t,...s})})(eC||(eC={}));const ls=Vn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ch=n=>{switch(typeof n){case"undefined":return ls.undefined;case"string":return ls.string;case"number":return Number.isNaN(n)?ls.nan:ls.number;case"boolean":return ls.boolean;case"function":return ls.function;case"bigint":return ls.bigint;case"symbol":return ls.symbol;case"object":return Array.isArray(n)?ls.array:n===null?ls.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?ls.promise:typeof Map<"u"&&n instanceof Map?ls.map:typeof Set<"u"&&n instanceof Set?ls.set:typeof Date<"u"&&n instanceof Date?ls.date:ls.object;default:return ls.unknown}},Pt=Vn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class $u extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const s=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,s):this.__proto__=s,this.name="ZodError",this.issues=t}format(t){const s=t||function(a){return a.message},r={_errors:[]},i=a=>{for(const l of a.issues)if(l.code==="invalid_union")l.unionErrors.map(i);else if(l.code==="invalid_return_type")i(l.returnTypeError);else if(l.code==="invalid_arguments")i(l.argumentsError);else if(l.path.length===0)r._errors.push(s(l));else{let c=r,u=0;for(;u<l.path.length;){const m=l.path[u];u===l.path.length-1?(c[m]=c[m]||{_errors:[]},c[m]._errors.push(s(l))):c[m]=c[m]||{_errors:[]},c=c[m],u++}}};return i(this),r}static assert(t){if(!(t instanceof $u))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Vn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=s=>s.message){const s={},r=[];for(const i of this.issues)if(i.path.length>0){const a=i.path[0];s[a]=s[a]||[],s[a].push(t(i))}else r.push(t(i));return{formErrors:r,fieldErrors:s}}get formErrors(){return this.flatten()}}$u.create=n=>new $u(n);const F1=(n,t)=>{let s;switch(n.code){case Pt.invalid_type:n.received===ls.undefined?s="Required":s=`Expected ${n.expected}, received ${n.received}`;break;case Pt.invalid_literal:s=`Invalid literal value, expected ${JSON.stringify(n.expected,Vn.jsonStringifyReplacer)}`;break;case Pt.unrecognized_keys:s=`Unrecognized key(s) in object: ${Vn.joinValues(n.keys,", ")}`;break;case Pt.invalid_union:s="Invalid input";break;case Pt.invalid_union_discriminator:s=`Invalid discriminator value. Expected ${Vn.joinValues(n.options)}`;break;case Pt.invalid_enum_value:s=`Invalid enum value. Expected ${Vn.joinValues(n.options)}, received '${n.received}'`;break;case Pt.invalid_arguments:s="Invalid function arguments";break;case Pt.invalid_return_type:s="Invalid function return type";break;case Pt.invalid_date:s="Invalid date";break;case Pt.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(s=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(s=`${s} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?s=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?s=`Invalid input: must end with "${n.validation.endsWith}"`:Vn.assertNever(n.validation):n.validation!=="regex"?s=`Invalid ${n.validation}`:s="Invalid";break;case Pt.too_small:n.type==="array"?s=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?s=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?s=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="bigint"?s=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?s=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:s="Invalid input";break;case Pt.too_big:n.type==="array"?s=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?s=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?s=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?s=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?s=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:s="Invalid input";break;case Pt.custom:s="Invalid input";break;case Pt.invalid_intersection_types:s="Intersection results could not be merged";break;case Pt.not_multiple_of:s=`Number must be a multiple of ${n.multipleOf}`;break;case Pt.not_finite:s="Number must be finite";break;default:s=t.defaultError,Vn.assertNever(n)}return{message:s}};let OK=F1;function MK(){return OK}const DK=n=>{const{data:t,path:s,errorMaps:r,issueData:i}=n,a=[...s,...i.path||[]],l={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let c="";const u=r.filter(m=>!!m).slice().reverse();for(const m of u)c=m(l,{data:t,defaultError:c}).message;return{...i,path:a,message:c}};function Kt(n,t){const s=MK(),r=DK({issueData:t,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,s,s===F1?void 0:F1].filter(i=>!!i)});n.common.issues.push(r)}class Vl{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,s){const r=[];for(const i of s){if(i.status==="aborted")return Gs;i.status==="dirty"&&t.dirty(),r.push(i.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,s){const r=[];for(const i of s){const a=await i.key,l=await i.value;r.push({key:a,value:l})}return Vl.mergeObjectSync(t,r)}static mergeObjectSync(t,s){const r={};for(const i of s){const{key:a,value:l}=i;if(a.status==="aborted"||l.status==="aborted")return Gs;a.status==="dirty"&&t.dirty(),l.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof l.value<"u"||i.alwaysSet)&&(r[a.value]=l.value)}return{status:t.value,value:r}}}const Gs=Object.freeze({status:"aborted"}),_g=n=>({status:"dirty",value:n}),Nc=n=>({status:"valid",value:n}),tC=n=>n.status==="aborted",sC=n=>n.status==="dirty",op=n=>n.status==="valid",Ey=n=>typeof Promise<"u"&&n instanceof Promise;var us;(function(n){n.errToObj=t=>typeof t=="string"?{message:t}:t||{},n.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(us||(us={}));class $h{constructor(t,s,r,i){this._cachedPath=[],this.parent=t,this.data=s,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const nC=(n,t)=>{if(op(t))return{success:!0,data:t.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const s=new $u(n.common.issues);return this._error=s,this._error}}};function cn(n){if(!n)return{};const{errorMap:t,invalid_type_error:s,required_error:r,description:i}=n;if(t&&(s||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(l,c)=>{const{message:u}=n;return l.code==="invalid_enum_value"?{message:u??c.defaultError}:typeof c.data>"u"?{message:u??r??c.defaultError}:l.code!=="invalid_type"?{message:c.defaultError}:{message:u??s??c.defaultError}},description:i}}class Dn{get description(){return this._def.description}_getType(t){return Ch(t.data)}_getOrReturnCtx(t,s){return s||{common:t.parent.common,data:t.data,parsedType:Ch(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Vl,ctx:{common:t.parent.common,data:t.data,parsedType:Ch(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const s=this._parse(t);if(Ey(s))throw new Error("Synchronous parse encountered promise.");return s}_parseAsync(t){const s=this._parse(t);return Promise.resolve(s)}parse(t,s){const r=this.safeParse(t,s);if(r.success)return r.data;throw r.error}safeParse(t,s){const r={common:{issues:[],async:(s==null?void 0:s.async)??!1,contextualErrorMap:s==null?void 0:s.errorMap},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ch(t)},i=this._parseSync({data:t,path:r.path,parent:r});return nC(r,i)}"~validate"(t){var r,i;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ch(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:s});return op(a)?{value:a.value}:{issues:s.common.issues}}catch(a){(i=(r=a==null?void 0:a.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:s}).then(a=>op(a)?{value:a.value}:{issues:s.common.issues})}async parseAsync(t,s){const r=await this.safeParseAsync(t,s);if(r.success)return r.data;throw r.error}async safeParseAsync(t,s){const r={common:{issues:[],contextualErrorMap:s==null?void 0:s.errorMap,async:!0},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ch(t)},i=this._parse({data:t,path:r.path,parent:r}),a=await(Ey(i)?i:Promise.resolve(i));return nC(r,a)}refine(t,s){const r=i=>typeof s=="string"||typeof s>"u"?{message:s}:typeof s=="function"?s(i):s;return this._refinement((i,a)=>{const l=t(i),c=()=>a.addIssue({code:Pt.custom,...r(i)});return typeof Promise<"u"&&l instanceof Promise?l.then(u=>u?!0:(c(),!1)):l?!0:(c(),!1)})}refinement(t,s){return this._refinement((r,i)=>t(r)?!0:(i.addIssue(typeof s=="function"?s(r,i):s),!1))}_refinement(t){return new dp({schema:this,typeName:Ws.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:s=>this["~validate"](s)}}optional(){return Oh.create(this,this._def)}nullable(){return up.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return $d.create(this)}promise(){return Ry.create(this,this._def)}or(t){return Py.create([this,t],this._def)}and(t){return Ly.create(this,t,this._def)}transform(t){return new dp({...cn(this._def),schema:this,typeName:Ws.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const s=typeof t=="function"?t:()=>t;return new U1({...cn(this._def),innerType:this,defaultValue:s,typeName:Ws.ZodDefault})}brand(){return new iJ({typeName:Ws.ZodBranded,type:this,...cn(this._def)})}catch(t){const s=typeof t=="function"?t:()=>t;return new $1({...cn(this._def),innerType:this,catchValue:s,typeName:Ws.ZodCatch})}describe(t){const s=this.constructor;return new s({...this._def,description:t})}pipe(t){return E2.create(this,t)}readonly(){return V1.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const IK=/^c[^\s-]{8,}$/i,FK=/^[0-9a-z]+$/,BK=/^[0-9A-HJKMNP-TV-Z]{26}$/i,zK=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,qK=/^[a-z0-9_-]{21}$/i,UK=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,$K=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,VK=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,HK="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Lj;const GK=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,WK=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,YK=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,ZK=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,KK=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,JK=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,XP="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",XK=new RegExp(`^${XP}$`);function QP(n){let t="[0-5]\\d";n.precision?t=`${t}\\.\\d{${n.precision}}`:n.precision==null&&(t=`${t}(\\.\\d+)?`);const s=n.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${s}`}function QK(n){return new RegExp(`^${QP(n)}$`)}function eJ(n){let t=`${XP}T${QP(n)}`;const s=[];return s.push(n.local?"Z?":"Z"),n.offset&&s.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${s.join("|")})`,new RegExp(`^${t}$`)}function tJ(n,t){return!!((t==="v4"||!t)&&GK.test(n)||(t==="v6"||!t)&&YK.test(n))}function sJ(n,t){if(!UK.test(n))return!1;try{const[s]=n.split(".");if(!s)return!1;const r=s.replace(/-/g,"+").replace(/_/g,"/").padEnd(s.length+(4-s.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&i.alg!==t)}catch{return!1}}function nJ(n,t){return!!((t==="v4"||!t)&&WK.test(n)||(t==="v6"||!t)&&ZK.test(n))}class Eh extends Dn{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==ls.string){const a=this._getOrReturnCtx(t);return Kt(a,{code:Pt.invalid_type,expected:ls.string,received:a.parsedType}),Gs}const r=new Vl;let i;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(i=this._getOrReturnCtx(t,i),Kt(i,{code:Pt.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")t.data.length>a.value&&(i=this._getOrReturnCtx(t,i),Kt(i,{code:Pt.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const l=t.data.length>a.value,c=t.data.length<a.value;(l||c)&&(i=this._getOrReturnCtx(t,i),l?Kt(i,{code:Pt.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):c&&Kt(i,{code:Pt.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")VK.test(t.data)||(i=this._getOrReturnCtx(t,i),Kt(i,{validation:"email",code:Pt.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")Lj||(Lj=new RegExp(HK,"u")),Lj.test(t.data)||(i=this._getOrReturnCtx(t,i),Kt(i,{validation:"emoji",code:Pt.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")zK.test(t.data)||(i=this._getOrReturnCtx(t,i),Kt(i,{validation:"uuid",code:Pt.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")qK.test(t.data)||(i=this._getOrReturnCtx(t,i),Kt(i,{validation:"nanoid",code:Pt.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")IK.test(t.data)||(i=this._getOrReturnCtx(t,i),Kt(i,{validation:"cuid",code:Pt.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")FK.test(t.data)||(i=this._getOrReturnCtx(t,i),Kt(i,{validation:"cuid2",code:Pt.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")BK.test(t.data)||(i=this._getOrReturnCtx(t,i),Kt(i,{validation:"ulid",code:Pt.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),Kt(i,{validation:"url",code:Pt.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),Kt(i,{validation:"regex",code:Pt.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(t,i),Kt(i,{code:Pt.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(i=this._getOrReturnCtx(t,i),Kt(i,{code:Pt.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(i=this._getOrReturnCtx(t,i),Kt(i,{code:Pt.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?eJ(a).test(t.data)||(i=this._getOrReturnCtx(t,i),Kt(i,{code:Pt.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?XK.test(t.data)||(i=this._getOrReturnCtx(t,i),Kt(i,{code:Pt.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?QK(a).test(t.data)||(i=this._getOrReturnCtx(t,i),Kt(i,{code:Pt.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?$K.test(t.data)||(i=this._getOrReturnCtx(t,i),Kt(i,{validation:"duration",code:Pt.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?tJ(t.data,a.version)||(i=this._getOrReturnCtx(t,i),Kt(i,{validation:"ip",code:Pt.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?sJ(t.data,a.alg)||(i=this._getOrReturnCtx(t,i),Kt(i,{validation:"jwt",code:Pt.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?nJ(t.data,a.version)||(i=this._getOrReturnCtx(t,i),Kt(i,{validation:"cidr",code:Pt.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?KK.test(t.data)||(i=this._getOrReturnCtx(t,i),Kt(i,{validation:"base64",code:Pt.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?JK.test(t.data)||(i=this._getOrReturnCtx(t,i),Kt(i,{validation:"base64url",code:Pt.invalid_string,message:a.message}),r.dirty()):Vn.assertNever(a);return{status:r.value,value:t.data}}_regex(t,s,r){return this.refinement(i=>t.test(i),{validation:s,code:Pt.invalid_string,...us.errToObj(r)})}_addCheck(t){return new Eh({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...us.errToObj(t)})}url(t){return this._addCheck({kind:"url",...us.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...us.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...us.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...us.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...us.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...us.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...us.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...us.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...us.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...us.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...us.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...us.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...us.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...us.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...us.errToObj(t)})}regex(t,s){return this._addCheck({kind:"regex",regex:t,...us.errToObj(s)})}includes(t,s){return this._addCheck({kind:"includes",value:t,position:s==null?void 0:s.position,...us.errToObj(s==null?void 0:s.message)})}startsWith(t,s){return this._addCheck({kind:"startsWith",value:t,...us.errToObj(s)})}endsWith(t,s){return this._addCheck({kind:"endsWith",value:t,...us.errToObj(s)})}min(t,s){return this._addCheck({kind:"min",value:t,...us.errToObj(s)})}max(t,s){return this._addCheck({kind:"max",value:t,...us.errToObj(s)})}length(t,s){return this._addCheck({kind:"length",value:t,...us.errToObj(s)})}nonempty(t){return this.min(1,us.errToObj(t))}trim(){return new Eh({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Eh({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Eh({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxLength(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}}Eh.create=n=>new Eh({checks:[],typeName:Ws.ZodString,coerce:(n==null?void 0:n.coerce)??!1,...cn(n)});function rJ(n,t){const s=(n.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=s>r?s:r,a=Number.parseInt(n.toFixed(i).replace(".","")),l=Number.parseInt(t.toFixed(i).replace(".",""));return a%l/10**i}class lp extends Dn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==ls.number){const a=this._getOrReturnCtx(t);return Kt(a,{code:Pt.invalid_type,expected:ls.number,received:a.parsedType}),Gs}let r;const i=new Vl;for(const a of this._def.checks)a.kind==="int"?Vn.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),Kt(r,{code:Pt.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),Kt(r,{code:Pt.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),Kt(r,{code:Pt.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?rJ(t.data,a.value)!==0&&(r=this._getOrReturnCtx(t,r),Kt(r,{code:Pt.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),Kt(r,{code:Pt.not_finite,message:a.message}),i.dirty()):Vn.assertNever(a);return{status:i.value,value:t.data}}gte(t,s){return this.setLimit("min",t,!0,us.toString(s))}gt(t,s){return this.setLimit("min",t,!1,us.toString(s))}lte(t,s){return this.setLimit("max",t,!0,us.toString(s))}lt(t,s){return this.setLimit("max",t,!1,us.toString(s))}setLimit(t,s,r,i){return new lp({...this._def,checks:[...this._def.checks,{kind:t,value:s,inclusive:r,message:us.toString(i)}]})}_addCheck(t){return new lp({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:us.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:us.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:us.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:us.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:us.toString(t)})}multipleOf(t,s){return this._addCheck({kind:"multipleOf",value:t,message:us.toString(s)})}finite(t){return this._addCheck({kind:"finite",message:us.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:us.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:us.toString(t)})}get minValue(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxValue(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Vn.isInteger(t.value))}get isFinite(){let t=null,s=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(s===null||r.value>s)&&(s=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(s)&&Number.isFinite(t)}}lp.create=n=>new lp({checks:[],typeName:Ws.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...cn(n)});class Wg extends Dn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==ls.bigint)return this._getInvalidInput(t);let r;const i=new Vl;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),Kt(r,{code:Pt.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),Kt(r,{code:Pt.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),Kt(r,{code:Pt.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):Vn.assertNever(a);return{status:i.value,value:t.data}}_getInvalidInput(t){const s=this._getOrReturnCtx(t);return Kt(s,{code:Pt.invalid_type,expected:ls.bigint,received:s.parsedType}),Gs}gte(t,s){return this.setLimit("min",t,!0,us.toString(s))}gt(t,s){return this.setLimit("min",t,!1,us.toString(s))}lte(t,s){return this.setLimit("max",t,!0,us.toString(s))}lt(t,s){return this.setLimit("max",t,!1,us.toString(s))}setLimit(t,s,r,i){return new Wg({...this._def,checks:[...this._def.checks,{kind:t,value:s,inclusive:r,message:us.toString(i)}]})}_addCheck(t){return new Wg({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:us.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:us.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:us.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:us.toString(t)})}multipleOf(t,s){return this._addCheck({kind:"multipleOf",value:t,message:us.toString(s)})}get minValue(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxValue(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}}Wg.create=n=>new Wg({checks:[],typeName:Ws.ZodBigInt,coerce:(n==null?void 0:n.coerce)??!1,...cn(n)});class B1 extends Dn{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==ls.boolean){const r=this._getOrReturnCtx(t);return Kt(r,{code:Pt.invalid_type,expected:ls.boolean,received:r.parsedType}),Gs}return Nc(t.data)}}B1.create=n=>new B1({typeName:Ws.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...cn(n)});class Ty extends Dn{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==ls.date){const a=this._getOrReturnCtx(t);return Kt(a,{code:Pt.invalid_type,expected:ls.date,received:a.parsedType}),Gs}if(Number.isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return Kt(a,{code:Pt.invalid_date}),Gs}const r=new Vl;let i;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(i=this._getOrReturnCtx(t,i),Kt(i,{code:Pt.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(i=this._getOrReturnCtx(t,i),Kt(i,{code:Pt.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):Vn.assertNever(a);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Ty({...this._def,checks:[...this._def.checks,t]})}min(t,s){return this._addCheck({kind:"min",value:t.getTime(),message:us.toString(s)})}max(t,s){return this._addCheck({kind:"max",value:t.getTime(),message:us.toString(s)})}get minDate(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t!=null?new Date(t):null}}Ty.create=n=>new Ty({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:Ws.ZodDate,...cn(n)});class rC extends Dn{_parse(t){if(this._getType(t)!==ls.symbol){const r=this._getOrReturnCtx(t);return Kt(r,{code:Pt.invalid_type,expected:ls.symbol,received:r.parsedType}),Gs}return Nc(t.data)}}rC.create=n=>new rC({typeName:Ws.ZodSymbol,...cn(n)});class iC extends Dn{_parse(t){if(this._getType(t)!==ls.undefined){const r=this._getOrReturnCtx(t);return Kt(r,{code:Pt.invalid_type,expected:ls.undefined,received:r.parsedType}),Gs}return Nc(t.data)}}iC.create=n=>new iC({typeName:Ws.ZodUndefined,...cn(n)});class aC extends Dn{_parse(t){if(this._getType(t)!==ls.null){const r=this._getOrReturnCtx(t);return Kt(r,{code:Pt.invalid_type,expected:ls.null,received:r.parsedType}),Gs}return Nc(t.data)}}aC.create=n=>new aC({typeName:Ws.ZodNull,...cn(n)});class oC extends Dn{constructor(){super(...arguments),this._any=!0}_parse(t){return Nc(t.data)}}oC.create=n=>new oC({typeName:Ws.ZodAny,...cn(n)});class lC extends Dn{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Nc(t.data)}}lC.create=n=>new lC({typeName:Ws.ZodUnknown,...cn(n)});class Vh extends Dn{_parse(t){const s=this._getOrReturnCtx(t);return Kt(s,{code:Pt.invalid_type,expected:ls.never,received:s.parsedType}),Gs}}Vh.create=n=>new Vh({typeName:Ws.ZodNever,...cn(n)});class cC extends Dn{_parse(t){if(this._getType(t)!==ls.undefined){const r=this._getOrReturnCtx(t);return Kt(r,{code:Pt.invalid_type,expected:ls.void,received:r.parsedType}),Gs}return Nc(t.data)}}cC.create=n=>new cC({typeName:Ws.ZodVoid,...cn(n)});class $d extends Dn{_parse(t){const{ctx:s,status:r}=this._processInputParams(t),i=this._def;if(s.parsedType!==ls.array)return Kt(s,{code:Pt.invalid_type,expected:ls.array,received:s.parsedType}),Gs;if(i.exactLength!==null){const l=s.data.length>i.exactLength.value,c=s.data.length<i.exactLength.value;(l||c)&&(Kt(s,{code:l?Pt.too_big:Pt.too_small,minimum:c?i.exactLength.value:void 0,maximum:l?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&s.data.length<i.minLength.value&&(Kt(s,{code:Pt.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&s.data.length>i.maxLength.value&&(Kt(s,{code:Pt.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),s.common.async)return Promise.all([...s.data].map((l,c)=>i.type._parseAsync(new $h(s,l,s.path,c)))).then(l=>Vl.mergeArray(r,l));const a=[...s.data].map((l,c)=>i.type._parseSync(new $h(s,l,s.path,c)));return Vl.mergeArray(r,a)}get element(){return this._def.type}min(t,s){return new $d({...this._def,minLength:{value:t,message:us.toString(s)}})}max(t,s){return new $d({...this._def,maxLength:{value:t,message:us.toString(s)}})}length(t,s){return new $d({...this._def,exactLength:{value:t,message:us.toString(s)}})}nonempty(t){return this.min(1,t)}}$d.create=(n,t)=>new $d({type:n,minLength:null,maxLength:null,exactLength:null,typeName:Ws.ZodArray,...cn(t)});function zf(n){if(n instanceof oa){const t={};for(const s in n.shape){const r=n.shape[s];t[s]=Oh.create(zf(r))}return new oa({...n._def,shape:()=>t})}else return n instanceof $d?new $d({...n._def,type:zf(n.element)}):n instanceof Oh?Oh.create(zf(n.unwrap())):n instanceof up?up.create(zf(n.unwrap())):n instanceof Fm?Fm.create(n.items.map(t=>zf(t))):n}class oa extends Dn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),s=Vn.objectKeys(t);return this._cached={shape:t,keys:s},this._cached}_parse(t){if(this._getType(t)!==ls.object){const m=this._getOrReturnCtx(t);return Kt(m,{code:Pt.invalid_type,expected:ls.object,received:m.parsedType}),Gs}const{status:r,ctx:i}=this._processInputParams(t),{shape:a,keys:l}=this._getCached(),c=[];if(!(this._def.catchall instanceof Vh&&this._def.unknownKeys==="strip"))for(const m in i.data)l.includes(m)||c.push(m);const u=[];for(const m of l){const g=a[m],p=i.data[m];u.push({key:{status:"valid",value:m},value:g._parse(new $h(i,p,i.path,m)),alwaysSet:m in i.data})}if(this._def.catchall instanceof Vh){const m=this._def.unknownKeys;if(m==="passthrough")for(const g of c)u.push({key:{status:"valid",value:g},value:{status:"valid",value:i.data[g]}});else if(m==="strict")c.length>0&&(Kt(i,{code:Pt.unrecognized_keys,keys:c}),r.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const m=this._def.catchall;for(const g of c){const p=i.data[g];u.push({key:{status:"valid",value:g},value:m._parse(new $h(i,p,i.path,g)),alwaysSet:g in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const m=[];for(const g of u){const p=await g.key,y=await g.value;m.push({key:p,value:y,alwaysSet:g.alwaysSet})}return m}).then(m=>Vl.mergeObjectSync(r,m)):Vl.mergeObjectSync(r,u)}get shape(){return this._def.shape()}strict(t){return us.errToObj,new oa({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(s,r)=>{var a,l;const i=((l=(a=this._def).errorMap)==null?void 0:l.call(a,s,r).message)??r.defaultError;return s.code==="unrecognized_keys"?{message:us.errToObj(t).message??i}:{message:i}}}:{}})}strip(){return new oa({...this._def,unknownKeys:"strip"})}passthrough(){return new oa({...this._def,unknownKeys:"passthrough"})}extend(t){return new oa({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new oa({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Ws.ZodObject})}setKey(t,s){return this.augment({[t]:s})}catchall(t){return new oa({...this._def,catchall:t})}pick(t){const s={};for(const r of Vn.objectKeys(t))t[r]&&this.shape[r]&&(s[r]=this.shape[r]);return new oa({...this._def,shape:()=>s})}omit(t){const s={};for(const r of Vn.objectKeys(this.shape))t[r]||(s[r]=this.shape[r]);return new oa({...this._def,shape:()=>s})}deepPartial(){return zf(this)}partial(t){const s={};for(const r of Vn.objectKeys(this.shape)){const i=this.shape[r];t&&!t[r]?s[r]=i:s[r]=i.optional()}return new oa({...this._def,shape:()=>s})}required(t){const s={};for(const r of Vn.objectKeys(this.shape))if(t&&!t[r])s[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof Oh;)a=a._def.innerType;s[r]=a}return new oa({...this._def,shape:()=>s})}keyof(){return eL(Vn.objectKeys(this.shape))}}oa.create=(n,t)=>new oa({shape:()=>n,unknownKeys:"strip",catchall:Vh.create(),typeName:Ws.ZodObject,...cn(t)});oa.strictCreate=(n,t)=>new oa({shape:()=>n,unknownKeys:"strict",catchall:Vh.create(),typeName:Ws.ZodObject,...cn(t)});oa.lazycreate=(n,t)=>new oa({shape:n,unknownKeys:"strip",catchall:Vh.create(),typeName:Ws.ZodObject,...cn(t)});class Py extends Dn{_parse(t){const{ctx:s}=this._processInputParams(t),r=this._def.options;function i(a){for(const c of a)if(c.result.status==="valid")return c.result;for(const c of a)if(c.result.status==="dirty")return s.common.issues.push(...c.ctx.common.issues),c.result;const l=a.map(c=>new $u(c.ctx.common.issues));return Kt(s,{code:Pt.invalid_union,unionErrors:l}),Gs}if(s.common.async)return Promise.all(r.map(async a=>{const l={...s,common:{...s.common,issues:[]},parent:null};return{result:await a._parseAsync({data:s.data,path:s.path,parent:l}),ctx:l}})).then(i);{let a;const l=[];for(const u of r){const m={...s,common:{...s.common,issues:[]},parent:null},g=u._parseSync({data:s.data,path:s.path,parent:m});if(g.status==="valid")return g;g.status==="dirty"&&!a&&(a={result:g,ctx:m}),m.common.issues.length&&l.push(m.common.issues)}if(a)return s.common.issues.push(...a.ctx.common.issues),a.result;const c=l.map(u=>new $u(u));return Kt(s,{code:Pt.invalid_union,unionErrors:c}),Gs}}get options(){return this._def.options}}Py.create=(n,t)=>new Py({options:n,typeName:Ws.ZodUnion,...cn(t)});function z1(n,t){const s=Ch(n),r=Ch(t);if(n===t)return{valid:!0,data:n};if(s===ls.object&&r===ls.object){const i=Vn.objectKeys(t),a=Vn.objectKeys(n).filter(c=>i.indexOf(c)!==-1),l={...n,...t};for(const c of a){const u=z1(n[c],t[c]);if(!u.valid)return{valid:!1};l[c]=u.data}return{valid:!0,data:l}}else if(s===ls.array&&r===ls.array){if(n.length!==t.length)return{valid:!1};const i=[];for(let a=0;a<n.length;a++){const l=n[a],c=t[a],u=z1(l,c);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return s===ls.date&&r===ls.date&&+n==+t?{valid:!0,data:n}:{valid:!1}}class Ly extends Dn{_parse(t){const{status:s,ctx:r}=this._processInputParams(t),i=(a,l)=>{if(tC(a)||tC(l))return Gs;const c=z1(a.value,l.value);return c.valid?((sC(a)||sC(l))&&s.dirty(),{status:s.value,value:c.data}):(Kt(r,{code:Pt.invalid_intersection_types}),Gs)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,l])=>i(a,l)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Ly.create=(n,t,s)=>new Ly({left:n,right:t,typeName:Ws.ZodIntersection,...cn(s)});class Fm extends Dn{_parse(t){const{status:s,ctx:r}=this._processInputParams(t);if(r.parsedType!==ls.array)return Kt(r,{code:Pt.invalid_type,expected:ls.array,received:r.parsedType}),Gs;if(r.data.length<this._def.items.length)return Kt(r,{code:Pt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Gs;!this._def.rest&&r.data.length>this._def.items.length&&(Kt(r,{code:Pt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),s.dirty());const a=[...r.data].map((l,c)=>{const u=this._def.items[c]||this._def.rest;return u?u._parse(new $h(r,l,r.path,c)):null}).filter(l=>!!l);return r.common.async?Promise.all(a).then(l=>Vl.mergeArray(s,l)):Vl.mergeArray(s,a)}get items(){return this._def.items}rest(t){return new Fm({...this._def,rest:t})}}Fm.create=(n,t)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Fm({items:n,typeName:Ws.ZodTuple,rest:null,...cn(t)})};class dC extends Dn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:s,ctx:r}=this._processInputParams(t);if(r.parsedType!==ls.map)return Kt(r,{code:Pt.invalid_type,expected:ls.map,received:r.parsedType}),Gs;const i=this._def.keyType,a=this._def.valueType,l=[...r.data.entries()].map(([c,u],m)=>({key:i._parse(new $h(r,c,r.path,[m,"key"])),value:a._parse(new $h(r,u,r.path,[m,"value"]))}));if(r.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const u of l){const m=await u.key,g=await u.value;if(m.status==="aborted"||g.status==="aborted")return Gs;(m.status==="dirty"||g.status==="dirty")&&s.dirty(),c.set(m.value,g.value)}return{status:s.value,value:c}})}else{const c=new Map;for(const u of l){const m=u.key,g=u.value;if(m.status==="aborted"||g.status==="aborted")return Gs;(m.status==="dirty"||g.status==="dirty")&&s.dirty(),c.set(m.value,g.value)}return{status:s.value,value:c}}}}dC.create=(n,t,s)=>new dC({valueType:t,keyType:n,typeName:Ws.ZodMap,...cn(s)});class Yg extends Dn{_parse(t){const{status:s,ctx:r}=this._processInputParams(t);if(r.parsedType!==ls.set)return Kt(r,{code:Pt.invalid_type,expected:ls.set,received:r.parsedType}),Gs;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Kt(r,{code:Pt.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),s.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Kt(r,{code:Pt.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),s.dirty());const a=this._def.valueType;function l(u){const m=new Set;for(const g of u){if(g.status==="aborted")return Gs;g.status==="dirty"&&s.dirty(),m.add(g.value)}return{status:s.value,value:m}}const c=[...r.data.values()].map((u,m)=>a._parse(new $h(r,u,r.path,m)));return r.common.async?Promise.all(c).then(u=>l(u)):l(c)}min(t,s){return new Yg({...this._def,minSize:{value:t,message:us.toString(s)}})}max(t,s){return new Yg({...this._def,maxSize:{value:t,message:us.toString(s)}})}size(t,s){return this.min(t,s).max(t,s)}nonempty(t){return this.min(1,t)}}Yg.create=(n,t)=>new Yg({valueType:n,minSize:null,maxSize:null,typeName:Ws.ZodSet,...cn(t)});class uC extends Dn{get schema(){return this._def.getter()}_parse(t){const{ctx:s}=this._processInputParams(t);return this._def.getter()._parse({data:s.data,path:s.path,parent:s})}}uC.create=(n,t)=>new uC({getter:n,typeName:Ws.ZodLazy,...cn(t)});class q1 extends Dn{_parse(t){if(t.data!==this._def.value){const s=this._getOrReturnCtx(t);return Kt(s,{received:s.data,code:Pt.invalid_literal,expected:this._def.value}),Gs}return{status:"valid",value:t.data}}get value(){return this._def.value}}q1.create=(n,t)=>new q1({value:n,typeName:Ws.ZodLiteral,...cn(t)});function eL(n,t){return new cp({values:n,typeName:Ws.ZodEnum,...cn(t)})}class cp extends Dn{_parse(t){if(typeof t.data!="string"){const s=this._getOrReturnCtx(t),r=this._def.values;return Kt(s,{expected:Vn.joinValues(r),received:s.parsedType,code:Pt.invalid_type}),Gs}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const s=this._getOrReturnCtx(t),r=this._def.values;return Kt(s,{received:s.data,code:Pt.invalid_enum_value,options:r}),Gs}return Nc(t.data)}get options(){return this._def.values}get enum(){const t={};for(const s of this._def.values)t[s]=s;return t}get Values(){const t={};for(const s of this._def.values)t[s]=s;return t}get Enum(){const t={};for(const s of this._def.values)t[s]=s;return t}extract(t,s=this._def){return cp.create(t,{...this._def,...s})}exclude(t,s=this._def){return cp.create(this.options.filter(r=>!t.includes(r)),{...this._def,...s})}}cp.create=eL;class hC extends Dn{_parse(t){const s=Vn.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==ls.string&&r.parsedType!==ls.number){const i=Vn.objectValues(s);return Kt(r,{expected:Vn.joinValues(i),received:r.parsedType,code:Pt.invalid_type}),Gs}if(this._cache||(this._cache=new Set(Vn.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const i=Vn.objectValues(s);return Kt(r,{received:r.data,code:Pt.invalid_enum_value,options:i}),Gs}return Nc(t.data)}get enum(){return this._def.values}}hC.create=(n,t)=>new hC({values:n,typeName:Ws.ZodNativeEnum,...cn(t)});class Ry extends Dn{unwrap(){return this._def.type}_parse(t){const{ctx:s}=this._processInputParams(t);if(s.parsedType!==ls.promise&&s.common.async===!1)return Kt(s,{code:Pt.invalid_type,expected:ls.promise,received:s.parsedType}),Gs;const r=s.parsedType===ls.promise?s.data:Promise.resolve(s.data);return Nc(r.then(i=>this._def.type.parseAsync(i,{path:s.path,errorMap:s.common.contextualErrorMap})))}}Ry.create=(n,t)=>new Ry({type:n,typeName:Ws.ZodPromise,...cn(t)});class dp extends Dn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ws.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:s,ctx:r}=this._processInputParams(t),i=this._def.effect||null,a={addIssue:l=>{Kt(r,l),l.fatal?s.abort():s.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const l=i.transform(r.data,a);if(r.common.async)return Promise.resolve(l).then(async c=>{if(s.value==="aborted")return Gs;const u=await this._def.schema._parseAsync({data:c,path:r.path,parent:r});return u.status==="aborted"?Gs:u.status==="dirty"||s.value==="dirty"?_g(u.value):u});{if(s.value==="aborted")return Gs;const c=this._def.schema._parseSync({data:l,path:r.path,parent:r});return c.status==="aborted"?Gs:c.status==="dirty"||s.value==="dirty"?_g(c.value):c}}if(i.type==="refinement"){const l=c=>{const u=i.refinement(c,a);if(r.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return c.status==="aborted"?Gs:(c.status==="dirty"&&s.dirty(),l(c.value),{status:s.value,value:c.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>c.status==="aborted"?Gs:(c.status==="dirty"&&s.dirty(),l(c.value).then(()=>({status:s.value,value:c.value}))))}if(i.type==="transform")if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!op(l))return Gs;const c=i.transform(l.value,a);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:s.value,value:c}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>op(l)?Promise.resolve(i.transform(l.value,a)).then(c=>({status:s.value,value:c})):Gs);Vn.assertNever(i)}}dp.create=(n,t,s)=>new dp({schema:n,typeName:Ws.ZodEffects,effect:t,...cn(s)});dp.createWithPreprocess=(n,t,s)=>new dp({schema:t,effect:{type:"preprocess",transform:n},typeName:Ws.ZodEffects,...cn(s)});class Oh extends Dn{_parse(t){return this._getType(t)===ls.undefined?Nc(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Oh.create=(n,t)=>new Oh({innerType:n,typeName:Ws.ZodOptional,...cn(t)});class up extends Dn{_parse(t){return this._getType(t)===ls.null?Nc(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}up.create=(n,t)=>new up({innerType:n,typeName:Ws.ZodNullable,...cn(t)});class U1 extends Dn{_parse(t){const{ctx:s}=this._processInputParams(t);let r=s.data;return s.parsedType===ls.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:s.path,parent:s})}removeDefault(){return this._def.innerType}}U1.create=(n,t)=>new U1({innerType:n,typeName:Ws.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...cn(t)});class $1 extends Dn{_parse(t){const{ctx:s}=this._processInputParams(t),r={...s,common:{...s.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Ey(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new $u(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new $u(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}$1.create=(n,t)=>new $1({innerType:n,typeName:Ws.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...cn(t)});class mC extends Dn{_parse(t){if(this._getType(t)!==ls.nan){const r=this._getOrReturnCtx(t);return Kt(r,{code:Pt.invalid_type,expected:ls.nan,received:r.parsedType}),Gs}return{status:"valid",value:t.data}}}mC.create=n=>new mC({typeName:Ws.ZodNaN,...cn(n)});class iJ extends Dn{_parse(t){const{ctx:s}=this._processInputParams(t),r=s.data;return this._def.type._parse({data:r,path:s.path,parent:s})}unwrap(){return this._def.type}}class E2 extends Dn{_parse(t){const{status:s,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Gs:a.status==="dirty"?(s.dirty(),_g(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Gs:i.status==="dirty"?(s.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(t,s){return new E2({in:t,out:s,typeName:Ws.ZodPipeline})}}class V1 extends Dn{_parse(t){const s=this._def.innerType._parse(t),r=i=>(op(i)&&(i.value=Object.freeze(i.value)),i);return Ey(s)?s.then(i=>r(i)):r(s)}unwrap(){return this._def.innerType}}V1.create=(n,t)=>new V1({innerType:n,typeName:Ws.ZodReadonly,...cn(t)});var Ws;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(Ws||(Ws={}));const et=Eh.create,Ft=lp.create,Mi=B1.create;Vh.create;const An=$d.create,os=oa.create;Py.create;Ly.create;Fm.create;const Jf=q1.create,Ao=cp.create;Ry.create;Oh.create;up.create;const aJ=hK,tL=w.createContext({}),si=({...n})=>e.jsx(tL.Provider,{value:{name:n.name},children:e.jsx(gK,{...n})}),k0=()=>{const n=w.useContext(tL),t=w.useContext(sL),{getFieldState:s,formState:r}=A0(),i=s(n.name,r);if(!n)throw new Error("useFormField should be used within <FormField>");const{id:a}=t;return{id:a,name:n.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...i}},sL=w.createContext({}),Gr=w.forwardRef(({className:n,...t},s)=>{const r=w.useId();return e.jsx(sL.Provider,{value:{id:r},children:e.jsx("div",{ref:s,className:nt("space-y-2",n),...t})})});Gr.displayName="FormItem";const Wr=w.forwardRef(({className:n,...t},s)=>{const{error:r,formItemId:i}=k0();return e.jsx(ve,{ref:s,className:nt(r&&"text-destructive",n),htmlFor:i,...t})});Wr.displayName="FormLabel";const Yr=w.forwardRef(({...n},t)=>{const{error:s,formItemId:r,formDescriptionId:i,formMessageId:a}=k0();return e.jsx(lA,{ref:t,id:r,"aria-describedby":s?`${i} ${a}`:`${i}`,"aria-invalid":!!s,...n})});Yr.displayName="FormControl";const H1=w.forwardRef(({className:n,...t},s)=>{const{formDescriptionId:r}=k0();return e.jsx("p",{ref:s,id:r,className:nt("text-[0.8rem] text-muted-foreground",n),...t})});H1.displayName="FormDescription";const ni=w.forwardRef(({className:n,children:t,...s},r)=>{const{error:i,formMessageId:a}=k0(),l=i?String((i==null?void 0:i.message)??""):t;return l?e.jsx("p",{ref:r,id:a,className:nt("text-[0.8rem] font-medium text-destructive",n),...s,children:l}):null});ni.displayName="FormMessage";const Xf=os({displayName:et().min(2,"Name must be at least 2 characters"),bio:et().max(500,"Bio must be less than 500 characters"),avatar:et().url("Must be a valid URL").optional(),phone:et().min(10,"Phone number must be at least 10 digits"),email:et().email("Must be a valid email address"),location:os({city:et().min(1,"City is required"),state:et().min(1,"State is required"),country:et().min(1,"Country is required")}),website:et().url("Must be a valid URL").optional().or(Jf("")),linkedin:et().url("Must be a valid LinkedIn URL").optional().or(Jf("")),isPublic:Mi()}),oJ=Xf.extend({companyName:et().min(1,"Company name is required"),industry:et().min(1,"Industry is required"),foundedYear:Ft().min(1900).max(new Date().getFullYear()),employees:Ft().min(1,"Must have at least 1 employee"),description:et().min(50,"Description must be at least 50 characters"),keyProducts:An(et()).min(1,"At least one product is required"),certifications:An(et()).optional(),privateInfo:os({askingPrice:Ft().min(1,"Asking price is required"),monthlyRevenue:Ft().min(0),monthlyProfit:Ft().min(0),reasonForSale:et().min(10,"Reason for sale is required")})}),lJ=Xf.extend({firmName:et().min(1,"Firm name is required"),buyerType:Ao(["individual","corporate","pe_fund","strategic"]),investmentRange:os({min:Ft().min(1,"Minimum investment is required"),max:Ft().min(1,"Maximum investment is required")}),preferredIndustries:An(et()).min(1,"Select at least one industry"),preferredLocations:An(et()).min(1,"Select at least one location"),investmentCriteria:et().min(50,"Investment criteria must be detailed"),experience:et().min(20,"Experience description is required"),privateInfo:os({availableFunds:Ft().min(1,"Available funds is required"),previousAcquisitions:Ft().min(0),timeframe:et().min(1,"Investment timeframe is required")})}),cJ=Xf.extend({brandName:et().min(1,"Brand name is required"),industry:et().min(1,"Industry is required"),foundedYear:Ft().min(1900).max(new Date().getFullYear()),totalOutlets:Ft().min(1,"Must have at least 1 outlet"),businessModel:et().min(1,"Business model is required"),franchiseFee:Ft().min(1,"Franchise fee is required"),royaltyPercentage:Ft().min(0).max(100,"Royalty cannot exceed 100%"),investmentMin:Ft().min(1,"Minimum investment is required"),investmentMax:Ft().min(1,"Maximum investment is required"),description:et().min(100,"Description must be at least 100 characters"),support:os({training:et().min(1,"Training details required"),marketing:et().min(1,"Marketing support details required"),operations:et().min(1,"Operations support details required")})}),dJ=n=>{switch(n){case"seller":return oJ;case"buyer":return lJ;case"franchisor":return cJ;case"franchisee":return Xf;case"advisor":return Xf;default:return Xf}},uJ=["Technology","Healthcare","Finance","Retail","Manufacturing","Food & Beverage","Education","Real Estate","Automotive","Other"];function hJ({profile:n,onSubmit:t,className:s=""}){const r=dJ(n.role),i=A2({resolver:k2(r),defaultValues:n}),a=c=>{console.log("Form submitted:",c),t==null||t(c)},l=()=>{switch(n.role){case"seller":return e.jsxs(e.Fragment,{children:[e.jsxs(de,{children:[e.jsx(Me,{children:e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(ed,{className:"w-5 h-5"}),"Business Information"]})}),e.jsxs(fe,{className:"space-y-4",children:[e.jsx(si,{control:i.control,name:"companyName",render:({field:c})=>e.jsxs(Gr,{children:[e.jsx(Wr,{children:"Company Name"}),e.jsx(Yr,{children:e.jsx(Ue,{placeholder:"Your company name",...c})}),e.jsx(ni,{})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(si,{control:i.control,name:"industry",render:({field:c})=>e.jsxs(Gr,{children:[e.jsx(Wr,{children:"Industry"}),e.jsxs(Jt,{onValueChange:c.onChange,defaultValue:c.value,children:[e.jsx(Yr,{children:e.jsx(Wt,{children:e.jsx(Xt,{placeholder:"Select industry"})})}),e.jsx(Yt,{children:uJ.map(u=>e.jsx(Ee,{value:u,children:u},u))})]}),e.jsx(ni,{})]})}),e.jsx(si,{control:i.control,name:"foundedYear",render:({field:c})=>e.jsxs(Gr,{children:[e.jsx(Wr,{children:"Founded Year"}),e.jsx(Yr,{children:e.jsx(Ue,{type:"number",placeholder:"2020",...c,onChange:u=>c.onChange(parseInt(u.target.value))})}),e.jsx(ni,{})]})})]}),e.jsx(si,{control:i.control,name:"description",render:({field:c})=>e.jsxs(Gr,{children:[e.jsx(Wr,{children:"Business Description"}),e.jsx(Yr,{children:e.jsx(_n,{placeholder:"Describe your business, products, and services...",className:"min-h-[100px]",...c})}),e.jsx(ni,{})]})})]})]}),e.jsxs(de,{className:"border-orange-200 bg-orange-50/50",children:[e.jsx(Me,{children:e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(zi,{className:"w-5 h-5"}),"Financial Information",e.jsx(Be,{variant:"secondary",children:"NDA Protected"})]})}),e.jsxs(fe,{className:"space-y-4",children:[e.jsx(si,{control:i.control,name:"privateInfo.askingPrice",render:({field:c})=>e.jsxs(Gr,{children:[e.jsx(Wr,{children:"Asking Price ()"}),e.jsx(Yr,{children:e.jsx(Ue,{type:"number",placeholder:"50000000",...c,onChange:u=>c.onChange(parseInt(u.target.value))})}),e.jsx(ni,{})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(si,{control:i.control,name:"privateInfo.monthlyRevenue",render:({field:c})=>e.jsxs(Gr,{children:[e.jsx(Wr,{children:"Monthly Revenue ()"}),e.jsx(Yr,{children:e.jsx(Ue,{type:"number",placeholder:"1000000",...c,onChange:u=>c.onChange(parseInt(u.target.value))})}),e.jsx(ni,{})]})}),e.jsx(si,{control:i.control,name:"privateInfo.monthlyProfit",render:({field:c})=>e.jsxs(Gr,{children:[e.jsx(Wr,{children:"Monthly Profit ()"}),e.jsx(Yr,{children:e.jsx(Ue,{type:"number",placeholder:"300000",...c,onChange:u=>c.onChange(parseInt(u.target.value))})}),e.jsx(ni,{})]})})]}),e.jsx(si,{control:i.control,name:"privateInfo.reasonForSale",render:({field:c})=>e.jsxs(Gr,{children:[e.jsx(Wr,{children:"Reason for Sale"}),e.jsx(Yr,{children:e.jsx(_n,{placeholder:"Why are you selling this business?",...c})}),e.jsx(ni,{})]})})]})]})]});case"buyer":return e.jsxs(de,{children:[e.jsx(Me,{children:e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(gn,{className:"w-5 h-5"}),"Investment Profile"]})}),e.jsxs(fe,{className:"space-y-4",children:[e.jsx(si,{control:i.control,name:"firmName",render:({field:c})=>e.jsxs(Gr,{children:[e.jsx(Wr,{children:"Firm/Organization Name"}),e.jsx(Yr,{children:e.jsx(Ue,{placeholder:"Your investment firm",...c})}),e.jsx(ni,{})]})}),e.jsx(si,{control:i.control,name:"buyerType",render:({field:c})=>e.jsxs(Gr,{children:[e.jsx(Wr,{children:"Buyer Type"}),e.jsxs(Jt,{onValueChange:c.onChange,defaultValue:c.value,children:[e.jsx(Yr,{children:e.jsx(Wt,{children:e.jsx(Xt,{placeholder:"Select buyer type"})})}),e.jsxs(Yt,{children:[e.jsx(Ee,{value:"individual",children:"Individual Investor"}),e.jsx(Ee,{value:"corporate",children:"Corporate Buyer"}),e.jsx(Ee,{value:"pe_fund",children:"PE/VC Fund"}),e.jsx(Ee,{value:"strategic",children:"Strategic Buyer"})]})]}),e.jsx(ni,{})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(si,{control:i.control,name:"investmentRange.min",render:({field:c})=>e.jsxs(Gr,{children:[e.jsx(Wr,{children:"Min Investment ()"}),e.jsx(Yr,{children:e.jsx(Ue,{type:"number",placeholder:"1000000",...c,onChange:u=>c.onChange(parseInt(u.target.value))})}),e.jsx(ni,{})]})}),e.jsx(si,{control:i.control,name:"investmentRange.max",render:({field:c})=>e.jsxs(Gr,{children:[e.jsx(Wr,{children:"Max Investment ()"}),e.jsx(Yr,{children:e.jsx(Ue,{type:"number",placeholder:"100000000",...c,onChange:u=>c.onChange(parseInt(u.target.value))})}),e.jsx(ni,{})]})})]})]})]});case"franchisor":return e.jsxs(de,{children:[e.jsx(Me,{children:e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(Mh,{className:"w-5 h-5"}),"Franchise Details"]})}),e.jsxs(fe,{className:"space-y-4",children:[e.jsx(si,{control:i.control,name:"brandName",render:({field:c})=>e.jsxs(Gr,{children:[e.jsx(Wr,{children:"Brand Name"}),e.jsx(Yr,{children:e.jsx(Ue,{placeholder:"Your franchise brand",...c})}),e.jsx(ni,{})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(si,{control:i.control,name:"franchiseFee",render:({field:c})=>e.jsxs(Gr,{children:[e.jsx(Wr,{children:"Franchise Fee ()"}),e.jsx(Yr,{children:e.jsx(Ue,{type:"number",placeholder:"500000",...c,onChange:u=>c.onChange(parseInt(u.target.value))})}),e.jsx(ni,{})]})}),e.jsx(si,{control:i.control,name:"royaltyPercentage",render:({field:c})=>e.jsxs(Gr,{children:[e.jsx(Wr,{children:"Royalty (%)"}),e.jsx(Yr,{children:e.jsx(Ue,{type:"number",placeholder:"5",...c,onChange:u=>c.onChange(parseInt(u.target.value))})}),e.jsx(ni,{})]})}),e.jsx(si,{control:i.control,name:"totalOutlets",render:({field:c})=>e.jsxs(Gr,{children:[e.jsx(Wr,{children:"Total Outlets"}),e.jsx(Yr,{children:e.jsx(Ue,{type:"number",placeholder:"50",...c,onChange:u=>c.onChange(parseInt(u.target.value))})}),e.jsx(ni,{})]})})]})]})]});default:return null}};return e.jsx(aJ,{...i,children:e.jsxs("form",{onSubmit:i.handleSubmit(a),className:`space-y-6 ${s}`,children:[e.jsxs(de,{children:[e.jsx(Me,{children:e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(Aa,{className:"w-5 h-5"}),"Basic Information"]})}),e.jsxs(fe,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(si,{control:i.control,name:"displayName",render:({field:c})=>e.jsxs(Gr,{children:[e.jsx(Wr,{children:"Display Name"}),e.jsx(Yr,{children:e.jsx(Ue,{placeholder:"Your full name",...c})}),e.jsx(ni,{})]})}),e.jsx(si,{control:i.control,name:"email",render:({field:c})=>e.jsxs(Gr,{children:[e.jsx(Wr,{children:"Email Address"}),e.jsx(Yr,{children:e.jsx(Ue,{type:"email",placeholder:"your@email.com",...c})}),e.jsx(ni,{})]})})]}),e.jsx(si,{control:i.control,name:"bio",render:({field:c})=>e.jsxs(Gr,{children:[e.jsx(Wr,{children:"Bio"}),e.jsx(Yr,{children:e.jsx(_n,{placeholder:"Tell us about yourself...",className:"min-h-[80px]",...c})}),e.jsx(H1,{children:"Brief description about yourself and your professional background"}),e.jsx(ni,{})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(si,{control:i.control,name:"location.city",render:({field:c})=>e.jsxs(Gr,{children:[e.jsx(Wr,{children:"City"}),e.jsx(Yr,{children:e.jsx(Ue,{placeholder:"Mumbai",...c})}),e.jsx(ni,{})]})}),e.jsx(si,{control:i.control,name:"location.state",render:({field:c})=>e.jsxs(Gr,{children:[e.jsx(Wr,{children:"State"}),e.jsx(Yr,{children:e.jsx(Ue,{placeholder:"Maharashtra",...c})}),e.jsx(ni,{})]})}),e.jsx(si,{control:i.control,name:"location.country",render:({field:c})=>e.jsxs(Gr,{children:[e.jsx(Wr,{children:"Country"}),e.jsx(Yr,{children:e.jsx(Ue,{placeholder:"India",...c})}),e.jsx(ni,{})]})})]}),e.jsx(si,{control:i.control,name:"isPublic",render:({field:c})=>e.jsxs(Gr,{className:"flex flex-row items-start space-x-3 space-y-0",children:[e.jsx(Yr,{children:e.jsx(ln,{checked:c.value,onCheckedChange:c.onChange})}),e.jsxs("div",{className:"space-y-1 leading-none",children:[e.jsx(Wr,{children:"Make profile public"}),e.jsx(H1,{children:"Allow your profile to be discovered by other users"})]})]})})]})]}),l(),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx(ee,{type:"button",variant:"outline",children:"Cancel"}),e.jsxs(ee,{type:"submit",className:"flex items-center gap-2",children:[e.jsx(km,{className:"w-4 h-4"}),"Save Profile"]})]})]})})}const mJ={profileVisibility:"public",contactInfo:"verified-only",businessDetails:"nda-required",financialInfo:"private",documentAccess:"nda-required",searchable:!0,showInDirectory:!0,allowDirectMessages:!0,requireNDAForContact:!1,dataRetention:"3-years"},Pf=[{value:"public",label:"Public",description:"Visible to everyone",icon:Du,color:"text-green-600"},{value:"verified-only",label:"Verified Users Only",description:"Only verified BizSearch users",icon:iA,color:"text-blue-600"},{value:"nda-required",label:"NDA Required",description:"Requires signed NDA",icon:Il,color:"text-orange-600"},{value:"private",label:"Private",description:"Only you and your team",icon:Ou,color:"text-red-600"}];function fJ({settings:n=mJ,onSettingsChange:t,className:s=""}){var g,p,y;const[r,i]=w.useState(n),[a,l]=w.useState(!1),c=(x,_)=>{const j={...r,[x]:_};i(j),t==null||t(j)},u=x=>Pf.find(_=>_.value===x),m=({label:x,description:_,value:j,onChange:A,options:C=Pf})=>{const P=u(j),S=(P==null?void 0:P.icon)||dn;return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(ve,{className:"text-sm font-medium",children:x}),e.jsx("p",{className:"text-xs text-muted-foreground",children:_})]}),e.jsxs(Jt,{value:j,onValueChange:A,children:[e.jsx(Wt,{className:"w-full",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(S,{className:`w-4 h-4 ${P==null?void 0:P.color}`}),e.jsx(Xt,{})]})}),e.jsx(Yt,{children:C.map(O=>{const z=O.icon;return e.jsx(Ee,{value:O.value,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(z,{className:`w-4 h-4 ${O.color}`}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:O.label}),e.jsx("div",{className:"text-xs text-muted-foreground",children:O.description})]})]})},O.value)})})]})]})};return e.jsxs("div",{className:`space-y-6 ${s}`,children:[e.jsxs(de,{children:[e.jsx(Me,{children:e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(Ds,{className:"w-5 h-5"}),"Profile Visibility"]})}),e.jsxs(fe,{className:"space-y-6",children:[e.jsx(m,{label:"Profile Visibility",description:"Who can see your profile information",value:r.profileVisibility,onChange:x=>c("profileVisibility",x),options:Pf.filter(x=>x.value!=="nda-required")}),e.jsx(m,{label:"Contact Information",description:"Who can see your email and phone number",value:r.contactInfo,onChange:x=>c("contactInfo",x),options:Pf.filter(x=>x.value!=="nda-required")}),e.jsx(m,{label:"Business Details",description:"Who can see detailed business information",value:r.businessDetails,onChange:x=>c("businessDetails",x)}),e.jsx(m,{label:"Financial Information",description:"Who can see revenue, profit, and financial data",value:r.financialInfo,onChange:x=>c("financialInfo",x),options:Pf.filter(x=>x.value!=="public"&&x.value!=="verified-only")}),e.jsx(m,{label:"Document Access",description:"Who can access your uploaded documents",value:r.documentAccess,onChange:x=>c("documentAccess",x),options:[{value:"team-only",label:"Team Only",description:"Only team members",icon:gn,color:"text-purple-600"},...Pf.filter(x=>x.value==="nda-required"||x.value==="private")]})]})]}),e.jsxs(de,{children:[e.jsx(Me,{children:e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(dn,{className:"w-5 h-5"}),"Discovery & Communication"]})}),e.jsxs(fe,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(ve,{className:"text-sm font-medium",children:"Searchable Profile"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Allow your profile to appear in search results"})]}),e.jsx(ii,{checked:r.searchable,onCheckedChange:x=>c("searchable",x)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(ve,{className:"text-sm font-medium",children:"Show in Directory"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Include your profile in the public directory"})]}),e.jsx(ii,{checked:r.showInDirectory,onCheckedChange:x=>c("showInDirectory",x)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(ve,{className:"text-sm font-medium",children:"Allow Direct Messages"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Let other users send you direct messages"})]}),e.jsx(ii,{checked:r.allowDirectMessages,onCheckedChange:x=>c("allowDirectMessages",x)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(ve,{className:"text-sm font-medium",children:"Require NDA for Contact"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Require NDA signature before sharing contact details"})]}),e.jsx(ii,{checked:r.requireNDAForContact,onCheckedChange:x=>c("requireNDAForContact",x)})]})]})]}),e.jsxs(de,{children:[e.jsx(Me,{children:e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(Um,{className:"w-5 h-5"}),"Data Management"]})}),e.jsxs(fe,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(ve,{className:"text-sm font-medium",children:"Data Retention Period"}),e.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"How long to keep your data after account deletion"}),e.jsxs(Jt,{value:r.dataRetention,onValueChange:x=>c("dataRetention",x),children:[e.jsx(Wt,{children:e.jsx(Xt,{})}),e.jsxs(Yt,{children:[e.jsx(Ee,{value:"1-year",children:"1 Year"}),e.jsx(Ee,{value:"3-years",children:"3 Years"}),e.jsx(Ee,{value:"indefinite",children:"Indefinite"})]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(ee,{variant:"outline",className:"flex-1",children:[e.jsx(oi,{className:"w-4 h-4 mr-2"}),"Export Data"]}),e.jsxs(ha,{open:a,onOpenChange:l,children:[e.jsx(zh,{asChild:!0,children:e.jsxs(ee,{variant:"outline",className:"flex-1 text-red-600 hover:text-red-700",children:[e.jsx(Vo,{className:"w-4 h-4 mr-2"}),"Delete Account"]})}),e.jsxs($i,{children:[e.jsxs(Vi,{children:[e.jsxs(Hi,{className:"flex items-center gap-2",children:[e.jsx(vi,{className:"w-5 h-5 text-red-600"}),"Delete Account"]}),e.jsx(Im,{children:"This action cannot be undone. All your data, listings, and documents will be permanently deleted."})]}),e.jsxs(Uu,{children:[e.jsx(ee,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),e.jsx(ee,{variant:"destructive",children:"Delete Account"})]})]})]})]})]})]}),e.jsx(de,{className:"border-blue-200 bg-blue-50/50",children:e.jsx(fe,{className:"pt-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Ag,{className:"w-5 h-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Privacy Summary"}),e.jsxs("div",{className:"space-y-2 text-sm text-blue-800",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Be,{variant:"secondary",className:"text-xs",children:["Profile:"," ",(g=u(r.profileVisibility))==null?void 0:g.label]}),e.jsxs(Be,{variant:"secondary",className:"text-xs",children:["Contact:"," ",(p=u(r.contactInfo))==null?void 0:p.label]}),e.jsxs(Be,{variant:"secondary",className:"text-xs",children:["Business:"," ",(y=u(r.businessDetails))==null?void 0:y.label]})]}),e.jsx("p",{className:"text-xs",children:"Your privacy settings determine who can see different parts of your profile. More restrictive settings provide better privacy but may limit discovery."})]})]})]})})})]})}function pJ({className:n=""}){const{userId:t}=Jd(),s=Mn(),[r,i]=w.useState(!1),[a,l]=w.useState("profile"),c=t?BP(t):Sy(),u=!t||t===Sy().id;if(!c)return e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Profile Not Found"}),e.jsx("p",{className:"text-muted-foreground",children:"The requested profile could not be found."}),e.jsxs(ee,{onClick:()=>s("/profile"),className:"mt-4",children:[e.jsx(ca,{className:"w-4 h-4 mr-2"}),"Back to Profile"]})]})});if(!u)return e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx(vi,{className:"w-12 h-12 mx-auto mb-4 text-yellow-500"}),e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Access Denied"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"You can only edit your own profile."}),e.jsxs(ee,{onClick:()=>s("/profile"),variant:"outline",children:[e.jsx(ca,{className:"w-4 h-4 mr-2"}),"Back to Profile"]})]})});const m=()=>{r&&!window.confirm("You have unsaved changes. Are you sure you want to leave?")||s("/profile")},g=y=>{console.log("Profile data submitted:",y),i(!1),alert("Profile updated successfully!")},p=y=>{console.log("Privacy settings changed:",y),i(!0)};return e.jsxs("div",{className:`container mx-auto px-4 py-8 space-y-8 ${n}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(ee,{variant:"ghost",onClick:m,children:[e.jsx(ca,{className:"w-4 h-4 mr-2"}),"Back to Profile"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Edit Profile"}),e.jsx("p",{className:"text-muted-foreground",children:"Update your profile information and privacy settings"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[r&&e.jsx(Be,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:"Unsaved Changes"}),e.jsxs(ee,{variant:"outline",onClick:()=>s("/profile"),children:[e.jsx(dn,{className:"w-4 h-4 mr-2"}),"Preview Profile"]})]})]}),e.jsx(de,{className:"border-blue-200 bg-blue-50/50",children:e.jsx(fe,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:c.avatar,alt:c.displayName,className:"w-12 h-12 rounded-full"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:c.displayName}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Be,{variant:"secondary",className:"capitalize",children:c.role}),e.jsx(Be,{variant:c.verificationStatus==="verified"?"default":"secondary",className:c.verificationStatus==="verified"?"bg-green-100 text-green-800":c.verificationStatus==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800",children:c.verificationStatus})]})]})]})})}),e.jsxs(Ui,{value:a,onValueChange:l,className:"space-y-6",children:[e.jsxs(yi,{className:"grid w-full grid-cols-3",children:[e.jsxs(zt,{value:"profile",className:"flex items-center gap-2",children:[e.jsx(Aa,{className:"w-4 h-4"}),"Profile Information"]}),e.jsxs(zt,{value:"privacy",className:"flex items-center gap-2",children:[e.jsx(Ds,{className:"w-4 h-4"}),"Privacy Settings"]}),e.jsxs(zt,{value:"account",className:"flex items-center gap-2",children:[e.jsx(Um,{className:"w-4 h-4"}),"Account Settings"]})]}),e.jsx(Es,{value:"profile",className:"space-y-6",children:e.jsxs(de,{children:[e.jsxs(Me,{children:[e.jsx(Fe,{children:"Profile Information"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Update your personal and professional information. Fields marked with NDA protection are only visible to users who have signed an NDA."})]}),e.jsx(fe,{children:e.jsx(hJ,{profile:c,onSubmit:g})})]})}),e.jsx(Es,{value:"privacy",className:"space-y-6",children:e.jsxs(de,{children:[e.jsxs(Me,{children:[e.jsx(Fe,{children:"Privacy & Visibility Settings"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Control who can see your profile information and how you can be contacted."})]}),e.jsx(fe,{children:e.jsx(fJ,{onSettingsChange:p})})]})}),e.jsx(Es,{value:"account",className:"space-y-6",children:e.jsxs(de,{children:[e.jsxs(Me,{children:[e.jsx(Fe,{children:"Account Settings"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your account preferences and security settings."})]}),e.jsxs(fe,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Email Notifications"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm",children:"New Messages"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Get notified when someone sends you a message"})]}),e.jsx("input",{type:"checkbox",defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm",children:"Profile Views"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Get notified when someone views your profile"})]}),e.jsx("input",{type:"checkbox",defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm",children:"New Opportunities"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Get notified about relevant business opportunities"})]}),e.jsx("input",{type:"checkbox",defaultChecked:!0})]})]})]}),e.jsxs("div",{className:"space-y-4 pt-6 border-t",children:[e.jsx("h4",{className:"font-medium",children:"Security"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(ee,{variant:"outline",className:"w-full justify-start",children:"Change Password"}),e.jsx(ee,{variant:"outline",className:"w-full justify-start",children:"Enable Two-Factor Authentication"}),e.jsx(ee,{variant:"outline",className:"w-full justify-start",children:"Download Account Data"})]})]}),e.jsxs("div",{className:"space-y-4 pt-6 border-t border-red-200",children:[e.jsx("h4",{className:"font-medium text-red-600",children:"Danger Zone"}),e.jsx("div",{className:"p-4 border border-red-200 rounded-lg bg-red-50/50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm text-red-900",children:"Delete Account"}),e.jsx("div",{className:"text-xs text-red-700",children:"Permanently delete your account and all data"})]}),e.jsx(ee,{variant:"destructive",size:"sm",children:"Delete Account"})]})})]})]})]})})]}),r&&e.jsx("div",{className:"fixed bottom-4 right-4 bg-yellow-100 border border-yellow-300 rounded-lg p-4 shadow-lg",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(vi,{className:"w-5 h-5 text-yellow-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-yellow-900",children:"Unsaved Changes"}),e.jsx("div",{className:"text-sm text-yellow-700",children:"Don't forget to save your changes"})]}),e.jsxs(ee,{size:"sm",onClick:()=>i(!1),children:[e.jsx(km,{className:"w-4 h-4 mr-2"}),"Save"]})]})})]})}function gJ({className:n=""}){const{userId:t}=Jd(),s=Mn(),{user:r}=Bs(),[i,a]=w.useState(""),[l,c]=w.useState("all"),[u,m]=w.useState(!1),[g,p]=w.useState([]),[y,x]=w.useState(!0),_=t?BP(t):Sy(),j=!t||t===Sy().id;w.useEffect(()=>{A()},[r]);const A=async()=>{if(r){x(!0);try{const{data:H,error:$}=await Le.from("verification_documents").select("*").eq("user_id",t||r.id).order("created_at",{ascending:!1});if($)throw $;const W=(H||[]).map(Q=>({id:Q.id,name:Q.name||Q.file_name||"Document",type:Q.document_type||"other",size:C(Q.file_size||0),uploadDate:Q.created_at,status:Q.verification_status||"pending",requiresNDA:Q.requires_nda||!1,category:Q.category||"General"}));p(W)}catch(H){console.error("Error loading documents:",H),p([])}finally{x(!1)}}},C=H=>H<1024?H+" B":H<1024*1024?(H/1024).toFixed(1)+" KB":(H/(1024*1024)).toFixed(1)+" MB";if(y)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(Ht,{className:"h-8 w-8 animate-spin text-primary"})});if(!_)return e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Profile Not Found"}),e.jsx("p",{className:"text-muted-foreground",children:"The requested profile could not be found."}),e.jsxs(ee,{onClick:()=>s("/profile"),className:"mt-4",children:[e.jsx(ca,{className:"w-4 h-4 mr-2"}),"Back to Profile"]})]})});const P=()=>{s(j?"/profile":`/profile/${t}`)},S=()=>{console.log("Upload document")},O=H=>{console.log("Download document:",H)},z=()=>{console.log("Sign NDA"),m(!0)},V=g.filter(H=>{const $=H.name.toLowerCase().includes(i.toLowerCase()),W=l==="all"||H.category===l;return $&&W}),B=["all",...new Set(g.map(H=>H.category))],D=H=>{switch(H){case"verified":return e.jsx(Lt,{className:"w-4 h-4 text-green-600"});case"pending":return e.jsx(Hn,{className:"w-4 h-4 text-yellow-600"});case"rejected":return e.jsx(vi,{className:"w-4 h-4 text-red-600"});default:return e.jsx(_s,{className:"w-4 h-4 text-gray-600"})}},K=H=>{switch(H){case"verified":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs("div",{className:`container mx-auto px-4 py-8 space-y-8 ${n}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(ee,{variant:"ghost",onClick:P,children:[e.jsx(ca,{className:"w-4 h-4 mr-2"}),"Back to Profile"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Documents"}),e.jsx("p",{className:"text-muted-foreground",children:j?"Manage your documents and verification status":`View ${_.displayName}'s documents`})]})]}),j&&e.jsxs(ee,{onClick:S,children:[e.jsx(ml,{className:"w-4 h-4 mr-2"}),"Upload Document"]})]}),e.jsx(de,{className:"border-blue-200 bg-blue-50/50",children:e.jsx(fe,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:_.avatar,alt:_.displayName,className:"w-12 h-12 rounded-full"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:_.displayName}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Be,{variant:"secondary",className:"capitalize",children:_.role}),e.jsx(Be,{variant:_.verificationStatus==="verified"?"default":"secondary",className:_.verificationStatus==="verified"?"bg-green-100 text-green-800":_.verificationStatus==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800",children:_.verificationStatus})]})]})]})})}),e.jsxs(Ui,{defaultValue:"documents",className:"space-y-6",children:[e.jsxs(yi,{className:"grid w-full grid-cols-2",children:[e.jsxs(zt,{value:"documents",className:"flex items-center gap-2",children:[e.jsx(_s,{className:"w-4 h-4"}),"Document Vault"]}),e.jsxs(zt,{value:"verification",className:"flex items-center gap-2",children:[e.jsx(Ds,{className:"w-4 h-4"}),"Verification Status"]})]}),e.jsxs(Es,{value:"documents",className:"space-y-6",children:[e.jsx(de,{children:e.jsx(fe,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(xi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),e.jsx(Ue,{placeholder:"Search documents...",value:i,onChange:H=>a(H.target.value),className:"pl-10"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("select",{value:l,onChange:H=>c(H.target.value),className:"px-3 py-2 border rounded-md text-sm",children:B.map(H=>e.jsx("option",{value:H,children:H==="all"?"All Categories":H},H))}),e.jsx(ee,{variant:"outline",size:"sm",children:e.jsx(qm,{className:"w-4 h-4"})})]})]})})}),e.jsx(IP,{profile:_,documents:V,isOwnVault:j,hasSignedNDA:u,onUploadDocument:S,onDownloadDocument:O,onSignNDA:z}),e.jsxs(de,{children:[e.jsx(Me,{children:e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(_s,{className:"w-5 h-5"}),"All Documents",e.jsx(Be,{variant:"secondary",children:V.length})]})}),e.jsx(fe,{children:V.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(_s,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"No documents found"}),e.jsx("p",{className:"text-sm",children:i||l!=="all"?"Try adjusting your search or filters":j?"Upload your first document to get started":"No documents have been shared yet"})]}):e.jsx("div",{className:"space-y-3",children:V.map(H=>e.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[e.jsx("div",{className:"flex-shrink-0",children:D(H.status)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"font-medium truncate",children:H.name}),H.requiresNDA&&e.jsx(Il,{className:"w-4 h-4 text-orange-600"}),e.jsx(Be,{className:K(H.status),children:H.status})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsx("span",{children:H.category}),e.jsx("span",{children:H.size}),e.jsxs("span",{children:["Uploaded"," ",new Date(H.uploadDate).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[H.requiresNDA&&!u&&!j?e.jsxs(ee,{variant:"outline",size:"sm",disabled:!0,children:[e.jsx(Il,{className:"w-4 h-4 mr-2"}),"NDA Required"]}):e.jsxs(e.Fragment,{children:[e.jsxs(ee,{variant:"outline",size:"sm",children:[e.jsx(dn,{className:"w-4 h-4 mr-2"}),"View"]}),e.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>O(H.id),children:[e.jsx(oi,{className:"w-4 h-4 mr-2"}),"Download"]})]}),j&&e.jsx(ee,{variant:"ghost",size:"sm",children:e.jsx(gw,{className:"w-4 h-4"})})]})]},H.id))})})]})]}),e.jsx(Es,{value:"verification",children:e.jsx(DP,{profile:_,onUploadDocument:H=>console.log("Upload",H),onViewDocument:H=>console.log("View",H),onStartVerification:()=>console.log("Start verification")})})]})]})}function xJ(){const n=Mn(),[t,s]=w.useState({notifications:{email:!0,push:!1,sms:!1,marketing:!1,inquiries:!0,offers:!0,updates:!1},privacy:{profileVisibility:"public",showEmail:!1,showPhone:!1,allowMessages:!0,showActivity:!0},security:{twoFactor:!1,loginAlerts:!0,sessionTimeout:30}}),r=(m,g)=>{s(p=>({...p,notifications:{...p.notifications,[m]:g}}))},i=(m,g)=>{s(p=>({...p,privacy:{...p.privacy,[m]:g}}))},a=(m,g)=>{s(p=>({...p,security:{...p.security,[m]:g}}))},l=()=>{console.log("Saving settings:",t),alert("Settings saved successfully!")},c=()=>{console.log("Exporting user data"),alert("Data export initiated. You'll receive an email with your data.")},u=()=>{window.confirm("Are you sure you want to delete your account? This action cannot be undone.")&&(console.log("Account deletion requested"),alert("Account deletion request submitted. You'll receive a confirmation email."))};return e.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-8",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(ee,{variant:"ghost",onClick:()=>n("/profile"),children:[e.jsx(ca,{className:"w-4 h-4 mr-2"}),"Back to Profile"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Account Settings"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your account preferences and security settings"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-semibold text-sm text-muted-foreground uppercase tracking-wide",children:"Settings"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs(ee,{variant:"ghost",className:"w-full justify-start",size:"sm",children:[e.jsx(Qc,{className:"w-4 h-4 mr-2"}),"Notifications"]}),e.jsxs(ee,{variant:"ghost",className:"w-full justify-start",size:"sm",children:[e.jsx(Ds,{className:"w-4 h-4 mr-2"}),"Privacy"]}),e.jsxs(ee,{variant:"ghost",className:"w-full justify-start",size:"sm",children:[e.jsx(Il,{className:"w-4 h-4 mr-2"}),"Security"]}),e.jsxs(ee,{variant:"ghost",className:"w-full justify-start",size:"sm",children:[e.jsx(Aa,{className:"w-4 h-4 mr-2"}),"Account"]})]})]}),e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(de,{children:[e.jsx(Me,{children:e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(Qc,{className:"w-5 h-5"}),"Notification Preferences"]})}),e.jsx(fe,{className:"space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(ve,{children:"Email Notifications"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive notifications via email"})]}),e.jsx(ii,{checked:t.notifications.email,onCheckedChange:m=>r("email",m)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(ve,{children:"Push Notifications"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive browser push notifications"})]}),e.jsx(ii,{checked:t.notifications.push,onCheckedChange:m=>r("push",m)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(ve,{children:"SMS Notifications"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive important updates via SMS"})]}),e.jsx(ii,{checked:t.notifications.sms,onCheckedChange:m=>r("sms",m)})]}),e.jsx(cr,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(ve,{children:"New Inquiries"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"When someone inquires about your listings"})]}),e.jsx(ii,{checked:t.notifications.inquiries,onCheckedChange:m=>r("inquiries",m)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(ve,{children:"Offers & Proposals"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"When you receive offers or proposals"})]}),e.jsx(ii,{checked:t.notifications.offers,onCheckedChange:m=>r("offers",m)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(ve,{children:"Marketing Updates"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Product updates and promotional content"})]}),e.jsx(ii,{checked:t.notifications.marketing,onCheckedChange:m=>r("marketing",m)})]})]})})]}),e.jsxs(de,{children:[e.jsx(Me,{children:e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(Ds,{className:"w-5 h-5"}),"Privacy Settings"]})}),e.jsx(fe,{className:"space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Profile Visibility"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(ee,{variant:t.privacy.profileVisibility==="public"?"default":"outline",size:"sm",onClick:()=>i("profileVisibility","public"),children:[e.jsx(Du,{className:"w-4 h-4 mr-2"}),"Public"]}),e.jsxs(ee,{variant:t.privacy.profileVisibility==="private"?"default":"outline",size:"sm",onClick:()=>i("profileVisibility","private"),children:[e.jsx(Il,{className:"w-4 h-4 mr-2"}),"Private"]})]})]}),e.jsx(cr,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(ve,{children:"Show Email Address"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Display your email on your public profile"})]}),e.jsx(ii,{checked:t.privacy.showEmail,onCheckedChange:m=>i("showEmail",m)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(ve,{children:"Show Phone Number"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Display your phone number on your public profile"})]}),e.jsx(ii,{checked:t.privacy.showPhone,onCheckedChange:m=>i("showPhone",m)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(ve,{children:"Allow Direct Messages"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Let other users send you direct messages"})]}),e.jsx(ii,{checked:t.privacy.allowMessages,onCheckedChange:m=>i("allowMessages",m)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(ve,{children:"Show Activity Status"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Display when you were last active"})]}),e.jsx(ii,{checked:t.privacy.showActivity,onCheckedChange:m=>i("showActivity",m)})]})]})})]}),e.jsxs(de,{children:[e.jsx(Me,{children:e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(Il,{className:"w-5 h-5"}),"Security Settings"]})}),e.jsx(fe,{className:"space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(ve,{children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Add an extra layer of security to your account"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[t.security.twoFactor&&e.jsx(Be,{variant:"secondary",children:"Enabled"}),e.jsx(ii,{checked:t.security.twoFactor,onCheckedChange:m=>a("twoFactor",m)})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(ve,{children:"Login Alerts"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified of new login attempts"})]}),e.jsx(ii,{checked:t.security.loginAlerts,onCheckedChange:m=>a("loginAlerts",m)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Session Timeout (minutes)"}),e.jsx(Ue,{type:"number",value:t.security.sessionTimeout,onChange:m=>a("sessionTimeout",parseInt(m.target.value)),className:"w-32"})]}),e.jsx(cr,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ee,{variant:"outline",size:"sm",children:"Change Password"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Last changed 3 months ago"})]})]})})]}),e.jsxs(de,{children:[e.jsx(Me,{children:e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(Aa,{className:"w-5 h-5"}),"Account Management"]})}),e.jsx(fe,{className:"space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(ve,{children:"Export Your Data"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Download a copy of all your data"})]}),e.jsxs(ee,{variant:"outline",size:"sm",onClick:c,children:[e.jsx(oi,{className:"w-4 h-4 mr-2"}),"Export Data"]})]}),e.jsx(cr,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{className:"text-destructive",children:"Danger Zone"}),e.jsx("div",{className:"p-4 border border-destructive/20 rounded-lg space-y-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(ve,{className:"text-destructive",children:"Delete Account"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Permanently delete your account and all data"})]}),e.jsxs(ee,{variant:"destructive",size:"sm",onClick:u,children:[e.jsx(Vo,{className:"w-4 h-4 mr-2"}),"Delete Account"]})]})})]})]})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(ee,{onClick:l,children:"Save Settings"})})]})]})]})}function vJ(){const{profile:n,uploadAvatar:t,deleteAvatar:s}=Bs(),[r,i]=w.useState(!1),[a,l]=w.useState(!1),[c,u]=w.useState(null),[m,g]=w.useState(null),p=w.useRef(null),y=()=>n!=null&&n.display_name?n.display_name.split(" ").map(A=>A[0]).join("").toUpperCase().slice(0,2):"U",x=A=>{var z;const C=(z=A.target.files)==null?void 0:z[0];if(!C)return;if(g(null),!["image/jpeg","image/png","image/gif","image/webp"].includes(C.type)){g("Invalid file type. Please upload a JPEG, PNG, GIF, or WebP image.");return}const S=2*1024*1024;if(C.size>S){g("File size must be less than 2MB.");return}const O=new FileReader;O.onloadend=()=>{u(O.result)},O.readAsDataURL(C),_(C)},_=async A=>{i(!0),g(null);try{const{url:C,error:P}=await t(A);if(P)throw P;Rt.success("Avatar uploaded successfully!"),u(null),p.current&&(p.current.value="")}catch(C){g(C.message||"Failed to upload avatar"),Rt.error("Failed to upload avatar"),u(null)}finally{i(!1)}},j=async()=>{if(n!=null&&n.avatar_url&&confirm("Are you sure you want to delete your avatar?")){l(!0),g(null);try{const{error:A}=await s();if(A)throw A;Rt.success("Avatar deleted successfully")}catch(A){g(A.message||"Failed to delete avatar"),Rt.error("Failed to delete avatar")}finally{l(!1)}}};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs(ai,{className:"h-24 w-24",children:[e.jsx(Bi,{src:c||(n==null?void 0:n.avatar_url)||void 0}),e.jsx(gi,{className:"text-2xl",children:r?e.jsx(Ht,{className:"h-8 w-8 animate-spin"}):y()})]}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ee,{onClick:()=>{var A;return(A=p.current)==null?void 0:A.click()},disabled:r||a,variant:"outline",children:r?e.jsxs(e.Fragment,{children:[e.jsx(Ht,{className:"mr-2 h-4 w-4 animate-spin"}),"Uploading..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ml,{className:"mr-2 h-4 w-4"}),"Upload Avatar"]})}),(n==null?void 0:n.avatar_url)&&e.jsx(ee,{onClick:j,disabled:r||a,variant:"outline",className:"text-destructive hover:text-destructive",children:a?e.jsxs(e.Fragment,{children:[e.jsx(Ht,{className:"mr-2 h-4 w-4 animate-spin"}),"Deleting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Vo,{className:"mr-2 h-4 w-4"}),"Delete"]})})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Recommended: Square image, at least 400x400px. Max size: 2MB."})]}),e.jsx("input",{ref:p,type:"file",accept:"image/jpeg,image/png,image/gif,image/webp",onChange:x,className:"hidden"})]}),m&&e.jsx(Xn,{variant:"destructive",children:e.jsx(Qn,{children:m})})]})}const Oy=8,Th={uppercase:/[A-Z]/,lowercase:/[a-z]/,number:/[0-9]/,specialChar:/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/};function T2(n){const t=n.length>=Oy,s=Th.uppercase.test(n),r=Th.lowercase.test(n),i=Th.number.test(n),a=Th.specialChar.test(n),c=[t,s,r,i,a].filter(Boolean).length,u=[];return t||u.push(`At least ${Oy} characters`),s||u.push("One uppercase letter"),r||u.push("One lowercase letter"),i||u.push("One number"),a||u.push("One special character"),{score:Math.min(c,4),feedback:u,hasMinLength:t,hasUpperCase:s,hasLowerCase:r,hasNumber:i,hasSpecialChar:a}}function P2(n){return n<=1?"bg-red-500":n===2?"bg-orange-500":n===3?"bg-yellow-500":"bg-green-500"}function L2(n){return n<=1?"Weak":n===2?"Fair":n===3?"Good":n===4?"Strong":"Very Weak"}const yx=et().min(1,"Email is required").email("Invalid email address"),yJ=et().min(Oy,`Password must be at least ${Oy} characters`).regex(Th.uppercase,"Password must contain at least one uppercase letter").regex(Th.lowercase,"Password must contain at least one lowercase letter").regex(Th.number,"Password must contain at least one number"),R2=yJ.regex(Th.specialChar,"Password must contain at least one special character"),bJ=os({email:yx,password:R2,confirmPassword:et().min(1,"Please confirm your password"),displayName:et().min(2,"Name must be at least 2 characters").max(100),role:Ao(["seller","buyer","franchisor","franchisee","advisor","broker","admin"]),acceptTerms:Mi().refine(n=>n===!0,{message:"You must accept the terms and conditions"})}).refine(n=>n.password===n.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});os({email:yx,password:et().min(1,"Password is required"),rememberMe:Mi().optional()});const jJ=os({email:yx}),wJ=os({password:R2,confirmPassword:et().min(1,"Please confirm your password")}).refine(n=>n.password===n.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),NJ=os({newEmail:yx,password:et().min(1,"Password is required for verification")}),_J=os({currentPassword:et().min(1,"Current password is required"),newPassword:R2,confirmPassword:et().min(1,"Please confirm your password")}).refine(n=>n.newPassword===n.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}).refine(n=>n.currentPassword!==n.newPassword,{message:"New password must be different from current password",path:["newPassword"]});os({display_name:et().min(2,"Name must be at least 2 characters").max(100).optional(),bio:et().max(500,"Bio must be less than 500 characters").optional(),phone:et().regex(/^[+]?[(]?[0-9]{3}[)]?[-\s.]?[0-9]{3}[-\s.]?[0-9]{4,6}$/,"Invalid phone number").optional().or(Jf("")),location:et().max(100).optional(),city:et().max(100).optional(),state:et().max(100).optional(),country:et().max(100).optional(),website:et().url("Invalid URL").optional().or(Jf("")),linkedin_url:et().url("Invalid URL").optional().or(Jf(""))});const SJ=os({email:yx,password:et().min(1,"Password is required"),confirmation:et().min(1,"Please type DELETE to confirm").refine(n=>n==="DELETE",{message:"Please type DELETE in capital letters to confirm"})});function Ap(n){const t={};return n.errors.forEach(s=>{const r=s.path.join(".");t[r]=s.message}),t}function Bm(n){if(!n)return"An unknown error occurred";if(n.message){const t=n.message.toLowerCase();return t.includes("invalid login credentials")?"Invalid email or password. Please try again.":t.includes("email not confirmed")?"Please verify your email address before logging in.":t.includes("user already registered")?"An account with this email already exists.":t.includes("password")?"Password is too weak. Please choose a stronger password.":t.includes("rate limit")?"Too many attempts. Please wait a few minutes and try again.":t.includes("network")?"Network error. Please check your connection and try again.":n.message}return"An unexpected error occurred. Please try again."}function CJ(){const{profile:n,updateEmail:t}=Bs(),[s,r]=w.useState(!1),[i,a]=w.useState(null),[l,c]=w.useState(!1),[u,m]=w.useState({newEmail:"",password:""}),[g,p]=w.useState({}),y=async x=>{x.preventDefault(),a(null),p({}),c(!1);const _=NJ.safeParse(u);if(!_.success){p(Ap(_.error));return}if(u.newEmail===(n==null?void 0:n.email)){a("New email is the same as your current email");return}r(!0);try{const{error:j}=await t(u.newEmail);if(j)throw j;c(!0),m({newEmail:"",password:""}),Rt.success("Verification email sent! Please check your new email address.")}catch(j){a(Bm(j)),Rt.error("Failed to update email")}finally{r(!1)}};return l?e.jsxs(de,{children:[e.jsxs(Me,{children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-green-100 dark:bg-green-900 rounded-full mx-auto mb-4",children:e.jsx(Vu,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),e.jsx(Fe,{className:"text-center",children:"Verification Email Sent"}),e.jsx(ms,{className:"text-center",children:"Please check your new email address to confirm the change"})]}),e.jsxs(fe,{children:[e.jsxs(Xn,{children:[e.jsx(Or,{className:"h-4 w-4"}),e.jsxs(Qn,{children:["We've sent a verification link to ",e.jsx("strong",{children:u.newEmail}),". Click the link to confirm your new email address."]})]}),e.jsx(ee,{onClick:()=>c(!1),variant:"outline",className:"w-full mt-4",children:"Back"})]})]}):e.jsxs(de,{children:[e.jsxs(Me,{children:[e.jsx(Fe,{children:"Change Email Address"}),e.jsx(ms,{children:"Update your email address. You'll need to verify the new email."})]}),e.jsx(fe,{children:e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[i&&e.jsx(Xn,{variant:"destructive",children:e.jsx(Qn,{children:i})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"currentEmail",children:"Current Email"}),e.jsx(Ue,{id:"currentEmail",type:"email",value:(n==null?void 0:n.email)||"",disabled:!0,className:"bg-muted"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"newEmail",children:"New Email"}),e.jsx(Ue,{id:"newEmail",type:"email",required:!0,value:u.newEmail,onChange:x=>m({...u,newEmail:x.target.value}),placeholder:"newemail@example.com",disabled:s,className:g.newEmail?"border-red-500":""}),g.newEmail&&e.jsx("p",{className:"text-sm text-red-500",children:g.newEmail})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"password",children:"Confirm Your Password"}),e.jsx(Ue,{id:"password",type:"password",required:!0,value:u.password,onChange:x=>m({...u,password:x.target.value}),placeholder:"Enter your current password",disabled:s,className:g.password?"border-red-500":""}),g.password&&e.jsx("p",{className:"text-sm text-red-500",children:g.password}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter your password to confirm this change"})]}),e.jsxs(ee,{type:"submit",className:"w-full",disabled:s,children:[s&&e.jsx(Ht,{className:"mr-2 h-4 w-4 animate-spin"}),"Update Email"]})]})})]})}function AJ(){const{updatePassword:n}=Bs(),[t,s]=w.useState(!1),[r,i]=w.useState(null),[a,l]=w.useState(!1),[c,u]=w.useState(!1),[m,g]=w.useState(!1),[p,y]=w.useState(!1),[x,_]=w.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[j,A]=w.useState({}),C=T2(x.newPassword),P=async S=>{S.preventDefault(),i(null),A({}),l(!1);const O=_J.safeParse(x);if(!O.success){A(Ap(O.error));return}s(!0);try{const{error:z}=await n(x.newPassword);if(z)throw z;l(!0),_({currentPassword:"",newPassword:"",confirmPassword:""}),Rt.success("Password updated successfully!"),setTimeout(()=>l(!1),3e3)}catch(z){i(Bm(z)),Rt.error("Failed to update password")}finally{s(!1)}};return e.jsxs(de,{children:[e.jsxs(Me,{children:[e.jsx(Fe,{children:"Change Password"}),e.jsx(ms,{children:"Update your password to keep your account secure"})]}),e.jsx(fe,{children:e.jsxs("form",{onSubmit:P,className:"space-y-4",children:[r&&e.jsx(Xn,{variant:"destructive",children:e.jsx(Qn,{children:r})}),a&&e.jsxs(Xn,{children:[e.jsx(Vu,{className:"h-4 w-4"}),e.jsx(Qn,{children:"Your password has been updated successfully!"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"currentPassword",children:"Current Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ue,{id:"currentPassword",type:c?"text":"password",required:!0,value:x.currentPassword,onChange:S=>_({...x,currentPassword:S.target.value}),placeholder:"Enter your current password",disabled:t,className:j.currentPassword?"border-red-500 pr-10":"pr-10"}),e.jsx(ee,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>u(!c),disabled:t,children:c?e.jsx(Ou,{className:"h-4 w-4 text-muted-foreground"}):e.jsx(dn,{className:"h-4 w-4 text-muted-foreground"})})]}),j.currentPassword&&e.jsx("p",{className:"text-sm text-red-500",children:j.currentPassword})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"newPassword",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ue,{id:"newPassword",type:m?"text":"password",required:!0,value:x.newPassword,onChange:S=>_({...x,newPassword:S.target.value}),placeholder:"Enter your new password",disabled:t,className:j.newPassword?"border-red-500 pr-10":"pr-10"}),e.jsx(ee,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>g(!m),disabled:t,children:m?e.jsx(Ou,{className:"h-4 w-4 text-muted-foreground"}):e.jsx(dn,{className:"h-4 w-4 text-muted-foreground"})})]}),j.newPassword&&e.jsx("p",{className:"text-sm text-red-500",children:j.newPassword}),x.newPassword&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Password strength:"}),e.jsx("span",{className:`font-medium ${C.score<=1?"text-red-500":C.score===2?"text-orange-500":C.score===3?"text-yellow-500":"text-green-500"}`,children:L2(C.score)})]}),e.jsx(On,{value:C.score/4*100,className:"h-2",indicatorClassName:P2(C.score)}),C.feedback.length>0&&e.jsx("ul",{className:"text-xs text-muted-foreground space-y-1",children:C.feedback.map((S,O)=>e.jsxs("li",{children:[" ",S]},O))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"confirmPassword",children:"Confirm New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ue,{id:"confirmPassword",type:p?"text":"password",required:!0,value:x.confirmPassword,onChange:S=>_({...x,confirmPassword:S.target.value}),placeholder:"Confirm your new password",disabled:t,className:j.confirmPassword?"border-red-500 pr-10":"pr-10"}),e.jsx(ee,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>y(!p),disabled:t,children:p?e.jsx(Ou,{className:"h-4 w-4 text-muted-foreground"}):e.jsx(dn,{className:"h-4 w-4 text-muted-foreground"})})]}),j.confirmPassword&&e.jsx("p",{className:"text-sm text-red-500",children:j.confirmPassword})]}),e.jsxs(ee,{type:"submit",className:"w-full",disabled:t||C.score<3,children:[t&&e.jsx(Ht,{className:"mr-2 h-4 w-4 animate-spin"}),"Update Password"]})]})})]})}var kJ=Symbol("radix.slottable");function EJ(n){const t=({children:s})=>e.jsx(e.Fragment,{children:s});return t.displayName=`${n}.Slottable`,t.__radixId=kJ,t}var nL="AlertDialog",[TJ]=qa(nL,[d6]),Gu=d6(),rL=n=>{const{__scopeAlertDialog:t,...s}=n,r=Gu(t);return e.jsx(Vw,{...r,...s,modal:!0})};rL.displayName=nL;var PJ="AlertDialogTrigger",iL=w.forwardRef((n,t)=>{const{__scopeAlertDialog:s,...r}=n,i=Gu(s);return e.jsx(Hw,{...i,...r,ref:t})});iL.displayName=PJ;var LJ="AlertDialogPortal",aL=n=>{const{__scopeAlertDialog:t,...s}=n,r=Gu(t);return e.jsx(Gw,{...r,...s})};aL.displayName=LJ;var RJ="AlertDialogOverlay",oL=w.forwardRef((n,t)=>{const{__scopeAlertDialog:s,...r}=n,i=Gu(s);return e.jsx(dx,{...i,...r,ref:t})});oL.displayName=RJ;var Qf="AlertDialogContent",[OJ,MJ]=TJ(Qf),DJ=EJ("AlertDialogContent"),lL=w.forwardRef((n,t)=>{const{__scopeAlertDialog:s,children:r,...i}=n,a=Gu(s),l=w.useRef(null),c=Ss(t,l),u=w.useRef(null);return e.jsx(jV,{contentName:Qf,titleName:cL,docsSlug:"alert-dialog",children:e.jsx(OJ,{scope:s,cancelRef:u,children:e.jsxs(ux,{role:"alertdialog",...a,...i,ref:c,onOpenAutoFocus:kt(i.onOpenAutoFocus,m=>{var g;m.preventDefault(),(g=u.current)==null||g.focus({preventScroll:!0})}),onPointerDownOutside:m=>m.preventDefault(),onInteractOutside:m=>m.preventDefault(),children:[e.jsx(DJ,{children:r}),e.jsx(FJ,{contentRef:l})]})})})});lL.displayName=Qf;var cL="AlertDialogTitle",dL=w.forwardRef((n,t)=>{const{__scopeAlertDialog:s,...r}=n,i=Gu(s);return e.jsx(hx,{...i,...r,ref:t})});dL.displayName=cL;var uL="AlertDialogDescription",hL=w.forwardRef((n,t)=>{const{__scopeAlertDialog:s,...r}=n,i=Gu(s);return e.jsx(mx,{...i,...r,ref:t})});hL.displayName=uL;var IJ="AlertDialogAction",mL=w.forwardRef((n,t)=>{const{__scopeAlertDialog:s,...r}=n,i=Gu(s);return e.jsx(l0,{...i,...r,ref:t})});mL.displayName=IJ;var fL="AlertDialogCancel",pL=w.forwardRef((n,t)=>{const{__scopeAlertDialog:s,...r}=n,{cancelRef:i}=MJ(fL,s),a=Gu(s),l=Ss(t,i);return e.jsx(l0,{...a,...r,ref:l})});pL.displayName=fL;var FJ=({contentRef:n})=>{const t=`\`${Qf}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Qf}\` by passing a \`${uL}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Qf}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return w.useEffect(()=>{var r;document.getElementById((r=n.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,n]),null},BJ=rL,zJ=iL,qJ=aL,gL=oL,xL=lL,vL=mL,yL=pL,bL=dL,jL=hL;const wL=BJ,UJ=zJ,$J=qJ,NL=w.forwardRef(({className:n,...t},s)=>e.jsx(gL,{className:nt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...t,ref:s}));NL.displayName=gL.displayName;const O2=w.forwardRef(({className:n,...t},s)=>e.jsxs($J,{children:[e.jsx(NL,{}),e.jsx(xL,{ref:s,className:nt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...t})]}));O2.displayName=xL.displayName;const M2=({className:n,...t})=>e.jsx("div",{className:nt("flex flex-col space-y-2 text-center sm:text-left",n),...t});M2.displayName="AlertDialogHeader";const D2=({className:n,...t})=>e.jsx("div",{className:nt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...t});D2.displayName="AlertDialogFooter";const I2=w.forwardRef(({className:n,...t},s)=>e.jsx(bL,{ref:s,className:nt("text-lg font-semibold",n),...t}));I2.displayName=bL.displayName;const F2=w.forwardRef(({className:n,...t},s)=>e.jsx(jL,{ref:s,className:nt("text-sm text-muted-foreground",n),...t}));F2.displayName=jL.displayName;const B2=w.forwardRef(({className:n,...t},s)=>e.jsx(vL,{ref:s,className:nt(jw(),n),...t}));B2.displayName=vL.displayName;const z2=w.forwardRef(({className:n,...t},s)=>e.jsx(yL,{ref:s,className:nt(jw({variant:"outline"}),"mt-2 sm:mt-0",n),...t}));z2.displayName=yL.displayName;function VJ(){const n=Mn(),{profile:t,deleteAccount:s,signOut:r}=Bs(),[i,a]=w.useState(!1),[l,c]=w.useState(null),[u,m]=w.useState({email:"",password:"",confirmation:""}),[g,p]=w.useState({}),[y,x]=w.useState(!1),_=async A=>{A.preventDefault(),c(null),p({});const C=SJ.safeParse(u);if(!C.success){p(Ap(C.error));return}if(u.email!==(t==null?void 0:t.email)){c("Email does not match your account email");return}x(!0)},j=async()=>{a(!0),c(null);try{const{error:A}=await s();if(A)throw A;Rt.success("Account deletion initiated. You will be signed out."),await r(),n("/")}catch(A){c(Bm(A)),Rt.error("Failed to delete account"),x(!1)}finally{a(!1)}};return e.jsxs(de,{className:"border-destructive",children:[e.jsxs(Me,{children:[e.jsx(Fe,{className:"text-destructive",children:"Danger Zone"}),e.jsx(ms,{children:"Permanently delete your account and all associated data"})]}),e.jsxs(fe,{children:[e.jsxs(Xn,{variant:"destructive",className:"mb-4",children:[e.jsx(vi,{className:"h-4 w-4"}),e.jsxs(Qn,{children:[e.jsx("strong",{children:"Warning:"})," This action cannot be undone. This will permanently delete your account, profile, listings, and all associated data."]})]}),e.jsxs("form",{onSubmit:_,className:"space-y-4",children:[l&&e.jsx(Xn,{variant:"destructive",children:e.jsx(Qn,{children:l})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"email",children:"Confirm Your Email"}),e.jsx(Ue,{id:"email",type:"email",required:!0,value:u.email,onChange:A=>m({...u,email:A.target.value}),placeholder:(t==null?void 0:t.email)||"Enter your email",disabled:i,className:g.email?"border-red-500":""}),g.email&&e.jsx("p",{className:"text-sm text-red-500",children:g.email})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"password",children:"Confirm Your Password"}),e.jsx(Ue,{id:"password",type:"password",required:!0,value:u.password,onChange:A=>m({...u,password:A.target.value}),placeholder:"Enter your password",disabled:i,className:g.password?"border-red-500":""}),g.password&&e.jsx("p",{className:"text-sm text-red-500",children:g.password})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ve,{htmlFor:"confirmation",children:["Type ",e.jsx("strong",{children:"DELETE"})," to confirm"]}),e.jsx(Ue,{id:"confirmation",type:"text",required:!0,value:u.confirmation,onChange:A=>m({...u,confirmation:A.target.value}),placeholder:"DELETE",disabled:i,className:g.confirmation?"border-red-500":""}),g.confirmation&&e.jsx("p",{className:"text-sm text-red-500",children:g.confirmation}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Type the word DELETE in capital letters to proceed"})]}),e.jsxs(wL,{open:y,onOpenChange:x,children:[e.jsx(UJ,{asChild:!0,children:e.jsx(ee,{type:"submit",variant:"destructive",className:"w-full",disabled:i,children:i?e.jsxs(e.Fragment,{children:[e.jsx(Ht,{className:"mr-2 h-4 w-4 animate-spin"}),"Deleting Account..."]}):"Delete My Account"})}),e.jsxs(O2,{children:[e.jsxs(M2,{children:[e.jsx(I2,{children:"Are you absolutely sure?"}),e.jsxs(F2,{children:["This is your final warning. Deleting your account will:",e.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[e.jsx("li",{children:"Permanently delete your profile"}),e.jsx("li",{children:"Remove all your listings"}),e.jsx("li",{children:"Delete all your documents"}),e.jsx("li",{children:"Erase all your activity history"})]}),e.jsx("p",{className:"mt-2 font-semibold",children:"This action cannot be reversed."})]})]}),e.jsxs(D2,{children:[e.jsx(z2,{disabled:i,children:"Cancel"}),e.jsx(B2,{onClick:j,disabled:i,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:i?e.jsxs(e.Fragment,{children:[e.jsx(Ht,{className:"mr-2 h-4 w-4 animate-spin"}),"Deleting..."]}):"Yes, Delete My Account"})]})]})]})]}),e.jsx("div",{className:"mt-4 p-4 bg-muted rounded-lg",children:e.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.jsx("strong",{children:"Alternative:"})," If you're having issues with your account or just need a break, consider contacting support instead of deleting your account."]})})]})]})}function HJ(){const n=Mn();return e.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-8",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>n("/profile"),children:e.jsx(ca,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx(Um,{className:"w-6 h-6"}),"Account Settings"]}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your account preferences and security settings"})]})]}),e.jsxs(Ui,{defaultValue:"profile",className:"space-y-6",children:[e.jsxs(yi,{className:"grid w-full grid-cols-2 md:grid-cols-5",children:[e.jsxs(zt,{value:"profile",children:[e.jsx(Aa,{className:"w-4 h-4 mr-2"}),"Profile"]}),e.jsxs(zt,{value:"account",children:[e.jsx(Or,{className:"w-4 h-4 mr-2"}),"Account"]}),e.jsxs(zt,{value:"security",children:[e.jsx(Il,{className:"w-4 h-4 mr-2"}),"Security"]}),e.jsxs(zt,{value:"notifications",children:[e.jsx(Qc,{className:"w-4 h-4 mr-2"}),"Notifications"]}),e.jsxs(zt,{value:"privacy",children:[e.jsx(Ds,{className:"w-4 h-4 mr-2"}),"Privacy"]})]}),e.jsxs(Es,{value:"profile",className:"space-y-6",children:[e.jsxs(de,{children:[e.jsx(Me,{children:e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(vw,{className:"w-5 h-5"}),"Profile Picture"]})}),e.jsx(fe,{children:e.jsx(vJ,{})})]}),e.jsxs(de,{children:[e.jsx(Me,{children:e.jsx(Fe,{children:"Profile Information"})}),e.jsx(fe,{children:e.jsxs("p",{className:"text-muted-foreground",children:["To edit your profile information (name, bio, role-specific details), go to"," ",e.jsx(ee,{variant:"link",className:"p-0 h-auto",onClick:()=>n("/profile/edit"),children:"Profile Edit"}),"."]})})]})]}),e.jsxs(Es,{value:"account",className:"space-y-6",children:[e.jsx(CJ,{}),e.jsx(cr,{}),e.jsx(VJ,{})]}),e.jsxs(Es,{value:"security",className:"space-y-6",children:[e.jsx(AJ,{}),e.jsxs(de,{children:[e.jsx(Me,{children:e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(Ds,{className:"w-5 h-5"}),"Additional Security Options"]})}),e.jsxs(fe,{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Add an extra layer of security to your account"}),e.jsx(ee,{variant:"outline",disabled:!0,children:"Coming Soon"})]}),e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Active Sessions"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Manage your active login sessions across devices"}),e.jsx(ee,{variant:"outline",disabled:!0,children:"Coming Soon"})]}),e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Login History"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"View your recent login activity"}),e.jsx(ee,{variant:"outline",disabled:!0,children:"Coming Soon"})]})]})]})]}),e.jsx(Es,{value:"notifications",children:e.jsxs(de,{children:[e.jsx(Me,{children:e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(Qc,{className:"w-5 h-5"}),"Notification Preferences"]})}),e.jsxs(fe,{children:[e.jsx("p",{className:"text-muted-foreground",children:"Notification settings coming soon. You'll be able to customize:"}),e.jsxs("ul",{className:"list-disc list-inside mt-4 space-y-2 text-sm text-muted-foreground",children:[e.jsx("li",{children:"Email notifications for inquiries and messages"}),e.jsx("li",{children:"Push notifications for important updates"}),e.jsx("li",{children:"SMS notifications for urgent matters"}),e.jsx("li",{children:"Marketing and promotional communications"})]})]})]})}),e.jsx(Es,{value:"privacy",children:e.jsxs(de,{children:[e.jsx(Me,{children:e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(Ds,{className:"w-5 h-5"}),"Privacy Settings"]})}),e.jsxs(fe,{children:[e.jsx("p",{className:"text-muted-foreground",children:"Privacy settings coming soon. You'll be able to control:"}),e.jsxs("ul",{className:"list-disc list-inside mt-4 space-y-2 text-sm text-muted-foreground",children:[e.jsx("li",{children:"Profile visibility (public, private, or selective)"}),e.jsx("li",{children:"Contact information display preferences"}),e.jsx("li",{children:"Data sharing and analytics preferences"}),e.jsx("li",{children:"Search engine indexing options"})]})]})]})})]})]})}const _L=os({businessName:et().min(2,"Business name must be at least 2 characters"),tagline:et().optional(),industry:An(et()).min(1,"Please select at least one industry"),businessType:Ao(["asset_sale","stock_sale","franchise"],{required_error:"Please select a business type"}),country:et().min(1,"Country is required"),state:et().min(1,"State is required"),city:et().min(1,"City is required"),fullAddress:et().min(5,"Full address is required"),latitude:Ft().optional(),longitude:Ft().optional(),establishedYear:Ft().min(1800,"Year must be after 1800").max(new Date().getFullYear(),"Year cannot be in the future"),yearsInOperation:Ft().min(0,"Years in operation cannot be negative"),numberOfEmployees:Ft().min(0,"Number of employees cannot be negative"),website:et().url("Please enter a valid URL").optional().or(Jf("")),socialLinks:An(et().url()).optional()}),SL=os({longDescription:et().min(150,"Description must be at least 150 characters"),businessModel:Ao(["retail","manufacturing","service","saas","food_beverage","healthcare","education","consulting","e_commerce","other"]),customerProfile:et().min(50,"Customer profile must be at least 50 characters"),supplierRelationships:et().optional(),leaseDetails:os({type:Ao(["owned","leased","mixed"]),terms:et().optional(),monthlyRent:Ft().optional(),leaseExpiry:et().optional()}).optional()}),CL=os({askingPrice:Ft().min(1,"Asking price must be greater than 0"),priceBreakdown:os({assets:Ft().min(0),goodwill:Ft().min(0),workingCapital:Ft().min(0)}),revenue:os({year1:Ft().optional(),year2:Ft().optional(),year3:Ft().optional()}).optional(),ebitda:os({year1:Ft().optional(),year2:Ft().optional(),year3:Ft().optional()}).optional(),monthlyCashFlow:Ft().optional(),profitMargins:Ft().min(0).max(100).optional(),financingAvailable:Mi(),financingDetails:et().optional()}),AL=os({assetsIncluded:An(Ao(["equipment","inventory","intellectual_property","customer_lists","brand","real_estate"])),equipmentDetails:et().optional(),inventoryValue:Ft().min(0).optional(),inventorySnapshotDate:et().optional()}),kL=os({businessPhotos:An(os({id:et(),url:et(),filename:et(),size:Ft(),type:et()})).min(1,"At least one business photo is required"),floorPlans:An(os({id:et(),url:et(),filename:et(),size:Ft(),type:et()})).optional(),videos:An(et().url()).optional(),documents:An(os({id:et(),url:et(),filename:et(),size:Ft(),type:et(),documentType:Ao(["financial","legal","operational","other"]),confidentiality:Ao(["public","nda_required","restricted"])})).optional()}),EL=os({sellerDisplayName:et().min(2,"Display name must be at least 2 characters"),contactPhone:et().regex(/^\+?[\d\s\-\(\)]+$/,"Please enter a valid phone number"),contactEmail:et().email("Please enter a valid email address"),preferredContactMethod:Ao(["phone","email","platform"]),enablePublicContact:Mi(),verificationConsent:Mi().refine(n=>n===!0,{message:"You must confirm the accuracy of the information"})}),TL=os({visibility:Ao(["public","private","link_only"]),featuredListing:Mi(),promotionPackage:Ao(["none","basic","premium"]).optional()}),GJ=os({overview:_L,description:SL,financials:CL,assets:AL,media:kL,contact:EL,publish:TL}),WJ=[{value:"technology",label:"Technology & Software"},{value:"retail",label:"Retail & E-commerce"},{value:"food_beverage",label:"Food & Beverage"},{value:"healthcare",label:"Healthcare & Medical"},{value:"manufacturing",label:"Manufacturing"},{value:"construction",label:"Construction & Real Estate"},{value:"automotive",label:"Automotive"},{value:"education",label:"Education & Training"},{value:"finance",label:"Financial Services"},{value:"consulting",label:"Consulting & Professional Services"},{value:"hospitality",label:"Hospitality & Tourism"},{value:"transportation",label:"Transportation & Logistics"},{value:"agriculture",label:"Agriculture & Farming"},{value:"energy",label:"Energy & Utilities"},{value:"media",label:"Media & Entertainment"},{value:"beauty",label:"Beauty & Wellness"},{value:"fitness",label:"Fitness & Sports"},{value:"cleaning",label:"Cleaning Services"},{value:"security",label:"Security Services"},{value:"other",label:"Other"}],YJ=[{value:"retail",label:"Retail Store"},{value:"manufacturing",label:"Manufacturing"},{value:"service",label:"Service Business"},{value:"saas",label:"Software as a Service"},{value:"food_beverage",label:"Food & Beverage"},{value:"healthcare",label:"Healthcare"},{value:"education",label:"Education"},{value:"consulting",label:"Consulting"},{value:"e_commerce",label:"E-commerce"},{value:"other",label:"Other"}];function fC({accept:n="image/*",maxFiles:t=10,maxSize:s=5*1024*1024,files:r=[],onFilesChange:i,onUpload:a,allowReorder:l=!0,showPreview:c=!0,className:u,label:m,description:g,required:p=!1,error:y}){const[x,_]=w.useState(!1),[j,A]=w.useState([]),C=w.useCallback(H=>{H.preventDefault(),_(!0)},[]),P=w.useCallback(H=>{H.preventDefault(),_(!1)},[]),S=w.useCallback(async H=>{H.preventDefault(),_(!1);const $=Array.from(H.dataTransfer.files);await z($)},[r,t,s,a,i]),O=w.useCallback(async H=>{const $=Array.from(H.target.files||[]);await z($)},[r,t,s,a,i]),z=async H=>{if(r.length+H.length>t){alert(`Maximum ${t} files allowed`);return}const $=H.filter(Z=>Z.size>s?(alert(`File ${Z.name} is too large. Maximum size is ${D(s)}`),!1):!0);if($.length===0)return;const W=$.map(async Z=>{const ie=`temp-${Date.now()}-${Math.random()}`;A(q=>[...q,ie]);try{return a?await a(Z):{id:ie,url:URL.createObjectURL(Z),filename:Z.name,size:Z.size,type:Z.type,preview:Z.type.startsWith("image/")?URL.createObjectURL(Z):void 0}}catch(q){return console.error("Upload failed:",q),alert(`Failed to upload ${Z.name}`),null}finally{A(q=>q.filter(ce=>ce!==ie))}}),Q=(await Promise.all(W)).filter(Boolean);Q.length>0&&(i==null||i([...r,...Q]))},V=H=>{const $=r.filter(W=>W.id!==H);i==null||i($)},B=(H,$)=>{if(!l)return;const W=[...r],[Q]=W.splice(H,1);W.splice($,0,Q),i==null||i(W)},D=H=>{if(H===0)return"0 Bytes";const $=1024,W=["Bytes","KB","MB","GB"],Q=Math.floor(Math.log(H)/Math.log($));return parseFloat((H/Math.pow($,Q)).toFixed(2))+" "+W[Q]},K=H=>H.startsWith("image/")?e.jsx(vw,{className:"w-4 h-4"}):H.startsWith("video/")?e.jsx(MB,{className:"w-4 h-4"}):e.jsx(_s,{className:"w-4 h-4"});return e.jsxs("div",{className:nt("space-y-4",u),children:[m&&e.jsxs("div",{className:"space-y-1",children:[e.jsxs("label",{className:"text-sm font-medium",children:[m,p&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),g&&e.jsx("p",{className:"text-sm text-muted-foreground",children:g})]}),e.jsxs("div",{className:nt("border-2 border-dashed rounded-lg p-8 text-center transition-colors",x?"border-primary bg-primary/5":"border-muted-foreground/25",y?"border-red-500":"",r.length>=t?"opacity-50 pointer-events-none":"cursor-pointer hover:border-primary/50"),onDragOver:C,onDragLeave:P,onDrop:S,onClick:()=>{var H;r.length<t&&((H=document.getElementById(`file-input-${m}`))==null||H.click())},children:[e.jsx(ml,{className:"w-8 h-8 mx-auto mb-4 text-muted-foreground"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium",children:r.length>=t?`Maximum ${t} files reached`:"Drop files here or click to browse"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Maximum file size: ",D(s)," ",t-r.length," files remaining"]})]}),e.jsx("input",{id:`file-input-${m}`,type:"file",accept:n,multiple:t>1,onChange:O,className:"hidden",disabled:r.length>=t})]}),y&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600",children:[e.jsx(Ea,{className:"w-4 h-4"}),y]}),r.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h4",{className:"text-sm font-medium",children:["Uploaded Files (",r.length,"/",t,")"]}),l&&r.length>1&&e.jsx("p",{className:"text-xs text-muted-foreground",children:"Drag to reorder"})]}),e.jsx("div",{className:nt("grid gap-3",c?"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3":"grid-cols-1"),children:r.map((H,$)=>e.jsx(de,{className:"overflow-hidden",children:e.jsxs(fe,{className:"p-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[c&&H.preview?e.jsx("img",{src:H.preview,alt:H.filename,className:"w-12 h-12 object-cover rounded flex-shrink-0"}):e.jsx("div",{className:"w-12 h-12 bg-muted rounded flex items-center justify-center flex-shrink-0",children:K(H.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:H.filename}),e.jsx("p",{className:"text-xs text-muted-foreground",children:D(H.size)}),e.jsx(Be,{variant:"secondary",className:"text-xs mt-1",children:H.type.split("/")[0]})]}),e.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>V(H.id),className:"flex-shrink-0 h-8 w-8 p-0",children:e.jsx(Lr,{className:"w-4 h-4"})})]}),l&&r.length>1&&e.jsxs("div",{className:"flex gap-1 mt-2",children:[e.jsx(ee,{variant:"outline",size:"sm",onClick:()=>B($,Math.max(0,$-1)),disabled:$===0,className:"h-6 px-2 text-xs",children:""}),e.jsx(ee,{variant:"outline",size:"sm",onClick:()=>B($,Math.min(r.length-1,$+1)),disabled:$===r.length-1,className:"h-6 px-2 text-xs",children:""})]})]})},H.id))})]}),j.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-sm font-medium",children:["Uploading ",j.length," files..."]}),e.jsx("div",{className:"space-y-1",children:j.map(H=>e.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-primary animate-pulse"})},H))})]})]})}function PL({isOpen:n,onClose:t,onAccept:s,businessName:r,sellerName:i,documentsCount:a,documentTypes:l=[],listingType:c="business",franchiseSpecificInfo:u,className:m}){const[g,p]=w.useState("overview"),[y,x]=w.useState({fullName:"",email:"",phone:"",company:"",purpose:"",investmentCapacity:"",experienceLevel:"",timeframe:"",agreedToTerms:!1,agreedToConfidentiality:!1,agreedToFranchiseTerms:!1,signature:""}),[_,j]=w.useState(!1),A=(B,D)=>{x(K=>({...K,[B]:D}))},C=async()=>{j(!0);try{await new Promise(B=>setTimeout(B,2e3)),s(y),p("confirmation")}catch(B){console.error("NDA submission failed:",B)}finally{j(!1)}},P=()=>{const B=y.fullName.trim()!==""&&y.email.trim()!==""&&y.phone.trim()!==""&&y.purpose.trim()!==""&&y.agreedToTerms&&y.agreedToConfidentiality&&y.signature.trim()!=="";return c==="franchise"?B&&y.agreedToFranchiseTerms:B},S=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(Ds,{className:"w-16 h-16 mx-auto mb-4 text-blue-600"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Non-Disclosure Agreement Required"}),e.jsxs("p",{className:"text-muted-foreground",children:["To access sensitive"," ",c==="franchise"?"franchise":"financial"," information for ",e.jsx("strong",{children:r}),", you must sign a Non-Disclosure Agreement (NDA)."]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(de,{children:e.jsxs(fe,{className:"p-4 text-center",children:[e.jsx(_s,{className:"w-8 h-8 mx-auto mb-2 text-green-600"}),e.jsx("h4",{className:"font-medium",children:"Protected Documents"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[a," ",c==="franchise"?"franchise":"financial"," ","documents"]}),l.length>0&&e.jsxs("div",{className:"mt-2",children:[l.slice(0,2).map((B,D)=>e.jsxs("div",{className:"text-xs text-muted-foreground",children:[" ",B]},D)),l.length>2&&e.jsxs("div",{className:"text-xs text-muted-foreground",children:[" +",l.length-2," more"]})]})]})}),e.jsx(de,{children:e.jsxs(fe,{className:"p-4 text-center",children:[e.jsx(Ds,{className:"w-8 h-8 mx-auto mb-2 text-blue-600"}),e.jsx("h4",{className:"font-medium",children:"Legal Protection"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Legally binding agreement"})]})}),e.jsx(de,{children:e.jsxs(fe,{className:"p-4 text-center",children:[e.jsx(Lt,{className:"w-8 h-8 mx-auto mb-2 text-purple-600"}),e.jsx("h4",{className:"font-medium",children:"Instant Access"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Immediate document access"})]})})]}),e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(vi,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-amber-800",children:"Important Notice"}),e.jsxs("p",{className:"text-sm text-amber-700 mt-1",children:["By signing this NDA, you agree to keep all"," ",c==="franchise"?"franchise and business":"financial and business","information confidential. Violation of this agreement may result in legal action."]})]})]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(ee,{variant:"outline",onClick:t,className:"flex-1",children:"Cancel"}),e.jsx(ee,{onClick:()=>p("form"),className:"flex-1",children:"Continue to NDA"})]})]}),O=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Your Information"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Please provide your details to proceed with the NDA."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"fullName",children:"Full Name *"}),e.jsx(Ue,{id:"fullName",value:y.fullName,onChange:B=>A("fullName",B.target.value),placeholder:"Enter your full legal name",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"email",children:"Email Address *"}),e.jsx(Ue,{id:"email",type:"email",value:y.email,onChange:B=>A("email",B.target.value),placeholder:"your.email@company.com",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"phone",children:"Phone Number *"}),e.jsx(Ue,{id:"phone",value:y.phone,onChange:B=>A("phone",B.target.value),placeholder:"+91 98765 43210",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"company",children:"Company/Organization"}),e.jsx(Ue,{id:"company",value:y.company,onChange:B=>A("company",B.target.value),placeholder:"Your company name (optional)"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"purpose",children:"Purpose of Information Request *"}),e.jsx(_n,{id:"purpose",value:y.purpose,onChange:B=>A("purpose",B.target.value),placeholder:`Briefly describe why you need access to this ${c==="franchise"?"franchise":"financial"} information...`,rows:3,required:!0})]}),c==="franchise"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"investmentCapacity",children:"Investment Capacity"}),e.jsxs("select",{id:"investmentCapacity",value:y.investmentCapacity,onChange:B=>A("investmentCapacity",B.target.value),className:"w-full p-2 border rounded-md",children:[e.jsx("option",{value:"",children:"Select range"}),e.jsx("option",{value:"under-10L",children:"Under 10 Lakhs"}),e.jsx("option",{value:"10L-25L",children:"10-25 Lakhs"}),e.jsx("option",{value:"25L-50L",children:"25-50 Lakhs"}),e.jsx("option",{value:"50L-1Cr",children:"50 Lakhs - 1 Crore"}),e.jsx("option",{value:"1Cr-plus",children:"1 Crore+"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"experienceLevel",children:"Business Experience"}),e.jsxs("select",{id:"experienceLevel",value:y.experienceLevel,onChange:B=>A("experienceLevel",B.target.value),className:"w-full p-2 border rounded-md",children:[e.jsx("option",{value:"",children:"Select experience"}),e.jsx("option",{value:"first-time",children:"First-time entrepreneur"}),e.jsx("option",{value:"some-experience",children:"Some business experience"}),e.jsx("option",{value:"experienced",children:"Experienced business owner"}),e.jsx("option",{value:"multi-unit",children:"Multi-unit operator"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"timeframe",children:"Investment Timeframe"}),e.jsxs("select",{id:"timeframe",value:y.timeframe,onChange:B=>A("timeframe",B.target.value),className:"w-full p-2 border rounded-md",children:[e.jsx("option",{value:"",children:"Select timeframe"}),e.jsx("option",{value:"immediate",children:"Ready to invest immediately"}),e.jsx("option",{value:"3-months",children:"Within 3 months"}),e.jsx("option",{value:"6-months",children:"Within 6 months"}),e.jsx("option",{value:"1-year",children:"Within 1 year"}),e.jsx("option",{value:"exploring",children:"Just exploring options"})]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(ee,{variant:"outline",onClick:()=>p("overview"),children:"Back"}),e.jsx(ee,{onClick:()=>p("terms"),disabled:!y.fullName||!y.email||!y.phone||!y.purpose,children:"Review Terms"})]})]}),z=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"NDA Terms & Conditions"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Please review and accept the following terms to proceed."})]}),e.jsxs("div",{className:"max-h-64 overflow-y-auto border rounded-lg p-4 bg-muted/30 text-sm space-y-3",children:[e.jsx("h4",{className:"font-medium",children:"1. Confidential Information"}),e.jsxs("p",{children:["All"," ",c==="franchise"?"franchise disclosure documents, territory data, financial performance data, training materials, operations manuals,":"financial data,"," ","business plans, customer lists, and proprietary information related to"," ",r," shall be considered confidential."]}),e.jsx("h4",{className:"font-medium",children:"2. Non-Disclosure Obligations"}),e.jsxs("p",{children:["You agree not to disclose, publish, or communicate any confidential information to third parties without written consent from ",i,"."]}),e.jsx("h4",{className:"font-medium",children:"3. Use Restrictions"}),e.jsxs("p",{children:["Confidential information may only be used for evaluating the potential",c==="franchise"?"franchise investment in":"acquisition of"," ",r," and for no other purpose."]}),c==="franchise"&&u&&e.jsxs(e.Fragment,{children:[e.jsx("h4",{className:"font-medium",children:"4. Franchise-Specific Terms"}),e.jsxs("p",{children:["You acknowledge that franchise information includes sensitive data about:",u.territoryInfo&&" territory performance,",u.franchiseePerformance&&" existing franchisee performance,",u.royaltyStructure&&" proprietary royalty structures,",u.trainingMaterials&&" training and operational materials,","and other franchise system confidential information."]})]}),e.jsx("h4",{className:"font-medium",children:"4. Return of Information"}),e.jsx("p",{children:"Upon request or termination of discussions, you agree to return or destroy all confidential materials and documents."}),e.jsx("h4",{className:"font-medium",children:"5. Legal Remedies"}),e.jsx("p",{children:"Breach of this agreement may result in irreparable harm, and the disclosing party may seek injunctive relief and monetary damages."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(ln,{id:"terms",checked:y.agreedToTerms,onCheckedChange:B=>A("agreedToTerms",!!B)}),e.jsx(ve,{htmlFor:"terms",className:"text-sm leading-relaxed",children:"I have read and agree to the terms and conditions of this Non-Disclosure Agreement"})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(ln,{id:"confidentiality",checked:y.agreedToConfidentiality,onCheckedChange:B=>A("agreedToConfidentiality",!!B)}),e.jsx(ve,{htmlFor:"confidentiality",className:"text-sm leading-relaxed",children:"I understand that I am legally bound to maintain confidentiality of all information disclosed to me"})]}),c==="franchise"&&e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(ln,{id:"franchiseTerms",checked:y.agreedToFranchiseTerms,onCheckedChange:B=>A("agreedToFranchiseTerms",!!B)}),e.jsx(ve,{htmlFor:"franchiseTerms",className:"text-sm leading-relaxed",children:"I acknowledge that I am a qualified potential franchisee and will use this information solely for franchise evaluation purposes"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"signature",children:"Digital Signature *"}),e.jsx(Ue,{id:"signature",value:y.signature,onChange:B=>A("signature",B.target.value),placeholder:"Type your full name as digital signature",required:!0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"By typing your name, you are providing a legally binding digital signature"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(ee,{variant:"outline",onClick:()=>p("form"),children:"Back"}),e.jsx(ee,{onClick:C,disabled:!P()||_,children:_?"Processing...":"Sign NDA & Access Documents"})]})]}),V=()=>e.jsxs("div",{className:"space-y-6 text-center",children:[e.jsx(Lt,{className:"w-16 h-16 mx-auto text-green-600"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"NDA Signed Successfully!"}),e.jsxs("p",{className:"text-muted-foreground",children:["You now have access to the"," ",c==="franchise"?"franchise disclosure":"financial"," ","documents for ",r,"."]})]}),e.jsxs(de,{children:[e.jsx(Me,{children:e.jsx(Fe,{className:"text-lg",children:"Access Details"})}),e.jsxs(fe,{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Agreement Date:"}),e.jsx("span",{children:new Date().toLocaleDateString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Documents Available:"}),e.jsxs("span",{children:[a," files"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Access Expires:"}),e.jsx("span",{children:new Date(Date.now()+720*60*60*1e3).toLocaleDateString()})]})]})]}),e.jsx(ee,{onClick:t,className:"w-full",children:"Continue to Documents"})]});return e.jsx(ha,{open:n,onOpenChange:t,children:e.jsxs($i,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Vi,{children:[e.jsxs(Hi,{children:[g==="overview"&&"Non-Disclosure Agreement",g==="form"&&"NDA Information Form",g==="terms"&&"Review & Sign NDA",g==="confirmation"&&"NDA Confirmation"]}),e.jsxs(Im,{children:[g==="overview"&&"Secure access to confidential business information",g==="form"&&"Provide your information for the NDA",g==="terms"&&"Review terms and provide digital signature",g==="confirmation"&&"Your NDA has been processed successfully"]})]}),g==="overview"&&S(),g==="form"&&O(),g==="terms"&&z(),g==="confirmation"&&V()]})})}function LL({businessData:n={},onApplySuggestion:t,className:s}){const[r,i]=w.useState(!1),[a,l]=w.useState([]),[c,u]=w.useState("suggestions"),[m,g]=w.useState(""),[p,y]=w.useState(null),x=async()=>{var C,P,S;i(!0),l([]);try{const O=[];if(n.revenue||n.employees){const V=await Nm.generateValuation({revenue:n.revenue,industry:(C=n.industry)==null?void 0:C[0],location:n.location,yearEstablished:2018});O.push({type:"valuation",title:"AI Business Valuation",content:V.substring(0,300)+"...",confidence:85,action:"View Full Analysis"})}if(n.industry){const V=await Nm.generateMarketAnalysis({industry:((P=n.industry)==null?void 0:P[0])||"general",location:n.location||"India",businessType:"for sale"});O.push({type:"comparable",title:"Market Analysis",content:V.substring(0,250)+"...",confidence:78,action:"View Full Report"})}const z=await Nm.generateDueDiligenceChecklist({industry:(S=n.industry)==null?void 0:S[0],businessType:"acquisition",transactionSize:n.revenue});O.push({type:"improvement",title:"Due Diligence Checklist",content:z.substring(0,250)+"...",confidence:92,action:"View Checklist"}),l(O)}catch(O){console.error("AI Suggestion Error:",O),l([{type:"improvement",title:"AI Service Unavailable",content:`Unable to generate AI suggestions: ${O.message}. Please check your API key configuration or try again later.`,confidence:0}])}finally{i(!1)}},_=async(C,P)=>{try{await navigator.clipboard.writeText(C),y(P),setTimeout(()=>y(null),2e3)}catch(S){console.error("Failed to copy:",S)}},j=C=>C>=85?"text-green-600 bg-green-100":C>=70?"text-blue-600 bg-blue-100":"text-orange-600 bg-orange-100",A=C=>{switch(C){case"valuation":return e.jsx(zi,{className:"w-4 h-4"});case"description":return e.jsx(_s,{className:"w-4 h-4"});case"comparable":return e.jsx(Os,{className:"w-4 h-4"});case"improvement":return e.jsx(sp,{className:"w-4 h-4"});default:return e.jsx(ko,{className:"w-4 h-4"})}};return e.jsxs(de,{className:nt("w-full",s),children:[e.jsxs(Me,{children:[e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(ko,{className:"w-5 h-5 text-purple-600"}),"AI Assistant"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ee,{variant:c==="suggestions"?"default":"outline",size:"sm",onClick:()=>u("suggestions"),children:"Suggestions"}),e.jsx(ee,{variant:c==="chat"?"default":"outline",size:"sm",onClick:()=>u("chat"),children:"Chat"})]})]}),e.jsxs(fe,{className:"space-y-4",children:[c==="suggestions"&&e.jsxs(e.Fragment,{children:[e.jsx(ee,{onClick:x,disabled:r,className:"w-full",children:r?e.jsxs(e.Fragment,{children:[e.jsx(Ht,{className:"w-4 h-4 mr-2 animate-spin"}),"Analyzing Your Business..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ko,{className:"w-4 h-4 mr-2"}),"Get AI Suggestions"]})}),Object.keys(n).length>0&&e.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg text-sm",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Analysis Context:"}),e.jsxs("div",{className:"space-y-1 text-muted-foreground",children:[n.name&&e.jsxs("p",{children:["Business: ",n.name]}),n.industry&&e.jsxs("p",{children:["Industry: ",n.industry.join(", ")]}),n.location&&e.jsxs("p",{children:["Location: ",n.location]}),n.revenue&&e.jsxs("p",{children:["Revenue: ",n.revenue.toLocaleString()]})]})]}),a.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium",children:"AI Recommendations"}),a.map((C,P)=>e.jsx(de,{className:"border-l-4 border-l-purple-500",children:e.jsxs(fe,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[A(C.type),e.jsx("h5",{className:"font-medium",children:C.title})]}),e.jsxs(Be,{variant:"secondary",className:nt("text-xs",j(C.confidence)),children:[C.confidence,"% confidence"]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3 leading-relaxed",children:C.content}),e.jsxs("div",{className:"flex gap-2",children:[C.action&&e.jsx(ee,{size:"sm",onClick:()=>t==null?void 0:t(C),children:C.action}),e.jsx(ee,{variant:"outline",size:"sm",onClick:()=>_(C.content,`${P}`),children:p===`${P}`?e.jsx(Vu,{className:"w-3 h-3"}):e.jsx(pw,{className:"w-3 h-3"})})]})]})},P))]})]}),c==="chat"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-64 border rounded-lg p-3 bg-muted/30 overflow-y-auto",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(ko,{className:"w-3 h-3 text-purple-600"})}),e.jsx("div",{className:"bg-white rounded-lg p-3 text-sm",children:e.jsx("p",{children:"Hi! I'm your AI assistant. I can help you with business valuation, description writing, market analysis, and listing optimization. What would you like to know?"})})]}),e.jsx("div",{className:"text-center text-xs text-muted-foreground py-4",children:"Start a conversation by typing below..."})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(_n,{placeholder:"Ask me about pricing, market trends, or how to improve your listing...",value:m,onChange:C=>g(C.target.value),rows:2,className:"resize-none"}),e.jsx(ee,{onClick:()=>{console.log("Chat message:",m),g("")},disabled:!m.trim(),children:"Send"})]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:` Try asking: "What's my business worth?", "How can I improve my listing?", "Show me comparable sales"`})]})]})]})}const Pu=[{id:"overview",title:"Business Overview",description:"Basic information about your business",icon:e.jsx(_s,{className:"w-4 h-4"}),schema:_L,required:!0},{id:"description",title:"Description & Operations",description:"Detailed business description and operations",icon:e.jsx(_s,{className:"w-4 h-4"}),schema:SL,required:!0},{id:"financials",title:"Financials",description:"Financial information and pricing",icon:e.jsx(zi,{className:"w-4 h-4"}),schema:CL,required:!0},{id:"assets",title:"Assets & Inventory",description:"Business assets and inventory details",icon:e.jsx(_s,{className:"w-4 h-4"}),schema:AL,required:!1},{id:"media",title:"Media & Documents",description:"Photos, videos, and documents",icon:e.jsx(K3,{className:"w-4 h-4"}),schema:kL,required:!0},{id:"contact",title:"Contact & Verification",description:"Contact information and verification",icon:e.jsx(Aa,{className:"w-4 h-4"}),schema:EL,required:!0},{id:"publish",title:"Preview & Publish",description:"Review and publish your listing",icon:e.jsx(dn,{className:"w-4 h-4"}),schema:TL,required:!0}];function ZJ({initialData:n={},onSave:t,onSubmit:s,onPreview:r,className:i}){var oe,ne,re,U;const[a,l]=w.useState(0),[c,u]=w.useState(new Set),[m,g]=w.useState(n),[p,y]=w.useState(!1),[x,_]=w.useState(!1),[j,A]=w.useState(!1),C=Pu[a],P=(a+1)/Pu.length*100,S=A2({resolver:k2(C.schema),defaultValues:m[C.id]||{},mode:"onChange"});w.useEffect(()=>{const J=setTimeout(()=>{Object.keys(S.formState.dirtyFields).length>0&&O()},3e3);return()=>clearTimeout(J)},[S.formState.dirtyFields]);const O=async()=>{y(!0);const J=S.getValues(),se={...m,[C.id]:J};g(se),t==null||t(se,!0),setTimeout(()=>y(!1),1e3)},z=async()=>{if(await S.trigger()){const se=S.getValues(),ue={...m,[C.id]:se};return g(ue),u(be=>new Set([...be,a])),!0}return!1},V=async()=>{await z()&&a<Pu.length-1&&(l(a+1),S.reset(m[Pu[a+1].id]||{}))},B=()=>{a>0&&(l(a-1),S.reset(m[Pu[a-1].id]||{}))},D=J=>{(J<=a||c.has(J))&&(l(J),S.reset(m[Pu[J].id]||{}))},K=async()=>{if(await z())try{const se=GJ.parse(m);s==null||s(se)}catch(se){console.error("Validation error:",se)}},H=async()=>{await z(),r==null||r(m)},$=()=>{switch(C.id){case"overview":return W();case"description":return Q();case"financials":return Z();case"assets":return ie();case"media":return q();case"contact":return ce();case"publish":return te();default:return null}},W=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"businessName",children:"Business Name *"}),e.jsx(Ue,{id:"businessName",...S.register("businessName"),placeholder:"Enter your business name"}),S.formState.errors.businessName&&e.jsx("p",{className:"text-sm text-red-600",children:S.formState.errors.businessName.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"tagline",children:"Tagline"}),e.jsx(Ue,{id:"tagline",...S.register("tagline"),placeholder:"Brief tagline for your business"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Industry *"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:WJ.slice(0,12).map(J=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ln,{id:J.value,...S.register("industry"),value:J.value}),e.jsx(ve,{htmlFor:J.value,className:"text-sm",children:J.label})]},J.value))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"businessType",children:"Business Type *"}),e.jsxs(Jt,{...S.register("businessType"),children:[e.jsx(Wt,{children:e.jsx(Xt,{placeholder:"Select type"})}),e.jsxs(Yt,{children:[e.jsx(Ee,{value:"asset_sale",children:"Asset Sale"}),e.jsx(Ee,{value:"stock_sale",children:"Stock Sale"}),e.jsx(Ee,{value:"franchise",children:"Franchise"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"establishedYear",children:"Established Year *"}),e.jsx(Ue,{id:"establishedYear",type:"number",...S.register("establishedYear",{valueAsNumber:!0}),placeholder:"2020"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"numberOfEmployees",children:"Number of Employees *"}),e.jsx(Ue,{id:"numberOfEmployees",type:"number",...S.register("numberOfEmployees",{valueAsNumber:!0}),placeholder:"10"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"fullAddress",children:"Business Address *"}),e.jsx(_n,{id:"fullAddress",...S.register("fullAddress"),placeholder:"Enter complete business address",rows:3}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(Ln,{className:"w-4 h-4"}),e.jsx("span",{children:"We'll use this to show your business location on the map"})]})]})]}),Q=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"longDescription",children:"Business Description *"}),e.jsx(_n,{id:"longDescription",...S.register("longDescription"),placeholder:"Provide a detailed description of your business, its operations, and what makes it unique...",rows:6}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Minimum 150 characters. Be specific about your business model, target customers, and competitive advantages."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"businessModel",children:"Business Model *"}),e.jsxs(Jt,{...S.register("businessModel"),children:[e.jsx(Wt,{children:e.jsx(Xt,{placeholder:"Select business model"})}),e.jsx(Yt,{children:YJ.map(J=>e.jsx(Ee,{value:J.value,children:J.label},J.value))})]})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"customerProfile",children:"Customer Profile & Demographics *"}),e.jsx(_n,{id:"customerProfile",...S.register("customerProfile"),placeholder:"Describe your typical customers, their demographics, and buying patterns...",rows:4})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"supplierRelationships",children:"Supplier Relationships"}),e.jsx(_n,{id:"supplierRelationships",...S.register("supplierRelationships"),placeholder:"Describe key supplier relationships, contracts, and dependencies...",rows:3})]})]}),Z=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Financial Information"}),e.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>A(!j),children:[e.jsx(ko,{className:"w-4 h-4 mr-2"}),"AI Valuation Help"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"askingPrice",children:"Asking Price () *"}),e.jsx(Ue,{id:"askingPrice",type:"number",...S.register("askingPrice",{valueAsNumber:!0}),placeholder:"2500000"})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Price Breakdown"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"assets",children:"Assets ()"}),e.jsx(Ue,{id:"assets",type:"number",...S.register("priceBreakdown.assets",{valueAsNumber:!0}),placeholder:"800000"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"goodwill",children:"Goodwill ()"}),e.jsx(Ue,{id:"goodwill",type:"number",...S.register("priceBreakdown.goodwill",{valueAsNumber:!0}),placeholder:"1200000"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"workingCapital",children:"Working Capital ()"}),e.jsx(Ue,{id:"workingCapital",type:"number",...S.register("priceBreakdown.workingCapital",{valueAsNumber:!0}),placeholder:"500000"})]})]})]}),e.jsxs("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(zi,{className:"w-4 h-4 text-amber-600"}),e.jsx("span",{className:"font-medium text-amber-800",children:"NDA Protected Information"})]}),e.jsx("p",{className:"text-sm text-amber-700",children:"Financial details will be protected by NDA and only shown to verified buyers who sign confidentiality agreements."})]}),j&&e.jsx(LL,{businessData:{name:S.watch("businessName"),industry:S.watch("industry"),location:S.watch("city")},onApplySuggestion:J=>{console.log("Applied AI suggestion:",J)}})]}),ie=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Assets Included in Sale"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[{value:"equipment",label:"Equipment"},{value:"inventory",label:"Inventory"},{value:"intellectual_property",label:"Intellectual Property"},{value:"customer_lists",label:"Customer Lists"},{value:"brand",label:"Brand & Trademarks"},{value:"real_estate",label:"Real Estate"}].map(J=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ln,{id:J.value,...S.register("assetsIncluded"),value:J.value}),e.jsx(ve,{htmlFor:J.value,className:"text-sm",children:J.label})]},J.value))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"equipmentDetails",children:"Equipment Details"}),e.jsx(_n,{id:"equipmentDetails",...S.register("equipmentDetails"),placeholder:"List major equipment, machinery, and their condition...",rows:4})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"inventoryValue",children:"Inventory Value ()"}),e.jsx(Ue,{id:"inventoryValue",type:"number",...S.register("inventoryValue",{valueAsNumber:!0}),placeholder:"150000"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"inventorySnapshotDate",children:"Inventory Snapshot Date"}),e.jsx(Ue,{id:"inventorySnapshotDate",type:"date",...S.register("inventorySnapshotDate")})]})]})]}),q=()=>{var J,se;return e.jsxs("div",{className:"space-y-6",children:[e.jsx(fC,{accept:"image/*",maxFiles:10,files:((J=m.media)==null?void 0:J.businessPhotos)||[],onFilesChange:ue=>{const be={...m,media:{...m.media,businessPhotos:ue}};g(be)},label:"Business Photos",description:"Upload high-quality photos of your business. First photo will be the main image.",required:!0}),e.jsx(fC,{accept:".pdf,.doc,.docx,.xls,.xlsx",maxFiles:20,files:((se=m.media)==null?void 0:se.documents)||[],onFilesChange:ue=>{const be={...m,media:{...m.media,documents:ue}};g(be)},label:"Business Documents",description:"Upload financial statements, legal documents, etc. These will be NDA-protected.",showPreview:!1})]})},ce=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"sellerDisplayName",children:"Display Name *"}),e.jsx(Ue,{id:"sellerDisplayName",...S.register("sellerDisplayName"),placeholder:"Your name as it will appear to buyers"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"contactEmail",children:"Email Address *"}),e.jsx(Ue,{id:"contactEmail",type:"email",...S.register("contactEmail"),placeholder:"your.email@example.com"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"contactPhone",children:"Phone Number *"}),e.jsx(Ue,{id:"contactPhone",...S.register("contactPhone"),placeholder:"+91 98765 43210"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"preferredContactMethod",children:"Preferred Contact Method *"}),e.jsxs(Jt,{...S.register("preferredContactMethod"),children:[e.jsx(Wt,{children:e.jsx(Xt,{placeholder:"Select method"})}),e.jsxs(Yt,{children:[e.jsx(Ee,{value:"phone",children:"Phone"}),e.jsx(Ee,{value:"email",children:"Email"}),e.jsx(Ee,{value:"platform",children:"Platform Messages"})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ln,{id:"enablePublicContact",...S.register("enablePublicContact")}),e.jsx(ve,{htmlFor:"enablePublicContact",children:"Allow public contact (buyers can contact you directly)"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ln,{id:"verificationConsent",...S.register("verificationConsent")}),e.jsx(ve,{htmlFor:"verificationConsent",children:"I confirm that I have the right to sell this business and all information provided is accurate *"})]})]})]}),te=()=>{var J,se,ue,be,we,Ce;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Ready to Publish?"}),e.jsx("p",{className:"text-muted-foreground",children:"Review your listing and choose how you'd like to publish it."})]}),e.jsxs(de,{children:[e.jsx(Me,{children:e.jsx(Fe,{children:"Listing Summary"})}),e.jsx(fe,{className:"space-y-3",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Business:"}),e.jsx("p",{children:((J=m.overview)==null?void 0:J.businessName)||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Industry:"}),e.jsx("p",{children:((ue=(se=m.overview)==null?void 0:se.industry)==null?void 0:ue.join(", "))||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Location:"}),e.jsx("p",{children:((be=m.overview)==null?void 0:be.city)||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Asking Price:"}),e.jsxs("p",{children:["",((Ce=(we=m.financials)==null?void 0:we.askingPrice)==null?void 0:Ce.toLocaleString())||"Not specified"]})]})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Publishing Options"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"visibility",children:"Visibility *"}),e.jsxs(Jt,{...S.register("visibility"),children:[e.jsx(Wt,{children:e.jsx(Xt,{placeholder:"Choose visibility"})}),e.jsxs(Yt,{children:[e.jsx(Ee,{value:"public",children:"Public - Visible to all users"}),e.jsx(Ee,{value:"private",children:"Private - Only you can see it"}),e.jsx(Ee,{value:"link_only",children:"Link Only - Accessible via direct link"})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ln,{id:"featuredListing",...S.register("featuredListing")}),e.jsx(ve,{htmlFor:"featuredListing",children:"Make this a featured listing (+2,999/month)"})]})]})]})};return e.jsxs("div",{className:nt("max-w-6xl mx-auto",i),children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Add Business Listing"}),e.jsxs("div",{className:"flex items-center gap-2",children:[p&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(km,{className:"w-4 h-4 animate-pulse"}),"Saving..."]}),e.jsxs(Be,{variant:"secondary",children:["Step ",a+1," of ",Pu.length]})]})]}),e.jsx(On,{value:P,className:"mb-4"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Pu.map((J,se)=>e.jsxs("button",{onClick:()=>D(se),className:nt("flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition-colors",se===a?"bg-primary text-primary-foreground":c.has(se)?"bg-green-100 text-green-800 hover:bg-green-200":se<a?"bg-muted hover:bg-muted/80":"bg-muted/50 text-muted-foreground cursor-not-allowed"),disabled:se>a&&!c.has(se),children:[c.has(se)?e.jsx(Lt,{className:"w-4 h-4"}):e.jsx(fw,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:J.title}),e.jsx("span",{className:"sm:hidden",children:se+1})]},J.id))})]}),e.jsxs(de,{className:"mb-6",children:[e.jsxs(Me,{children:[e.jsxs(Fe,{className:"flex items-center gap-2",children:[C.icon,C.title]}),e.jsx("p",{className:"text-muted-foreground",children:C.description})]}),e.jsx(fe,{children:e.jsx("form",{onSubmit:S.handleSubmit(()=>{}),children:$()})})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs(ee,{variant:"outline",onClick:B,disabled:a===0,children:[e.jsx(ca,{className:"w-4 h-4 mr-2"}),"Previous"]}),e.jsx("div",{className:"flex gap-2",children:a===Pu.length-1?e.jsxs(e.Fragment,{children:[e.jsxs(ee,{variant:"outline",onClick:H,children:[e.jsx(dn,{className:"w-4 h-4 mr-2"}),"Preview"]}),e.jsx(ee,{onClick:K,children:"Publish Listing"})]}):e.jsxs(ee,{onClick:V,children:["Next",e.jsx(Ca,{className:"w-4 h-4 ml-2"})]})})]}),e.jsx(PL,{isOpen:x,onClose:()=>_(!1),onAccept:()=>_(!1),businessName:((oe=m.overview)==null?void 0:oe.businessName)||"Your Business",sellerName:((ne=m.contact)==null?void 0:ne.sellerDisplayName)||"Business Owner",documentsCount:((U=(re=m.media)==null?void 0:re.documents)==null?void 0:U.length)||0})]})}function KJ(){const n=Mn(),{user:t}=Bs(),[s,r]=w.useState(null),[i,a]=w.useState([]),[l,c]=w.useState(!1),[u,m]=w.useState(!1),[g,p]=w.useState({type:null,message:""});w.useEffect(()=>{t||n("/login?redirect=/add-business-listing")},[t,n]),w.useEffect(()=>{(()=>{try{const O=localStorage.getItem("bizsearch_listing_drafts");if(O){const z=JSON.parse(O);if(a(z),z.length>0){const V=z.sort((B,D)=>new Date(D.lastSaved).getTime()-new Date(B.lastSaved).getTime())[0];r(V)}}}catch(O){console.error("Error loading drafts:",O)}})()},[]);const y=S=>{const O=["overview","description","financials","assets","media","contact","publish"];let z=0;return O.forEach(V=>{const B=S[V];B&&Object.keys(B).length>0&&z++}),Math.round(z/O.length*100)},x=(S,O=!0)=>{const z=(s==null?void 0:s.id)||`draft_${Date.now()}`,V=y(S),B={id:z,data:S,lastSaved:new Date().toISOString(),completionPercentage:V,status:O?"draft":"submitted"};r(B);const D=i.filter(K=>K.id!==z);D.push(B),a(D);try{localStorage.setItem("bizsearch_listing_drafts",JSON.stringify(D))}catch(K){console.error("Error saving draft:",K)}},_=S=>{const O=i.filter(z=>z.id!==S);a(O),(s==null?void 0:s.id)===S&&r(null);try{localStorage.setItem("bizsearch_listing_drafts",JSON.stringify(O))}catch(z){console.error("Error deleting draft:",z)}},j=S=>{r(S),c(!1)},A=async S=>{var O,z,V,B,D,K,H,$,W,Q,Z,ie,q,ce,te,oe,ne,re,U,J,se,ue,be,we,Ce,Re,Xe,tt,lt,jt,Et,Je,_e,$t,Dt,ht;if(!t){p({type:"error",message:"You must be logged in to submit a listing."});return}m(!0),p({type:null,message:""});try{const je={name:((O=S.overview)==null?void 0:O.businessName)||"",industry:((V=(z=S.overview)==null?void 0:z.industry)==null?void 0:V[0])||"",description:((B=S.description)==null?void 0:B.longDescription)||"",city:((D=S.overview)==null?void 0:D.city)||"",state:((K=S.overview)==null?void 0:K.state)||"",location:`${(H=S.overview)==null?void 0:H.city}, ${($=S.overview)==null?void 0:$.state}`,price:((W=S.financials)==null?void 0:W.askingPrice)||0,revenue:(Z=(Q=S.financials)==null?void 0:Q.revenue)==null?void 0:Z.year1,monthly_profit:(ie=S.financials)==null?void 0:ie.monthlyCashFlow,established_year:(q=S.overview)==null?void 0:q.establishedYear,employees:(ce=S.overview)==null?void 0:ce.numberOfEmployees,business_type:(te=S.overview)==null?void 0:te.businessType,tagline:(oe=S.overview)==null?void 0:oe.tagline,business_model:(ne=S.description)==null?void 0:ne.businessModel,images:((U=(re=S.media)==null?void 0:re.businessPhotos)==null?void 0:U.map(Pe=>Pe.url))||[],logo_url:(ue=(se=(J=S.media)==null?void 0:J.businessPhotos)==null?void 0:se[0])==null?void 0:ue.url,highlights:[],contact_email:(be=S.contact)==null?void 0:be.contactEmail,contact_phone:(we=S.contact)==null?void 0:we.contactPhone,operating_hours:"",days_open_per_week:7,full_address:(Ce=S.overview)==null?void 0:Ce.fullAddress,assets_included:((Re=S.assets)==null?void 0:Re.assetsIncluded)||[],equipment_details:(Xe=S.assets)==null?void 0:Xe.equipmentDetails,inventory_value:(tt=S.assets)==null?void 0:tt.inventoryValue,lease_type:(jt=(lt=S.description)==null?void 0:lt.leaseDetails)==null?void 0:jt.type,monthly_rent:(Je=(Et=S.description)==null?void 0:Et.leaseDetails)==null?void 0:Je.monthlyRent,customer_profile:(_e=S.description)==null?void 0:_e.customerProfile,ebitda:(Dt=($t=S.financials)==null?void 0:$t.ebitda)==null?void 0:Dt.year1,profit_margin:(ht=S.financials)==null?void 0:ht.profitMargins},ke=await b0.createBusiness(t.id,je);if(console.log(" Business listing created:",ke),s){const Pe=i.filter(it=>it.id!==s.id);a(Pe),localStorage.setItem("bizsearch_listing_drafts",JSON.stringify(Pe)),r(null)}p({type:"success",message:"Listing submitted successfully! Your listing is now under review. You'll be notified once it's approved."}),setTimeout(()=>{n("/profile")},3e3)}catch(je){console.error("Submission error:",je),p({type:"error",message:je.message||"Failed to submit listing. Please try again."})}finally{m(!1)}},C=S=>{console.log("Preview data:",S),alert("Preview functionality - would show listing preview")},P=()=>{r(null),c(!1),p({type:null,message:""})};return l&&i.length>0?e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Choose a Draft"}),e.jsxs("p",{className:"text-muted-foreground",children:["You have ",i.length," saved draft",i.length!==1?"s":"",". Choose one to continue or start a new listing."]})]}),e.jsx("div",{className:"grid gap-4 mb-6",children:i.map(S=>{var O;return e.jsx(de,{className:"cursor-pointer hover:shadow-md transition-shadow",children:e.jsx(fe,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"font-semibold",children:((O=S.data.overview)==null?void 0:O.businessName)||"Untitled Listing"}),e.jsx(Be,{variant:S.status==="published"?"default":S.status==="submitted"?"secondary":"outline",children:S.status})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-2",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Hn,{className:"w-4 h-4"}),new Date(S.lastSaved).toLocaleDateString()]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(_s,{className:"w-4 h-4"}),S.completionPercentage,"% complete"]})]}),e.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:e.jsx("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:`${S.completionPercentage}%`}})})]}),e.jsxs("div",{className:"flex gap-2 ml-4",children:[e.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>j(S),children:[e.jsx(dn,{className:"w-4 h-4 mr-1"}),"Continue"]}),e.jsx(ee,{variant:"outline",size:"sm",onClick:()=>_(S.id),className:"text-red-600 hover:text-red-700",children:e.jsx(Vo,{className:"w-4 h-4"})})]})]})})},S.id)})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ee,{onClick:P,variant:"outline",children:"Start New Listing"}),e.jsx(ee,{onClick:()=>c(!1),children:"Cancel"})]})]}):e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Sell Your Business"}),e.jsx("p",{className:"text-muted-foreground",children:"Create a comprehensive listing to sell your business to qualified buyers"})]}),e.jsxs("div",{className:"flex gap-2",children:[i.length>0&&e.jsxs(ee,{variant:"outline",onClick:()=>c(!0),children:[e.jsx(km,{className:"w-4 h-4 mr-2"}),"Saved Drafts (",i.length,")"]}),s&&e.jsx(ee,{variant:"outline",onClick:P,children:"Start New"})]})]}),s&&e.jsxs(Xn,{className:"mb-4",children:[e.jsx(km,{className:"w-4 h-4"}),e.jsx(Qn,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{children:["Draft saved  ",s.completionPercentage,"% complete  Last saved ",new Date(s.lastSaved).toLocaleString()]}),e.jsx(Be,{variant:s.status==="published"?"default":s.status==="submitted"?"secondary":"outline",children:s.status})]})})]}),g.type&&e.jsxs(Xn,{className:`mb-4 ${g.type==="success"?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:[g.type==="success"?e.jsx(Lt,{className:"w-4 h-4 text-green-600"}):e.jsx(Ea,{className:"w-4 h-4 text-red-600"}),e.jsx(Qn,{className:g.type==="success"?"text-green-800":"text-red-800",children:g.message})]})]}),u&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsx(de,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ml,{className:"w-5 h-5 animate-pulse"}),e.jsx("span",{children:"Submitting your listing..."})]})})}),e.jsx(ZJ,{initialData:s==null?void 0:s.data,onSave:x,onSubmit:A,onPreview:C}),e.jsxs(de,{className:"mt-8",children:[e.jsx(Me,{children:e.jsx(Fe,{children:"Need Help?"})}),e.jsx(fe,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Listing Tips"}),e.jsxs("ul",{className:"space-y-1 text-muted-foreground",children:[e.jsx("li",{children:" Use high-quality photos"}),e.jsx("li",{children:" Be detailed in descriptions"}),e.jsx("li",{children:" Price competitively"}),e.jsx("li",{children:" Include all relevant documents"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Verification Process"}),e.jsxs("ul",{className:"space-y-1 text-muted-foreground",children:[e.jsx("li",{children:" Submit complete information"}),e.jsx("li",{children:" Our team reviews within 24-48 hours"}),e.jsx("li",{children:" You'll receive approval notification"}),e.jsx("li",{children:" Listing goes live after approval"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Support"}),e.jsxs("ul",{className:"space-y-1 text-muted-foreground",children:[e.jsx("li",{children:" Email: support@bizsearch.com"}),e.jsx("li",{children:" Phone: +91 98765 43210"}),e.jsx("li",{children:" Live chat available 9 AM - 6 PM"}),e.jsx("li",{children:" FAQ section in help center"})]})]})]})})]})]})}const JJ=os({brandOverview:os({brandName:et().min(2,"Brand name must be at least 2 characters"),tagline:et().min(10,"Tagline must be at least 10 characters"),industry:An(et()).min(1,"Select at least one industry"),businessModel:et().min(1,"Business model is required"),yearEstablished:Ft().min(1900,"Invalid year").max(new Date().getFullYear()),totalOutlets:Ft().min(1,"Must have at least 1 outlet"),companyOutlets:Ft().min(0,"Company outlets cannot be negative"),franchiseOutlets:Ft().min(0,"Franchise outlets cannot be negative"),territories:An(et()).min(1,"Select at least one territory"),website:et().url("Invalid website URL").optional()}),description:os({brandDescription:et().min(100,"Brand description must be at least 100 characters"),uniqueSellingPoints:An(et()).min(3,"Add at least 3 unique selling points"),targetMarket:et().min(50,"Target market description required"),competitiveAdvantages:An(et()).min(2,"Add at least 2 competitive advantages"),growthPotential:et().min(50,"Growth potential description required")}),investment:os({franchiseFee:Ft().min(0,"Franchise fee cannot be negative"),totalInvestment:os({min:Ft().min(0,"Minimum investment cannot be negative"),max:Ft().min(0,"Maximum investment cannot be negative")}),liquidCapitalRequired:Ft().min(0,"Liquid capital cannot be negative"),royaltyStructure:os({type:Ao(["fixed","tiered","performance_based"]),baseTiers:An(os({id:et(),minRevenue:Ft(),maxRevenue:Ft().optional(),percentage:Ft(),description:et().optional()})),performanceIncentives:os({enabled:Mi(),bonusThreshold:Ft(),bonusReduction:Ft()}).optional(),volumeDiscounts:os({enabled:Mi(),multiUnitDiscount:Ft(),loyaltyDiscount:Ft()}).optional()}),marketingFee:os({type:Ao(["fixed","percentage","tiered"]),value:Ft(),tiers:An(os({id:et(),minRevenue:Ft(),maxRevenue:Ft().optional(),percentage:Ft()})).optional()}),investmentBreakdown:An(os({id:et(),category:et(),name:et(),amount:Ft(),isRequired:Mi(),description:et().optional(),financingAvailable:Mi().optional(),paymentTiming:Ao(["upfront","monthly","quarterly","annual"]).optional()})),breakEvenPeriod:Ft().min(1,"Break-even period must be at least 1 month"),averageROI:Ft().min(0).max(100,"ROI cannot exceed 100%"),financingOptions:An(et()),roiProjections:os({scenarios:An(os({name:et(),probability:Ft(),projections:An(os({year:Ft(),revenue:Ft(),expenses:Ft(),netIncome:Ft(),cumulativeROI:Ft()})),assumptions:An(et())}))}).optional()}),support:os({initialTrainingDuration:Ft().min(1,"Training duration required"),ongoingSupport:An(et()).min(3,"Add at least 3 support types"),marketingSupport:An(et()).min(2,"Add at least 2 marketing support types"),operationalSupport:An(et()).min(2,"Add at least 2 operational support types"),technologySupport:An(et()),qualityAssurance:et().min(50,"Quality assurance description required")}),territory:os({selectedTerritories:An(os({id:et(),type:Ao(["state","city","district","custom"]),name:et(),population:Ft().optional(),coordinates:os({lat:Ft(),lng:Ft()}).optional(),bounds:os({north:Ft(),south:Ft(),east:Ft(),west:Ft()}).optional(),isAvailable:Mi(),isProtected:Mi(),exclusivityRadius:Ft().optional()})).min(1,"Select at least one territory"),protectedTerritoryEnabled:Mi(),territorySize:et().min(1,"Territory size required"),populationRequirement:Ft().min(0,"Population requirement cannot be negative"),demographicProfile:et().min(50,"Demographic profile required"),competitionAnalysis:et().min(50,"Competition analysis required"),multiUnitDevelopment:os({enabled:Mi(),minimumUnits:Ft().optional(),developmentTimeline:et().optional(),additionalIncentives:et().optional()}).optional()}),franchiseeProfile:os({idealCandidateProfile:et().min(100,"Ideal candidate profile required"),experienceRequired:et().min(1,"Experience requirement needed"),skillsRequired:An(et()).min(3,"Add at least 3 required skills"),timeCommitment:et().min(1,"Time commitment required"),backgroundPreferences:An(et())}),media:os({brandLogo:An(os({id:et(),name:et(),url:et(),type:et(),size:Ft()})).min(1,"Brand logo is required"),outletPhotos:An(os({id:et(),name:et(),url:et(),type:et(),size:Ft()})).min(3,"At least 3 outlet photos required"),marketingMaterials:An(os({id:et(),name:et(),url:et(),type:et(),size:Ft()})),franchiseDisclosureDocument:An(os({id:et(),name:et(),url:et(),type:et(),size:Ft()})).min(1,"FDD is required"),financialStatements:An(os({id:et(),name:et(),url:et(),type:et(),size:Ft()}))}),contact:os({primaryContact:os({name:et().min(2,"Contact name required"),title:et().min(2,"Contact title required"),email:et().email("Invalid email address"),phone:et().min(10,"Valid phone number required")}),companyAddress:os({street:et().min(5,"Street address required"),city:et().min(2,"City required"),state:et().min(2,"State required"),zipCode:et().min(5,"Valid zip code required"),country:et().min(2,"Country required")}),legalStructure:et().min(1,"Legal structure required"),registrationNumber:et().min(5,"Registration number required"),franchiseRegistration:et().min(5,"Franchise registration required")}),publishing:os({listingTitle:et().min(10,"Listing title must be at least 10 characters"),visibility:Ao(["public","private","verified_only"]),featuredListing:Mi(),urgentListing:Mi(),contactPreferences:os({allowDirectContact:Mi(),requireNDA:Mi(),screeningQuestions:An(et())}),termsAccepted:Mi().refine(n=>n===!0,"Must accept terms"),verificationConsent:Mi().refine(n=>n===!0,"Must consent to verification")})}),XJ=[{value:"food-beverage",label:"Food & Beverage"},{value:"retail",label:"Retail"},{value:"health-fitness",label:"Health & Fitness"},{value:"education",label:"Education & Training"},{value:"automotive",label:"Automotive"},{value:"beauty-wellness",label:"Beauty & Wellness"},{value:"home-services",label:"Home Services"},{value:"technology",label:"Technology"},{value:"real-estate",label:"Real Estate"},{value:"travel-hospitality",label:"Travel & Hospitality"},{value:"cleaning",label:"Cleaning Services"},{value:"childcare",label:"Childcare"},{value:"pet-services",label:"Pet Services"},{value:"senior-care",label:"Senior Care"},{value:"entertainment",label:"Entertainment"}],QJ=[{value:"traditional",label:"Traditional Franchise"},{value:"master",label:"Master Franchise"},{value:"area-development",label:"Area Development"},{value:"conversion",label:"Conversion Franchise"},{value:"mobile",label:"Mobile Franchise"},{value:"home-based",label:"Home-Based Franchise"},{value:"kiosk",label:"Kiosk/Cart Franchise"},{value:"multi-unit",label:"Multi-Unit Development"}],eX=["Site Selection Assistance","Store Design & Layout","Equipment Procurement","Staff Recruitment","Initial Training Program","Operations Manual","Marketing Launch Support","Ongoing Operational Support","Technology Support","Supply Chain Management","Quality Control","Performance Monitoring"],tX=["National Advertising Campaigns","Local Marketing Templates","Digital Marketing Support","Social Media Management","Website Development","SEO Support","Print Marketing Materials","Grand Opening Support","Promotional Campaigns","Brand Guidelines"],sX={brandOverview:{brandName:"FreshBite Caf",tagline:"Healthy, Fresh, Fast - The Future of Quick Service",industry:["food-beverage"],businessModel:"traditional",yearEstablished:2018,totalOutlets:125,companyOutlets:15,franchiseOutlets:110,territories:["Maharashtra","Karnataka","Tamil Nadu","Delhi NCR"],website:"https://freshbitecafe.com"},description:{brandDescription:"FreshBite Caf revolutionizes the quick-service restaurant industry by offering healthy, fresh, and customizable meals. Our innovative concept combines the speed of fast food with the quality of fresh ingredients, catering to health-conscious consumers who don't want to compromise on taste or convenience.",uniqueSellingPoints:["100% fresh ingredients, no preservatives","Customizable healthy meals in under 3 minutes","Proprietary technology for order management","Sustainable packaging and eco-friendly practices"],targetMarket:"Health-conscious millennials and Gen-Z consumers aged 18-40, office workers, fitness enthusiasts, and families seeking convenient healthy dining options.",competitiveAdvantages:["First-mover advantage in healthy fast-casual segment","Proprietary technology platform for seamless operations","Strong brand recognition and customer loyalty"],growthPotential:"Projected to expand to 500+ outlets across India by 2027, with plans for international expansion in Southeast Asia."},investment:{franchiseFee:8e5,totalInvestment:{min:25e5,max:4e6},liquidCapitalRequired:15e5,royaltyPercentage:6,marketingFeePercentage:2,breakEvenPeriod:18,averageROI:25,financingOptions:["Bank partnerships","Equipment financing","Working capital loans"]},support:{initialTrainingDuration:21,ongoingSupport:["Operations Manual","Technology Support","Marketing Support","Quality Control"],marketingSupport:["National Advertising","Digital Marketing","Local Promotions"],operationalSupport:["Site Selection","Store Setup","Staff Training"],technologySupport:["POS System","Mobile App","Inventory Management"],qualityAssurance:"Regular quality audits, mystery shopping, and performance monitoring to ensure brand standards are maintained across all outlets."}},nX=["Andhra Pradesh","Arunachal Pradesh","Assam","Bihar","Chhattisgarh","Goa","Gujarat","Haryana","Himachal Pradesh","Jharkhand","Karnataka","Kerala","Madhya Pradesh","Maharashtra","Manipur","Meghalaya","Mizoram","Nagaland","Odisha","Punjab","Rajasthan","Sikkim","Tamil Nadu","Telangana","Tripura","Uttar Pradesh","Uttarakhand","West Bengal","Delhi","Jammu and Kashmir","Ladakh","Chandigarh","Dadra and Nagar Haveli and Daman and Diu","Lakshadweep","Puducherry"],rX=[{name:"Mumbai",state:"Maharashtra",population:12442373},{name:"Delhi",state:"Delhi",population:11007835},{name:"Bangalore",state:"Karnataka",population:8443675},{name:"Hyderabad",state:"Telangana",population:6809970},{name:"Ahmedabad",state:"Gujarat",population:5570585},{name:"Chennai",state:"Tamil Nadu",population:4681087},{name:"Kolkata",state:"West Bengal",population:4496694},{name:"Surat",state:"Gujarat",population:4467797},{name:"Pune",state:"Maharashtra",population:3124458},{name:"Jaipur",state:"Rajasthan",population:3046163}];function iX({selectedTerritories:n=[],onTerritoriesChange:t,protectedTerritoryEnabled:s=!1,onProtectedTerritoryChange:r,className:i}){const[a,l]=w.useState(n),[c,u]=w.useState(""),[m,g]=w.useState("state"),[p,y]=w.useState(""),[x,_]=w.useState(10),[j,A]=w.useState(s);w.useEffect(()=>{t==null||t(a)},[a,t]),w.useEffect(()=>{r==null||r(j)},[j,r]);const C=($,W,Q)=>{const Z={id:`${W}-${$.toLowerCase().replace(/\s+/g,"-")}-${Date.now()}`,type:W,name:$,isAvailable:!0,isProtected:j,exclusivityRadius:j?x:void 0,...Q};l(ie=>[...ie,Z])},P=$=>{l(W=>W.filter(Q=>Q.id!==$))},S=$=>{l(W=>W.map(Q=>Q.id===$?{...Q,isAvailable:!Q.isAvailable}:Q))},O=$=>{a.find(W=>W.name===$&&W.type==="state")||C($,"state")},z=$=>{a.find(W=>W.name===$.name&&W.type==="city")||C($.name,"city",{population:$.population,coordinates:{lat:0,lng:0}})},V=()=>{p.trim()&&(C(p.trim(),"custom"),y(""))},B=nX.filter($=>$.toLowerCase().includes(c.toLowerCase())),D=rX.filter($=>$.name.toLowerCase().includes(c.toLowerCase())||$.state.toLowerCase().includes(c.toLowerCase())),K=$=>{switch($){case"state":return e.jsx(Du,{className:"h-4 w-4"});case"city":return e.jsx(ed,{className:"h-4 w-4"});case"district":return e.jsx(Ln,{className:"h-4 w-4"});default:return e.jsx(Ln,{className:"h-4 w-4"})}},H=()=>a.reduce(($,W)=>$+(W.population||0),0);return e.jsxs("div",{className:`space-y-6 ${i}`,children:[e.jsxs(de,{children:[e.jsx(Me,{children:e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(Ln,{className:"h-5 w-5"}),"Territory Selection"]})}),e.jsxs(fe,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ln,{id:"protected-territory",checked:j,onCheckedChange:A}),e.jsx(ve,{htmlFor:"protected-territory",className:"font-medium",children:"Enable Protected Territory Rights"})]}),j&&e.jsxs("div",{className:"ml-6 space-y-3",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"exclusivity-radius",children:"Exclusivity Radius (km)"}),e.jsx(Ue,{id:"exclusivity-radius",type:"number",value:x,onChange:$=>_(Number($.target.value)),className:"w-32",min:"1",max:"100"})]})}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Franchisees will have exclusive rights within"," ",x,"km radius of their location."]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(ve,{children:"Territory Type"}),e.jsxs(Jt,{value:m,onValueChange:$=>g($),children:[e.jsx(Wt,{children:e.jsx(Xt,{})}),e.jsxs(Yt,{children:[e.jsx(Ee,{value:"state",children:"State/Province"}),e.jsx(Ee,{value:"city",children:"City/Metro"}),e.jsx(Ee,{value:"district",children:"District/Region"}),e.jsx(Ee,{value:"custom",children:"Custom Territory"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"territory-search",children:"Search Territories"}),e.jsxs("div",{className:"relative",children:[e.jsx(xi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(Ue,{id:"territory-search",placeholder:"Search states, cities, or regions...",value:c,onChange:$=>u($.target.value),className:"pl-10"})]})]}),e.jsxs("div",{className:"space-y-4",children:[m==="state"&&e.jsxs("div",{className:"space-y-3",children:[e.jsx(ve,{children:"Available States"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 max-h-48 overflow-y-auto",children:B.map($=>e.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>O($),disabled:a.some(W=>W.name===$&&W.type==="state"),className:"justify-start",children:[e.jsx(la,{className:"h-3 w-3 mr-2"}),$]},$))})]}),m==="city"&&e.jsxs("div",{className:"space-y-3",children:[e.jsx(ve,{children:"Major Cities"}),e.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:D.map($=>e.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:$.name}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[$.state,"  Population:"," ",$.population.toLocaleString()]})]}),e.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>z($),disabled:a.some(W=>W.name===$.name&&W.type==="city"),children:[e.jsx(la,{className:"h-3 w-3 mr-2"}),"Add"]})]},$.name))})]}),m==="custom"&&e.jsxs("div",{className:"space-y-3",children:[e.jsx(ve,{htmlFor:"custom-territory",children:"Custom Territory Name"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Ue,{id:"custom-territory",placeholder:"Enter custom territory name...",value:p,onChange:$=>y($.target.value)}),e.jsxs(ee,{onClick:V,disabled:!p.trim(),children:[e.jsx(la,{className:"h-4 w-4 mr-2"}),"Add"]})]})]})]})]})]}),a.length>0&&e.jsxs(de,{children:[e.jsx(Me,{children:e.jsxs(Fe,{className:"flex items-center justify-between",children:[e.jsxs("span",{children:["Selected Territories (",a.length,")"]}),e.jsxs("div",{className:"text-sm font-normal text-muted-foreground",children:["Total Population: ",H().toLocaleString()]})]})}),e.jsx(fe,{children:e.jsx("div",{className:"space-y-3",children:a.map($=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-muted rounded-lg",children:K($.type)}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:$.name}),e.jsx(Be,{variant:"outline",className:"text-xs",children:$.type}),$.isProtected&&e.jsxs(Be,{variant:"secondary",className:"text-xs",children:["Protected (",$.exclusivityRadius,"km)"]})]}),$.population&&e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Population: ",$.population.toLocaleString()]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>S($.id),className:$.isAvailable?"text-green-600":"text-red-600",children:[$.isAvailable?e.jsx(Lt,{className:"h-4 w-4 mr-2"}):e.jsx(Ea,{className:"h-4 w-4 mr-2"}),$.isAvailable?"Available":"Unavailable"]}),e.jsx(ee,{variant:"outline",size:"sm",onClick:()=>P($.id),children:e.jsx(Vo,{className:"h-4 w-4"})})]})]},$.id))})})]}),e.jsxs(de,{children:[e.jsx(Me,{children:e.jsx(Fe,{children:"Territory Map"})}),e.jsx(fe,{children:e.jsx("div",{className:"aspect-video bg-muted rounded-lg flex items-center justify-center",children:e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx(Ln,{className:"h-12 w-12 text-muted-foreground mx-auto"}),e.jsx("p",{className:"text-muted-foreground",children:"Interactive map integration"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Map will show selected territories with boundaries and exclusivity zones"})]})})})]}),a.length>0&&e.jsxs(de,{children:[e.jsx(Me,{children:e.jsx(Fe,{children:"Territory Summary"})}),e.jsx(fe,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold",children:a.length}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Territories"})]}),e.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold",children:a.filter($=>$.isAvailable).length}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Available"})]}),e.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold",children:a.filter($=>$.isProtected).length}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Protected"})]})]})})]})]})}const aX={"food-beverage":{averageRevenue:25e5,grossMargin:.65,operatingMargin:.15,breakEvenMonths:18},retail:{averageRevenue:18e5,grossMargin:.55,operatingMargin:.12,breakEvenMonths:24},services:{averageRevenue:12e5,grossMargin:.75,operatingMargin:.25,breakEvenMonths:12},fitness:{averageRevenue:8e5,grossMargin:.7,operatingMargin:.2,breakEvenMonths:15}},oX={tier1:{revenue:1.3,costs:1.4},tier2:{revenue:1,costs:1},tier3:{revenue:.7,costs:.8}};function lX({initialInvestment:n=25e5,franchiseFee:t=8e5,royaltyPercentage:s=6,marketingFeePercentage:r=2,industryType:i="food-beverage",locationTier:a="tier2",onROIChange:l,className:c}){var te,oe,ne,re;const[u,m]=w.useState(n),[g,p]=w.useState(t),[y,x]=w.useState(s),[_,j]=w.useState(r),[A,C]=w.useState(i),[P,S]=w.useState(a),[O,z]=w.useState([]),[V,B]=w.useState(!1),[D,K]=w.useState("optimistic"),[H,$]=w.useState(["Market growth rate of 8-12% annually","Customer acquisition cost decreasing over time","Operational efficiency improving by 5% yearly","Local competition remains stable"]);w.useEffect(()=>{W()},[u,g,y,_,A,P]);const W=async()=>{B(!0),await new Promise(we=>setTimeout(we,1500));const U=aX[A],J=oX[P],se=U.averageRevenue*J.revenue,ue=se*(1-U.grossMargin)*J.costs,be=[{name:"Conservative",probability:30,projections:Q(se*.8,ue*1.1,5),assumptions:["Lower than average market performance","Higher operational costs initially","Slower customer acquisition","Conservative growth trajectory"]},{name:"Realistic",probability:50,projections:Q(se,ue,5),assumptions:["Industry average performance","Standard operational efficiency","Moderate market growth","Typical franchise success rate"]},{name:"Optimistic",probability:20,projections:Q(se*1.2,ue*.9,5),assumptions:["Above average market performance","Excellent operational efficiency","Strong local market demand","Exceptional franchise execution"]}];z(be),B(!1),l==null||l(be)},Q=(U,J,se)=>{const ue=[];let be=u,we=0;for(let Ce=1;Ce<=se;Ce++){const Re=Math.pow(1.08,Ce-1),Xe=U*Re,tt=Xe*(y/100),lt=Xe*(_/100),Et=J*Re+tt+lt,Je=Xe-Et;we+=Je;const _e=(we-be)/be*100;ue.push({year:Ce,revenue:Xe,expenses:Et,netIncome:Je,cumulativeROI:_e,breakEvenMonth:_e>0&&!ue.find($t=>$t.cumulativeROI>0)?Ce*12-6:void 0})}return ue},Z=U=>{switch(U.toLowerCase()){case"conservative":return"text-red-600 bg-red-50";case"realistic":return"text-blue-600 bg-blue-50";case"optimistic":return"text-green-600 bg-green-50";default:return"text-gray-600 bg-gray-50"}},ie=O.find(U=>U.name.toLowerCase()===D),q=((te=ie==null?void 0:ie.projections[ie.projections.length-1])==null?void 0:te.cumulativeROI)||0,ce=(oe=ie==null?void 0:ie.projections.find(U=>U.cumulativeROI>0))==null?void 0:oe.year;return e.jsxs("div",{className:`space-y-6 ${c}`,children:[e.jsxs(de,{children:[e.jsx(Me,{children:e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(Hd,{className:"h-5 w-5"}),"Investment Parameters"]})}),e.jsxs(fe,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"total-investment",children:"Total Investment ()"}),e.jsx(Ue,{id:"total-investment",type:"number",value:u,onChange:U=>m(Number(U.target.value)),placeholder:"2500000"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"franchise-fee",children:"Franchise Fee ()"}),e.jsx(Ue,{id:"franchise-fee",type:"number",value:g,onChange:U=>p(Number(U.target.value)),placeholder:"800000"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"royalty-percentage",children:"Royalty (%)"}),e.jsx(Ue,{id:"royalty-percentage",type:"number",step:"0.1",value:y,onChange:U=>x(Number(U.target.value)),placeholder:"6.0"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"marketing-percentage",children:"Marketing Fee (%)"}),e.jsx(Ue,{id:"marketing-percentage",type:"number",step:"0.1",value:_,onChange:U=>j(Number(U.target.value)),placeholder:"2.0"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Industry Type"}),e.jsxs(Jt,{value:A,onValueChange:C,children:[e.jsx(Wt,{children:e.jsx(Xt,{})}),e.jsxs(Yt,{children:[e.jsx(Ee,{value:"food-beverage",children:"Food & Beverage"}),e.jsx(Ee,{value:"retail",children:"Retail"}),e.jsx(Ee,{value:"services",children:"Services"}),e.jsx(Ee,{value:"fitness",children:"Fitness & Wellness"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Location Tier"}),e.jsxs(Jt,{value:P,onValueChange:U=>S(U),children:[e.jsx(Wt,{children:e.jsx(Xt,{})}),e.jsxs(Yt,{children:[e.jsx(Ee,{value:"tier1",children:"Tier 1 (Metro Cities)"}),e.jsx(Ee,{value:"tier2",children:"Tier 2 (Major Cities)"}),e.jsx(Ee,{value:"tier3",children:"Tier 3 (Smaller Cities)"})]})]})]})]}),e.jsxs(ee,{onClick:W,disabled:V,className:"w-full",children:[V?e.jsx(Dh,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(Gd,{className:"h-4 w-4 mr-2"}),V?"Calculating ROI...":"Recalculate ROI"]})]})]}),O.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs(de,{children:[e.jsx(Me,{children:e.jsx(Fe,{children:"ROI Scenarios"})}),e.jsx(fe,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:O.map(U=>{var J;return e.jsxs("button",{onClick:()=>K(U.name.toLowerCase()),className:`p-4 border rounded-lg text-left transition-colors ${D===U.name.toLowerCase()?"border-primary bg-primary/5":"border-muted hover:bg-muted/50"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(Be,{className:Z(U.name),children:U.name}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[U.probability,"% probability"]})]}),e.jsxs("div",{className:"text-2xl font-bold",children:[(J=U.projections[U.projections.length-1])==null?void 0:J.cumulativeROI.toFixed(1),"%"]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"5-year ROI"})]},U.name)})})})]}),ie&&e.jsxs(de,{children:[e.jsx(Me,{children:e.jsxs(Fe,{className:"flex items-center justify-between",children:[e.jsxs("span",{children:[ie.name," Scenario"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(ee,{variant:"outline",size:"sm",children:[e.jsx(oi,{className:"h-4 w-4 mr-2"}),"Export"]}),e.jsxs(ee,{variant:"outline",size:"sm",children:[e.jsx(xp,{className:"h-4 w-4 mr-2"}),"Share"]})]})]})}),e.jsxs(fe,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[q.toFixed(1),"%"]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"5-Year ROI"})]}),e.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold",children:ce?`${ce} years`:"N/A"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Break-even"})]}),e.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold",children:["",(((ne=ie.projections[0])==null?void 0:ne.revenue)/1e5).toFixed(1),"L"]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Year 1 Revenue"})]}),e.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold",children:["",(((re=ie.projections[0])==null?void 0:re.netIncome)/1e5).toFixed(1),"L"]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Year 1 Profit"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold",children:"5-Year Financial Projections"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left p-2",children:"Year"}),e.jsx("th",{className:"text-right p-2",children:"Revenue"}),e.jsx("th",{className:"text-right p-2",children:"Expenses"}),e.jsx("th",{className:"text-right p-2",children:"Net Income"}),e.jsx("th",{className:"text-right p-2",children:"Cumulative ROI"})]})}),e.jsx("tbody",{children:ie.projections.map(U=>e.jsxs("tr",{className:"border-b",children:[e.jsxs("td",{className:"p-2 font-medium",children:["Year ",U.year]}),e.jsxs("td",{className:"text-right p-2",children:["",(U.revenue/1e5).toFixed(1),"L"]}),e.jsxs("td",{className:"text-right p-2",children:["",(U.expenses/1e5).toFixed(1),"L"]}),e.jsx("td",{className:"text-right p-2",children:e.jsxs("span",{className:U.netIncome>=0?"text-green-600":"text-red-600",children:["",(U.netIncome/1e5).toFixed(1),"L"]})}),e.jsx("td",{className:"text-right p-2",children:e.jsxs("span",{className:U.cumulativeROI>=0?"text-green-600":"text-red-600",children:[U.cumulativeROI.toFixed(1),"%"]})})]},U.year))})]})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[e.jsx(sp,{className:"h-4 w-4"}),"Key Assumptions"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:ie.assumptions.map((U,J)=>e.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[e.jsx(Lt,{className:"h-4 w-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:U})]},J))})]}),e.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(sp,{className:"h-5 w-5 text-blue-600"}),e.jsx("h4",{className:"font-semibold text-blue-800",children:"AI Insights"})]}),e.jsxs("div",{className:"space-y-2 text-sm text-blue-700",children:[e.jsxs("p",{children:["Based on industry benchmarks and location analysis, this franchise shows",e.jsxs("strong",{children:[" ",q>20?"strong":q>10?"moderate":"limited"," ","ROI potential"]}),"."]}),e.jsxs("p",{children:["The break-even period of ",ce," years is",e.jsxs("strong",{children:[" ",ce&&ce<=2?"excellent":ce&&ce<=3?"good":"average"]}),"for this industry segment."]}),e.jsx("p",{children:"Consider factors like local competition, market saturation, and your operational experience when evaluating this opportunity."})]})]})]})]})]}),V&&e.jsx(de,{children:e.jsx(fe,{className:"py-12",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx(Dh,{className:"h-12 w-12 text-primary mx-auto animate-spin"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"Calculating ROI Projections"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Analyzing market data and industry benchmarks..."})]}),e.jsx(On,{value:75,className:"w-64 mx-auto"})]})})})]})}const cX={type:"fixed",baseTiers:[{id:"base",minRevenue:0,percentage:6,description:"Standard royalty rate"}],marketingFee:{type:"percentage",value:2},performanceIncentives:{enabled:!1,bonusThreshold:5e6,bonusReduction:1},volumeDiscounts:{enabled:!1,multiUnitDiscount:.5,loyaltyDiscount:.25}};function dX({initialSchedule:n=cX,onScheduleChange:t,className:s}){var A,C,P,S,O,z;const[r,i]=w.useState(n),[a,l]=w.useState({}),[c,u]=w.useState(24e5);w.useEffect(()=>{t==null||t(r)},[r,t]);const m=()=>{if(a.minRevenue&&a.percentage){const V={id:`tier-${Date.now()}`,minRevenue:a.minRevenue,maxRevenue:a.maxRevenue,percentage:a.percentage,description:a.description||""};i(B=>({...B,baseTiers:[...B.baseTiers,V].sort((D,K)=>D.minRevenue-K.minRevenue)})),l({})}},g=V=>{i(B=>({...B,baseTiers:B.baseTiers.filter(D=>D.id!==V)}))},p=(V,B)=>{i(D=>({...D,baseTiers:D.baseTiers.map(K=>K.id===V?{...K,...B}:K)}))},y=V=>{var B;if(r.type==="fixed"){const D=((B=r.baseTiers[0])==null?void 0:B.percentage)||0;return{amount:V*(D/100),rate:D,tier:r.baseTiers[0]}}if(r.type==="tiered"){let D=0,K=0,H;for(const $ of r.baseTiers){const W=$.minRevenue,Q=$.maxRevenue||1/0;if(V>W){const Z=Math.min(V,Q)-W;Z>0&&(D+=Z*($.percentage/100),H=$)}}return K=V>0?D/V*100:0,{amount:D,rate:K,tier:H}}return{amount:0,rate:0}},x=V=>r.marketingFee.type==="fixed"?r.marketingFee.value:V*(r.marketingFee.value/100),_=y(c),j=x(c);return e.jsxs("div",{className:`space-y-6 ${s}`,children:[e.jsxs(de,{children:[e.jsx(Me,{children:e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(Hd,{className:"h-5 w-5"}),"Royalty Structure"]})}),e.jsxs(fe,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Royalty Type"}),e.jsxs(Jt,{value:r.type,onValueChange:V=>i(B=>({...B,type:V})),children:[e.jsx(Wt,{children:e.jsx(Xt,{})}),e.jsxs(Yt,{children:[e.jsx(Ee,{value:"fixed",children:"Fixed Percentage"}),e.jsx(Ee,{value:"tiered",children:"Tiered Structure"}),e.jsx(Ee,{value:"performance_based",children:"Performance Based"})]})]})]}),r.type==="fixed"&&e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"fixed-royalty",children:"Royalty Percentage (%)"}),e.jsx(Ue,{id:"fixed-royalty",type:"number",step:"0.1",value:((A=r.baseTiers[0])==null?void 0:A.percentage)||0,onChange:V=>{var B;return p(((B=r.baseTiers[0])==null?void 0:B.id)||"base",{percentage:Number(V.target.value)})},placeholder:"6.0"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"fixed-description",children:"Description"}),e.jsx(Ue,{id:"fixed-description",value:((C=r.baseTiers[0])==null?void 0:C.description)||"",onChange:V=>{var B;return p(((B=r.baseTiers[0])==null?void 0:B.id)||"base",{description:V.target.value})},placeholder:"Standard royalty rate"})]})]})}),r.type==="tiered"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(ve,{children:"Royalty Tiers"}),r.baseTiers.map((V,B)=>e.jsxs("div",{className:"p-4 border rounded-lg space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(Be,{variant:"outline",children:["Tier ",B+1]}),r.baseTiers.length>1&&e.jsx(ee,{variant:"outline",size:"sm",onClick:()=>g(V.id),children:e.jsx(Vo,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Min Revenue ()"}),e.jsx(Ue,{type:"number",value:V.minRevenue,onChange:D=>p(V.id,{minRevenue:Number(D.target.value)}),placeholder:"0"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Max Revenue ()"}),e.jsx(Ue,{type:"number",value:V.maxRevenue||"",onChange:D=>p(V.id,{maxRevenue:D.target.value?Number(D.target.value):void 0}),placeholder:"No limit"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Royalty (%)"}),e.jsx(Ue,{type:"number",step:"0.1",value:V.percentage,onChange:D=>p(V.id,{percentage:Number(D.target.value)}),placeholder:"6.0"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Description"}),e.jsx(Ue,{value:V.description||"",onChange:D=>p(V.id,{description:D.target.value}),placeholder:"Tier description..."})]})]},V.id))]}),e.jsxs("div",{className:"p-4 border-2 border-dashed rounded-lg space-y-3",children:[e.jsx(ve,{children:"Add New Tier"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Min Revenue ()"}),e.jsx(Ue,{type:"number",value:a.minRevenue||"",onChange:V=>l(B=>({...B,minRevenue:Number(V.target.value)})),placeholder:"5000000"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Max Revenue ()"}),e.jsx(Ue,{type:"number",value:a.maxRevenue||"",onChange:V=>l(B=>({...B,maxRevenue:V.target.value?Number(V.target.value):void 0})),placeholder:"Optional"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Royalty (%)"}),e.jsx(Ue,{type:"number",step:"0.1",value:a.percentage||"",onChange:V=>l(B=>({...B,percentage:Number(V.target.value)})),placeholder:"5.0"})]})]}),e.jsxs(ee,{onClick:m,disabled:!a.minRevenue||!a.percentage,className:"w-full",children:[e.jsx(la,{className:"h-4 w-4 mr-2"}),"Add Tier"]})]})]})]})]}),e.jsxs(de,{children:[e.jsx(Me,{children:e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(Os,{className:"h-5 w-5"}),"Marketing Fee Structure"]})}),e.jsxs(fe,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Marketing Fee Type"}),e.jsxs(Jt,{value:r.marketingFee.type,onValueChange:V=>i(B=>({...B,marketingFee:{...B.marketingFee,type:V}})),children:[e.jsx(Wt,{children:e.jsx(Xt,{})}),e.jsxs(Yt,{children:[e.jsx(Ee,{value:"percentage",children:"Percentage of Revenue"}),e.jsx(Ee,{value:"fixed",children:"Fixed Monthly Amount"}),e.jsx(Ee,{value:"tiered",children:"Tiered Structure"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"marketing-value",children:r.marketingFee.type==="percentage"?"Percentage (%)":"Monthly Amount ()"}),e.jsx(Ue,{id:"marketing-value",type:"number",step:r.marketingFee.type==="percentage"?"0.1":"1000",value:r.marketingFee.value,onChange:V=>i(B=>({...B,marketingFee:{...B.marketingFee,value:Number(V.target.value)}})),placeholder:r.marketingFee.type==="percentage"?"2.0":"50000"})]})]})]}),e.jsxs(de,{children:[e.jsx(Me,{children:e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(Gd,{className:"h-5 w-5"}),"Performance Incentives"]})}),e.jsxs(fe,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ln,{id:"performance-incentives",checked:(P=r.performanceIncentives)==null?void 0:P.enabled,onCheckedChange:V=>i(B=>({...B,performanceIncentives:{...B.performanceIncentives,enabled:!!V}}))}),e.jsx(ve,{htmlFor:"performance-incentives",children:"Enable Performance Incentives"})]}),((S=r.performanceIncentives)==null?void 0:S.enabled)&&e.jsxs("div",{className:"ml-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"bonus-threshold",children:"Performance Threshold ()"}),e.jsx(Ue,{id:"bonus-threshold",type:"number",value:r.performanceIncentives.bonusThreshold,onChange:V=>i(B=>({...B,performanceIncentives:{...B.performanceIncentives,bonusThreshold:Number(V.target.value)}})),placeholder:"5000000"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"bonus-reduction",children:"Royalty Reduction (%)"}),e.jsx(Ue,{id:"bonus-reduction",type:"number",step:"0.1",value:r.performanceIncentives.bonusReduction,onChange:V=>i(B=>({...B,performanceIncentives:{...B.performanceIncentives,bonusReduction:Number(V.target.value)}})),placeholder:"1.0"})]})]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Franchisees exceeding ",r.performanceIncentives.bonusThreshold.toLocaleString(),"annual revenue receive a"," ",r.performanceIncentives.bonusReduction,"% royalty reduction."]})]})]})]}),e.jsxs(de,{children:[e.jsx(Me,{children:e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(zi,{className:"h-5 w-5"}),"Volume Discounts"]})}),e.jsxs(fe,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ln,{id:"volume-discounts",checked:(O=r.volumeDiscounts)==null?void 0:O.enabled,onCheckedChange:V=>i(B=>({...B,volumeDiscounts:{...B.volumeDiscounts,enabled:!!V}}))}),e.jsx(ve,{htmlFor:"volume-discounts",children:"Enable Volume Discounts"})]}),((z=r.volumeDiscounts)==null?void 0:z.enabled)&&e.jsxs("div",{className:"ml-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"multi-unit-discount",children:"Multi-Unit Discount (%)"}),e.jsx(Ue,{id:"multi-unit-discount",type:"number",step:"0.1",value:r.volumeDiscounts.multiUnitDiscount,onChange:V=>i(B=>({...B,volumeDiscounts:{...B.volumeDiscounts,multiUnitDiscount:Number(V.target.value)}})),placeholder:"0.5"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"loyalty-discount",children:"Loyalty Discount (%)"}),e.jsx(Ue,{id:"loyalty-discount",type:"number",step:"0.1",value:r.volumeDiscounts.loyaltyDiscount,onChange:V=>i(B=>({...B,volumeDiscounts:{...B.volumeDiscounts,loyaltyDiscount:Number(V.target.value)}})),placeholder:"0.25"})]})]}),e.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsxs("p",{children:[" Multi-unit operators receive"," ",r.volumeDiscounts.multiUnitDiscount,"% royalty reduction"]}),e.jsxs("p",{children:[" Franchisees with 5+ years receive"," ",r.volumeDiscounts.loyaltyDiscount,"% loyalty discount"]})]})]})]})]}),e.jsxs(de,{children:[e.jsx(Me,{children:e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(Hd,{className:"h-5 w-5"}),"Royalty Simulation"]})}),e.jsxs(fe,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"simulation-revenue",children:"Annual Revenue ()"}),e.jsx(Ue,{id:"simulation-revenue",type:"number",value:c,onChange:V=>u(Number(V.target.value)),placeholder:"2400000"})]}),e.jsx(cr,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-primary",children:[_.rate.toFixed(2),"%"]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Effective Royalty Rate"})]}),e.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold",children:["",(_.amount/1e5).toFixed(1),"L"]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Annual Royalty"})]}),e.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold",children:["",(j/1e5).toFixed(1),"L"]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Marketing Fee"})]})]}),e.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ag,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"font-medium text-blue-800",children:"Calculation Details"})]}),e.jsxs("div",{className:"text-sm text-blue-700 space-y-1",children:[e.jsxs("p",{children:["Revenue: ",c.toLocaleString()]}),e.jsxs("p",{children:["Royalty: ",_.amount.toLocaleString()," (",_.rate.toFixed(2),"%)"]}),e.jsxs("p",{children:["Marketing Fee: ",j.toLocaleString()]}),e.jsxs("p",{children:["Total Fees: ",(_.amount+j).toLocaleString()]})]})]})]})]})]})]})}const pC=["Franchise Fee","Equipment & Fixtures","Leasehold Improvements","Initial Inventory","Working Capital","Marketing & Signage","Training & Travel","Professional Fees","Insurance & Deposits","Technology & Software","Other"],gC=[{id:"sbi-loan",name:"SBI Business Loan",provider:"State Bank of India",interestRate:11.5,termMonths:84,maxAmount:5e6,description:"Collateral-based business loan for franchise setup"},{id:"hdfc-equipment",name:"HDFC Equipment Finance",provider:"HDFC Bank",interestRate:12,termMonths:60,maxAmount:3e6,description:"Equipment financing with equipment as collateral"},{id:"icici-working-capital",name:"ICICI Working Capital Loan",provider:"ICICI Bank",interestRate:13.5,termMonths:36,maxAmount:15e5,description:"Unsecured working capital for initial operations"}];function uX({initialItems:n=[],franchiseFee:t=8e5,onBreakdownChange:s,className:r}){const[i,a]=w.useState(n.length>0?n:[{id:"franchise-fee",category:"Franchise Fee",name:"Initial Franchise Fee",amount:t,isRequired:!0,paymentTiming:"upfront",description:"One-time franchise licensing fee"}]),[l,c]=w.useState({category:"Equipment & Fixtures",isRequired:!0,paymentTiming:"upfront"}),[u,m]=w.useState(!1),[g,p]=w.useState([]),y=i.reduce((z,V)=>z+V.amount,0),x=i.filter(z=>z.isRequired).reduce((z,V)=>z+V.amount,0);w.useEffect(()=>{s==null||s(i,y)},[i,y,s]);const _=()=>{if(l.name&&l.amount&&l.category){const z={id:`item-${Date.now()}`,category:l.category,name:l.name,amount:l.amount,isRequired:l.isRequired||!1,description:l.description||"",financingAvailable:l.financingAvailable||!1,paymentTiming:l.paymentTiming||"upfront"};a(V=>[...V,z]),c({category:"Equipment & Fixtures",isRequired:!0,paymentTiming:"upfront"})}},j=z=>{a(V=>V.filter(B=>B.id!==z))},A=(z,V)=>{a(B=>B.map(D=>D.id===z?{...D,...V}:D))},C=z=>i.filter(V=>V.category===z).reduce((V,B)=>V+B.amount,0),P=z=>{const V=C(z);return y>0?V/y*100:0},S=()=>g.reduce((z,V)=>{const B=gC.find(D=>D.id===V);return z+((B==null?void 0:B.maxAmount)||0)},0),O=(z,V,B)=>{const D=V/100/12;return z*D*Math.pow(1+D,B)/(Math.pow(1+D,B)-1)};return e.jsxs("div",{className:`space-y-6 ${r}`,children:[e.jsxs(de,{children:[e.jsx(Me,{children:e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(h7,{className:"h-5 w-5"}),"Investment Summary"]})}),e.jsxs(fe,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-primary",children:["",(y/1e5).toFixed(1),"L"]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Investment"})]}),e.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:["",(x/1e5).toFixed(1),"L"]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Required Investment"})]}),e.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["",((y-x)/1e5).toFixed(1),"L"]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Optional Investment"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold",children:"Investment by Category"}),pC.map(z=>{const V=C(z),B=P(z);return V===0?null:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:z}),e.jsxs("span",{className:"text-sm",children:["",(V/1e5).toFixed(1),"L (",B.toFixed(1),"%)"]})]}),e.jsx(On,{value:B,className:"h-2"})]},z)})]})]})]}),e.jsxs(de,{children:[e.jsx(Me,{children:e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(Hd,{className:"h-5 w-5"}),"Investment Breakdown"]})}),e.jsxs(fe,{className:"space-y-4",children:[e.jsx("div",{className:"space-y-3",children:i.map(z=>e.jsxs("div",{className:"p-4 border rounded-lg space-y-3",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"font-medium",children:z.name}),e.jsx(Be,{variant:z.isRequired?"default":"secondary",children:z.isRequired?"Required":"Optional"}),e.jsx(Be,{variant:"outline",children:z.category})]}),z.description&&e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:z.description}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("span",{children:["Payment: ",z.paymentTiming]}),z.financingAvailable&&e.jsx("span",{className:"text-green-600",children:"Financing Available"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"font-semibold",children:["",z.amount.toLocaleString()]})}),e.jsx(ee,{variant:"outline",size:"sm",onClick:()=>j(z.id),disabled:z.id==="franchise-fee",children:e.jsx(Vo,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Amount ()"}),e.jsx(Ue,{type:"number",value:z.amount,onChange:V=>A(z.id,{amount:Number(V.target.value)})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Payment Timing"}),e.jsxs("select",{className:"w-full p-2 border rounded-md",value:z.paymentTiming,onChange:V=>A(z.id,{paymentTiming:V.target.value}),children:[e.jsx("option",{value:"upfront",children:"Upfront"}),e.jsx("option",{value:"monthly",children:"Monthly"}),e.jsx("option",{value:"quarterly",children:"Quarterly"}),e.jsx("option",{value:"annual",children:"Annual"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Options"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ln,{id:`required-${z.id}`,checked:z.isRequired,onCheckedChange:V=>A(z.id,{isRequired:!!V}),disabled:z.id==="franchise-fee"}),e.jsx(ve,{htmlFor:`required-${z.id}`,className:"text-sm",children:"Required"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ln,{id:`financing-${z.id}`,checked:z.financingAvailable,onCheckedChange:V=>A(z.id,{financingAvailable:!!V})}),e.jsx(ve,{htmlFor:`financing-${z.id}`,className:"text-sm",children:"Financing"})]})]})]})]})]},z.id))}),e.jsxs("div",{className:"p-4 border-2 border-dashed rounded-lg space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Add Investment Item"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Category"}),e.jsx("select",{className:"w-full p-2 border rounded-md",value:l.category,onChange:z=>c(V=>({...V,category:z.target.value})),children:pC.map(z=>e.jsx("option",{value:z,children:z},z))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Item Name"}),e.jsx(Ue,{value:l.name||"",onChange:z=>c(V=>({...V,name:z.target.value})),placeholder:"e.g., Kitchen Equipment"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Amount ()"}),e.jsx(Ue,{type:"number",value:l.amount||"",onChange:z=>c(V=>({...V,amount:Number(z.target.value)})),placeholder:"500000"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Payment Timing"}),e.jsxs("select",{className:"w-full p-2 border rounded-md",value:l.paymentTiming,onChange:z=>c(V=>({...V,paymentTiming:z.target.value})),children:[e.jsx("option",{value:"upfront",children:"Upfront"}),e.jsx("option",{value:"monthly",children:"Monthly"}),e.jsx("option",{value:"quarterly",children:"Quarterly"}),e.jsx("option",{value:"annual",children:"Annual"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Description"}),e.jsx(_n,{value:l.description||"",onChange:z=>c(V=>({...V,description:z.target.value})),placeholder:"Brief description of this investment item...",rows:2})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ln,{id:"new-required",checked:l.isRequired,onCheckedChange:z=>c(V=>({...V,isRequired:!!z}))}),e.jsx(ve,{htmlFor:"new-required",children:"Required"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ln,{id:"new-financing",checked:l.financingAvailable,onCheckedChange:z=>c(V=>({...V,financingAvailable:!!z}))}),e.jsx(ve,{htmlFor:"new-financing",children:"Financing Available"})]})]}),e.jsxs(ee,{onClick:_,disabled:!l.name||!l.amount,className:"w-full",children:[e.jsx(la,{className:"h-4 w-4 mr-2"}),"Add Investment Item"]})]})]})]}),e.jsxs(de,{children:[e.jsx(Me,{children:e.jsxs(Fe,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Os,{className:"h-5 w-5"}),"Financing Options"]}),e.jsxs(ee,{variant:"outline",onClick:()=>m(!u),children:[u?"Hide":"Show"," Financing"]})]})}),u&&e.jsxs(fe,{className:"space-y-4",children:[e.jsx("div",{className:"space-y-3",children:gC.map(z=>e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ln,{id:z.id,checked:g.includes(z.id),onCheckedChange:V=>{p(V?B=>[...B,z.id]:B=>B.filter(D=>D!==z.id))}}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:z.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:z.provider})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-semibold",children:["",(z.maxAmount/1e5).toFixed(1),"L max"]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[z.interestRate,"%  ",z.termMonths," months"]})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:z.description}),g.includes(z.id)&&e.jsx("div",{className:"p-3 bg-muted rounded-lg",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Monthly EMI: "}),"",O(z.maxAmount,z.interestRate,z.termMonths).toLocaleString()]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Total Interest: "}),"",(O(z.maxAmount,z.interestRate,z.termMonths)*z.termMonths-z.maxAmount).toLocaleString()]})]})})]},z.id))}),g.length>0&&e.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Lt,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"font-medium text-green-800",children:"Financing Summary"})]}),e.jsxs("div",{className:"text-sm text-green-700",children:[e.jsxs("p",{children:["Total financing available: ",(S()/1e5).toFixed(1),"L"]}),e.jsxs("p",{children:["Self-funding required: ",Math.max(0,(y-S())/1e5).toFixed(1),"L"]})]})]})]})]}),e.jsxs(de,{children:[e.jsx(Me,{children:e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(oi,{className:"h-5 w-5"}),"Export Investment Plan"]})}),e.jsx(fe,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(ee,{variant:"outline",children:[e.jsx(oi,{className:"h-4 w-4 mr-2"}),"Download PDF"]}),e.jsxs(ee,{variant:"outline",children:[e.jsx(oi,{className:"h-4 w-4 mr-2"}),"Export Excel"]})]})})]})]})}const Lf=[{id:"brand-overview",title:"Brand Overview",description:"Basic brand information and outlet details",icon:Zs},{id:"description",title:"Brand Description",description:"Detailed brand story and unique selling points",icon:_s},{id:"investment",title:"Investment & Financials",description:"Investment requirements and financial projections",icon:zi},{id:"support",title:"Support & Training",description:"Training programs and ongoing support details",icon:gn},{id:"territory",title:"Territory & Requirements",description:"Available territories and demographic requirements",icon:Ln},{id:"franchisee-profile",title:"Franchisee Profile",description:"Ideal franchisee characteristics and requirements",icon:gn},{id:"media",title:"Media & Documents",description:"Brand assets and legal documentation",icon:ml},{id:"contact",title:"Contact & Legal",description:"Contact information and legal details",icon:Um},{id:"publishing",title:"Publishing Settings",description:"Listing visibility and contact preferences",icon:dn}];function hX({initialData:n,onSave:t,onSubmit:s,onPreview:r,className:i}){var Z,ie,q;const[a,l]=w.useState(0),[c,u]=w.useState(new Set),[m,g]=w.useState(!1),[p,y]=w.useState(!1),[x,_]=w.useState(null),j=A2({resolver:k2(JJ),defaultValues:n||{},mode:"onChange"}),{watch:A,formState:{errors:C,isValid:P}}=j,S=A();w.useEffect(()=>{const ce=setTimeout(()=>{t&&Object.keys(S).length>0&&(t(S,!0),_(new Date))},3e3);return()=>clearTimeout(ce)},[S,t]);const O=()=>{a<Lf.length-1&&(u(ce=>new Set([...ce,a])),l(a+1))},z=()=>{a>0&&l(a-1)},V=ce=>{l(ce)},B=()=>{t&&(t(S,!0),_(new Date))},D=()=>{r&&r(S)},K=()=>{P&&s&&s(S)},H=ce=>{y(!0),g(!1)},$=(a+1)/Lf.length*100,W=Lf[a],Q=()=>{var ce,te,oe,ne,re,U,J,se;switch(W.id){case"brand-overview":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"brandName",children:"Brand Name *"}),e.jsx(Ue,{id:"brandName",...j.register("brandOverview.brandName"),placeholder:"Enter your brand name"}),((ce=C.brandOverview)==null?void 0:ce.brandName)&&e.jsx("p",{className:"text-sm text-red-600",children:C.brandOverview.brandName.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"tagline",children:"Brand Tagline *"}),e.jsx(Ue,{id:"tagline",...j.register("brandOverview.tagline"),placeholder:"Your brand's compelling tagline"}),((te=C.brandOverview)==null?void 0:te.tagline)&&e.jsx("p",{className:"text-sm text-red-600",children:C.brandOverview.tagline.message})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Industry *"}),e.jsxs(Jt,{children:[e.jsx(Wt,{children:e.jsx(Xt,{placeholder:"Select industry"})}),e.jsx(Yt,{children:XJ.map(ue=>e.jsx(Ee,{value:ue.value,children:ue.label},ue.value))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Business Model *"}),e.jsxs(Jt,{children:[e.jsx(Wt,{children:e.jsx(Xt,{placeholder:"Select business model"})}),e.jsx(Yt,{children:QJ.map(ue=>e.jsx(Ee,{value:ue.value,children:ue.label},ue.value))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"yearEstablished",children:"Year Established *"}),e.jsx(Ue,{id:"yearEstablished",type:"number",...j.register("brandOverview.yearEstablished",{valueAsNumber:!0}),placeholder:"2020"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"totalOutlets",children:"Total Outlets *"}),e.jsx(Ue,{id:"totalOutlets",type:"number",...j.register("brandOverview.totalOutlets",{valueAsNumber:!0}),placeholder:"50"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"companyOutlets",children:"Company Outlets"}),e.jsx(Ue,{id:"companyOutlets",type:"number",...j.register("brandOverview.companyOutlets",{valueAsNumber:!0}),placeholder:"10"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"franchiseOutlets",children:"Franchise Outlets"}),e.jsx(Ue,{id:"franchiseOutlets",type:"number",...j.register("brandOverview.franchiseOutlets",{valueAsNumber:!0}),placeholder:"40"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"website",children:"Website URL"}),e.jsx(Ue,{id:"website",type:"url",...j.register("brandOverview.website"),placeholder:"https://yourbrand.com"})]})]});case"investment":return e.jsxs("div",{className:"space-y-6",children:[!p&&e.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ea,{className:"h-5 w-5 text-yellow-600"}),e.jsx("h3",{className:"font-medium text-yellow-800",children:"Financial Information Protected"})]}),e.jsx("p",{className:"text-sm text-yellow-700 mb-3",children:"This section contains sensitive financial information. Please sign an NDA to proceed."}),e.jsx(ee,{onClick:()=>g(!0),variant:"outline",size:"sm",children:"Sign NDA to Continue"})]}),p&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-semibold text-lg",children:"Basic Investment Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"franchiseFee",children:"Franchise Fee () *"}),e.jsx(Ue,{id:"franchiseFee",type:"number",...j.register("investment.franchiseFee",{valueAsNumber:!0}),placeholder:"800000"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"liquidCapital",children:"Liquid Capital Required () *"}),e.jsx(Ue,{id:"liquidCapital",type:"number",...j.register("investment.liquidCapitalRequired",{valueAsNumber:!0}),placeholder:"1500000"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(ve,{children:"Total Investment Range () *"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"minInvestment",children:"Minimum"}),e.jsx(Ue,{id:"minInvestment",type:"number",...j.register("investment.totalInvestment.min",{valueAsNumber:!0}),placeholder:"2500000"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"maxInvestment",children:"Maximum"}),e.jsx(Ue,{id:"maxInvestment",type:"number",...j.register("investment.totalInvestment.max",{valueAsNumber:!0}),placeholder:"4000000"})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-semibold text-lg",children:"Royalty & Fee Structure"}),e.jsx(dX,{onScheduleChange:ue=>{j.setValue("investment.royaltyStructure",ue)}})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-semibold text-lg",children:"Detailed Investment Breakdown"}),e.jsx(uX,{franchiseFee:((oe=S.investment)==null?void 0:oe.franchiseFee)||8e5,onBreakdownChange:(ue,be)=>{j.setValue("investment.investmentBreakdown",ue)}})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-semibold text-lg",children:"ROI Projections & Analysis"}),e.jsx(lX,{initialInvestment:((re=(ne=S.investment)==null?void 0:ne.totalInvestment)==null?void 0:re.min)||25e5,franchiseFee:((U=S.investment)==null?void 0:U.franchiseFee)||8e5,royaltyPercentage:6,marketingFeePercentage:2,industryType:"food-beverage",locationTier:"tier2",onROIChange:ue=>{j.setValue("investment.roiProjections",{scenarios:ue})}})]})]})]});case"support":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"trainingDuration",children:"Initial Training Duration (Days) *"}),e.jsx(Ue,{id:"trainingDuration",type:"number",...j.register("support.initialTrainingDuration",{valueAsNumber:!0}),placeholder:"21"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(ve,{children:"Ongoing Support Types *"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:eX.map(ue=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ln,{id:ue}),e.jsx(ve,{htmlFor:ue,className:"text-sm",children:ue})]},ue))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(ve,{children:"Marketing Support *"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:tX.map(ue=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ln,{id:ue}),e.jsx(ve,{htmlFor:ue,className:"text-sm",children:ue})]},ue))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"qualityAssurance",children:"Quality Assurance Process *"}),e.jsx(_n,{id:"qualityAssurance",...j.register("support.qualityAssurance"),placeholder:"Describe your quality assurance and monitoring processes...",rows:4})]})]});case"territory":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-semibold text-lg",children:"Territory Selection & Management"}),e.jsx(iX,{onTerritoriesChange:ue=>{j.setValue("territory.selectedTerritories",ue)},onProtectedTerritoryChange:ue=>{j.setValue("territory.protectedTerritoryEnabled",ue)}})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-semibold text-lg",children:"Multi-Unit Development Options"}),e.jsxs("div",{className:"p-4 border rounded-lg space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ln,{id:"multi-unit-enabled",...j.register("territory.multiUnitDevelopment.enabled")}),e.jsx(ve,{htmlFor:"multi-unit-enabled",className:"font-medium",children:"Enable Multi-Unit Development Rights"})]}),((se=(J=S.territory)==null?void 0:J.multiUnitDevelopment)==null?void 0:se.enabled)&&e.jsxs("div",{className:"ml-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"minimum-units",children:"Minimum Units Required"}),e.jsx(Ue,{id:"minimum-units",type:"number",...j.register("territory.multiUnitDevelopment.minimumUnits",{valueAsNumber:!0}),placeholder:"3"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"development-timeline",children:"Development Timeline"}),e.jsx(Ue,{id:"development-timeline",...j.register("territory.multiUnitDevelopment.developmentTimeline"),placeholder:"36 months"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"additional-incentives",children:"Additional Incentives"}),e.jsx(_n,{id:"additional-incentives",...j.register("territory.multiUnitDevelopment.additionalIncentives"),placeholder:"Describe any additional incentives for multi-unit developers...",rows:3})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"territory-size",children:"Territory Size Description *"}),e.jsx(Ue,{id:"territory-size",...j.register("territory.territorySize"),placeholder:"e.g., 5km radius, City center, District-wide"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"population-requirement",children:"Minimum Population"}),e.jsx(Ue,{id:"population-requirement",type:"number",...j.register("territory.populationRequirement",{valueAsNumber:!0}),placeholder:"100000"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"demographic-profile",children:"Target Demographic Profile *"}),e.jsx(_n,{id:"demographic-profile",...j.register("territory.demographicProfile"),placeholder:"Describe the ideal demographic profile for this franchise...",rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"competition-analysis",children:"Competition Analysis *"}),e.jsx(_n,{id:"competition-analysis",...j.register("territory.competitionAnalysis"),placeholder:"Analyze the competitive landscape in target territories...",rows:3})]})]});case"publishing":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"listingTitle",children:"Listing Title *"}),e.jsx(Ue,{id:"listingTitle",...j.register("publishing.listingTitle"),placeholder:"Profitable Food Franchise - Prime Locations Available"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(ve,{children:"Listing Visibility *"}),e.jsxs(Jt,{children:[e.jsx(Wt,{children:e.jsx(Xt,{placeholder:"Select visibility"})}),e.jsxs(Yt,{children:[e.jsx(Ee,{value:"public",children:"Public - Visible to all users"}),e.jsx(Ee,{value:"verified_only",children:"Verified Users Only"}),e.jsx(Ee,{value:"private",children:"Private - By invitation only"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(ve,{children:"Listing Options"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ln,{id:"featured"}),e.jsx(ve,{htmlFor:"featured",children:"Featured Listing (+5,000/month)"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ln,{id:"urgent"}),e.jsx(ve,{htmlFor:"urgent",children:"Urgent Listing Badge (+2,000/month)"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(ve,{children:"Contact Preferences"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ln,{id:"directContact"}),e.jsx(ve,{htmlFor:"directContact",children:"Allow direct contact from interested parties"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ln,{id:"requireNDA"}),e.jsx(ve,{htmlFor:"requireNDA",children:"Require NDA before sharing detailed information"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(ve,{children:"Legal Agreements *"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ln,{id:"termsAccepted"}),e.jsx(ve,{htmlFor:"termsAccepted",children:"I accept the Terms of Service and Privacy Policy"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ln,{id:"verificationConsent"}),e.jsx(ve,{htmlFor:"verificationConsent",children:"I consent to franchise verification process"})]})]})]})]});default:return e.jsx("div",{className:"text-center py-8",children:e.jsxs("p",{className:"text-muted-foreground",children:["Step content for ",W.title," coming soon..."]})})}};return e.jsxs("div",{className:`max-w-4xl mx-auto ${i}`,children:[e.jsx(de,{className:"mb-6",children:e.jsxs(Me,{className:"pb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx(Fe,{className:"text-2xl",children:"Create Franchise Listing"}),e.jsxs(ms,{children:["Step ",a+1," of ",Lf.length,":"," ",W.title]})]}),x&&e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Last saved: ",x.toLocaleTimeString()]})]}),e.jsx(On,{value:$,className:"w-full"})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(de,{children:[e.jsx(Me,{children:e.jsx(Fe,{className:"text-lg",children:"Steps"})}),e.jsx(fe,{className:"space-y-2",children:Lf.map((ce,te)=>{const oe=ce.icon,ne=c.has(te),re=te===a;return e.jsx("button",{onClick:()=>V(te),className:`w-full text-left p-3 rounded-lg border transition-colors ${re?"border-primary bg-primary/5":ne?"border-green-200 bg-green-50":"border-muted hover:bg-muted"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${re?"bg-primary text-primary-foreground":ne?"bg-green-500 text-white":"bg-muted"}`,children:ne?e.jsx(Lt,{className:"h-4 w-4"}):e.jsx(oe,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-sm",children:ce.title}),e.jsx("div",{className:"text-xs text-muted-foreground",children:ce.description})]})]})},ce.id)})})]})}),e.jsxs("div",{className:"lg:col-span-3",children:[e.jsxs(de,{children:[e.jsx(Me,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-primary rounded-lg",children:e.jsx(W.icon,{className:"h-5 w-5 text-primary-foreground"})}),e.jsxs("div",{children:[e.jsx(Fe,{children:W.title}),e.jsx(ms,{children:W.description})]})]})}),e.jsx(fe,{children:Q()})]}),e.jsxs("div",{className:"flex items-center justify-between mt-6",children:[e.jsxs(ee,{variant:"outline",onClick:z,disabled:a===0,children:[e.jsx($y,{className:"h-4 w-4 mr-2"}),"Previous"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(ee,{variant:"outline",onClick:B,children:[e.jsx(km,{className:"h-4 w-4 mr-2"}),"Save Draft"]}),e.jsxs(ee,{variant:"outline",onClick:D,children:[e.jsx(dn,{className:"h-4 w-4 mr-2"}),"Preview"]}),a===Lf.length-1?e.jsxs(ee,{onClick:K,disabled:!P,children:[e.jsx(Em,{className:"h-4 w-4 mr-2"}),"Submit Listing"]}):e.jsxs(ee,{onClick:O,children:["Next",e.jsx(Qg,{className:"h-4 w-4 ml-2"})]})]})]})]})]}),e.jsx(LL,{businessData:{name:(Z=S.brandOverview)==null?void 0:Z.brandName,industry:(ie=S.brandOverview)==null?void 0:ie.industry},className:"fixed bottom-6 right-6"}),e.jsx(PL,{isOpen:m,onClose:()=>g(!1),onAccept:H,businessName:((q=S.brandOverview)==null?void 0:q.brandName)||"Franchise Opportunity",sellerName:"Franchise Owner",documentsCount:5})]})}function mX({className:n}){const t=Mn(),{user:s}=Bs(),[r,i]=w.useState(!1),[a,l]=w.useState([]),[c,u]=w.useState(null);w.useEffect(()=>{s||t("/login?redirect=/add-franchise-listing")},[s,t]),w.useEffect(()=>{const j=[{id:"draft-1",brandName:"FreshBite Caf",lastModified:new Date(Date.now()-72e5),completionPercentage:65,data:sX}];l(j)},[]);const m=()=>{u(null),i(!0)},g=j=>{u(j.data),i(!0)},p=(j,A)=>{var C;if(console.log("Saving franchise listing:",{data:j,isDraft:A}),A){const P={id:"current-draft",brandName:((C=j.brandOverview)==null?void 0:C.brandName)||"Untitled Franchise",lastModified:new Date,completionPercentage:_(j),data:j};l(S=>{const O=S.filter(z=>z.id!=="current-draft");return[P,...O]})}},y=async j=>{var A,C,P,S,O,z,V,B,D,K,H,$,W,Q,Z,ie,q,ce,te,oe,ne,re,U,J,se,ue,be,we,Ce,Re,Xe,tt,lt,jt,Et,Je,_e,$t,Dt,ht,je,ke,Pe,it,rt,ut,Nt,Vt,Qt,Gt,fs,At,In,Ts,rn,zs;if(!s){alert("You must be logged in to submit a listing.");return}try{console.log("Submitting franchise listing:",j);const Cs={brand_name:((A=j.brandOverview)==null?void 0:A.brandName)||"",industry:((P=(C=j.brandOverview)==null?void 0:C.industry)==null?void 0:P[0])||"",description:((S=j.description)==null?void 0:S.brandDescription)||"",franchise_fee:((O=j.investment)==null?void 0:O.franchiseFee)||0,total_investment_min:(V=(z=j.investment)==null?void 0:z.totalInvestment)==null?void 0:V.min,total_investment_max:(D=(B=j.investment)==null?void 0:B.totalInvestment)==null?void 0:D.max,royalty_percentage:((W=($=(H=(K=j.investment)==null?void 0:K.royaltyStructure)==null?void 0:H.baseTiers)==null?void 0:$[0])==null?void 0:W.percentage)||0,marketing_fee_percentage:((Z=(Q=j.investment)==null?void 0:Q.marketingFee)==null?void 0:Z.value)||0,established_year:(ie=j.brandOverview)==null?void 0:ie.yearEstablished,total_outlets:(q=j.brandOverview)==null?void 0:q.totalOutlets,company_owned_outlets:(ce=j.brandOverview)==null?void 0:ce.companyOutlets,franchise_outlets:(te=j.brandOverview)==null?void 0:te.franchiseOutlets,headquarters_state:(ne=(oe=j.contact)==null?void 0:oe.companyAddress)==null?void 0:ne.state,headquarters_city:(U=(re=j.contact)==null?void 0:re.companyAddress)==null?void 0:U.city,headquarters_country:((se=(J=j.contact)==null?void 0:J.companyAddress)==null?void 0:se.country)||"India",tagline:(ue=j.brandOverview)==null?void 0:ue.tagline,brand_story:(be=j.description)==null?void 0:be.brandDescription,operating_locations:((we=j.brandOverview)==null?void 0:we.territories)||[],expansion_territories:((Re=(Ce=j.territory)==null?void 0:Ce.selectedTerritories)==null?void 0:Re.map(Us=>Us.name))||[],support_provided:((Xe=j.support)==null?void 0:Xe.ongoingSupport)||[],training_provided:!0,training_duration_days:(tt=j.support)==null?void 0:tt.initialTrainingDuration,marketing_support:(((jt=(lt=j.support)==null?void 0:lt.marketingSupport)==null?void 0:jt.length)||0)>0,minimum_net_worth:(Et=j.investment)==null?void 0:Et.liquidCapitalRequired,minimum_liquid_capital:(Je=j.investment)==null?void 0:Je.liquidCapitalRequired,experience_required:(_e=j.franchiseeProfile)==null?void 0:_e.experienceRequired,average_unit_revenue:(Dt=($t=j.investment)==null?void 0:$t.totalInvestment)==null?void 0:Dt.min,average_unit_profit:(ht=j.investment)==null?void 0:ht.averageROI,payback_period_months:(je=j.investment)==null?void 0:je.breakEvenPeriod,expected_roi_percentage:(ke=j.investment)==null?void 0:ke.averageROI,space_required_sqft:(Pe=j.territory)==null?void 0:Pe.populationRequirement,images:((rt=(it=j.media)==null?void 0:it.outletPhotos)==null?void 0:rt.map(Us=>Us.url))||[],logo_url:(Vt=(Nt=(ut=j.media)==null?void 0:ut.brandLogo)==null?void 0:Nt[0])==null?void 0:Vt.url,contact_email:(Gt=(Qt=j.contact)==null?void 0:Qt.primaryContact)==null?void 0:Gt.email,contact_phone:(At=(fs=j.contact)==null?void 0:fs.primaryContact)==null?void 0:At.phone,contact_person:(Ts=(In=j.contact)==null?void 0:In.primaryContact)==null?void 0:Ts.name,website:(rn=j.brandOverview)==null?void 0:rn.website,highlights:((zs=j.description)==null?void 0:zs.uniqueSellingPoints)||[]},Dr=await Hg.createFranchise(s.id,Cs);console.log(" Franchise listing created:",Dr),alert("Franchise listing submitted successfully! Your listing is now under review. You'll be notified once it's approved."),setTimeout(()=>{t("/profile")},1500)}catch(Cs){console.error("Error submitting franchise listing:",Cs),alert(`Failed to submit franchise listing: ${Cs.message||"Please try again."}`)}},x=j=>{console.log("Previewing franchise listing:",j),alert("Preview functionality - would show franchise listing preview")},_=j=>{const A=[j.brandOverview,j.description,j.investment,j.support,j.territory,j.franchiseeProfile,j.media,j.contact,j.publishing],C=A.filter(P=>P&&Object.keys(P).length>0).length;return Math.round(C/A.length*100)};return r?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx(hX,{initialData:c||void 0,onSave:p,onSubmit:y,onPreview:x})}):e.jsxs("div",{className:`container mx-auto px-4 py-8 ${n}`,children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs("h1",{className:"text-4xl font-bold mb-4",children:["List Your ",e.jsx("span",{className:"text-primary",children:"Franchise Opportunity"})]}),e.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:"Connect with qualified franchisees and expand your brand across India. Our AI-powered platform helps you find the right partners for sustainable growth."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[e.jsxs(de,{className:"text-center",children:[e.jsxs(Me,{children:[e.jsx(gn,{className:"h-12 w-12 text-primary mx-auto mb-4"}),e.jsx(Fe,{children:"Qualified Franchisees"})]}),e.jsx(fe,{children:e.jsx("p",{className:"text-muted-foreground",children:"Access our network of verified, investment-ready franchisees actively seeking opportunities in your industry."})})]}),e.jsxs(de,{className:"text-center",children:[e.jsxs(Me,{children:[e.jsx(Ds,{className:"h-12 w-12 text-primary mx-auto mb-4"}),e.jsx(Fe,{children:"Secure Process"})]}),e.jsx(fe,{children:e.jsx("p",{className:"text-muted-foreground",children:"NDA protection, verified inquiries, and secure document sharing ensure your sensitive information stays protected."})})]}),e.jsxs(de,{className:"text-center",children:[e.jsxs(Me,{children:[e.jsx(sp,{className:"h-12 w-12 text-primary mx-auto mb-4"}),e.jsx(Fe,{children:"AI-Powered Matching"})]}),e.jsx(fe,{children:e.jsx("p",{className:"text-muted-foreground",children:"Our AI analyzes franchisee profiles and investment capacity to connect you with the most suitable candidates."})})]})]}),a.length>0&&e.jsxs(de,{className:"mb-8",children:[e.jsx(Me,{children:e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(_s,{className:"h-5 w-5"}),"Saved Drafts"]})}),e.jsx(fe,{children:e.jsx("div",{className:"space-y-4",children:a.map(j=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium",children:j.brandName}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Last modified: ",j.lastModified.toLocaleString()]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx("div",{className:"w-32 h-2 bg-muted rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-primary transition-all",style:{width:`${j.completionPercentage}%`}})}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[j.completionPercentage,"% complete"]})]})]}),e.jsx(ee,{onClick:()=>g(j),children:"Continue"})]},j.id))})})]}),e.jsxs(de,{className:"text-center",children:[e.jsx(Me,{children:e.jsx(Fe,{className:"text-2xl",children:"Ready to Get Started?"})}),e.jsxs(fe,{className:"space-y-6",children:[e.jsx("p",{className:"text-muted-foreground",children:"Create a comprehensive franchise listing in just a few steps. Our guided wizard makes it easy to showcase your opportunity."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-w-2xl mx-auto",children:[e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("h3",{className:"font-medium mb-2",children:"What You'll Need"}),e.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsx("li",{children:" Brand information and history"}),e.jsx("li",{children:" Investment and fee structure"}),e.jsx("li",{children:" Support and training details"}),e.jsx("li",{children:" Territory availability"}),e.jsx("li",{children:" Financial documents (FDD)"})]})]}),e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("h3",{className:"font-medium mb-2",children:"Estimated Time"}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(Hn,{className:"h-4 w-4"}),e.jsx("span",{children:"15-30 minutes"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Save your progress anytime and continue later"})]})]}),e.jsxs(ee,{size:"lg",onClick:m,className:"px-8",children:[e.jsx(Zs,{className:"h-5 w-5 mr-2"}),"Create Franchise Listing"]}),e.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Lt,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{children:"Free to list"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Lt,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{children:"No setup fees"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Lt,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{children:"24/7 support"})]})]})]})]}),e.jsxs("div",{className:"mt-12",children:[e.jsx("h2",{className:"text-2xl font-bold text-center mb-8",children:"How It Works"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[{step:1,title:"Create Listing",description:"Fill out our comprehensive franchise listing form with your brand details.",icon:_s},{step:2,title:"Review & Verify",description:"Our team reviews your listing and verifies the information for accuracy.",icon:Ds},{step:3,title:"Get Matched",description:"AI matches your opportunity with qualified franchisees in your target markets.",icon:gn},{step:4,title:"Connect & Grow",description:"Connect with interested franchisees and grow your brand network.",icon:Zs}].map(j=>e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"relative mb-4",children:[e.jsx("div",{className:"w-16 h-16 bg-primary rounded-full flex items-center justify-center mx-auto",children:e.jsx(j.icon,{className:"h-8 w-8 text-primary-foreground"})}),e.jsx(Be,{className:"absolute -top-2 -right-2 w-6 h-6 rounded-full p-0 flex items-center justify-center",children:j.step})]}),e.jsx("h3",{className:"font-semibold mb-2",children:j.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:j.description})]},j.step))})]}),e.jsxs("div",{className:"mt-12",children:[e.jsx("h2",{className:"text-2xl font-bold text-center mb-8",children:"Frequently Asked Questions"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto",children:[{question:"How much does it cost to list my franchise?",answer:"Basic listings are completely free. We offer premium features like featured placement and enhanced visibility for additional fees."},{question:"How long does the approval process take?",answer:"Most franchise listings are reviewed and approved within 24-48 hours. Complex listings may take up to 5 business days."},{question:"What documents do I need to provide?",answer:"You'll need your Franchise Disclosure Document (FDD), financial statements, brand assets, and legal registration documents."},{question:"How do you verify franchisee qualifications?",answer:"We verify financial capacity, background checks, and industry experience to ensure only qualified candidates contact you."}].map((j,A)=>e.jsxs(de,{children:[e.jsx(Me,{children:e.jsx(Fe,{className:"text-lg",children:j.question})}),e.jsx(fe,{children:e.jsx("p",{className:"text-muted-foreground",children:j.answer})})]},A))})]})]})}const xC=n=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(n),vC={draft:{label:"Draft",icon:Bu,color:"text-gray-500 bg-gray-100"},pending_review:{label:"Under Review",icon:Hn,color:"text-yellow-600 bg-yellow-100"},active:{label:"Active",icon:Lt,color:"text-green-600 bg-green-100"},inactive:{label:"Inactive",icon:Ea,color:"text-gray-600 bg-gray-100"},rejected:{label:"Rejected",icon:pi,color:"text-red-600 bg-red-100"},sold:{label:"Sold",icon:Lt,color:"text-blue-600 bg-blue-100"}};function fX({className:n}){const t=Mn(),{user:s}=Bs(),[r,i]=w.useState([]),[a,l]=w.useState([]),[c,u]=w.useState(!0);w.useEffect(()=>{if(!s){t("/login?redirect=/my-listings");return}m()},[s,t]);const m=async()=>{if(s)try{u(!0);const[_,j]=await Promise.all([b0.getUserBusinesses(s.id),Hg.getUserFranchises(s.id)]);i(_||[]),l(j||[])}catch(_){console.error("Error loading listings:",_)}finally{u(!1)}},g=({status:_})=>{const j=vC[_]||vC.draft,A=j.icon;return e.jsxs(Be,{variant:"secondary",className:nt("gap-1",j.color),children:[e.jsx(A,{className:"h-3 w-3"}),j.label]})},p=({business:_})=>e.jsx(de,{className:"hover:shadow-md transition-shadow",children:e.jsxs(fe,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-lg mb-1",children:_.name}),e.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[_.city,", ",_.state]}),e.jsx("p",{className:"text-lg font-bold text-primary",children:xC(_.price)})]}),e.jsx(g,{status:_.status})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm text-muted-foreground mb-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs",children:"Industry"}),e.jsx("div",{className:"font-medium text-foreground",children:_.industry})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs",children:"Views"}),e.jsx("div",{className:"font-medium text-foreground",children:_.views_count||0})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs",children:"Inquiries"}),e.jsx("div",{className:"font-medium text-foreground",children:_.inquiries_count||0})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(St,{to:`/business/${_.id}`,className:"flex-1",children:e.jsxs(ee,{variant:"outline",size:"sm",className:"w-full",children:[e.jsx(dn,{className:"h-4 w-4 mr-2"}),"View"]})}),e.jsxs(ee,{variant:"outline",size:"sm",disabled:!0,children:[e.jsx(Bu,{className:"h-4 w-4 mr-2"}),"Edit"]})]})]})}),y=({franchise:_})=>e.jsx(de,{className:"hover:shadow-md transition-shadow",children:e.jsxs(fe,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-lg mb-1",children:_.brand_name}),e.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[_.headquarters_city,", ",_.headquarters_state]}),e.jsx("p",{className:"text-lg font-bold text-primary",children:xC(_.franchise_fee)})]}),e.jsx(g,{status:_.status})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm text-muted-foreground mb-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs",children:"Industry"}),e.jsx("div",{className:"font-medium text-foreground",children:_.industry})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs",children:"Views"}),e.jsx("div",{className:"font-medium text-foreground",children:_.views_count||0})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs",children:"Applications"}),e.jsx("div",{className:"font-medium text-foreground",children:_.applications_count||0})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(St,{to:`/franchise/${_.id}`,className:"flex-1",children:e.jsxs(ee,{variant:"outline",size:"sm",className:"w-full",children:[e.jsx(dn,{className:"h-4 w-4 mr-2"}),"View"]})}),e.jsxs(ee,{variant:"outline",size:"sm",disabled:!0,children:[e.jsx(Bu,{className:"h-4 w-4 mr-2"}),"Edit"]})]})]})});if(c)return e.jsx("div",{className:nt("container mx-auto px-4 py-8",n),children:e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading your listings..."})]})})});const x=r.length+a.length;return e.jsxs("div",{className:nt("container mx-auto px-4 py-8",n),children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"My Listings"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your business and franchise listings"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[e.jsx(de,{children:e.jsx(fe,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Listings"}),e.jsx("p",{className:"text-2xl font-bold",children:x})]}),e.jsx(Uo,{className:"h-8 w-8 text-primary"})]})})}),e.jsx(de,{children:e.jsx(fe,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Businesses"}),e.jsx("p",{className:"text-2xl font-bold",children:r.length})]}),e.jsx(Uo,{className:"h-8 w-8 text-blue-600"})]})})}),e.jsx(de,{children:e.jsx(fe,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Franchises"}),e.jsx("p",{className:"text-2xl font-bold",children:a.length})]}),e.jsx(Vd,{className:"h-8 w-8 text-green-600"})]})})}),e.jsx(de,{children:e.jsx(fe,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Active"}),e.jsx("p",{className:"text-2xl font-bold",children:r.filter(_=>_.status==="active").length+a.filter(_=>_.status==="active").length})]}),e.jsx(Lt,{className:"h-8 w-8 text-green-600"})]})})})]}),x===0?e.jsx(de,{children:e.jsx(fe,{className:"p-12 text-center",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx(Uo,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No listings yet"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Start by creating your first business or franchise listing"}),e.jsxs("div",{className:"flex gap-3 justify-center",children:[e.jsx(St,{to:"/add-business-listing",children:e.jsxs(ee,{children:[e.jsx(la,{className:"h-4 w-4 mr-2"}),"List a Business"]})}),e.jsx(St,{to:"/add-franchise-listing",children:e.jsxs(ee,{variant:"outline",children:[e.jsx(la,{className:"h-4 w-4 mr-2"}),"List a Franchise"]})})]})]})})}):e.jsxs(Ui,{defaultValue:"all",className:"w-full",children:[e.jsxs(yi,{className:"mb-6",children:[e.jsxs(zt,{value:"all",children:["All (",x,")"]}),e.jsxs(zt,{value:"businesses",children:["Businesses (",r.length,")"]}),e.jsxs(zt,{value:"franchises",children:["Franchises (",a.length,")"]})]}),e.jsx(Es,{value:"all",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.map(_=>e.jsx(p,{business:_},_.id)),a.map(_=>e.jsx(y,{franchise:_},_.id))]})}),e.jsx(Es,{value:"businesses",className:"space-y-4",children:r.length===0?e.jsx(de,{children:e.jsxs(fe,{className:"p-8 text-center",children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:"No business listings yet"}),e.jsx(St,{to:"/add-business-listing",children:e.jsxs(ee,{children:[e.jsx(la,{className:"h-4 w-4 mr-2"}),"Create Business Listing"]})})]})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(_=>e.jsx(p,{business:_},_.id))})}),e.jsx(Es,{value:"franchises",className:"space-y-4",children:a.length===0?e.jsx(de,{children:e.jsxs(fe,{className:"p-8 text-center",children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:"No franchise listings yet"}),e.jsx(St,{to:"/add-franchise-listing",children:e.jsxs(ee,{children:[e.jsx(la,{className:"h-4 w-4 mr-2"}),"Create Franchise Listing"]})})]})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(_=>e.jsx(y,{franchise:_},_.id))})})]})]})}function pX({className:n}){const t=Mn(),{user:s}=Bs(),{refreshSavedCount:r,toggleSave:i,isListingSaved:a}=G3(),[l,c]=w.useState([]),[u,m]=w.useState(!0),[g,p]=w.useState("grid"),[y,x]=w.useState("recent"),[_,j]=w.useState("all");w.useEffect(()=>{s&&A()},[s]);const A=async()=>{if(s){m(!0);try{const B=await yg.getSavedListings(s.id);c(B)}catch(B){console.error("Error fetching saved listings:",B)}finally{m(!1)}}},C=async(B,D)=>{if(s)try{await i(B,D),c(K=>K.filter(H=>!(H.listing_type===B&&H.listing_id===D)))}catch(K){console.error("Error unsaving listing:",K)}},P=(B,D)=>{t(`/${B}/${D}`)},O=[...l.filter(B=>_==="all"?!0:B.listing_type===_)].sort((B,D)=>{var K,H,$,W,Q,Z;switch(y){case"recent":return new Date(D.created_at).getTime()-new Date(B.created_at).getTime();case"oldest":return new Date(B.created_at).getTime()-new Date(D.created_at).getTime();case"alphabetical":const ie=B.listing_type==="business"?((K=B.listing)==null?void 0:K.name)||"":((H=B.listing)==null?void 0:H.brand_name)||(($=B.listing)==null?void 0:$.brandName)||"",q=D.listing_type==="business"?((W=D.listing)==null?void 0:W.name)||"":((Q=D.listing)==null?void 0:Q.brand_name)||((Z=D.listing)==null?void 0:Z.brandName)||"";return ie.localeCompare(q);default:return 0}}),z=l.filter(B=>B.listing_type==="business").length,V=l.filter(B=>B.listing_type==="franchise").length;return s?e.jsxs("div",{className:nt("min-h-screen bg-background",n),children:[e.jsx("div",{className:"bg-background border-b border-border",children:e.jsxs("div",{className:"container mx-auto px-4 py-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center gap-2",children:[e.jsx(Iu,{className:"h-8 w-8 fill-current text-red-500"}),"Saved Listings"]}),e.jsxs("p",{className:"text-muted-foreground",children:[l.length," ",l.length===1?"listing":"listings"," saved"]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[e.jsx(de,{children:e.jsx(fe,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Saved"}),e.jsx("p",{className:"text-2xl font-bold",children:l.length})]}),e.jsx(qv,{className:"h-8 w-8 text-primary"})]})})}),e.jsx(de,{children:e.jsx(fe,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Businesses"}),e.jsx("p",{className:"text-2xl font-bold",children:z})]}),e.jsx(Zs,{className:"h-8 w-8 text-blue-500"})]})})}),e.jsx(de,{children:e.jsx(fe,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Franchises"}),e.jsx("p",{className:"text-2xl font-bold",children:V})]}),e.jsx(Uo,{className:"h-8 w-8 text-green-500"})]})})})]})]})}),e.jsxs("div",{className:"container mx-auto px-4 py-6",children:[e.jsx(de,{className:"mb-6",children:e.jsx(fe,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(ee,{variant:_==="all"?"default":"outline",size:"sm",onClick:()=>j("all"),children:["All",e.jsx(Be,{variant:"secondary",className:"ml-2",children:l.length})]}),e.jsxs(ee,{variant:_==="business"?"default":"outline",size:"sm",onClick:()=>j("business"),children:[e.jsx(Zs,{className:"h-4 w-4 mr-2"}),"Businesses",e.jsx(Be,{variant:"secondary",className:"ml-2",children:z})]}),e.jsxs(ee,{variant:_==="franchise"?"default":"outline",size:"sm",onClick:()=>j("franchise"),children:[e.jsx(Uo,{className:"h-4 w-4 mr-2"}),"Franchises",e.jsx(Be,{variant:"secondary",className:"ml-2",children:V})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(mw,{className:"h-4 w-4"}),e.jsxs(Jt,{value:y,onValueChange:B=>x(B),children:[e.jsx(Wt,{className:"w-40",children:e.jsx(Xt,{})}),e.jsxs(Yt,{children:[e.jsx(Ee,{value:"recent",children:"Most Recent"}),e.jsx(Ee,{value:"oldest",children:"Oldest First"}),e.jsx(Ee,{value:"alphabetical",children:"Alphabetical"})]})]})]}),e.jsxs("div",{className:"flex items-center border rounded-md",children:[e.jsx(ee,{variant:g==="grid"?"default":"ghost",size:"sm",onClick:()=>p("grid"),className:"rounded-r-none",children:e.jsx(xw,{className:"h-4 w-4"})}),e.jsx(ee,{variant:g==="list"?"default":"ghost",size:"sm",onClick:()=>p("list"),className:"rounded-l-none",children:e.jsx(yw,{className:"h-4 w-4"})})]})]})]})})}),u?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading saved listings..."})]})}):O.length===0?e.jsx(de,{children:e.jsxs(fe,{className:"p-12 text-center",children:[e.jsx(qv,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Saved Listings"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:_==="all"?"You haven't saved any listings yet. Start browsing to save your favorites!":`You haven't saved any ${_} listings yet.`}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsxs(ee,{onClick:()=>t("/businesses"),children:[e.jsx(Zs,{className:"h-4 w-4 mr-2"}),"Browse Businesses"]}),e.jsxs(ee,{variant:"outline",onClick:()=>t("/franchises"),children:[e.jsx(Uo,{className:"h-4 w-4 mr-2"}),"Browse Franchises"]})]})]})}):e.jsx("div",{className:nt(g==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4"),children:O.map(B=>B.listing?B.listing_type==="business"?e.jsx(Lh,{business:B.listing,onSave:()=>C("business",B.listing_id),onViewDetails:()=>P("business",B.listing_id),isSaved:!0},B.id):e.jsx(Sm,{franchise:B.listing,onSave:()=>C("franchise",B.listing_id),onViewDetails:()=>P("franchise",B.listing_id),isSaved:!0},B.id):null)})]})]}):e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsx(de,{className:"max-w-md",children:e.jsxs(fe,{className:"p-8 text-center",children:[e.jsx(qv,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground"}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Sign In Required"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Please sign in to view your saved listings"}),e.jsx(ee,{onClick:()=>t("/login"),children:"Sign In"})]})})})}const gX={inquiry:ua,message:Or,listing_approved:Vf,listing_rejected:V7,verification_approved:Fu,verification_rejected:oB,saved_listing_update:Iu,new_inquiry:ua,inquiry_response:Or,system:Qc},xX={inquiry:"text-blue-500",message:"text-purple-500",listing_approved:"text-green-500",listing_rejected:"text-red-500",verification_approved:"text-green-500",verification_rejected:"text-red-500",saved_listing_update:"text-pink-500",new_inquiry:"text-blue-500",inquiry_response:"text-purple-500",system:"text-gray-500"};function vX({className:n}){const t=Mn(),{user:s}=Bs(),{notifications:r,unreadCount:i,loading:a,markAsRead:l,markAllAsRead:c,deleteNotification:u,deleteAllRead:m}=Y3(),[g,p]=w.useState("all"),y=r.filter(A=>g==="unread"?!A.read:g==="read"?A.read:!0),x=async A=>{A.read||await l(A.id),A.action_url&&t(A.action_url)},_=A=>{const C=new Date(A),S=Math.floor((new Date().getTime()-C.getTime())/1e3);return S<60?"Just now":S<3600?`${Math.floor(S/60)}m ago`:S<86400?`${Math.floor(S/3600)}h ago`:S<604800?`${Math.floor(S/86400)}d ago`:C.toLocaleDateString()},j=({type:A})=>{const C=gX[A]||Qc,P=xX[A]||"text-gray-500";return e.jsx(C,{className:nt("h-5 w-5",P)})};return s?e.jsxs("div",{className:nt("min-h-screen bg-background",n),children:[e.jsx("div",{className:"bg-background border-b border-border",children:e.jsxs("div",{className:"container mx-auto px-4 py-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center gap-2",children:[e.jsx(Qc,{className:"h-8 w-8"}),"Notifications"]}),e.jsx("p",{className:"text-muted-foreground",children:i>0?e.jsxs(e.Fragment,{children:[i," unread ",i===1?"notification":"notifications"]}):"You're all caught up!"})]}),e.jsxs("div",{className:"flex gap-2",children:[i>0&&e.jsxs(ee,{variant:"outline",onClick:c,children:[e.jsx(f7,{className:"h-4 w-4 mr-2"}),"Mark All Read"]}),r.some(A=>A.read)&&e.jsxs(ee,{variant:"outline",onClick:m,children:[e.jsx(Vo,{className:"h-4 w-4 mr-2"}),"Clear Read"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(de,{children:e.jsx(fe,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total"}),e.jsx("p",{className:"text-2xl font-bold",children:r.length})]}),e.jsx(iF,{className:"h-8 w-8 text-primary"})]})})}),e.jsx(de,{children:e.jsx(fe,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Unread"}),e.jsx("p",{className:"text-2xl font-bold",children:i})]}),e.jsx(Or,{className:"h-8 w-8 text-orange-500"})]})})}),e.jsx(de,{children:e.jsx(fe,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Read"}),e.jsx("p",{className:"text-2xl font-bold",children:r.length-i})]}),e.jsx(NF,{className:"h-8 w-8 text-green-500"})]})})})]})]})}),e.jsxs("div",{className:"container mx-auto px-4 py-6",children:[e.jsx(Ui,{value:g,onValueChange:A=>p(A),className:"mb-6",children:e.jsxs(yi,{children:[e.jsxs(zt,{value:"all",children:["All",e.jsx(Be,{variant:"secondary",className:"ml-2",children:r.length})]}),e.jsxs(zt,{value:"unread",children:["Unread",i>0&&e.jsx(Be,{className:"ml-2 bg-orange-500",children:i})]}),e.jsxs(zt,{value:"read",children:["Read",e.jsx(Be,{variant:"secondary",className:"ml-2",children:r.length-i})]})]})}),a?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading notifications..."})]})}):y.length===0?e.jsx(de,{children:e.jsxs(fe,{className:"p-12 text-center",children:[e.jsx(Qc,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Notifications"}),e.jsx("p",{className:"text-muted-foreground",children:g==="unread"?"You have no unread notifications":g==="read"?"You have no read notifications":"You don't have any notifications yet"})]})}):e.jsx("div",{className:"space-y-2",children:y.map(A=>e.jsx(de,{className:nt("cursor-pointer transition-all hover:shadow-md",!A.read&&"bg-blue-50/50 dark:bg-blue-950/20 border-blue-200 dark:border-blue-800"),children:e.jsx(fe,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:nt("p-2 rounded-full",A.read?"bg-muted":"bg-blue-100 dark:bg-blue-900"),children:e.jsx(j,{type:A.type})}),e.jsxs("div",{className:"flex-1 min-w-0",onClick:()=>x(A),children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[e.jsx("h4",{className:nt("font-semibold",!A.read&&"text-primary"),children:A.title}),e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[e.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:_(A.created_at)}),!A.read&&e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:A.message}),A.action_url&&e.jsxs(ee,{variant:"link",size:"sm",className:"h-auto p-0 text-xs",children:["View Details",e.jsx(Am,{className:"h-3 w-3 ml-1"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[!A.read&&e.jsx(ee,{variant:"ghost",size:"sm",onClick:C=>{C.stopPropagation(),l(A.id)},title:"Mark as read",children:e.jsx(Vu,{className:"h-4 w-4"})}),e.jsx(ee,{variant:"ghost",size:"sm",onClick:C=>{C.stopPropagation(),u(A.id)},title:"Delete",children:e.jsx(Vo,{className:"h-4 w-4"})})]})]})})},A.id))})]})]}):e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsx(de,{className:"max-w-md",children:e.jsxs(fe,{className:"p-8 text-center",children:[e.jsx(Qc,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground"}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Sign In Required"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Please sign in to view your notifications"}),e.jsx(ee,{onClick:()=>t("/login"),children:"Sign In"})]})})})}function yX(){var z,V;const n=Mn(),t=Ho(),{signIn:s,resetPasswordRequest:r}=Bs(),[i,a]=w.useState(""),[l,c]=w.useState(""),[u,m]=w.useState(!1),[g,p]=w.useState(!1),[y,x]=w.useState(null),[_,j]=w.useState(!1),[A,C]=w.useState(!1),P=((V=(z=t.state)==null?void 0:z.from)==null?void 0:V.pathname)||"/",S=async B=>{if(B.preventDefault(),x(null),p(!0),!i.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)){x("Please enter a valid email address"),p(!1);return}if(l.length<6){x("Password must be at least 6 characters"),p(!1);return}const{error:D}=await s({email:i,password:l});if(p(!1),D){x(D.message);return}await new Promise(K=>setTimeout(K,500)),n(P,{replace:!0})},O=async B=>{if(B.preventDefault(),x(null),p(!0),!i.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)){x("Please enter a valid email address"),p(!1);return}const{error:D}=await r(i);if(p(!1),D){x(D.message);return}C(!0)};return _?e.jsxs(de,{className:"w-full max-w-md mx-auto",children:[e.jsxs(Me,{children:[e.jsx(Fe,{children:"Reset Password"}),e.jsx(ms,{children:"Enter your email to receive a password reset link"})]}),e.jsx(fe,{children:e.jsxs("form",{onSubmit:O,className:"space-y-4",children:[y&&e.jsx(Xn,{variant:"destructive",children:e.jsx(Qn,{children:y})}),A?e.jsx(Xn,{children:e.jsx(Qn,{children:"Password reset email sent! Check your inbox and follow the link to reset your password."})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"reset-email",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(Or,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(Ue,{id:"reset-email",type:"email",placeholder:"you@example.com",value:i,onChange:B=>a(B.target.value),className:"pl-10",required:!0,disabled:g})]})]}),e.jsx(ee,{type:"submit",className:"w-full",disabled:g,children:g?e.jsxs(e.Fragment,{children:[e.jsx(Ht,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):"Send Reset Link"})]}),e.jsx(ee,{type:"button",variant:"link",className:"w-full",onClick:()=>{j(!1),x(null),C(!1)},children:"Back to Sign In"})]})})]}):e.jsxs(de,{className:"w-full max-w-md mx-auto",children:[e.jsxs(Me,{children:[e.jsx(Fe,{children:"Sign In"}),e.jsx(ms,{children:"Welcome back to BizSearch"})]}),e.jsx(fe,{children:e.jsxs("form",{onSubmit:S,className:"space-y-4",children:[y&&e.jsx(Xn,{variant:"destructive",children:e.jsx(Qn,{children:y})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"email",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(Or,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(Ue,{id:"email",type:"email",placeholder:"you@example.com",value:i,onChange:B=>a(B.target.value),className:"pl-10",required:!0,disabled:g})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ve,{htmlFor:"password",children:"Password"}),e.jsx(ee,{type:"button",variant:"link",className:"p-0 h-auto text-sm",onClick:()=>j(!0),children:"Forgot password?"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Ue,{id:"password",type:u?"text":"password",placeholder:"",value:l,onChange:B=>c(B.target.value),className:"pr-10",required:!0,disabled:g}),e.jsx(ee,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>m(!u),disabled:g,children:u?e.jsx(Ou,{className:"h-4 w-4 text-muted-foreground"}):e.jsx(dn,{className:"h-4 w-4 text-muted-foreground"})})]})]}),e.jsx(ee,{type:"submit",className:"w-full",disabled:g,children:g?e.jsxs(e.Fragment,{children:[e.jsx(Ht,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign In"}),e.jsxs("p",{className:"text-sm text-center text-muted-foreground",children:["Don't have an account?"," ",e.jsx(ee,{variant:"link",className:"p-0 h-auto",onClick:()=>n("/signup"),children:"Sign up"})]})]})})]})}function bX(){return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/30 p-4",children:e.jsx(yX,{})})}function jX(){const n=Mn();Bs();const[t,s]=w.useState(!1),[r,i]=w.useState(!1),[a,l]=w.useState(null),[c,u]=w.useState(!1),[m,g]=w.useState(!1),[p,y]=w.useState(!1),[x,_]=w.useState(!1),[j,A]=w.useState(!1),[C,P]=w.useState({email:"",password:"",confirmPassword:"",displayName:"",role:"buyer",acceptTerms:!1}),[S,O]=w.useState({}),z=T2(C.password),V=async()=>{i(!0),l(null),y(!1);try{const{error:D}=await Le.auth.resend({type:"signup",email:C.email});if(D)throw D;y(!0)}catch(D){l(Bm(D))}finally{i(!1)}},B=async D=>{D.preventDefault(),l(null),O({}),g(!1);const K=bJ.safeParse(C);if(!K.success){O(Ap(K.error));return}s(!0);try{const{data:H,error:$}=await Le.auth.signUp({email:C.email,password:C.password,options:{data:{display_name:C.displayName,role:C.role}}});if($)throw $;if(H.user&&H.user.identities&&H.user.identities.length===0){g(!0),s(!1);return}await new Promise(Q=>setTimeout(Q,1500));const{data:{session:W}}=await Le.auth.getSession();W?n("/onboarding",{replace:!0}):u(!0)}catch(H){const $=H.message||"";$.toLowerCase().includes("already registered")||$.toLowerCase().includes("already exists")?g(!0):l(Bm(H))}finally{s(!1)}};return c?e.jsxs(de,{className:"w-full max-w-md mx-auto",children:[e.jsxs(Me,{className:"text-center",children:[e.jsx("div",{className:"mx-auto w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(Lt,{className:"h-6 w-6 text-green-600"})}),e.jsx(Fe,{children:"Check Your Email"}),e.jsxs(ms,{children:["We've sent a confirmation link to ",e.jsx("strong",{children:C.email})]})]}),e.jsxs(fe,{className:"space-y-4",children:[e.jsxs(Xn,{children:[e.jsx(Or,{className:"h-4 w-4"}),e.jsx(Qn,{children:"Click the link in your email to activate your account. The link will expire in 24 hours."})]}),p&&e.jsxs(Xn,{className:"bg-green-50 border-green-200",children:[e.jsx(Lt,{className:"h-4 w-4 text-green-600"}),e.jsx(Qn,{className:"text-green-700",children:"Confirmation email sent! Check your inbox."})]}),a&&e.jsx(Xn,{variant:"destructive",children:e.jsx(Qn,{children:a})}),e.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:[e.jsx("p",{children:"Didn't receive the email?"}),e.jsxs("ul",{className:"mt-2 space-y-1",children:[e.jsx("li",{children:" Check your spam folder"}),e.jsx("li",{children:" Make sure you entered the correct email"})]})]}),e.jsx(ee,{variant:"outline",className:"w-full",onClick:V,disabled:r,children:r?e.jsxs(e.Fragment,{children:[e.jsx(Ht,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Dh,{className:"mr-2 h-4 w-4"}),"Resend Confirmation Email"]})}),e.jsx(ee,{variant:"ghost",className:"w-full",onClick:()=>n("/login"),children:"Back to Sign In"})]})]}):m?e.jsxs(de,{className:"w-full max-w-md mx-auto",children:[e.jsxs(Me,{className:"text-center",children:[e.jsx("div",{className:"mx-auto w-12 h-12 bg-amber-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(Or,{className:"h-6 w-6 text-amber-600"})}),e.jsx(Fe,{children:"Email Already Registered"}),e.jsxs(ms,{children:["An account with ",e.jsx("strong",{children:C.email})," already exists but hasn't been verified yet."]})]}),e.jsxs(fe,{className:"space-y-4",children:[e.jsxs(Xn,{className:"bg-amber-50 border-amber-200",children:[e.jsx(Or,{className:"h-4 w-4 text-amber-600"}),e.jsx(Qn,{className:"text-amber-700",children:"We can send you a new confirmation email to verify your account."})]}),p&&e.jsxs(Xn,{className:"bg-green-50 border-green-200",children:[e.jsx(Lt,{className:"h-4 w-4 text-green-600"}),e.jsx(Qn,{className:"text-green-700",children:"Confirmation email sent! Check your inbox."})]}),a&&e.jsx(Xn,{variant:"destructive",children:e.jsx(Qn,{children:a})}),e.jsx(ee,{variant:"default",className:"w-full",onClick:V,disabled:r,children:r?e.jsxs(e.Fragment,{children:[e.jsx(Ht,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Dh,{className:"mr-2 h-4 w-4"}),"Resend Confirmation Email"]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ee,{variant:"outline",className:"flex-1",onClick:()=>{g(!1),P({...C,email:""})},children:"Use Different Email"}),e.jsx(ee,{variant:"ghost",className:"flex-1",onClick:()=>n("/login"),children:"Sign In Instead"})]})]})]}):e.jsxs(de,{className:"w-full max-w-md mx-auto",children:[e.jsxs(Me,{children:[e.jsx(Fe,{children:"Create Account"}),e.jsx(ms,{children:"Join BizSearch to buy, sell, or invest in businesses"})]}),e.jsx(fe,{children:e.jsxs("form",{onSubmit:B,className:"space-y-4",children:[a&&e.jsx(Xn,{variant:"destructive",children:e.jsx(Qn,{children:a})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"displayName",children:"Full Name"}),e.jsx(Ue,{id:"displayName",type:"text",required:!0,value:C.displayName,onChange:D=>P({...C,displayName:D.target.value}),placeholder:"John Doe",disabled:t,className:S.display_name?"border-red-500":""}),S.display_name&&e.jsx("p",{className:"text-sm text-red-500",children:S.display_name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"email",children:"Email"}),e.jsx(Ue,{id:"email",type:"email",required:!0,value:C.email,onChange:D=>P({...C,email:D.target.value}),placeholder:"you@example.com",disabled:t,className:S.email?"border-red-500":""}),S.email&&e.jsx("p",{className:"text-sm text-red-500",children:S.email})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"role",children:"I am a"}),e.jsxs(Jt,{value:C.role,onValueChange:D=>P({...C,role:D}),children:[e.jsx(Wt,{children:e.jsx(Xt,{})}),e.jsxs(Yt,{children:[e.jsx(Ee,{value:"buyer",children:"Buyer - Looking to buy a business"}),e.jsx(Ee,{value:"seller",children:"Seller - Looking to sell my business"}),e.jsx(Ee,{value:"franchisee",children:"Franchisee - Looking for franchise opportunities"}),e.jsx(Ee,{value:"franchisor",children:"Franchisor - Offering franchise opportunities"}),e.jsx(Ee,{value:"advisor",children:"Advisor - Business consultant"}),e.jsx(Ee,{value:"broker",children:"Broker - Business broker"}),e.jsx(Ee,{value:"admin",children:"Admin - Platform administrator"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"password",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ue,{id:"password",type:x?"text":"password",required:!0,value:C.password,onChange:D=>P({...C,password:D.target.value}),placeholder:"",disabled:t,className:S.password?"border-red-500 pr-10":"pr-10"}),e.jsx(ee,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>_(!x),disabled:t,children:x?e.jsx(Ou,{className:"h-4 w-4 text-muted-foreground"}):e.jsx(dn,{className:"h-4 w-4 text-muted-foreground"})})]}),S.password&&e.jsx("p",{className:"text-sm text-red-500",children:S.password}),C.password&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Password strength:"}),e.jsx("span",{className:`font-medium ${z.score<=1?"text-red-500":z.score===2?"text-orange-500":z.score===3?"text-yellow-500":"text-green-500"}`,children:L2(z.score)})]}),e.jsx(On,{value:z.score/4*100,className:`h-2 ${P2(z.score)}`}),z.feedback.length>0&&e.jsx("ul",{className:"text-xs text-muted-foreground space-y-1",children:z.feedback.map((D,K)=>e.jsxs("li",{children:[" ",D]},K))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"confirmPassword",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ue,{id:"confirmPassword",type:j?"text":"password",required:!0,value:C.confirmPassword,onChange:D=>P({...C,confirmPassword:D.target.value}),placeholder:"",disabled:t,className:S.confirmPassword?"border-red-500 pr-10":"pr-10"}),e.jsx(ee,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>A(!j),disabled:t,children:j?e.jsx(Ou,{className:"h-4 w-4 text-muted-foreground"}):e.jsx(dn,{className:"h-4 w-4 text-muted-foreground"})})]}),S.confirmPassword&&e.jsx("p",{className:"text-sm text-red-500",children:S.confirmPassword})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ln,{id:"acceptTerms",checked:C.acceptTerms,onCheckedChange:D=>P({...C,acceptTerms:D}),disabled:t}),e.jsxs(ve,{htmlFor:"acceptTerms",className:"text-sm font-normal leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:["I accept the"," ",e.jsx("a",{href:"/terms",className:"text-primary hover:underline",target:"_blank",children:"Terms and Conditions"})]})]}),S.acceptTerms&&e.jsx("p",{className:"text-sm text-red-500",children:S.acceptTerms}),e.jsxs(ee,{type:"submit",className:"w-full",disabled:t||z.score<3,children:[t&&e.jsx(Ht,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Account"]}),e.jsxs("p",{className:"text-sm text-center text-muted-foreground",children:["Already have an account?"," ",e.jsx(ee,{variant:"link",className:"p-0 h-auto",onClick:()=>n("/login"),children:"Sign in"})]})]})})]})}function wX(){return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/30 p-4",children:e.jsx(jX,{})})}function NX(){const n=Mn(),{resetPasswordRequest:t}=Bs(),[s,r]=w.useState(!1),[i,a]=w.useState(null),[l,c]=w.useState(!1),[u,m]=w.useState(""),[g,p]=w.useState({}),y=async x=>{x.preventDefault(),a(null),p({}),c(!1);const _=jJ.safeParse({email:u});if(!_.success){p(Ap(_.error));return}r(!0);try{const{error:j}=await t(u);if(j)throw j;c(!0)}catch(j){a(Bm(j))}finally{r(!1)}};return l?e.jsxs(de,{className:"w-full max-w-md mx-auto",children:[e.jsxs(Me,{children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-green-100 dark:bg-green-900 rounded-full mx-auto mb-4",children:e.jsx(Or,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),e.jsx(Fe,{className:"text-center",children:"Check Your Email"}),e.jsxs(ms,{className:"text-center",children:["We've sent a password reset link to ",e.jsx("strong",{children:u})]})]}),e.jsxs(fe,{className:"space-y-4",children:[e.jsx(Xn,{children:e.jsx(Qn,{children:"Please check your email and click on the reset link to create a new password. The link will expire in 1 hour."})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ee,{variant:"outline",className:"w-full",onClick:()=>n("/login"),children:[e.jsx(ca,{className:"mr-2 h-4 w-4"}),"Back to Login"]}),e.jsx(ee,{variant:"ghost",className:"w-full",onClick:()=>{c(!1),m("")},children:"Resend Email"})]})]})]}):e.jsxs(de,{className:"w-full max-w-md mx-auto",children:[e.jsxs(Me,{children:[e.jsx(Fe,{children:"Reset Password"}),e.jsx(ms,{children:"Enter your email address and we'll send you a link to reset your password"})]}),e.jsx(fe,{children:e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[i&&e.jsx(Xn,{variant:"destructive",children:e.jsx(Qn,{children:i})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"email",children:"Email Address"}),e.jsx(Ue,{id:"email",type:"email",required:!0,value:u,onChange:x=>m(x.target.value),placeholder:"you@example.com",disabled:s,className:g.email?"border-red-500":""}),g.email&&e.jsx("p",{className:"text-sm text-red-500",children:g.email})]}),e.jsxs(ee,{type:"submit",className:"w-full",disabled:s,children:[s&&e.jsx(Ht,{className:"mr-2 h-4 w-4 animate-spin"}),"Send Reset Link"]}),e.jsxs(ee,{type:"button",variant:"ghost",className:"w-full",onClick:()=>n("/login"),disabled:s,children:[e.jsx(ca,{className:"mr-2 h-4 w-4"}),"Back to Login"]})]})})]})}function _X(){return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/30 p-4",children:e.jsx(NX,{})})}function SX(){const n=Mn(),[t]=JC(),{resetPassword:s}=Bs(),[r,i]=w.useState(!1),[a,l]=w.useState(null),[c,u]=w.useState(!1),[m,g]=w.useState(!1),[p,y]=w.useState(!1),[x,_]=w.useState({password:"",confirmPassword:""}),[j,A]=w.useState({});w.useEffect(()=>{const S=t.get("error"),O=t.get("error_description");S&&l(O||"Invalid or expired reset link. Please request a new one.")},[t]);const C=T2(x.password),P=async S=>{S.preventDefault(),l(null),A({});const O=wJ.safeParse(x);if(!O.success){A(Ap(O.error));return}i(!0);try{const{error:z}=await s(x.password);if(z)throw z;u(!0),setTimeout(()=>{n("/login")},3e3)}catch(z){l(Bm(z))}finally{i(!1)}};return c?e.jsxs(de,{className:"w-full max-w-md mx-auto",children:[e.jsxs(Me,{children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-green-100 dark:bg-green-900 rounded-full mx-auto mb-4",children:e.jsx(Vu,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),e.jsx(Fe,{className:"text-center",children:"Password Reset Successful"}),e.jsx(ms,{className:"text-center",children:"Your password has been successfully reset"})]}),e.jsx(fe,{children:e.jsx(Xn,{children:e.jsx(Qn,{children:"Redirecting you to the login page..."})})})]}):e.jsxs(de,{className:"w-full max-w-md mx-auto",children:[e.jsxs(Me,{children:[e.jsx(Fe,{children:"Create New Password"}),e.jsx(ms,{children:"Enter your new password below"})]}),e.jsx(fe,{children:e.jsxs("form",{onSubmit:P,className:"space-y-4",children:[a&&e.jsx(Xn,{variant:"destructive",children:e.jsx(Qn,{children:a})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"password",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ue,{id:"password",type:m?"text":"password",required:!0,value:x.password,onChange:S=>_({...x,password:S.target.value}),placeholder:"",disabled:r,className:j.password?"border-red-500 pr-10":"pr-10"}),e.jsx(ee,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>g(!m),disabled:r,children:m?e.jsx(Ou,{className:"h-4 w-4 text-muted-foreground"}):e.jsx(dn,{className:"h-4 w-4 text-muted-foreground"})})]}),j.password&&e.jsx("p",{className:"text-sm text-red-500",children:j.password}),x.password&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Password strength:"}),e.jsx("span",{className:`font-medium ${C.score<=1?"text-red-500":C.score===2?"text-orange-500":C.score===3?"text-yellow-500":"text-green-500"}`,children:L2(C.score)})]}),e.jsx(On,{value:C.score/4*100,className:"h-2",indicatorClassName:P2(C.score)}),C.feedback.length>0&&e.jsx("ul",{className:"text-xs text-muted-foreground space-y-1",children:C.feedback.map((S,O)=>e.jsxs("li",{children:[" ",S]},O))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"confirmPassword",children:"Confirm New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ue,{id:"confirmPassword",type:p?"text":"password",required:!0,value:x.confirmPassword,onChange:S=>_({...x,confirmPassword:S.target.value}),placeholder:"",disabled:r,className:j.confirmPassword?"border-red-500 pr-10":"pr-10"}),e.jsx(ee,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>y(!p),disabled:r,children:p?e.jsx(Ou,{className:"h-4 w-4 text-muted-foreground"}):e.jsx(dn,{className:"h-4 w-4 text-muted-foreground"})})]}),j.confirmPassword&&e.jsx("p",{className:"text-sm text-red-500",children:j.confirmPassword})]}),e.jsxs(ee,{type:"submit",className:"w-full",disabled:r||C.score<3,children:[r&&e.jsx(Ht,{className:"mr-2 h-4 w-4 animate-spin"}),"Reset Password"]}),e.jsxs("p",{className:"text-sm text-center text-muted-foreground",children:["Remember your password?"," ",e.jsx(ee,{variant:"link",className:"p-0 h-auto",onClick:()=>n("/login"),disabled:r,children:"Sign in"})]})]})})]})}function CX(){return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/30 p-4",children:e.jsx(SX,{})})}function br({children:n,requiredRole:t,requiredRoles:s}){const{user:r,profile:i,loading:a,profileMissing:l}=Bs(),c=Ho();return a?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx(Ht,{className:"h-12 w-12 animate-spin text-primary mx-auto"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):r?l&&c.pathname!=="/profile/setup"?e.jsx(Fj,{to:"/profile/setup",state:{from:c},replace:!0}):(t||s)&&!(i?t?i.role===t:s&&s.length>0?s.includes(i.role):!0:!1)?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:e.jsxs(de,{className:"w-full max-w-md",children:[e.jsxs(Me,{children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-destructive/10 rounded-full mx-auto mb-4",children:e.jsx(sB,{className:"h-6 w-6 text-destructive"})}),e.jsx(Fe,{className:"text-center",children:"Access Denied"}),e.jsx(ms,{className:"text-center",children:"You don't have permission to access this page."})]}),e.jsxs(fe,{className:"space-y-4",children:[e.jsxs("p",{className:"text-sm text-center text-muted-foreground",children:["This page requires ",t?`${t}`:"specific"," role access. Your current role is ",e.jsx("strong",{children:i==null?void 0:i.role}),"."]}),e.jsx(ee,{onClick:()=>window.history.back(),className:"w-full",children:"Go Back"})]})]})}):e.jsx(e.Fragment,{children:n}):e.jsx(Fj,{to:"/login",state:{from:c},replace:!0})}function AX({children:n}){const{user:t,profile:s,loading:r}=Bs();return r?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ht,{className:"h-12 w-12 animate-spin text-primary mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Verifying access..."})]})}):t?!s||s.role!=="admin"?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:e.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[e.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx("span",{className:"text-4xl",children:""})}),e.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Access Denied"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"You don't have permission to access the admin dashboard. This area is restricted to administrators only."}),e.jsx("a",{href:"/",className:"inline-flex items-center justify-center px-6 py-3 bg-primary text-primary-foreground rounded-lg font-medium hover:bg-primary/90 transition-colors",children:"Go to Homepage"})]})}):e.jsx(e.Fragment,{children:n}):e.jsx(Fj,{to:"/login",replace:!0})}const kX=[{title:"Dashboard",icon:X3,href:"/admin",exact:!0},{title:"Users",icon:gn,href:"/admin/users"},{title:"Listings",icon:Zs,href:"/admin/listings"},{title:"Documents",icon:Vf,href:"/admin/documents"},{title:"Content",icon:_s,href:"/admin/content"},{title:"Analytics",icon:Gd,href:"/admin/analytics"},{title:"Fraud Alerts",icon:Ds,href:"/admin/fraud"},{title:"Settings",icon:Um,href:"/admin/settings"}];function EX(){var m,g;const{profile:n,signOut:t}=Bs(),s=Ho(),[r,i]=w.useState(!1),[a,l]=w.useState(!1),c=(p,y)=>y?s.pathname===p:s.pathname.startsWith(p),u=()=>e.jsx(e.Fragment,{children:kX.map(p=>e.jsxs(St,{to:p.href,className:nt("flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-colors",c(p.href,p.exact)?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-muted hover:text-foreground"),onClick:()=>l(!1),children:[e.jsx(p.icon,{className:"h-5 w-5 flex-shrink-0"}),!r&&e.jsx("span",{children:p.title})]},p.href))});return e.jsxs("div",{className:"min-h-screen bg-muted/30",children:[e.jsxs("div",{className:"lg:hidden fixed top-0 left-0 right-0 h-16 bg-background border-b z-50 flex items-center px-4",children:[e.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>l(!a),children:e.jsx(eA,{className:"h-5 w-5"})}),e.jsx("span",{className:"ml-4 font-semibold",children:"Admin Dashboard"})]}),a&&e.jsx("div",{className:"lg:hidden fixed inset-0 bg-black/50 z-40",onClick:()=>l(!1)}),e.jsx("aside",{className:nt("fixed left-0 top-0 h-full bg-background border-r z-50 transition-all duration-200",r?"w-16":"w-64",a?"translate-x-0":"-translate-x-full lg:translate-x-0"),children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"h-16 flex items-center justify-between px-4 border-b",children:[!r&&e.jsxs(St,{to:"/admin",className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center",children:e.jsx(Ds,{className:"h-5 w-5 text-primary-foreground"})}),e.jsx("span",{className:"font-bold text-lg",children:"Admin"})]}),e.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>i(!r),className:"hidden lg:flex",children:e.jsx($y,{className:nt("h-4 w-4 transition-transform",r&&"rotate-180")})})]}),e.jsx(Bh,{className:"flex-1 py-4",children:e.jsx("nav",{className:"space-y-1 px-2",children:e.jsx(u,{})})}),e.jsx(cr,{}),e.jsx("div",{className:"p-4 space-y-2",children:e.jsxs(St,{to:"/",className:nt("flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium text-muted-foreground hover:bg-muted hover:text-foreground transition-colors"),children:[e.jsx(Vy,{className:"h-5 w-5 flex-shrink-0"}),!r&&e.jsx("span",{children:"Back to Site"})]})})]})}),e.jsxs("main",{className:nt("min-h-screen transition-all duration-200 pt-16 lg:pt-0",r?"lg:ml-16":"lg:ml-64"),children:[e.jsxs("header",{className:"h-16 bg-background border-b flex items-center justify-between px-6",children:[e.jsx("div",{children:e.jsx("h1",{className:"text-lg font-semibold capitalize",children:s.pathname==="/admin"?"Dashboard":(m=s.pathname.split("/").pop())==null?void 0:m.replace(/-/g," ")})}),e.jsxs(yc,{children:[e.jsx(bc,{asChild:!0,children:e.jsxs(ee,{variant:"ghost",className:"gap-2",children:[e.jsxs(ai,{className:"h-8 w-8",children:[e.jsx(Bi,{src:(n==null?void 0:n.avatar_url)||""}),e.jsx(gi,{children:((g=n==null?void 0:n.display_name)==null?void 0:g.charAt(0))||"A"})]}),e.jsx("span",{className:"hidden md:inline-block",children:(n==null?void 0:n.display_name)||"Admin"})]})}),e.jsxs(ql,{align:"end",children:[e.jsx(l6,{children:"My Account"}),e.jsx(Lm,{}),e.jsx(Rn,{asChild:!0,children:e.jsxs(St,{to:"/profile",children:[e.jsx(gn,{className:"h-4 w-4 mr-2"}),"Profile"]})}),e.jsx(Rn,{asChild:!0,children:e.jsxs(St,{to:"/profile/settings",children:[e.jsx(Um,{className:"h-4 w-4 mr-2"}),"Settings"]})}),e.jsx(Lm,{}),e.jsxs(Rn,{onClick:()=>t(),className:"text-red-600",children:[e.jsx(Q3,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})]}),e.jsx("div",{className:"p-6",children:e.jsx(HC,{})})]})]})}class $o{static async getUsers(t){let s=Le.from("profiles").select("*").order("created_at",{ascending:!1});t!=null&&t.search&&(s=s.or(`display_name.ilike.%${t.search}%,email.ilike.%${t.search}%`)),t!=null&&t.role&&t.role!=="all"&&(s=s.eq("role",t.role)),(t==null?void 0:t.verified)!==void 0&&(s=s.eq("verified",t.verified)),t!=null&&t.limit&&(s=s.limit(t.limit)),t!=null&&t.offset&&(s=s.range(t.offset,t.offset+(t.limit||50)-1));const{data:r,error:i}=await s;if(i)throw console.error("Error fetching users:",i),i;return r||[]}static async getUserById(t){const{data:s,error:r}=await Le.from("profiles").select("*").eq("id",t).single();return r?(console.error("Error fetching user:",r),null):s}static async getUserBusinesses(t){const{data:s,error:r}=await Le.from("businesses").select("*").eq("seller_id",t).order("created_at",{ascending:!1});return r?(console.error("Error fetching user businesses:",r),[]):s||[]}static async getUserFranchises(t){const{data:s,error:r}=await Le.from("franchises").select("*").eq("franchisor_id",t).order("created_at",{ascending:!1});return r?(console.error("Error fetching user franchises:",r),[]):s||[]}static async updateUser(t,s){const{data:r,error:i}=await Le.from("profiles").update(s).eq("id",t).select().single();if(i)throw console.error("Error updating user:",i),i;return r}static async getPendingListings(t){const s=[],r=(t==null?void 0:t.status)==="all"?void 0:(t==null?void 0:t.status)||"pending_review";if(!(t!=null&&t.type)||t.type==="all"||t.type==="business"){let i=Le.from("businesses").select("id, name, status, industry, created_at, seller_id, profiles!seller_id(id, display_name, email)").order("created_at",{ascending:!1});r&&(i=i.eq("status",r)),t!=null&&t.limit&&(i=i.limit(t.limit));const{data:a,error:l}=await i;!l&&a&&a.forEach(c=>{var u,m,g;s.push({id:c.id,type:"business",name:c.name,status:c.status,industry:c.industry,created_at:c.created_at,owner:{id:((u=c.profiles)==null?void 0:u.id)||c.seller_id,display_name:((m=c.profiles)==null?void 0:m.display_name)||"Unknown",email:((g=c.profiles)==null?void 0:g.email)||""}})})}if(!(t!=null&&t.type)||t.type==="all"||t.type==="franchise"){let i=Le.from("franchises").select("id, brand_name, status, industry, created_at, franchisor_id, profiles!franchisor_id(id, display_name, email)").order("created_at",{ascending:!1});r&&(i=i.eq("status",r)),t!=null&&t.limit&&(i=i.limit(t.limit));const{data:a,error:l}=await i;!l&&a&&a.forEach(c=>{var u,m,g;s.push({id:c.id,type:"franchise",name:c.brand_name,status:c.status,industry:c.industry,created_at:c.created_at,owner:{id:((u=c.profiles)==null?void 0:u.id)||c.franchisor_id,display_name:((m=c.profiles)==null?void 0:m.display_name)||"Unknown",email:((g=c.profiles)==null?void 0:g.email)||""}})})}return s.sort((i,a)=>new Date(a.created_at).getTime()-new Date(i.created_at).getTime()),s}static async approveListing(t,s){const r=s==="business"?"businesses":"franchises",{error:i}=await Le.from(r).update({status:"active",published_at:new Date().toISOString()}).eq("id",t);if(i)throw console.error("Error approving listing:",i),i;return!0}static async rejectListing(t,s,r){const i=s==="business"?"businesses":"franchises",{error:a}=await Le.from(i).update({status:"rejected",rejection_reason:r}).eq("id",t);if(a)throw console.error("Error rejecting listing:",a),a;return!0}static async getPendingDocuments(){const{data:t,error:s}=await Le.from("verification_documents").select("*, profile:profiles!profile_id(display_name, email)").eq("status","pending").order("created_at",{ascending:!1});return s?(console.error("Error fetching documents:",s),[]):(t||[]).map(r=>({...r,profile:r.profile||{display_name:"Unknown",email:""}}))}static async getAllDocuments(t){let s=Le.from("verification_documents").select("*, profile:profiles!profile_id(display_name, email)").order("created_at",{ascending:!1});t!=null&&t.status&&t.status!=="all"&&(s=s.eq("status",t.status));const{data:r,error:i}=await s;return i?(console.error("Error fetching documents:",i),[]):(r||[]).map(a=>({...a,profile:a.profile||{display_name:"Unknown",email:""}}))}static async approveDocument(t,s){const{data:r,error:i}=await Le.from("verification_documents").select("profile_id, document_type").eq("id",t).single();if(i||!r)throw console.error("Error fetching document:",i),new Error("Document not found");const{error:a}=await Le.from("verification_documents").update({status:"verified",verified_at:new Date().toISOString(),verified_by:s}).eq("id",t);if(a)throw console.error("Error approving document:",a),a;return await this.updateUserVerificationStatus(r.profile_id),!0}static async rejectDocument(t,s,r){const{error:i}=await Le.from("verification_documents").update({status:"rejected",verified_at:new Date().toISOString(),verified_by:s,rejection_reason:r||null}).eq("id",t);if(i)throw console.error("Error rejecting document:",i),i;return!0}static async updateUserVerificationStatus(t){const{data:s,error:r}=await Le.from("verification_documents").select("document_type").eq("profile_id",t).eq("status","verified");if(r)return console.error("Error fetching verified docs:",r),!1;const i=(s||[]).map(u=>u.document_type),a=i.includes("identity");i.includes("business");const l=a,{error:c}=await Le.from("profiles").update({verified:l}).eq("id",t);return c?(console.error("Error updating profile verification:",c),!1):!0}static async getPlatformStats(){const t=new Date;t.setDate(t.getDate()-7);const[s,r,i,a,l,c,u,m,g]=await Promise.all([Le.from("profiles").select("id",{count:"exact",head:!0}),Le.from("businesses").select("id",{count:"exact",head:!0}),Le.from("franchises").select("id",{count:"exact",head:!0}),Le.from("businesses").select("id",{count:"exact",head:!0}).eq("status","pending_review"),Le.from("franchises").select("id",{count:"exact",head:!0}).eq("status","pending_review"),Le.from("verification_documents").select("id",{count:"exact",head:!0}).eq("status","pending"),Le.from("profiles").select("id",{count:"exact",head:!0}).gte("created_at",t.toISOString()),Le.from("businesses").select("id",{count:"exact",head:!0}).gte("created_at",t.toISOString()),Le.from("franchises").select("id",{count:"exact",head:!0}).gte("created_at",t.toISOString())]);return{totalUsers:s.count||0,totalBusinesses:r.count||0,totalFranchises:i.count||0,pendingListings:(a.count||0)+(l.count||0),pendingDocuments:c.count||0,newUsersThisWeek:u.count||0,newListingsThisWeek:(m.count||0)+(g.count||0)}}static async getActivityLogs(t=50){const{data:s,error:r}=await Le.from("activity_logs").select("*, profile:profiles!profile_id(display_name, email)").order("created_at",{ascending:!1}).limit(t);return r?(console.error("Error fetching activity logs:",r),[]):(s||[]).map(i=>({...i,profile:i.profile||{display_name:"System",email:""}}))}static async isAdmin(t){const{data:s,error:r}=await Le.from("profiles").select("role").eq("id",t).single();return r||!s?!1:s.role==="admin"}}function TX(){const[n,t]=w.useState(null),[s,r]=w.useState([]),[i,a]=w.useState([]),[l,c]=w.useState(!0);if(w.useEffect(()=>{(async()=>{try{const[g,p,y]=await Promise.all([$o.getPlatformStats(),$o.getPendingListings({status:"pending_review",limit:5}),$o.getPendingDocuments()]);t(g),r(p.slice(0,5)),a(y.slice(0,5))}catch(g){console.error("Error loading dashboard:",g)}finally{c(!1)}})()},[]),l)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(Ht,{className:"h-8 w-8 animate-spin text-primary"})});const u=[{title:"Total Users",value:(n==null?void 0:n.totalUsers)||0,change:`+${(n==null?void 0:n.newUsersThisWeek)||0} this week`,icon:gn,color:"text-blue-600 bg-blue-100"},{title:"Total Listings",value:((n==null?void 0:n.totalBusinesses)||0)+((n==null?void 0:n.totalFranchises)||0),change:`+${(n==null?void 0:n.newListingsThisWeek)||0} this week`,icon:Zs,color:"text-green-600 bg-green-100"},{title:"Pending Review",value:(n==null?void 0:n.pendingListings)||0,change:"needs attention",icon:Hn,color:"text-yellow-600 bg-yellow-100",urgent:((n==null?void 0:n.pendingListings)||0)>0},{title:"Pending Documents",value:(n==null?void 0:n.pendingDocuments)||0,change:"awaiting verification",icon:Vf,color:"text-purple-600 bg-purple-100",urgent:((n==null?void 0:n.pendingDocuments)||0)>0}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-primary/10 via-primary/5 to-background rounded-lg p-6 border",children:[e.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Welcome to Admin Dashboard"}),e.jsx("p",{className:"text-muted-foreground",children:"Monitor platform activity, moderate content, and manage users."})]}),e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:u.map(m=>e.jsx(de,{className:m.urgent?"border-yellow-400":"",children:e.jsx(fe,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:m.title}),e.jsx("p",{className:"text-3xl font-bold mt-1",children:m.value.toLocaleString()}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:m.change})]}),e.jsx("div",{className:`p-3 rounded-lg ${m.color}`,children:e.jsx(m.icon,{className:"h-6 w-6"})})]})})},m.title))}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs(de,{children:[e.jsxs(Me,{className:"flex flex-row items-center justify-between",children:[e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(Hn,{className:"h-5 w-5 text-yellow-600"}),"Pending Listings"]}),e.jsx(ee,{variant:"ghost",size:"sm",asChild:!0,children:e.jsxs(St,{to:"/admin/listings?status=pending_review",children:["View All ",e.jsx(Ca,{className:"h-4 w-4 ml-1"})]})})]}),e.jsx(fe,{children:s.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(Hn,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No pending listings"})]}):e.jsx(Bh,{className:"h-64",children:e.jsx("div",{className:"space-y-3",children:s.map(m=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:m.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["by ",m.owner.display_name]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Be,{variant:m.type==="franchise"?"default":"secondary",children:m.type}),e.jsx(ee,{size:"sm",asChild:!0,children:e.jsx(St,{to:`/admin/listings/${m.type}/${m.id}`,children:"Review"})})]})]},m.id))})})})]}),e.jsxs(de,{children:[e.jsxs(Me,{className:"flex flex-row items-center justify-between",children:[e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(Vf,{className:"h-5 w-5 text-purple-600"}),"Pending Documents"]}),e.jsx(ee,{variant:"ghost",size:"sm",asChild:!0,children:e.jsxs(St,{to:"/admin/documents",children:["View All ",e.jsx(Ca,{className:"h-4 w-4 ml-1"})]})})]}),e.jsx(fe,{children:i.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(Vf,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No pending documents"})]}):e.jsx(Bh,{className:"h-64",children:e.jsx("div",{className:"space-y-3",children:i.map(m=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:m.file_name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["by ",m.profile.display_name]})]}),e.jsx(Be,{variant:"outline",children:m.document_type})]},m.id))})})})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsx(de,{children:e.jsx(fe,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 rounded-lg bg-blue-100 text-blue-600",children:e.jsx(Zs,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:(n==null?void 0:n.totalBusinesses)||0}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Businesses"})]})]})})}),e.jsx(de,{children:e.jsx(fe,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 rounded-lg bg-green-100 text-green-600",children:e.jsx(Os,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:(n==null?void 0:n.totalFranchises)||0}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Franchises"})]})]})})}),e.jsx(de,{children:e.jsx(fe,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 rounded-lg bg-yellow-100 text-yellow-600",children:e.jsx(vi,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:"0"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Fraud Alerts"})]})]})})})]})]})}const Yd=w.forwardRef(({className:n,...t},s)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:s,className:nt("w-full caption-bottom text-sm",n),...t})}));Yd.displayName="Table";const Zd=w.forwardRef(({className:n,...t},s)=>e.jsx("thead",{ref:s,className:nt("[&_tr]:border-b",n),...t}));Zd.displayName="TableHeader";const Kd=w.forwardRef(({className:n,...t},s)=>e.jsx("tbody",{ref:s,className:nt("[&_tr:last-child]:border-0",n),...t}));Kd.displayName="TableBody";const PX=w.forwardRef(({className:n,...t},s)=>e.jsx("tfoot",{ref:s,className:nt("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",n),...t}));PX.displayName="TableFooter";const ka=w.forwardRef(({className:n,...t},s)=>e.jsx("tr",{ref:s,className:nt("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",n),...t}));ka.displayName="TableRow";const ys=w.forwardRef(({className:n,...t},s)=>e.jsx("th",{ref:s,className:nt("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...t}));ys.displayName="TableHead";const bs=w.forwardRef(({className:n,...t},s)=>e.jsx("td",{ref:s,className:nt("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...t}));bs.displayName="TableCell";const LX=w.forwardRef(({className:n,...t},s)=>e.jsx("caption",{ref:s,className:nt("mt-4 text-sm text-muted-foreground",n),...t}));LX.displayName="TableCaption";function wr(n){const t=Object.prototype.toString.call(n);return n instanceof Date||typeof n=="object"&&t==="[object Date]"?new n.constructor(+n):typeof n=="number"||t==="[object Number]"||typeof n=="string"||t==="[object String]"?new Date(n):new Date(NaN)}function Hh(n,t){return n instanceof Date?new n.constructor(t):new Date(t)}const RL=6048e5,RX=864e5,Dv=43200,yC=1440;let OX={};function bx(){return OX}function Zg(n,t){var c,u,m,g;const s=bx(),r=(t==null?void 0:t.weekStartsOn)??((u=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??s.weekStartsOn??((g=(m=s.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)??0,i=wr(n),a=i.getDay(),l=(a<r?7:0)+a-r;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function My(n){return Zg(n,{weekStartsOn:1})}function OL(n){const t=wr(n),s=t.getFullYear(),r=Hh(n,0);r.setFullYear(s+1,0,4),r.setHours(0,0,0,0);const i=My(r),a=Hh(n,0);a.setFullYear(s,0,4),a.setHours(0,0,0,0);const l=My(a);return t.getTime()>=i.getTime()?s+1:t.getTime()>=l.getTime()?s:s-1}function bC(n){const t=wr(n);return t.setHours(0,0,0,0),t}function Dy(n){const t=wr(n),s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return s.setUTCFullYear(t.getFullYear()),+n-+s}function MX(n,t){const s=bC(n),r=bC(t),i=+s-Dy(s),a=+r-Dy(r);return Math.round((i-a)/RX)}function DX(n){const t=OL(n),s=Hh(n,0);return s.setFullYear(t,0,4),s.setHours(0,0,0,0),My(s)}function Xv(n,t){const s=wr(n),r=wr(t),i=s.getTime()-r.getTime();return i<0?-1:i>0?1:i}function IX(n){return Hh(n,Date.now())}function FX(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function BX(n){if(!FX(n)&&typeof n!="number")return!1;const t=wr(n);return!isNaN(Number(t))}function zX(n,t){const s=wr(n),r=wr(t),i=s.getFullYear()-r.getFullYear(),a=s.getMonth()-r.getMonth();return i*12+a}function qX(n){return t=>{const r=(n?Math[n]:Math.trunc)(t);return r===0?0:r}}function UX(n,t){return+wr(n)-+wr(t)}function $X(n){const t=wr(n);return t.setHours(23,59,59,999),t}function VX(n){const t=wr(n),s=t.getMonth();return t.setFullYear(t.getFullYear(),s+1,0),t.setHours(23,59,59,999),t}function HX(n){const t=wr(n);return+$X(t)==+VX(t)}function GX(n,t){const s=wr(n),r=wr(t),i=Xv(s,r),a=Math.abs(zX(s,r));let l;if(a<1)l=0;else{s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-i*a);let c=Xv(s,r)===-i;HX(wr(n))&&a===1&&Xv(n,r)===1&&(c=!1),l=i*(a-Number(c))}return l===0?0:l}function WX(n,t,s){const r=UX(n,t)/1e3;return qX(s==null?void 0:s.roundingMethod)(r)}function YX(n){const t=wr(n),s=Hh(n,0);return s.setFullYear(t.getFullYear(),0,1),s.setHours(0,0,0,0),s}const ZX={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},KX=(n,t,s)=>{let r;const i=ZX[n];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+r:r+" ago":r};function Rj(n){return(t={})=>{const s=t.width?String(t.width):n.defaultWidth;return n.formats[s]||n.formats[n.defaultWidth]}}const JX={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},XX={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},QX={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},eQ={date:Rj({formats:JX,defaultWidth:"full"}),time:Rj({formats:XX,defaultWidth:"full"}),dateTime:Rj({formats:QX,defaultWidth:"full"})},tQ={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},sQ=(n,t,s,r)=>tQ[n];function ug(n){return(t,s)=>{const r=s!=null&&s.context?String(s.context):"standalone";let i;if(r==="formatting"&&n.formattingValues){const l=n.defaultFormattingWidth||n.defaultWidth,c=s!=null&&s.width?String(s.width):l;i=n.formattingValues[c]||n.formattingValues[l]}else{const l=n.defaultWidth,c=s!=null&&s.width?String(s.width):n.defaultWidth;i=n.values[c]||n.values[l]}const a=n.argumentCallback?n.argumentCallback(t):t;return i[a]}}const nQ={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},rQ={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},iQ={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},aQ={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},oQ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},lQ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},cQ=(n,t)=>{const s=Number(n),r=s%100;if(r>20||r<10)switch(r%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},dQ={ordinalNumber:cQ,era:ug({values:nQ,defaultWidth:"wide"}),quarter:ug({values:rQ,defaultWidth:"wide",argumentCallback:n=>n-1}),month:ug({values:iQ,defaultWidth:"wide"}),day:ug({values:aQ,defaultWidth:"wide"}),dayPeriod:ug({values:oQ,defaultWidth:"wide",formattingValues:lQ,defaultFormattingWidth:"wide"})};function hg(n){return(t,s={})=>{const r=s.width,i=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],a=t.match(i);if(!a)return null;const l=a[0],c=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],u=Array.isArray(c)?hQ(c,p=>p.test(l)):uQ(c,p=>p.test(l));let m;m=n.valueCallback?n.valueCallback(u):u,m=s.valueCallback?s.valueCallback(m):m;const g=t.slice(l.length);return{value:m,rest:g}}}function uQ(n,t){for(const s in n)if(Object.prototype.hasOwnProperty.call(n,s)&&t(n[s]))return s}function hQ(n,t){for(let s=0;s<n.length;s++)if(t(n[s]))return s}function mQ(n){return(t,s={})=>{const r=t.match(n.matchPattern);if(!r)return null;const i=r[0],a=t.match(n.parsePattern);if(!a)return null;let l=n.valueCallback?n.valueCallback(a[0]):a[0];l=s.valueCallback?s.valueCallback(l):l;const c=t.slice(i.length);return{value:l,rest:c}}}const fQ=/^(\d+)(th|st|nd|rd)?/i,pQ=/\d+/i,gQ={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},xQ={any:[/^b/i,/^(a|c)/i]},vQ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},yQ={any:[/1/i,/2/i,/3/i,/4/i]},bQ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},jQ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},wQ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},NQ={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},_Q={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},SQ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},CQ={ordinalNumber:mQ({matchPattern:fQ,parsePattern:pQ,valueCallback:n=>parseInt(n,10)}),era:hg({matchPatterns:gQ,defaultMatchWidth:"wide",parsePatterns:xQ,defaultParseWidth:"any"}),quarter:hg({matchPatterns:vQ,defaultMatchWidth:"wide",parsePatterns:yQ,defaultParseWidth:"any",valueCallback:n=>n+1}),month:hg({matchPatterns:bQ,defaultMatchWidth:"wide",parsePatterns:jQ,defaultParseWidth:"any"}),day:hg({matchPatterns:wQ,defaultMatchWidth:"wide",parsePatterns:NQ,defaultParseWidth:"any"}),dayPeriod:hg({matchPatterns:_Q,defaultMatchWidth:"any",parsePatterns:SQ,defaultParseWidth:"any"})},ML={code:"en-US",formatDistance:KX,formatLong:eQ,formatRelative:sQ,localize:dQ,match:CQ,options:{weekStartsOn:0,firstWeekContainsDate:1}};function AQ(n){const t=wr(n);return MX(t,YX(t))+1}function kQ(n){const t=wr(n),s=+My(t)-+DX(t);return Math.round(s/RL)+1}function DL(n,t){var g,p,y,x;const s=wr(n),r=s.getFullYear(),i=bx(),a=(t==null?void 0:t.firstWeekContainsDate)??((p=(g=t==null?void 0:t.locale)==null?void 0:g.options)==null?void 0:p.firstWeekContainsDate)??i.firstWeekContainsDate??((x=(y=i.locale)==null?void 0:y.options)==null?void 0:x.firstWeekContainsDate)??1,l=Hh(n,0);l.setFullYear(r+1,0,a),l.setHours(0,0,0,0);const c=Zg(l,t),u=Hh(n,0);u.setFullYear(r,0,a),u.setHours(0,0,0,0);const m=Zg(u,t);return s.getTime()>=c.getTime()?r+1:s.getTime()>=m.getTime()?r:r-1}function EQ(n,t){var c,u,m,g;const s=bx(),r=(t==null?void 0:t.firstWeekContainsDate)??((u=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(m=s.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,i=DL(n,t),a=Hh(n,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),Zg(a,t)}function TQ(n,t){const s=wr(n),r=+Zg(s,t)-+EQ(s,t);return Math.round(r/RL)+1}function lr(n,t){const s=n<0?"-":"",r=Math.abs(n).toString().padStart(t,"0");return s+r}const wh={y(n,t){const s=n.getFullYear(),r=s>0?s:1-s;return lr(t==="yy"?r%100:r,t.length)},M(n,t){const s=n.getMonth();return t==="M"?String(s+1):lr(s+1,2)},d(n,t){return lr(n.getDate(),t.length)},a(n,t){const s=n.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(n,t){return lr(n.getHours()%12||12,t.length)},H(n,t){return lr(n.getHours(),t.length)},m(n,t){return lr(n.getMinutes(),t.length)},s(n,t){return lr(n.getSeconds(),t.length)},S(n,t){const s=t.length,r=n.getMilliseconds(),i=Math.trunc(r*Math.pow(10,s-3));return lr(i,t.length)}},Rf={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},jC={G:function(n,t,s){const r=n.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return s.era(r,{width:"abbreviated"});case"GGGGG":return s.era(r,{width:"narrow"});case"GGGG":default:return s.era(r,{width:"wide"})}},y:function(n,t,s){if(t==="yo"){const r=n.getFullYear(),i=r>0?r:1-r;return s.ordinalNumber(i,{unit:"year"})}return wh.y(n,t)},Y:function(n,t,s,r){const i=DL(n,r),a=i>0?i:1-i;if(t==="YY"){const l=a%100;return lr(l,2)}return t==="Yo"?s.ordinalNumber(a,{unit:"year"}):lr(a,t.length)},R:function(n,t){const s=OL(n);return lr(s,t.length)},u:function(n,t){const s=n.getFullYear();return lr(s,t.length)},Q:function(n,t,s){const r=Math.ceil((n.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return lr(r,2);case"Qo":return s.ordinalNumber(r,{unit:"quarter"});case"QQQ":return s.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,t,s){const r=Math.ceil((n.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return lr(r,2);case"qo":return s.ordinalNumber(r,{unit:"quarter"});case"qqq":return s.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,t,s){const r=n.getMonth();switch(t){case"M":case"MM":return wh.M(n,t);case"Mo":return s.ordinalNumber(r+1,{unit:"month"});case"MMM":return s.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(r,{width:"wide",context:"formatting"})}},L:function(n,t,s){const r=n.getMonth();switch(t){case"L":return String(r+1);case"LL":return lr(r+1,2);case"Lo":return s.ordinalNumber(r+1,{unit:"month"});case"LLL":return s.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(r,{width:"wide",context:"standalone"})}},w:function(n,t,s,r){const i=TQ(n,r);return t==="wo"?s.ordinalNumber(i,{unit:"week"}):lr(i,t.length)},I:function(n,t,s){const r=kQ(n);return t==="Io"?s.ordinalNumber(r,{unit:"week"}):lr(r,t.length)},d:function(n,t,s){return t==="do"?s.ordinalNumber(n.getDate(),{unit:"date"}):wh.d(n,t)},D:function(n,t,s){const r=AQ(n);return t==="Do"?s.ordinalNumber(r,{unit:"dayOfYear"}):lr(r,t.length)},E:function(n,t,s){const r=n.getDay();switch(t){case"E":case"EE":case"EEE":return s.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(r,{width:"short",context:"formatting"});case"EEEE":default:return s.day(r,{width:"wide",context:"formatting"})}},e:function(n,t,s,r){const i=n.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return lr(a,2);case"eo":return s.ordinalNumber(a,{unit:"day"});case"eee":return s.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(i,{width:"short",context:"formatting"});case"eeee":default:return s.day(i,{width:"wide",context:"formatting"})}},c:function(n,t,s,r){const i=n.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return lr(a,t.length);case"co":return s.ordinalNumber(a,{unit:"day"});case"ccc":return s.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(i,{width:"narrow",context:"standalone"});case"cccccc":return s.day(i,{width:"short",context:"standalone"});case"cccc":default:return s.day(i,{width:"wide",context:"standalone"})}},i:function(n,t,s){const r=n.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return lr(i,t.length);case"io":return s.ordinalNumber(i,{unit:"day"});case"iii":return s.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(r,{width:"short",context:"formatting"});case"iiii":default:return s.day(r,{width:"wide",context:"formatting"})}},a:function(n,t,s){const i=n.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(n,t,s){const r=n.getHours();let i;switch(r===12?i=Rf.noon:r===0?i=Rf.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(n,t,s){const r=n.getHours();let i;switch(r>=17?i=Rf.evening:r>=12?i=Rf.afternoon:r>=4?i=Rf.morning:i=Rf.night,t){case"B":case"BB":case"BBB":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(n,t,s){if(t==="ho"){let r=n.getHours()%12;return r===0&&(r=12),s.ordinalNumber(r,{unit:"hour"})}return wh.h(n,t)},H:function(n,t,s){return t==="Ho"?s.ordinalNumber(n.getHours(),{unit:"hour"}):wh.H(n,t)},K:function(n,t,s){const r=n.getHours()%12;return t==="Ko"?s.ordinalNumber(r,{unit:"hour"}):lr(r,t.length)},k:function(n,t,s){let r=n.getHours();return r===0&&(r=24),t==="ko"?s.ordinalNumber(r,{unit:"hour"}):lr(r,t.length)},m:function(n,t,s){return t==="mo"?s.ordinalNumber(n.getMinutes(),{unit:"minute"}):wh.m(n,t)},s:function(n,t,s){return t==="so"?s.ordinalNumber(n.getSeconds(),{unit:"second"}):wh.s(n,t)},S:function(n,t){return wh.S(n,t)},X:function(n,t,s){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return NC(r);case"XXXX":case"XX":return pm(r);case"XXXXX":case"XXX":default:return pm(r,":")}},x:function(n,t,s){const r=n.getTimezoneOffset();switch(t){case"x":return NC(r);case"xxxx":case"xx":return pm(r);case"xxxxx":case"xxx":default:return pm(r,":")}},O:function(n,t,s){const r=n.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+wC(r,":");case"OOOO":default:return"GMT"+pm(r,":")}},z:function(n,t,s){const r=n.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+wC(r,":");case"zzzz":default:return"GMT"+pm(r,":")}},t:function(n,t,s){const r=Math.trunc(n.getTime()/1e3);return lr(r,t.length)},T:function(n,t,s){const r=n.getTime();return lr(r,t.length)}};function wC(n,t=""){const s=n>0?"-":"+",r=Math.abs(n),i=Math.trunc(r/60),a=r%60;return a===0?s+String(i):s+String(i)+t+lr(a,2)}function NC(n,t){return n%60===0?(n>0?"-":"+")+lr(Math.abs(n)/60,2):pm(n,t)}function pm(n,t=""){const s=n>0?"-":"+",r=Math.abs(n),i=lr(Math.trunc(r/60),2),a=lr(r%60,2);return s+i+t+a}const _C=(n,t)=>{switch(n){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},IL=(n,t)=>{switch(n){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},PQ=(n,t)=>{const s=n.match(/(P+)(p+)?/)||[],r=s[1],i=s[2];if(!i)return _C(n,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",_C(r,t)).replace("{{time}}",IL(i,t))},LQ={p:IL,P:PQ},RQ=/^D+$/,OQ=/^Y+$/,MQ=["D","DD","YY","YYYY"];function DQ(n){return RQ.test(n)}function IQ(n){return OQ.test(n)}function FQ(n,t,s){const r=BQ(n,t,s);if(console.warn(r),MQ.includes(n))throw new RangeError(r)}function BQ(n,t,s){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${t}\`) for formatting ${r} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const zQ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,qQ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,UQ=/^'([^]*?)'?$/,$Q=/''/g,VQ=/[a-zA-Z]/;function Gh(n,t,s){var g,p,y,x;const r=bx(),i=r.locale??ML,a=r.firstWeekContainsDate??((p=(g=r.locale)==null?void 0:g.options)==null?void 0:p.firstWeekContainsDate)??1,l=r.weekStartsOn??((x=(y=r.locale)==null?void 0:y.options)==null?void 0:x.weekStartsOn)??0,c=wr(n);if(!BX(c))throw new RangeError("Invalid time value");let u=t.match(qQ).map(_=>{const j=_[0];if(j==="p"||j==="P"){const A=LQ[j];return A(_,i.formatLong)}return _}).join("").match(zQ).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const j=_[0];if(j==="'")return{isToken:!1,value:HQ(_)};if(jC[j])return{isToken:!0,value:_};if(j.match(VQ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return{isToken:!1,value:_}});i.localize.preprocessor&&(u=i.localize.preprocessor(c,u));const m={firstWeekContainsDate:a,weekStartsOn:l,locale:i};return u.map(_=>{if(!_.isToken)return _.value;const j=_.value;(IQ(j)||DQ(j))&&FQ(j,t,String(n));const A=jC[j[0]];return A(c,j,i.localize,m)}).join("")}function HQ(n){const t=n.match(UQ);return t?t[1].replace($Q,"'"):n}function GQ(n,t,s){const r=bx(),i=(s==null?void 0:s.locale)??r.locale??ML,a=2520,l=Xv(n,t);if(isNaN(l))throw new RangeError("Invalid time value");const c=Object.assign({},s,{addSuffix:s==null?void 0:s.addSuffix,comparison:l});let u,m;l>0?(u=wr(t),m=wr(n)):(u=wr(n),m=wr(t));const g=WX(m,u),p=(Dy(m)-Dy(u))/1e3,y=Math.round((g-p)/60);let x;if(y<2)return s!=null&&s.includeSeconds?g<5?i.formatDistance("lessThanXSeconds",5,c):g<10?i.formatDistance("lessThanXSeconds",10,c):g<20?i.formatDistance("lessThanXSeconds",20,c):g<40?i.formatDistance("halfAMinute",0,c):g<60?i.formatDistance("lessThanXMinutes",1,c):i.formatDistance("xMinutes",1,c):y===0?i.formatDistance("lessThanXMinutes",1,c):i.formatDistance("xMinutes",y,c);if(y<45)return i.formatDistance("xMinutes",y,c);if(y<90)return i.formatDistance("aboutXHours",1,c);if(y<yC){const _=Math.round(y/60);return i.formatDistance("aboutXHours",_,c)}else{if(y<a)return i.formatDistance("xDays",1,c);if(y<Dv){const _=Math.round(y/yC);return i.formatDistance("xDays",_,c)}else if(y<Dv*2)return x=Math.round(y/Dv),i.formatDistance("aboutXMonths",x,c)}if(x=GX(m,u),x<12){const _=Math.round(y/Dv);return i.formatDistance("xMonths",_,c)}else{const _=x%12,j=Math.trunc(x/12);return _<3?i.formatDistance("aboutXYears",j,c):_<9?i.formatDistance("overXYears",j,c):i.formatDistance("almostXYears",j+1,c)}}function Ba(n,t){return GQ(n,IX(n),t)}const WQ={admin:"bg-red-100 text-red-800",seller:"bg-blue-100 text-blue-800",buyer:"bg-green-100 text-green-800",franchisor:"bg-purple-100 text-purple-800",franchisee:"bg-orange-100 text-orange-800",advisor:"bg-teal-100 text-teal-800",broker:"bg-indigo-100 text-indigo-800"};function YQ(){const[n,t]=w.useState([]),[s,r]=w.useState(!0),[i,a]=w.useState(""),[l,c]=w.useState("all");w.useEffect(()=>{u()},[l]);const u=async()=>{r(!0);try{const p={role:l!=="all"?l:void 0,limit:100},y=await $o.getUsers(p);t(y)}catch(p){console.error("Error loading users:",p)}finally{r(!1)}},m=async()=>{r(!0);try{const p={search:i||void 0,role:l!=="all"?l:void 0,limit:100},y=await $o.getUsers(p);t(y)}catch(p){console.error("Error searching users:",p)}finally{r(!1)}},g=i?n.filter(p=>{var y;return((y=p.display_name)==null?void 0:y.toLowerCase().includes(i.toLowerCase()))||p.email.toLowerCase().includes(i.toLowerCase())}):n;return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Users"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage platform users and their roles"})]})}),e.jsxs(de,{children:[e.jsx(Me,{children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(xi,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(Ue,{placeholder:"Search by name or email...",value:i,onChange:p=>a(p.target.value),onKeyDown:p=>p.key==="Enter"&&m(),className:"pl-10"})]}),e.jsxs(Jt,{value:l,onValueChange:c,children:[e.jsx(Wt,{className:"w-40",children:e.jsx(Xt,{placeholder:"Filter by role"})}),e.jsxs(Yt,{children:[e.jsx(Ee,{value:"all",children:"All Roles"}),e.jsx(Ee,{value:"admin",children:"Admin"}),e.jsx(Ee,{value:"seller",children:"Seller"}),e.jsx(Ee,{value:"buyer",children:"Buyer"}),e.jsx(Ee,{value:"franchisor",children:"Franchisor"}),e.jsx(Ee,{value:"franchisee",children:"Franchisee"}),e.jsx(Ee,{value:"advisor",children:"Advisor"}),e.jsx(Ee,{value:"broker",children:"Broker"})]})]})]})}),e.jsx(fe,{children:s?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(Ht,{className:"h-8 w-8 animate-spin text-primary"})}):g.length===0?e.jsx("div",{className:"text-center py-12 text-muted-foreground",children:e.jsx("p",{children:"No users found"})}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Yd,{children:[e.jsx(Zd,{children:e.jsxs(ka,{children:[e.jsx(ys,{children:"User"}),e.jsx(ys,{children:"Role"}),e.jsx(ys,{children:"Location"}),e.jsx(ys,{children:"Verified"}),e.jsx(ys,{children:"Joined"}),e.jsx(ys,{className:"w-12"})]})}),e.jsx(Kd,{children:g.map(p=>{var y;return e.jsxs(ka,{children:[e.jsx(bs,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(ai,{className:"h-9 w-9",children:[e.jsx(Bi,{src:p.avatar_url||""}),e.jsx(gi,{children:((y=p.display_name)==null?void 0:y.charAt(0))||p.email.charAt(0).toUpperCase()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:p.display_name||"No name"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:p.email})]})]})}),e.jsx(bs,{children:e.jsx(Be,{className:WQ[p.role]||"bg-gray-100 text-gray-800",children:p.role})}),e.jsx(bs,{children:p.city&&p.state?e.jsxs("span",{className:"text-sm",children:[p.city,", ",p.state]}):e.jsx("span",{className:"text-sm text-muted-foreground",children:"-"})}),e.jsx(bs,{children:p.verified?e.jsx(Lt,{className:"h-5 w-5 text-green-600"}):e.jsx(pi,{className:"h-5 w-5 text-muted-foreground"})}),e.jsx(bs,{children:e.jsx("span",{className:"text-sm text-muted-foreground",children:Ba(new Date(p.created_at),{addSuffix:!0})})}),e.jsx(bs,{children:e.jsxs(yc,{children:[e.jsx(bc,{asChild:!0,children:e.jsx(ee,{variant:"ghost",size:"icon",children:e.jsx(zm,{className:"h-4 w-4"})})}),e.jsxs(ql,{align:"end",children:[e.jsx(Rn,{asChild:!0,children:e.jsxs(St,{to:`/admin/users/${p.id}`,children:[e.jsx(dn,{className:"h-4 w-4 mr-2"}),"View Details"]})}),e.jsxs(Rn,{children:[e.jsx(Ds,{className:"h-4 w-4 mr-2"}),"Change Role"]}),e.jsxs(Rn,{className:"text-red-600",children:[e.jsx(EB,{className:"h-4 w-4 mr-2"}),"Ban User"]})]})]})})]},p.id)})})]})})})]})]})}const ZQ={admin:"bg-red-100 text-red-800",seller:"bg-blue-100 text-blue-800",buyer:"bg-green-100 text-green-800",franchisor:"bg-purple-100 text-purple-800",franchisee:"bg-orange-100 text-orange-800",advisor:"bg-teal-100 text-teal-800",broker:"bg-indigo-100 text-indigo-800"};function KQ(){var g;const{id:n}=Jd(),t=Mn(),[s,r]=w.useState(null),[i,a]=w.useState([]),[l,c]=w.useState([]),[u,m]=w.useState(!0);return w.useEffect(()=>{(async()=>{if(n)try{const[y,x,_]=await Promise.all([$o.getUserById(n),$o.getUserBusinesses(n),$o.getUserFranchises(n)]);r(y),a(x),c(_)}catch(y){console.error("Error loading user:",y)}finally{m(!1)}})()},[n]),u?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(Ht,{className:"h-8 w-8 animate-spin text-primary"})}):s?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>t("/admin/users"),children:e.jsx(ca,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"User Details"}),e.jsx("p",{className:"text-muted-foreground",children:"View and manage user information"})]})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsx(de,{className:"lg:col-span-1",children:e.jsxs(fe,{className:"pt-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs(ai,{className:"h-24 w-24 mx-auto mb-4",children:[e.jsx(Bi,{src:s.avatar_url||""}),e.jsx(gi,{className:"text-2xl",children:((g=s.display_name)==null?void 0:g.charAt(0))||s.email.charAt(0).toUpperCase()})]}),e.jsx("h2",{className:"text-xl font-semibold",children:s.display_name||"No name"}),e.jsx(Be,{className:`mt-2 ${ZQ[s.role]||""}`,children:s.role}),s.verified&&e.jsxs("div",{className:"flex items-center justify-center gap-1 mt-2 text-green-600",children:[e.jsx(Lt,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"Verified"})]})]}),e.jsx(cr,{className:"my-6"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Or,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm",children:s.email})]}),s.phone&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Mr,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm",children:s.phone})]}),(s.city||s.state)&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ln,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm",children:[s.city,s.state].filter(Boolean).join(", ")})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(za,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm",children:["Joined ",Gh(new Date(s.created_at),"MMM d, yyyy")]})]})]}),e.jsx(cr,{className:"my-6"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ee,{variant:"outline",className:"w-full",children:[e.jsx(Ds,{className:"h-4 w-4 mr-2"}),"Change Role"]}),e.jsx(ee,{variant:"outline",className:"w-full text-red-600 hover:text-red-700",children:"Ban User"})]})]})}),e.jsxs(de,{className:"lg:col-span-2",children:[e.jsx(Me,{children:e.jsx(Fe,{children:"User Listings"})}),e.jsx(fe,{children:e.jsxs(Ui,{defaultValue:"businesses",children:[e.jsxs(yi,{children:[e.jsxs(zt,{value:"businesses",children:["Businesses (",i.length,")"]}),e.jsxs(zt,{value:"franchises",children:["Franchises (",l.length,")"]})]}),e.jsx(Es,{value:"businesses",className:"mt-4",children:i.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(Zs,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No businesses"})]}):e.jsx("div",{className:"space-y-3",children:i.map(p=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:p.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:p.industry})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Be,{variant:p.status==="active"?"default":"secondary",children:p.status}),e.jsx(ee,{size:"sm",variant:"ghost",asChild:!0,children:e.jsx(St,{to:`/business/${p.slug||p.id}`,children:e.jsx(Am,{className:"h-4 w-4"})})})]})]},p.id))})}),e.jsx(Es,{value:"franchises",className:"mt-4",children:l.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(Zs,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No franchises"})]}):e.jsx("div",{className:"space-y-3",children:l.map(p=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:p.brand_name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:p.industry})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Be,{variant:p.status==="active"?"default":"secondary",children:p.status}),e.jsx(ee,{size:"sm",variant:"ghost",asChild:!0,children:e.jsx(St,{to:`/franchise/${p.slug||p.id}`,children:e.jsx(Am,{className:"h-4 w-4"})})})]})]},p.id))})})]})})]})]})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-muted-foreground",children:"User not found"}),e.jsx(ee,{variant:"link",onClick:()=>t("/admin/users"),children:"Back to Users"})]})}const JQ={pending_review:"bg-yellow-100 text-yellow-800",active:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",draft:"bg-gray-100 text-gray-800",sold:"bg-blue-100 text-blue-800",inactive:"bg-gray-100 text-gray-600"};function XQ(){var j,A;const[n,t]=JC(),[s,r]=w.useState([]),[i,a]=w.useState(!0),[l,c]=w.useState({open:!1,listing:null,action:"approve"}),u=n.get("status")||"pending_review",m=n.get("type")||"all";w.useEffect(()=>{g()},[u,m]);const g=async()=>{a(!0);try{const C=await $o.getPendingListings({status:u,type:m});r(C)}catch(C){console.error("Error loading listings:",C)}finally{a(!1)}},p=async C=>{try{await $o.approveListing(C.id,C.type),Rt.success(`${C.name} has been approved`),g()}catch{Rt.error("Failed to approve listing")}c({open:!1,listing:null,action:"approve"})},y=async C=>{try{await $o.rejectListing(C.id,C.type,"Rejected by admin"),Rt.success(`${C.name} has been rejected`),g()}catch{Rt.error("Failed to reject listing")}c({open:!1,listing:null,action:"reject"})},x=C=>{n.set("status",C),t(n)},_=C=>{n.set("type",C),t(n)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Listing Moderation"}),e.jsx("p",{className:"text-muted-foreground",children:"Review and approve pending listings"})]}),e.jsxs(de,{children:[e.jsx(Me,{children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-start md:items-center justify-between",children:[e.jsx(Ui,{value:u,onValueChange:x,children:e.jsxs(yi,{children:[e.jsxs(zt,{value:"pending_review",className:"gap-2",children:[e.jsx(Hn,{className:"h-4 w-4"}),"Pending"]}),e.jsx(zt,{value:"active",children:"Active"}),e.jsx(zt,{value:"rejected",children:"Rejected"}),e.jsx(zt,{value:"all",children:"All"})]})}),e.jsx(Ui,{value:m,onValueChange:_,children:e.jsxs(yi,{children:[e.jsx(zt,{value:"all",children:"All Types"}),e.jsxs(zt,{value:"business",className:"gap-2",children:[e.jsx(Uo,{className:"h-4 w-4"}),"Business"]}),e.jsxs(zt,{value:"franchise",className:"gap-2",children:[e.jsx(Zs,{className:"h-4 w-4"}),"Franchise"]})]})})]})}),e.jsx(fe,{children:i?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(Ht,{className:"h-8 w-8 animate-spin text-primary"})}):s.length===0?e.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[e.jsx(Zs,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No listings found"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Yd,{children:[e.jsx(Zd,{children:e.jsxs(ka,{children:[e.jsx(ys,{children:"Listing"}),e.jsx(ys,{children:"Type"}),e.jsx(ys,{children:"Owner"}),e.jsx(ys,{children:"Status"}),e.jsx(ys,{children:"Submitted"}),e.jsx(ys,{className:"text-right",children:"Actions"})]})}),e.jsx(Kd,{children:s.map(C=>e.jsxs(ka,{children:[e.jsx(bs,{children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:C.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:C.industry})]})}),e.jsx(bs,{children:e.jsx(Be,{variant:C.type==="franchise"?"default":"secondary",children:C.type})}),e.jsx(bs,{children:e.jsxs("div",{children:[e.jsx("p",{className:"text-sm",children:C.owner.display_name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:C.owner.email})]})}),e.jsx(bs,{children:e.jsx(Be,{className:JQ[C.status]||"",children:C.status.replace("_"," ")})}),e.jsx(bs,{children:e.jsx("span",{className:"text-sm text-muted-foreground",children:Ba(new Date(C.created_at),{addSuffix:!0})})}),e.jsx(bs,{className:"text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[C.status==="pending_review"&&e.jsxs(e.Fragment,{children:[e.jsxs(ee,{size:"sm",variant:"outline",className:"text-green-600",onClick:()=>c({open:!0,listing:C,action:"approve"}),children:[e.jsx(Lt,{className:"h-4 w-4 mr-1"}),"Approve"]}),e.jsxs(ee,{size:"sm",variant:"outline",className:"text-red-600",onClick:()=>c({open:!0,listing:C,action:"reject"}),children:[e.jsx(pi,{className:"h-4 w-4 mr-1"}),"Reject"]})]}),e.jsxs(yc,{children:[e.jsx(bc,{asChild:!0,children:e.jsx(ee,{variant:"ghost",size:"icon",children:e.jsx(zm,{className:"h-4 w-4"})})}),e.jsx(ql,{align:"end",children:e.jsx(Rn,{asChild:!0,children:e.jsxs(St,{to:`/${C.type}/${C.id}`,children:[e.jsx(dn,{className:"h-4 w-4 mr-2"}),"Preview"]})})})]})]})})]},`${C.type}-${C.id}`))})]})})})]}),e.jsx(wL,{open:l.open,onOpenChange:C=>c({...l,open:C}),children:e.jsxs(O2,{children:[e.jsxs(M2,{children:[e.jsx(I2,{children:l.action==="approve"?"Approve Listing":"Reject Listing"}),e.jsx(F2,{children:l.action==="approve"?`Are you sure you want to approve "${(j=l.listing)==null?void 0:j.name}"? It will be visible to all users.`:`Are you sure you want to reject "${(A=l.listing)==null?void 0:A.name}"? The owner will be notified.`})]}),e.jsxs(D2,{children:[e.jsx(z2,{children:"Cancel"}),e.jsx(B2,{onClick:()=>l.action==="approve"?p(l.listing):y(l.listing),className:l.action==="reject"?"bg-red-600 hover:bg-red-700":"",children:l.action==="approve"?"Approve":"Reject"})]})]})})]})}const SC={identity:"bg-blue-100 text-blue-800",business:"bg-green-100 text-green-800",financial:"bg-purple-100 text-purple-800",legal:"bg-orange-100 text-orange-800"},CC={pending:{label:"Pending",color:"bg-yellow-100 text-yellow-800",icon:Hn},verified:{label:"Verified",color:"bg-green-100 text-green-800",icon:Lt},rejected:{label:"Rejected",color:"bg-red-100 text-red-800",icon:pi}};function QQ(){var S;const{user:n}=Bs(),[t,s]=w.useState([]),[r,i]=w.useState(!0),[a,l]=w.useState("pending"),[c,u]=w.useState(null),[m,g]=w.useState(null),[p,y]=w.useState(""),[x,_]=w.useState(!1);w.useEffect(()=>{j()},[a]);const j=async()=>{i(!0);try{const O=await $o.getAllDocuments({status:a==="all"?"all":a});s(O)}catch(O){console.error("Error loading documents:",O),Rt.error("Failed to load documents")}finally{i(!1)}},A=async O=>{if(n){_(!0);try{await $o.approveDocument(O.id,n.id),Rt.success("Document approved",{description:`${O.profile.display_name}'s verification status has been updated`}),j(),u(null)}catch{Rt.error("Failed to approve document")}finally{_(!1)}}},C=async()=>{if(!(!n||!m)){_(!0);try{await $o.rejectDocument(m.id,n.id,p),Rt.success("Document rejected",{description:p?"User will be notified with your feedback":void 0}),j(),g(null),u(null),y("")}catch{Rt.error("Failed to reject document")}finally{_(!1)}}},P=()=>e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Yd,{children:[e.jsx(Zd,{children:e.jsxs(ka,{children:[e.jsx(ys,{children:"Document"}),e.jsx(ys,{children:"Type"}),e.jsx(ys,{children:"Submitted By"}),e.jsx(ys,{children:"Status"}),e.jsx(ys,{children:"Submitted"}),e.jsx(ys,{className:"text-right",children:"Actions"})]})}),e.jsx(Kd,{children:t.map(O=>{const z=CC[O.status],V=(z==null?void 0:z.icon)||Hn;return e.jsxs(ka,{children:[e.jsx(bs,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-muted rounded",children:e.jsx(_s,{className:"h-5 w-5 text-muted-foreground"})}),e.jsx("span",{className:"font-medium",children:O.file_name})]})}),e.jsx(bs,{children:e.jsx(Be,{className:SC[O.document_type]||"",children:O.document_type})}),e.jsx(bs,{children:e.jsxs("div",{children:[e.jsx("p",{className:"text-sm",children:O.profile.display_name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:O.profile.email})]})}),e.jsx(bs,{children:e.jsxs(Be,{className:z==null?void 0:z.color,children:[e.jsx(V,{className:"h-3 w-3 mr-1"}),z==null?void 0:z.label]})}),e.jsx(bs,{children:e.jsx("span",{className:"text-sm text-muted-foreground",children:Ba(new Date(O.created_at),{addSuffix:!0})})}),e.jsx(bs,{className:"text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsxs(ee,{size:"sm",variant:"outline",onClick:()=>u(O),children:[e.jsx(dn,{className:"h-4 w-4 mr-1"}),"View"]}),O.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx(ee,{size:"sm",variant:"outline",className:"text-green-600 hover:bg-green-50",onClick:()=>A(O),disabled:x,children:e.jsx(Lt,{className:"h-4 w-4"})}),e.jsx(ee,{size:"sm",variant:"outline",className:"text-red-600 hover:bg-red-50",onClick:()=>g(O),children:e.jsx(pi,{className:"h-4 w-4"})})]})]})})]},O.id)})})]})});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Document Verification"}),e.jsx("p",{className:"text-muted-foreground",children:"Review and verify user-submitted documents"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(Ds,{className:"h-4 w-4"}),e.jsx("span",{children:"Approving identity docs verifies the user"})]})]}),e.jsxs(de,{children:[e.jsx(Me,{children:e.jsx(Ui,{value:a,onValueChange:O=>l(O),children:e.jsxs(yi,{children:[e.jsxs(zt,{value:"pending",className:"gap-2",children:[e.jsx(Hn,{className:"h-4 w-4"}),"Pending"]}),e.jsxs(zt,{value:"verified",className:"gap-2",children:[e.jsx(Lt,{className:"h-4 w-4"}),"Verified"]}),e.jsxs(zt,{value:"rejected",className:"gap-2",children:[e.jsx(pi,{className:"h-4 w-4"}),"Rejected"]}),e.jsx(zt,{value:"all",children:"All"})]})})}),e.jsx(fe,{children:r?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(Ht,{className:"h-8 w-8 animate-spin text-primary"})}):t.length===0?e.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[e.jsx(Vf,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsxs("p",{children:["No ",a==="all"?"":a," documents"]}),a==="pending"&&e.jsx("p",{className:"text-sm",children:"All documents have been reviewed"})]}):P()})]}),e.jsx(ha,{open:!!c,onOpenChange:()=>u(null),children:e.jsxs($i,{className:"max-w-3xl",children:[e.jsx(Vi,{children:e.jsxs(Hi,{className:"flex items-center gap-2",children:[e.jsx(_s,{className:"h-5 w-5"}),c==null?void 0:c.file_name]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Type:"}),e.jsx(Be,{className:`ml-2 ${SC[(c==null?void 0:c.document_type)||""]}`,children:c==null?void 0:c.document_type})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Submitted by:"}),e.jsx("span",{className:"ml-2 font-medium",children:c==null?void 0:c.profile.display_name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Status:"}),e.jsx(Be,{className:`ml-2 ${(S=CC[c==null?void 0:c.status])==null?void 0:S.color}`,children:c==null?void 0:c.status})]})]}),e.jsx("div",{className:"border rounded-lg p-4 bg-muted/50 min-h-[300px] flex items-center justify-center",children:c!=null&&c.file_url?c.file_url.match(/\.(jpg|jpeg|png|gif|webp)$/i)?e.jsx("img",{src:c.file_url,alt:"Document preview",className:"max-h-[400px] object-contain"}):e.jsxs("div",{className:"text-center",children:[e.jsx(_s,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Preview not available for this file type"}),e.jsx(ee,{asChild:!0,children:e.jsxs("a",{href:c.file_url,target:"_blank",rel:"noopener noreferrer",children:[e.jsx(oi,{className:"h-4 w-4 mr-2"}),"Download File"]})})]}):e.jsx("p",{className:"text-muted-foreground",children:"No preview available"})}),(c==null?void 0:c.status)==="pending"&&e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx(ee,{variant:"outline",onClick:()=>u(null),children:"Cancel"}),e.jsxs(ee,{variant:"outline",className:"text-red-600",onClick:()=>{g(c)},children:[e.jsx(pi,{className:"h-4 w-4 mr-2"}),"Reject"]}),e.jsxs(ee,{className:"bg-green-600 hover:bg-green-700",onClick:()=>c&&A(c),disabled:x,children:[x?e.jsx(Ht,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(Lt,{className:"h-4 w-4 mr-2"}),"Approve & Verify User"]})]})]})]})}),e.jsx(ha,{open:!!m,onOpenChange:()=>{g(null),y("")},children:e.jsxs($i,{children:[e.jsx(Vi,{children:e.jsxs(Hi,{className:"flex items-center gap-2 text-red-600",children:[e.jsx(vi,{className:"h-5 w-5"}),"Reject Document"]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["You are about to reject ",e.jsx("strong",{children:m==null?void 0:m.file_name})," from"," ",e.jsx("strong",{children:m==null?void 0:m.profile.display_name}),"."]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"rejection-reason",children:"Reason for rejection (optional)"}),e.jsx(_n,{id:"rejection-reason",placeholder:"e.g., Document is blurry, expired, or doesn't match user name...",value:p,onChange:O=>y(O.target.value),rows:3}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"This reason will be visible to the user"})]})]}),e.jsxs(Uu,{children:[e.jsx(ee,{variant:"outline",onClick:()=>{g(null),y("")},children:"Cancel"}),e.jsxs(ee,{variant:"destructive",onClick:C,disabled:x,children:[x?e.jsx(Ht,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(pi,{className:"h-4 w-4 mr-2"}),"Reject Document"]})]})]})})]})}function eee(){const[n,t]=w.useState(null),[s,r]=w.useState(!0);if(w.useEffect(()=>{(async()=>{try{const l=await $o.getPlatformStats();t(l)}catch(l){console.error("Error loading analytics:",l)}finally{r(!1)}})()},[]),s)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(Ht,{className:"h-8 w-8 animate-spin text-primary"})});const i=[{title:"Total Users",value:(n==null?void 0:n.totalUsers)||0,subtitle:`+${(n==null?void 0:n.newUsersThisWeek)||0} this week`,icon:gn,color:"text-blue-600 bg-blue-100"},{title:"Total Businesses",value:(n==null?void 0:n.totalBusinesses)||0,subtitle:"Listed on platform",icon:Zs,color:"text-green-600 bg-green-100"},{title:"Total Franchises",value:(n==null?void 0:n.totalFranchises)||0,subtitle:"Listed on platform",icon:Os,color:"text-purple-600 bg-purple-100"},{title:"New This Week",value:(n==null?void 0:n.newListingsThisWeek)||0,subtitle:"Businesses + Franchises",icon:za,color:"text-orange-600 bg-orange-100"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Analytics"}),e.jsx("p",{className:"text-muted-foreground",children:"Platform performance and metrics"})]}),e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:i.map(a=>e.jsx(de,{children:e.jsx(fe,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:a.title}),e.jsx("p",{className:"text-3xl font-bold mt-1",children:a.value.toLocaleString()}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:a.subtitle})]}),e.jsx("div",{className:`p-3 rounded-lg ${a.color}`,children:e.jsx(a.icon,{className:"h-6 w-6"})})]})})},a.title))}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs(de,{children:[e.jsx(Me,{children:e.jsx(Fe,{children:"User Signups Over Time"})}),e.jsx(fe,{children:e.jsx("div",{className:"h-64 flex items-center justify-center bg-muted/20 rounded-lg",children:e.jsxs("div",{className:"text-center text-muted-foreground",children:[e.jsx(Os,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"Chart visualization coming soon"}),e.jsx("p",{className:"text-sm",children:"Connect to analytics service for detailed charts"})]})})})]}),e.jsxs(de,{children:[e.jsx(Me,{children:e.jsx(Fe,{children:"Listings Created Over Time"})}),e.jsx(fe,{children:e.jsx("div",{className:"h-64 flex items-center justify-center bg-muted/20 rounded-lg",children:e.jsxs("div",{className:"text-center text-muted-foreground",children:[e.jsx(Zs,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"Chart visualization coming soon"}),e.jsx("p",{className:"text-sm",children:"Connect to analytics service for detailed charts"})]})})})]})]}),e.jsxs(de,{children:[e.jsx(Me,{children:e.jsx(Fe,{children:"Platform Overview"})}),e.jsx(fe,{children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:(n==null?void 0:n.pendingListings)||0}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Listings"})]}),e.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:(n==null?void 0:n.pendingDocuments)||0}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Documents"})]}),e.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:(((n==null?void 0:n.totalBusinesses)||0)+((n==null?void 0:n.totalFranchises)||0)).toLocaleString()}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Listings"})]})]})})]})]})}function tee(){const[n,t]=w.useState([]),[s,r]=w.useState(!0);w.useEffect(()=>{i()},[]);const i=async()=>{r(!0);try{const{data:l,error:c}=await Le.from("fraud_alerts").select("*").eq("status","pending").order("created_at",{ascending:!1});t(!c&&l?l:[])}catch(l){console.error("Error loading alerts:",l),t([])}finally{r(!1)}},a=l=>l>=80?"bg-red-100 text-red-800":l>=60?"bg-orange-100 text-orange-800":l>=40?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800";return s?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(Ht,{className:"h-8 w-8 animate-spin text-primary"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Fraud Detection"}),e.jsx("p",{className:"text-muted-foreground",children:"Review AI-flagged suspicious activities"})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsx(de,{children:e.jsx(fe,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 rounded-lg bg-red-100 text-red-600",children:e.jsx(vi,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:n.length}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Alerts"})]})]})})}),e.jsx(de,{children:e.jsx(fe,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 rounded-lg bg-green-100 text-green-600",children:e.jsx(Lt,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:"0"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Resolved Today"})]})]})})}),e.jsx(de,{children:e.jsx(fe,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 rounded-lg bg-purple-100 text-purple-600",children:e.jsx(Ds,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:"AI"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Detection Active"})]})]})})})]}),e.jsxs(de,{children:[e.jsx(Me,{children:e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(vi,{className:"h-5 w-5 text-yellow-600"}),"Flagged Items"]})}),e.jsx(fe,{children:n.length===0?e.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[e.jsx(Ds,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No fraud alerts"}),e.jsx("p",{className:"text-sm",children:"AI monitoring is active and watching for suspicious activity"})]}):e.jsx("div",{className:"space-y-4",children:n.map(l=>e.jsx("div",{className:"border rounded-lg p-4 hover:bg-muted/50 transition-colors",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(vi,{className:"h-5 w-5 text-yellow-600"}),e.jsx("span",{className:"font-semibold",children:l.entity_name}),e.jsx(Be,{variant:"outline",className:"capitalize",children:l.type}),e.jsxs(Be,{className:a(l.risk_score),children:["Risk: ",l.risk_score,"%"]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:l.reason})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(ee,{size:"sm",variant:"outline",children:[e.jsx(dn,{className:"h-4 w-4 mr-1"}),"Review"]}),e.jsx(ee,{size:"sm",variant:"outline",className:"text-green-600",children:e.jsx(Lt,{className:"h-4 w-4"})}),e.jsx(ee,{size:"sm",variant:"outline",className:"text-red-600",children:e.jsx(pi,{className:"h-4 w-4"})})]})]})},l.id))})})]}),e.jsx(de,{className:"bg-blue-50 border-blue-200",children:e.jsx(fe,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(Ds,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-blue-900",children:"AI Fraud Detection"}),e.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"The system uses machine learning to detect suspicious patterns such as:"}),e.jsxs("ul",{className:"text-sm text-blue-700 mt-2 list-disc list-inside space-y-1",children:[e.jsx("li",{children:"Duplicate or stolen images"}),e.jsx("li",{children:"Unrealistic financial claims"}),e.jsx("li",{children:"Suspicious user behavior patterns"}),e.jsx("li",{children:"Known scam indicators"})]})]})]})})})]})}const see=[{id:"1",title:"About Us",slug:"/about",status:"published",updatedAt:"2024-12-18"},{id:"2",title:"Contact",slug:"/contact",status:"published",updatedAt:"2024-12-17"},{id:"3",title:"Terms of Service",slug:"/terms",status:"draft",updatedAt:"2024-12-15"},{id:"4",title:"Privacy Policy",slug:"/privacy",status:"published",updatedAt:"2024-12-10"}],nee=[{id:"1",title:"New Franchise Map Feature",type:"feature",active:!0,createdAt:"2024-12-18"},{id:"2",title:"Holiday Hours Notice",type:"info",active:!0,createdAt:"2024-12-15"},{id:"3",title:"System Maintenance",type:"maintenance",active:!1,createdAt:"2024-12-01"}];function ree(){const[n]=w.useState(see),[t]=w.useState(nee),[s,r]=w.useState(null),i={published:"bg-green-100 text-green-800",draft:"bg-yellow-100 text-yellow-800",archived:"bg-gray-100 text-gray-600"},a={feature:"bg-blue-100 text-blue-800",info:"bg-purple-100 text-purple-800",maintenance:"bg-orange-100 text-orange-800",alert:"bg-red-100 text-red-800"};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Content Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage static pages and platform announcements"})]}),e.jsxs(Ui,{defaultValue:"pages",children:[e.jsxs(yi,{children:[e.jsxs(zt,{value:"pages",className:"gap-2",children:[e.jsx(_s,{className:"h-4 w-4"}),"Pages"]}),e.jsxs(zt,{value:"announcements",className:"gap-2",children:[e.jsx(K5,{className:"h-4 w-4"}),"Announcements"]})]}),e.jsx(Es,{value:"pages",className:"mt-4",children:e.jsxs(de,{children:[e.jsxs(Me,{className:"flex flex-row items-center justify-between",children:[e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(Du,{className:"h-5 w-5"}),"Static Pages"]}),e.jsxs(ha,{children:[e.jsx(zh,{asChild:!0,children:e.jsxs(ee,{children:[e.jsx(la,{className:"h-4 w-4 mr-2"}),"Add Page"]})}),e.jsxs($i,{children:[e.jsx(Vi,{children:e.jsx(Hi,{children:"Create New Page"})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Page Title"}),e.jsx(Ue,{placeholder:"e.g., FAQ"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Slug"}),e.jsx(Ue,{placeholder:"e.g., /faq"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Content"}),e.jsx(_n,{placeholder:"Page content (supports markdown)",rows:6})]}),e.jsx(ee,{className:"w-full",children:"Create Page"})]})]})]})]}),e.jsx(fe,{children:e.jsxs(Yd,{children:[e.jsx(Zd,{children:e.jsxs(ka,{children:[e.jsx(ys,{children:"Title"}),e.jsx(ys,{children:"Slug"}),e.jsx(ys,{children:"Status"}),e.jsx(ys,{children:"Last Updated"}),e.jsx(ys,{className:"text-right",children:"Actions"})]})}),e.jsx(Kd,{children:n.map(l=>e.jsxs(ka,{children:[e.jsx(bs,{className:"font-medium",children:l.title}),e.jsx(bs,{className:"text-muted-foreground",children:l.slug}),e.jsx(bs,{children:e.jsx(Be,{className:i[l.status],children:l.status})}),e.jsx(bs,{className:"text-sm text-muted-foreground",children:l.updatedAt}),e.jsx(bs,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(ee,{size:"sm",variant:"ghost",children:e.jsx(dn,{className:"h-4 w-4"})}),e.jsx(ee,{size:"sm",variant:"ghost",children:e.jsx(Bu,{className:"h-4 w-4"})}),e.jsx(ee,{size:"sm",variant:"ghost",className:"text-red-600",children:e.jsx(Vo,{className:"h-4 w-4"})})]})})]},l.id))})]})})]})}),e.jsx(Es,{value:"announcements",className:"mt-4",children:e.jsxs(de,{children:[e.jsxs(Me,{className:"flex flex-row items-center justify-between",children:[e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(K5,{className:"h-5 w-5"}),"Announcements"]}),e.jsxs(ha,{children:[e.jsx(zh,{asChild:!0,children:e.jsxs(ee,{children:[e.jsx(la,{className:"h-4 w-4 mr-2"}),"New Announcement"]})}),e.jsxs($i,{children:[e.jsx(Vi,{children:e.jsx(Hi,{children:"Create Announcement"})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Title"}),e.jsx(Ue,{placeholder:"Announcement title"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Message"}),e.jsx(_n,{placeholder:"Announcement message",rows:4})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Type"}),e.jsxs("select",{className:"w-full p-2 border rounded-md",children:[e.jsx("option",{value:"feature",children:"Feature"}),e.jsx("option",{value:"info",children:"Info"}),e.jsx("option",{value:"maintenance",children:"Maintenance"}),e.jsx("option",{value:"alert",children:"Alert"})]})]}),e.jsx(ee,{className:"w-full",children:"Create Announcement"})]})]})]})]}),e.jsx(fe,{children:e.jsxs(Yd,{children:[e.jsx(Zd,{children:e.jsxs(ka,{children:[e.jsx(ys,{children:"Title"}),e.jsx(ys,{children:"Type"}),e.jsx(ys,{children:"Status"}),e.jsx(ys,{children:"Created"}),e.jsx(ys,{className:"text-right",children:"Actions"})]})}),e.jsx(Kd,{children:t.map(l=>e.jsxs(ka,{children:[e.jsx(bs,{className:"font-medium",children:l.title}),e.jsx(bs,{children:e.jsx(Be,{className:a[l.type],children:l.type})}),e.jsx(bs,{children:e.jsx(Be,{variant:l.active?"default":"secondary",children:l.active?"Active":"Inactive"})}),e.jsx(bs,{className:"text-sm text-muted-foreground",children:l.createdAt}),e.jsx(bs,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(ee,{size:"sm",variant:"ghost",children:e.jsx(Bu,{className:"h-4 w-4"})}),e.jsx(ee,{size:"sm",variant:"ghost",className:"text-red-600",children:e.jsx(Vo,{className:"h-4 w-4"})})]})})]},l.id))})]})})]})})]}),e.jsx(de,{className:"bg-blue-50 border-blue-200",children:e.jsx(fe,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(_s,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-blue-900",children:"Content Management Info"}),e.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"This is a basic CMS interface. For production use, consider integrating with:"}),e.jsxs("ul",{className:"text-sm text-blue-700 mt-2 list-disc list-inside space-y-1",children:[e.jsx("li",{children:"A rich text editor (e.g., TipTap, Lexical)"}),e.jsx("li",{children:"Media library for images"}),e.jsx("li",{children:"Version history for pages"}),e.jsx("li",{children:"SEO metadata fields"})]})]})]})})})]})}function iee(){const[n,t]=w.useState({platformName:"BizSearch",supportEmail:"support@bizsearch.com",contactPhone:"+91 98765 43210",listingApprovalRequired:!0,maxImagesPerListing:10,listingFee:0,featuredListingFee:999,emailNotifications:!0,smsNotifications:!1,newListingAlerts:!0,newUserAlerts:!0,requireEmailVerification:!0,requirePhoneVerification:!1,maxLoginAttempts:5,sessionTimeout:30,enableFranchiseMap:!0,enableAIMatching:!0,enableFraudDetection:!0,maintenanceMode:!1}),s=(i,a)=>{t(l=>({...l,[i]:a}))},r=()=>{Rt.success("Settings saved successfully")};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Platform Settings"}),e.jsx("p",{className:"text-muted-foreground",children:"Configure platform behavior and features"})]}),e.jsxs(ee,{onClick:r,children:[e.jsx(km,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]}),e.jsxs(Ui,{defaultValue:"general",children:[e.jsxs(yi,{className:"grid w-full grid-cols-5",children:[e.jsx(zt,{value:"general",children:"General"}),e.jsx(zt,{value:"listings",children:"Listings"}),e.jsx(zt,{value:"notifications",children:"Notifications"}),e.jsx(zt,{value:"security",children:"Security"}),e.jsx(zt,{value:"features",children:"Features"})]}),e.jsx(Es,{value:"general",className:"mt-4 space-y-4",children:e.jsxs(de,{children:[e.jsxs(Me,{children:[e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(Zs,{className:"h-5 w-5"}),"General Settings"]}),e.jsx(ms,{children:"Basic platform configuration"})]}),e.jsx(fe,{className:"space-y-4",children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Platform Name"}),e.jsx(Ue,{value:n.platformName,onChange:i=>s("platformName",i.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Support Email"}),e.jsx(Ue,{type:"email",value:n.supportEmail,onChange:i=>s("supportEmail",i.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Contact Phone"}),e.jsx(Ue,{value:n.contactPhone,onChange:i=>s("contactPhone",i.target.value)})]})]})})]})}),e.jsx(Es,{value:"listings",className:"mt-4 space-y-4",children:e.jsxs(de,{children:[e.jsxs(Me,{children:[e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(zi,{className:"h-5 w-5"}),"Listing Settings"]}),e.jsx(ms,{children:"Configure listing rules and pricing"})]}),e.jsxs(fe,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(ve,{children:"Require Approval for Listings"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"New listings must be approved before going live"})]}),e.jsx(ii,{checked:n.listingApprovalRequired,onCheckedChange:i=>s("listingApprovalRequired",i)})]}),e.jsx(cr,{}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Max Images Per Listing"}),e.jsx(Ue,{type:"number",value:n.maxImagesPerListing,onChange:i=>s("maxImagesPerListing",parseInt(i.target.value))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Basic Listing Fee ()"}),e.jsx(Ue,{type:"number",value:n.listingFee,onChange:i=>s("listingFee",parseInt(i.target.value))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Featured Listing Fee ()"}),e.jsx(Ue,{type:"number",value:n.featuredListingFee,onChange:i=>s("featuredListingFee",parseInt(i.target.value))})]})]})]})]})}),e.jsx(Es,{value:"notifications",className:"mt-4 space-y-4",children:e.jsxs(de,{children:[e.jsxs(Me,{children:[e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(Qc,{className:"h-5 w-5"}),"Notification Settings"]}),e.jsx(ms,{children:"Configure admin notifications"})]}),e.jsx(fe,{className:"space-y-4",children:e.jsx("div",{className:"space-y-4",children:[{key:"emailNotifications",label:"Email Notifications",desc:"Receive notifications via email"},{key:"smsNotifications",label:"SMS Notifications",desc:"Receive notifications via SMS"},{key:"newListingAlerts",label:"New Listing Alerts",desc:"Alert when new listings are submitted"},{key:"newUserAlerts",label:"New User Alerts",desc:"Alert when new users sign up"}].map(i=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(ve,{children:i.label}),e.jsx("p",{className:"text-sm text-muted-foreground",children:i.desc})]}),e.jsx(ii,{checked:n[i.key],onCheckedChange:a=>s(i.key,a)})]},i.key))})})]})}),e.jsx(Es,{value:"security",className:"mt-4 space-y-4",children:e.jsxs(de,{children:[e.jsxs(Me,{children:[e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(Ds,{className:"h-5 w-5"}),"Security Settings"]}),e.jsx(ms,{children:"Configure security and authentication"})]}),e.jsxs(fe,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(ve,{children:"Require Email Verification"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Users must verify email to use platform"})]}),e.jsx(ii,{checked:n.requireEmailVerification,onCheckedChange:i=>s("requireEmailVerification",i)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(ve,{children:"Require Phone Verification"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Users must verify phone number"})]}),e.jsx(ii,{checked:n.requirePhoneVerification,onCheckedChange:i=>s("requirePhoneVerification",i)})]})]}),e.jsx(cr,{}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Max Login Attempts"}),e.jsx(Ue,{type:"number",value:n.maxLoginAttempts,onChange:i=>s("maxLoginAttempts",parseInt(i.target.value))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Session Timeout (days)"}),e.jsx(Ue,{type:"number",value:n.sessionTimeout,onChange:i=>s("sessionTimeout",parseInt(i.target.value))})]})]})]})]})}),e.jsx(Es,{value:"features",className:"mt-4 space-y-4",children:e.jsxs(de,{children:[e.jsxs(Me,{children:[e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(DF,{className:"h-5 w-5"}),"Feature Flags"]}),e.jsx(ms,{children:"Enable or disable platform features"})]}),e.jsx(fe,{className:"space-y-4",children:[{key:"enableFranchiseMap",label:"Franchise Map",desc:"Enable the interactive franchise map discovery",active:!0},{key:"enableAIMatching",label:"AI Matching",desc:"Enable AI-powered business/franchise matching",active:!0},{key:"enableFraudDetection",label:"Fraud Detection",desc:"Enable AI fraud detection system",active:!0},{key:"maintenanceMode",label:"Maintenance Mode",desc:"Put platform in maintenance mode",active:!1,danger:!0}].map(i=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ve,{children:i.label}),i.danger&&e.jsx(Be,{variant:"destructive",className:"text-xs",children:"Caution"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:i.desc})]}),e.jsx(ii,{checked:n[i.key],onCheckedChange:a=>s(i.key,a)})]},i.key))})]})})]})]})}const mg=[{id:1,name:"Personal Information"},{id:2,name:"Financial Background"},{id:3,name:"Location Preferences"},{id:4,name:"Experience & Goals"},{id:5,name:"Review & Submit"}];function aee(){const{franchiseId:n}=Jd(),t=Mn(),{user:s,profile:r}=Bs(),[i,a]=w.useState(1),[l,c]=w.useState(null),[u,m]=w.useState(!0),[g,p]=w.useState(!1),[y,x]=w.useState({fullName:"",email:"",phone:"",address:"",city:"",state:"",pincode:"",netWorth:"",liquidCapital:"",investmentTimeline:"",financingNeeded:!1,creditScore:"",preferredStates:[],preferredCities:"",openToRelocation:!1,hasLocation:!1,locationDetails:"",businessExperience:"",industryExperience:"",whyThisFranchise:"",goals:"",availability:"",agreedToTerms:!1,agreedToContact:!1});w.useEffect(()=>{(async()=>{if(!n)return;const{data:O}=await Le.from("franchises").select("id, brand_name, logo_url, investment_range_min, investment_range_max").eq("id",n).single();O&&c(O),m(!1)})()},[n]),w.useEffect(()=>{r&&x(S=>({...S,fullName:r.display_name||"",email:r.email||"",phone:r.phone||"",city:r.city||"",state:r.state||""}))},[r]);const _=(S,O)=>{x(z=>({...z,[S]:O}))},j=()=>{i<mg.length&&a(S=>S+1)},A=()=>{i>1&&a(S=>S-1)},C=async()=>{if(!(!s||!n)){p(!0);try{const{error:S}=await Le.from("franchise_applications").insert({franchise_id:n,user_id:s.id,status:"submitted",personal_info:{fullName:y.fullName,email:y.email,phone:y.phone,address:y.address,city:y.city,state:y.state,pincode:y.pincode},financial_info:{netWorth:y.netWorth,liquidCapital:y.liquidCapital,investmentTimeline:y.investmentTimeline,financingNeeded:y.financingNeeded,creditScore:y.creditScore},location_preferences:{preferredStates:y.preferredStates,preferredCities:y.preferredCities,openToRelocation:y.openToRelocation,hasLocation:y.hasLocation,locationDetails:y.locationDetails},experience_info:{businessExperience:y.businessExperience,industryExperience:y.industryExperience,whyThisFranchise:y.whyThisFranchise,goals:y.goals,availability:y.availability}});if(S)throw S;Rt.success("Application submitted successfully!"),t("/my-applications")}catch(S){console.error("Error submitting application:",S),Rt.error("Failed to submit application")}finally{p(!1)}}};if(u)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(Ht,{className:"h-8 w-8 animate-spin text-primary"})});if(!l)return e.jsxs("div",{className:"container max-w-4xl mx-auto py-12 text-center",children:[e.jsx("p",{className:"text-muted-foreground",children:"Franchise not found"}),e.jsx(ee,{variant:"link",onClick:()=>t("/franchises"),children:"Browse Franchises"})]});const P=i/mg.length*100;return e.jsxs("div",{className:"container max-w-4xl mx-auto py-8 px-4",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs(ee,{variant:"ghost",onClick:()=>t(-1),className:"mb-4",children:[e.jsx(ca,{className:"h-4 w-4 mr-2"}),"Back"]}),e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.logo_url?e.jsx("img",{src:l.logo_url,alt:l.brand_name,className:"w-16 h-16 object-contain rounded-lg"}):e.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-lg flex items-center justify-center",children:e.jsx(Zs,{className:"h-8 w-8 text-primary"})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold",children:["Apply for ",l.brand_name]}),e.jsxs("p",{className:"text-muted-foreground",children:["Investment: ",(l.investment_range_min/1e5).toFixed(0),"L - ",(l.investment_range_max/1e5).toFixed(0),"L"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{children:["Step ",i," of ",mg.length]}),e.jsx("span",{children:mg[i-1].name})]}),e.jsx(On,{value:P,className:"h-2"})]})]}),e.jsx(de,{children:e.jsxs(fe,{className:"pt-6",children:[i===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(Me,{className:"px-0 pt-0",children:[e.jsx(Fe,{children:"Personal Information"}),e.jsx(ms,{children:"Tell us about yourself"})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Full Name *"}),e.jsx(Ue,{value:y.fullName,onChange:S=>_("fullName",S.target.value),placeholder:"Your full name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Email *"}),e.jsx(Ue,{type:"email",value:y.email,onChange:S=>_("email",S.target.value),placeholder:"your@email.com"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Phone *"}),e.jsx(Ue,{value:y.phone,onChange:S=>_("phone",S.target.value),placeholder:"+91 98765 43210"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Address"}),e.jsx(Ue,{value:y.address,onChange:S=>_("address",S.target.value),placeholder:"Street address"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"City *"}),e.jsx(Ue,{value:y.city,onChange:S=>_("city",S.target.value),placeholder:"City"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"State *"}),e.jsx(Ue,{value:y.state,onChange:S=>_("state",S.target.value),placeholder:"State"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"PIN Code"}),e.jsx(Ue,{value:y.pincode,onChange:S=>_("pincode",S.target.value),placeholder:"PIN Code"})]})]})]}),i===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(Me,{className:"px-0 pt-0",children:[e.jsx(Fe,{children:"Financial Background"}),e.jsx(ms,{children:"Help us understand your financial readiness"})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Net Worth ()"}),e.jsxs(Jt,{value:y.netWorth,onValueChange:S=>_("netWorth",S),children:[e.jsx(Wt,{children:e.jsx(Xt,{placeholder:"Select range"})}),e.jsxs(Yt,{children:[e.jsx(Ee,{value:"10-25L",children:"10-25 Lakhs"}),e.jsx(Ee,{value:"25-50L",children:"25-50 Lakhs"}),e.jsx(Ee,{value:"50L-1Cr",children:"50 Lakhs - 1 Crore"}),e.jsx(Ee,{value:"1-5Cr",children:"1-5 Crores"}),e.jsx(Ee,{value:"5Cr+",children:"5+ Crores"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Liquid Capital Available ()"}),e.jsxs(Jt,{value:y.liquidCapital,onValueChange:S=>_("liquidCapital",S),children:[e.jsx(Wt,{children:e.jsx(Xt,{placeholder:"Select range"})}),e.jsxs(Yt,{children:[e.jsx(Ee,{value:"5-10L",children:"5-10 Lakhs"}),e.jsx(Ee,{value:"10-25L",children:"10-25 Lakhs"}),e.jsx(Ee,{value:"25-50L",children:"25-50 Lakhs"}),e.jsx(Ee,{value:"50L-1Cr",children:"50 Lakhs - 1 Crore"}),e.jsx(Ee,{value:"1Cr+",children:"1+ Crore"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Investment Timeline"}),e.jsxs(Jt,{value:y.investmentTimeline,onValueChange:S=>_("investmentTimeline",S),children:[e.jsx(Wt,{children:e.jsx(Xt,{placeholder:"When do you plan to invest?"})}),e.jsxs(Yt,{children:[e.jsx(Ee,{value:"immediate",children:"Immediately"}),e.jsx(Ee,{value:"1-3months",children:"1-3 Months"}),e.jsx(Ee,{value:"3-6months",children:"3-6 Months"}),e.jsx(Ee,{value:"6-12months",children:"6-12 Months"}),e.jsx(Ee,{value:"1year+",children:"1+ Year"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Credit Score (Optional)"}),e.jsxs(Jt,{value:y.creditScore,onValueChange:S=>_("creditScore",S),children:[e.jsx(Wt,{children:e.jsx(Xt,{placeholder:"Select range"})}),e.jsxs(Yt,{children:[e.jsx(Ee,{value:"750+",children:"Excellent (750+)"}),e.jsx(Ee,{value:"700-750",children:"Good (700-750)"}),e.jsx(Ee,{value:"650-700",children:"Fair (650-700)"}),e.jsx(Ee,{value:"below650",children:"Below 650"}),e.jsx(Ee,{value:"unknown",children:"Don't Know"})]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ln,{checked:y.financingNeeded,onCheckedChange:S=>_("financingNeeded",S)}),e.jsx(ve,{children:"I may need financing assistance"})]})]}),i===3&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(Me,{className:"px-0 pt-0",children:[e.jsx(Fe,{children:"Location Preferences"}),e.jsx(ms,{children:"Where would you like to operate?"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Preferred Cities"}),e.jsx(_n,{value:y.preferredCities,onChange:S=>_("preferredCities",S.target.value),placeholder:"List your preferred cities (e.g., Mumbai, Pune, Bangalore)",rows:3})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ln,{checked:y.openToRelocation,onCheckedChange:S=>_("openToRelocation",S)}),e.jsx(ve,{children:"I'm open to relocating for the right opportunity"})]}),e.jsx(cr,{}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ln,{checked:y.hasLocation,onCheckedChange:S=>_("hasLocation",S)}),e.jsx(ve,{children:"I already have a location in mind"})]}),y.hasLocation&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Location Details"}),e.jsx(_n,{value:y.locationDetails,onChange:S=>_("locationDetails",S.target.value),placeholder:"Describe the location (address, size, current use, etc.)",rows:3})]})]})]}),i===4&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(Me,{className:"px-0 pt-0",children:[e.jsx(Fe,{children:"Experience & Goals"}),e.jsx(ms,{children:"Tell us about your background and vision"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Business Experience"}),e.jsxs(Jt,{value:y.businessExperience,onValueChange:S=>_("businessExperience",S),children:[e.jsx(Wt,{children:e.jsx(Xt,{placeholder:"Select your experience level"})}),e.jsxs(Yt,{children:[e.jsx(Ee,{value:"none",children:"No prior business ownership"}),e.jsx(Ee,{value:"1-3years",children:"1-3 years"}),e.jsx(Ee,{value:"3-5years",children:"3-5 years"}),e.jsx(Ee,{value:"5-10years",children:"5-10 years"}),e.jsx(Ee,{value:"10+years",children:"10+ years"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Industry Experience"}),e.jsx(_n,{value:y.industryExperience,onChange:S=>_("industryExperience",S.target.value),placeholder:"Describe any relevant industry experience",rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Why This Franchise?"}),e.jsx(_n,{value:y.whyThisFranchise,onChange:S=>_("whyThisFranchise",S.target.value),placeholder:"What attracted you to this franchise opportunity?",rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Your Goals"}),e.jsx(_n,{value:y.goals,onChange:S=>_("goals",S.target.value),placeholder:"What do you hope to achieve as a franchisee?",rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Availability"}),e.jsxs(Jt,{value:y.availability,onValueChange:S=>_("availability",S),children:[e.jsx(Wt,{children:e.jsx(Xt,{placeholder:"How will you be involved?"})}),e.jsxs(Yt,{children:[e.jsx(Ee,{value:"fulltime",children:"Full-time owner-operator"}),e.jsx(Ee,{value:"parttime",children:"Part-time with manager"}),e.jsx(Ee,{value:"investor",children:"Investor/Semi-absentee"})]})]})]})]})]}),i===5&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(Me,{className:"px-0 pt-0",children:[e.jsx(Fe,{children:"Review & Submit"}),e.jsx(ms,{children:"Please review your application before submitting"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-medium mb-2",children:"Personal Information"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[y.fullName,"  ",y.email,"  ",y.phone]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:[y.city,y.state].filter(Boolean).join(", ")})]}),e.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-medium mb-2",children:"Financial Background"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Net Worth: ",y.netWorth||"Not specified","  Liquid Capital: ",y.liquidCapital||"Not specified"]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Timeline: ",y.investmentTimeline||"Not specified",y.financingNeeded&&"  Financing assistance needed"]})]}),e.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-medium mb-2",children:"Location Preferences"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[y.preferredCities||"No specific cities mentioned",y.openToRelocation&&"  Open to relocation"]})]})]}),e.jsx(cr,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(ln,{checked:y.agreedToTerms,onCheckedChange:S=>_("agreedToTerms",S)}),e.jsxs(ve,{className:"text-sm",children:["I agree to the ",e.jsx(St,{to:"/terms",className:"text-primary underline",children:"Terms of Service"})," and ",e.jsx(St,{to:"/privacy",className:"text-primary underline",children:"Privacy Policy"})]})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(ln,{checked:y.agreedToContact,onCheckedChange:S=>_("agreedToContact",S)}),e.jsxs(ve,{className:"text-sm",children:["I consent to being contacted by ",l.brand_name," regarding this application"]})]})]})]}),e.jsxs("div",{className:"flex justify-between mt-8 pt-6 border-t",children:[e.jsxs(ee,{variant:"outline",onClick:A,disabled:i===1,children:[e.jsx(ca,{className:"h-4 w-4 mr-2"}),"Previous"]}),i<mg.length?e.jsxs(ee,{onClick:j,children:["Next",e.jsx(Ca,{className:"h-4 w-4 ml-2"})]}):e.jsxs(ee,{onClick:C,disabled:!y.agreedToTerms||!y.agreedToContact||g,children:[g?e.jsx(Ht,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(Lt,{className:"h-4 w-4 mr-2"}),"Submit Application"]})]})]})})]})}const AC={submitted:{color:"bg-blue-100 text-blue-800",icon:Hn,label:"Submitted",progress:20},under_review:{color:"bg-yellow-100 text-yellow-800",icon:_s,label:"Under Review",progress:40},interview_scheduled:{color:"bg-purple-100 text-purple-800",icon:za,label:"Interview Scheduled",progress:60},approved:{color:"bg-green-100 text-green-800",icon:Lt,label:"Approved",progress:100},rejected:{color:"bg-red-100 text-red-800",icon:pi,label:"Rejected",progress:100},withdrawn:{color:"bg-gray-100 text-gray-600",icon:pi,label:"Withdrawn",progress:0}};function oee(){const{user:n}=Bs(),[t,s]=w.useState([]),[r,i]=w.useState(!0),[a,l]=w.useState("all");w.useEffect(()=>{(async()=>{if(!n)return;const{data:m,error:g}=await Le.from("franchise_applications").select(`
          id,
          franchise_id,
          status,
          created_at,
          updated_at,
          personal_info,
          franchise:franchises (
            brand_name,
            logo_url
          )
        `).eq("user_id",n.id).order("created_at",{ascending:!1});!g&&m&&s(m),i(!1)})()},[n]);const c=t.filter(u=>a==="all"?!0:a==="active"?["submitted","under_review","interview_scheduled"].includes(u.status):a==="completed"?["approved","rejected","withdrawn"].includes(u.status):!0);return r?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(Ht,{className:"h-8 w-8 animate-spin text-primary"})}):e.jsxs("div",{className:"container max-w-5xl mx-auto py-8 px-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"My Applications"}),e.jsx("p",{className:"text-muted-foreground",children:"Track your franchise applications"})]}),e.jsx(ee,{asChild:!0,children:e.jsxs(St,{to:"/franchises",children:[e.jsx(Zs,{className:"h-4 w-4 mr-2"}),"Browse Franchises"]})})]}),e.jsx(Ui,{value:a,onValueChange:l,className:"mb-6",children:e.jsxs(yi,{children:[e.jsxs(zt,{value:"all",children:["All (",t.length,")"]}),e.jsxs(zt,{value:"active",children:["Active (",t.filter(u=>["submitted","under_review","interview_scheduled"].includes(u.status)).length,")"]}),e.jsxs(zt,{value:"completed",children:["Completed (",t.filter(u=>["approved","rejected","withdrawn"].includes(u.status)).length,")"]})]})}),c.length===0?e.jsx(de,{children:e.jsxs(fe,{className:"py-12 text-center",children:[e.jsx(Zs,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-50"}),e.jsx("h3",{className:"font-medium text-lg mb-2",children:"No Applications Yet"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:a==="all"?"You haven't applied to any franchises yet":`No ${a} applications`}),e.jsx(ee,{asChild:!0,children:e.jsx(St,{to:"/franchises",children:"Explore Franchises"})})]})}):e.jsx("div",{className:"space-y-4",children:c.map(u=>{var p,y;const m=AC[u.status]||AC.submitted,g=m.icon;return e.jsx(de,{className:"hover:shadow-md transition-shadow",children:e.jsx(fe,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:(p=u.franchise)!=null&&p.logo_url?e.jsx("img",{src:u.franchise.logo_url,alt:u.franchise.brand_name,className:"w-16 h-16 object-contain rounded-lg"}):e.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-lg flex items-center justify-center",children:e.jsx(Zs,{className:"h-8 w-8 text-primary"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4 mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:(y=u.franchise)==null?void 0:y.brand_name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Applied ",Ba(new Date(u.created_at),{addSuffix:!0})]})]}),e.jsxs(Be,{className:m.color,children:[e.jsx(g,{className:"h-3 w-3 mr-1"}),m.label]})]}),!["approved","rejected","withdrawn"].includes(u.status)&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mb-1",children:[e.jsx("span",{children:"Application Progress"}),e.jsxs("span",{children:[m.progress,"%"]})]}),e.jsx(On,{value:m.progress,className:"h-1.5"})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(za,{className:"h-4 w-4"}),Gh(new Date(u.created_at),"MMM d, yyyy")]}),u.updated_at!==u.created_at&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Hn,{className:"h-4 w-4"}),"Updated ",Ba(new Date(u.updated_at),{addSuffix:!0})]})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[e.jsx(ee,{size:"sm",variant:"outline",asChild:!0,children:e.jsxs(St,{to:`/my-applications/${u.id}`,children:[e.jsx(_s,{className:"h-4 w-4 mr-1"}),"View Details"]})}),e.jsx(ee,{size:"sm",variant:"ghost",asChild:!0,children:e.jsxs(St,{to:`/franchise/${u.franchise_id}`,children:[e.jsx(Am,{className:"h-4 w-4 mr-1"}),"View Franchise"]})}),["submitted","under_review"].includes(u.status)&&e.jsxs(ee,{size:"sm",variant:"ghost",children:[e.jsx(ua,{className:"h-4 w-4 mr-1"}),"Contact"]})]})]})]})})},u.id)})})]})}const kC={submitted:{color:"bg-blue-100 text-blue-800",icon:Hn,label:"Submitted"},under_review:{color:"bg-yellow-100 text-yellow-800",icon:dn,label:"Under Review"},interview_scheduled:{color:"bg-purple-100 text-purple-800",icon:za,label:"Interview Scheduled"},approved:{color:"bg-green-100 text-green-800",icon:Lt,label:"Approved"},rejected:{color:"bg-red-100 text-red-800",icon:pi,label:"Rejected"},withdrawn:{color:"bg-gray-100 text-gray-600",icon:pi,label:"Withdrawn"}};function lee(){var Q,Z,ie,q,ce,te,oe;const{user:n}=Bs(),[t,s]=w.useState([]),[r,i]=w.useState([]),[a,l]=w.useState(!0),[c,u]=w.useState("all"),[m,g]=w.useState("all"),[p,y]=w.useState(null),[x,_]=w.useState(!1),[j,A]=w.useState(!1),[C,P]=w.useState(""),[S,O]=w.useState(""),[z,V]=w.useState(!1);w.useEffect(()=>{n&&B()},[n]),w.useEffect(()=>{n&&r.length>0&&D()},[n,r,c,m]);const B=async()=>{if(!n)return;const{data:ne,error:re}=await Le.from("franchises").select("id, brand_name, logo_url").eq("franchisor_id",n.id);!re&&ne&&i(ne)},D=async()=>{if(!n||r.length===0){l(!1);return}l(!0);const ne=r.map(se=>se.id);let re=Le.from("franchise_applications").select(`
                id,
                franchise_id,
                user_id,
                status,
                personal_info,
                financial_info,
                location_preferences,
                experience_info,
                notes,
                reviewed_by,
                reviewed_at,
                created_at,
                updated_at,
                applicant:profiles!user_id (
                    id,
                    display_name,
                    email,
                    phone,
                    avatar_url
                ),
                franchise:franchises!franchise_id (
                    id,
                    brand_name,
                    logo_url
                )
            `).in("franchise_id",ne).order("created_at",{ascending:!1});c!=="all"&&(re=re.eq("franchise_id",c)),m!=="all"&&(re=re.eq("status",m));const{data:U,error:J}=await re;!J&&U&&s(U),l(!1)},K=async()=>{if(!(!p||!C||!n)){V(!0);try{const{error:ne}=await Le.from("franchise_applications").update({status:C,notes:S||p.notes,reviewed_by:n.id,reviewed_at:new Date().toISOString()}).eq("id",p.id);if(ne)throw ne;Rt.success(`Application ${C.replace("_"," ")}`),A(!1),y(null),P(""),O(""),D()}catch(ne){console.error("Error updating application:",ne),Rt.error("Failed to update application")}finally{V(!1)}}},H=(ne,re)=>{y(ne),P(re),O(ne.notes||""),A(!0)},$=ne=>{y(ne),_(!0)},W={total:t.length,pending:t.filter(ne=>["submitted","under_review"].includes(ne.status)).length,approved:t.filter(ne=>ne.status==="approved").length,rejected:t.filter(ne=>ne.status==="rejected").length};return a&&r.length===0?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(Ht,{className:"h-8 w-8 animate-spin text-primary"})}):r.length===0?e.jsx("div",{className:"container max-w-4xl mx-auto py-8 px-4",children:e.jsx(de,{children:e.jsxs(fe,{className:"py-16 text-center",children:[e.jsx(Zs,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"No Franchises Found"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"You need to create a franchise listing first to receive applications."}),e.jsx(St,{to:"/add-franchise-listing",children:e.jsx(ee,{children:"Create Franchise Listing"})})]})})}):e.jsxs("div",{className:"container max-w-6xl mx-auto py-8 px-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-8",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(St,{to:"/my-listings",children:e.jsx(ee,{variant:"ghost",size:"icon",children:e.jsx(ca,{className:"h-4 w-4"})})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx(_s,{className:"h-6 w-6 text-primary"}),"Franchise Applications"]}),e.jsx("p",{className:"text-muted-foreground",children:"Review and manage applicants"})]})]})}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-4 mb-8",children:[e.jsx(de,{children:e.jsx(fe,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total"}),e.jsx("p",{className:"text-2xl font-bold",children:W.total})]}),e.jsx(_s,{className:"h-8 w-8 text-blue-500"})]})})}),e.jsx(de,{children:e.jsx(fe,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending"}),e.jsx("p",{className:"text-2xl font-bold",children:W.pending})]}),e.jsx(Hn,{className:"h-8 w-8 text-yellow-500"})]})})}),e.jsx(de,{children:e.jsx(fe,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Approved"}),e.jsx("p",{className:"text-2xl font-bold",children:W.approved})]}),e.jsx(Lt,{className:"h-8 w-8 text-green-500"})]})})}),e.jsx(de,{children:e.jsx(fe,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Rejected"}),e.jsx("p",{className:"text-2xl font-bold",children:W.rejected})]}),e.jsx(pi,{className:"h-8 w-8 text-red-500"})]})})})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[e.jsx(Ui,{value:m,onValueChange:g,children:e.jsxs(yi,{children:[e.jsx(zt,{value:"all",children:"All"}),e.jsx(zt,{value:"submitted",children:"New"}),e.jsx(zt,{value:"under_review",children:"In Review"}),e.jsx(zt,{value:"interview_scheduled",children:"Interview"}),e.jsx(zt,{value:"approved",children:"Approved"}),e.jsx(zt,{value:"rejected",children:"Rejected"})]})}),r.length>1&&e.jsxs("select",{value:c,onChange:ne=>u(ne.target.value),className:"px-3 py-2 border rounded-md text-sm",children:[e.jsx("option",{value:"all",children:"All Franchises"}),r.map(ne=>e.jsx("option",{value:ne.id,children:ne.brand_name},ne.id))]})]}),a?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(Ht,{className:"h-8 w-8 animate-spin text-primary"})}):t.length===0?e.jsx(de,{children:e.jsxs(fe,{className:"py-12 text-center",children:[e.jsx(_s,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:"font-semibold mb-2",children:"No Applications Yet"}),e.jsx("p",{className:"text-muted-foreground",children:"Applications will appear here when candidates apply to your franchises."})]})}):e.jsx("div",{className:"space-y-4",children:t.map(ne=>{var J,se,ue,be,we,Ce,Re,Xe,tt,lt,jt,Et,Je,_e,$t,Dt,ht;const re=kC[ne.status]||kC.submitted,U=re.icon;return e.jsx(de,{children:e.jsx(fe,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs(ai,{className:"h-12 w-12",children:[e.jsx(Bi,{src:((J=ne.applicant)==null?void 0:J.avatar_url)||""}),e.jsx(gi,{children:((ue=(se=ne.applicant)==null?void 0:se.display_name)==null?void 0:ue.charAt(0))||((we=(be=ne.personal_info)==null?void 0:be.fullName)==null?void 0:we.charAt(0))||"A"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:((Ce=ne.applicant)==null?void 0:Ce.display_name)||((Re=ne.personal_info)==null?void 0:Re.fullName)||"Unknown Applicant"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Applied for ",(Xe=ne.franchise)==null?void 0:Xe.brand_name]})]}),e.jsxs(Be,{className:`${re.color} flex items-center gap-1`,children:[e.jsx(U,{className:"h-3 w-3"}),re.label]})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 mt-3 text-sm text-muted-foreground",children:[(((tt=ne.applicant)==null?void 0:tt.email)||((lt=ne.personal_info)==null?void 0:lt.email))&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Or,{className:"h-4 w-4"}),((jt=ne.applicant)==null?void 0:jt.email)||((Et=ne.personal_info)==null?void 0:Et.email)]}),(((Je=ne.applicant)==null?void 0:Je.phone)||((_e=ne.personal_info)==null?void 0:_e.phone))&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Mr,{className:"h-4 w-4"}),(($t=ne.applicant)==null?void 0:$t.phone)||((Dt=ne.personal_info)==null?void 0:Dt.phone)]}),((ht=ne.location_preferences)==null?void 0:ht.preferredCity)&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ln,{className:"h-4 w-4"}),ne.location_preferences.preferredCity]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(za,{className:"h-4 w-4"}),Ba(new Date(ne.created_at),{addSuffix:!0})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>$(ne),children:[e.jsx(dn,{className:"h-4 w-4 mr-1"}),"View"]}),e.jsxs(yc,{children:[e.jsx(bc,{asChild:!0,children:e.jsx(ee,{variant:"ghost",size:"icon",children:e.jsx(zm,{className:"h-4 w-4"})})}),e.jsxs(ql,{align:"end",children:[ne.status==="submitted"&&e.jsxs(Rn,{onClick:()=>H(ne,"under_review"),children:[e.jsx(dn,{className:"h-4 w-4 mr-2"}),"Mark as Under Review"]}),["submitted","under_review"].includes(ne.status)&&e.jsxs(Rn,{onClick:()=>H(ne,"interview_scheduled"),children:[e.jsx(za,{className:"h-4 w-4 mr-2"}),"Schedule Interview"]}),e.jsx(Lm,{}),!["approved","rejected","withdrawn"].includes(ne.status)&&e.jsxs(e.Fragment,{children:[e.jsxs(Rn,{onClick:()=>H(ne,"approved"),className:"text-green-600",children:[e.jsx(Lt,{className:"h-4 w-4 mr-2"}),"Approve"]}),e.jsxs(Rn,{onClick:()=>H(ne,"rejected"),className:"text-red-600",children:[e.jsx(pi,{className:"h-4 w-4 mr-2"}),"Reject"]})]}),e.jsx(Lm,{}),e.jsxs(Rn,{children:[e.jsx(ua,{className:"h-4 w-4 mr-2"}),"Message Applicant"]})]})]})]})]})})},ne.id)})}),e.jsx(ha,{open:x,onOpenChange:_,children:e.jsxs($i,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsxs(Vi,{children:[e.jsx(Hi,{children:"Application Details"}),e.jsx(Im,{children:"Review the applicant's information"})]}),p&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(de,{children:[e.jsx(Me,{className:"pb-2",children:e.jsxs(Fe,{className:"text-sm flex items-center gap-2",children:[e.jsx(Aa,{className:"h-4 w-4"}),"Personal Information"]})}),e.jsx(fe,{className:"grid gap-2 text-sm",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Name:"}),e.jsx("p",{className:"font-medium",children:((Q=p.personal_info)==null?void 0:Q.fullName)||((Z=p.applicant)==null?void 0:Z.display_name)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Email:"}),e.jsx("p",{className:"font-medium",children:((ie=p.personal_info)==null?void 0:ie.email)||((q=p.applicant)==null?void 0:q.email)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Phone:"}),e.jsx("p",{className:"font-medium",children:((ce=p.personal_info)==null?void 0:ce.phone)||((te=p.applicant)==null?void 0:te.phone)||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"City:"}),e.jsx("p",{className:"font-medium",children:((oe=p.personal_info)==null?void 0:oe.city)||"N/A"})]})]})})]}),p.financial_info&&e.jsxs(de,{children:[e.jsx(Me,{className:"pb-2",children:e.jsxs(Fe,{className:"text-sm flex items-center gap-2",children:[e.jsx(zi,{className:"h-4 w-4"}),"Financial Information"]})}),e.jsx(fe,{className:"grid gap-2 text-sm",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Investment Capacity:"}),e.jsxs("p",{className:"font-medium",children:["",(p.financial_info.investmentCapacity||0).toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Funding Source:"}),e.jsx("p",{className:"font-medium capitalize",children:p.financial_info.fundingSource||"N/A"})]})]})})]}),p.experience_info&&e.jsxs(de,{children:[e.jsx(Me,{className:"pb-2",children:e.jsxs(Fe,{className:"text-sm flex items-center gap-2",children:[e.jsx(Zs,{className:"h-4 w-4"}),"Experience"]})}),e.jsx(fe,{className:"text-sm",children:e.jsx("p",{children:p.experience_info.businessExperience||"No experience provided"})})]}),p.notes&&e.jsxs(de,{children:[e.jsx(Me,{className:"pb-2",children:e.jsx(Fe,{className:"text-sm",children:"Notes"})}),e.jsx(fe,{className:"text-sm",children:e.jsx("p",{children:p.notes})})]}),e.jsxs(de,{children:[e.jsx(Me,{className:"pb-2",children:e.jsxs(Fe,{className:"text-sm flex items-center gap-2",children:[e.jsx(Hn,{className:"h-4 w-4"}),"Timeline"]})}),e.jsxs(fe,{className:"text-sm space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Applied:"}),e.jsx("span",{children:Gh(new Date(p.created_at),"PPP")})]}),p.reviewed_at&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Last Reviewed:"}),e.jsx("span",{children:Gh(new Date(p.reviewed_at),"PPP")})]})]})]})]}),e.jsxs(Uu,{children:[e.jsx(ee,{variant:"outline",onClick:()=>_(!1),children:"Close"}),p&&!["approved","rejected","withdrawn"].includes(p.status)&&e.jsxs(e.Fragment,{children:[e.jsx(ee,{variant:"destructive",onClick:()=>{_(!1),H(p,"rejected")},children:"Reject"}),e.jsx(ee,{onClick:()=>{_(!1),H(p,"approved")},children:"Approve"})]})]})]})}),e.jsx(ha,{open:j,onOpenChange:A,children:e.jsxs($i,{children:[e.jsxs(Vi,{children:[e.jsx(Hi,{children:C==="approved"?"Approve Application":C==="rejected"?"Reject Application":C==="under_review"?"Mark as Under Review":C==="interview_scheduled"?"Schedule Interview":"Update Status"}),e.jsx(Im,{children:C==="approved"?"This will notify the applicant that their application has been approved.":C==="rejected"?"This will notify the applicant that their application was not successful.":"Update notes and proceed with the status change."})]}),e.jsx("div",{className:"space-y-4 py-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Notes (optional)"}),e.jsx(_n,{value:S,onChange:ne=>O(ne.target.value),placeholder:"Add internal notes about this decision...",rows:3})]})}),e.jsxs(Uu,{children:[e.jsx(ee,{variant:"outline",onClick:()=>A(!1),children:"Cancel"}),e.jsxs(ee,{onClick:K,disabled:z,variant:C==="rejected"?"destructive":"default",children:[z?e.jsx(Ht,{className:"h-4 w-4 animate-spin mr-2"}):null,C==="approved"?"Approve":C==="rejected"?"Reject":"Update Status"]})]})]})})]})}const cee=[{id:1,name:"HDFC Bank",logo:"https://upload.wikimedia.org/wikipedia/commons/2/28/HDFC_Bank_Logo.svg",type:"Bank Loan",interestRate:"10.5% - 12.5%",maxAmount:"2 Crores",tenure:"Up to 7 years",features:["No collateral up to 50L","Quick approval","Flexible EMI"]},{id:2,name:"ICICI Bank",logo:"https://upload.wikimedia.org/wikipedia/commons/1/12/ICICI_Bank_Logo.svg",type:"Bank Loan",interestRate:"11% - 13%",maxAmount:"1.5 Crores",tenure:"Up to 5 years",features:["Doorstep service","Online tracking","Part-prepayment allowed"]},{id:3,name:"Bajaj Finserv",logo:"https://upload.wikimedia.org/wikipedia/commons/c/c7/Bajaj_Finserv_Logo.png",type:"NBFC",interestRate:"12% - 16%",maxAmount:"75 Lakhs",tenure:"Up to 5 years",features:["Minimal documentation","48-hour disbursal","No hidden charges"]},{id:4,name:"Tata Capital",logo:"https://upload.wikimedia.org/wikipedia/commons/8/8e/Tata_logo.svg",type:"NBFC",interestRate:"11.5% - 14%",maxAmount:"1 Crore",tenure:"Up to 6 years",features:["Dedicated relationship manager","Working capital options","Balance transfer facility"]}],dee=[{name:"PMEGP",fullName:"Prime Minister Employment Generation Programme",subsidy:"Up to 35% of project cost",eligibility:"First-generation entrepreneurs",maxLoan:"25 Lakhs (Manufacturing)"},{name:"Mudra Loan",fullName:"Pradhan Mantri Mudra Yojana",subsidy:"Low interest rates",eligibility:"Small business owners",maxLoan:"10 Lakhs"},{name:"Stand-Up India",fullName:"Stand-Up India Scheme",subsidy:"Composite loan with working capital",eligibility:"SC/ST/Women entrepreneurs",maxLoan:"1 Crore"}];function uee(){const[n,t]=w.useState(25e5),[s,r]=w.useState(60),[i,a]=w.useState(12),l=()=>{const m=n,g=i/12/100,p=m*g*Math.pow(1+g,s)/(Math.pow(1+g,s)-1);return Math.round(p)},c=l()*s,u=c-n;return e.jsxs("div",{className:"container max-w-6xl mx-auto py-8 px-4",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Financing Options"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Explore funding options to help you start your franchise journey"})]}),e.jsxs(Ui,{defaultValue:"partners",children:[e.jsxs(yi,{className:"mb-6",children:[e.jsxs(zt,{value:"partners",className:"gap-2",children:[e.jsx(ed,{className:"h-4 w-4"}),"Financing Partners"]}),e.jsxs(zt,{value:"calculator",className:"gap-2",children:[e.jsx(Hd,{className:"h-4 w-4"}),"EMI Calculator"]}),e.jsxs(zt,{value:"schemes",className:"gap-2",children:[e.jsx(_s,{className:"h-4 w-4"}),"Government Schemes"]})]}),e.jsxs(Es,{value:"partners",children:[e.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:cee.map(m=>e.jsxs(de,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(Me,{children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-muted rounded-lg flex items-center justify-center p-2",children:e.jsx(ed,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{children:[e.jsx(Fe,{className:"text-lg",children:m.name}),e.jsx(Be,{variant:"outline",children:m.type})]})]})})}),e.jsxs(fe,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Interest Rate"}),e.jsx("p",{className:"font-semibold text-green-600",children:m.interestRate})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Max Amount"}),e.jsx("p",{className:"font-semibold",children:m.maxAmount})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Tenure"}),e.jsx("p",{className:"font-semibold",children:m.tenure})]})]}),e.jsx(cr,{className:"my-4"}),e.jsx("div",{className:"space-y-2 mb-4",children:m.features.map((g,p)=>e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Lt,{className:"h-4 w-4 text-green-600"}),g]},p))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(ee,{className:"flex-1",children:["Apply Now",e.jsx(Ca,{className:"h-4 w-4 ml-2"})]}),e.jsx(ee,{variant:"outline",size:"icon",children:e.jsx(Mr,{className:"h-4 w-4"})})]})]})]},m.id))}),e.jsx(de,{className:"mt-8 bg-gradient-to-r from-primary/10 to-primary/5",children:e.jsx(fe,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-primary/20 rounded-lg",children:e.jsx(E7,{className:"h-8 w-8 text-primary"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-lg",children:"Need Help Choosing?"}),e.jsx("p",{className:"text-muted-foreground",children:"Our financing advisors can help you find the best option for your franchise investment"})]}),e.jsxs(ee,{children:["Talk to an Advisor",e.jsx(Ca,{className:"h-4 w-4 ml-2"})]})]})})})]}),e.jsx(Es,{value:"calculator",children:e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs(de,{children:[e.jsxs(Me,{children:[e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(Hd,{className:"h-5 w-5"}),"EMI Calculator"]}),e.jsx(ms,{children:"Calculate your monthly payments"})]}),e.jsxs(fe,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx(ve,{children:"Loan Amount"}),e.jsxs("span",{className:"text-sm font-medium",children:["",(n/1e5).toFixed(1)," Lakhs"]})]}),e.jsx(Ue,{type:"range",min:"500000",max:"20000000",step:"100000",value:n,onChange:m=>t(Number(m.target.value)),className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[e.jsx("span",{children:"5L"}),e.jsx("span",{children:"2Cr"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx(ve,{children:"Interest Rate (%)"}),e.jsxs("span",{className:"text-sm font-medium",children:[i,"%"]})]}),e.jsx(Ue,{type:"range",min:"8",max:"20",step:"0.5",value:i,onChange:m=>a(Number(m.target.value)),className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[e.jsx("span",{children:"8%"}),e.jsx("span",{children:"20%"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx(ve,{children:"Tenure (Months)"}),e.jsxs("span",{className:"text-sm font-medium",children:[s," months (",(s/12).toFixed(1)," years)"]})]}),e.jsx(Ue,{type:"range",min:"12",max:"84",step:"6",value:s,onChange:m=>r(Number(m.target.value)),className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[e.jsx("span",{children:"1 year"}),e.jsx("span",{children:"7 years"})]})]})]})]}),e.jsxs(de,{children:[e.jsx(Me,{children:e.jsx(Fe,{children:"Your EMI Breakdown"})}),e.jsxs(fe,{children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Monthly EMI"}),e.jsxs("p",{className:"text-4xl font-bold text-primary",children:["",l().toLocaleString()]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between p-4 bg-muted/50 rounded-lg",children:[e.jsx("span",{className:"text-muted-foreground",children:"Principal Amount"}),e.jsxs("span",{className:"font-semibold",children:["",n.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between p-4 bg-muted/50 rounded-lg",children:[e.jsx("span",{className:"text-muted-foreground",children:"Total Interest"}),e.jsxs("span",{className:"font-semibold text-orange-600",children:["",u.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between p-4 bg-primary/10 rounded-lg",children:[e.jsx("span",{className:"font-medium",children:"Total Amount Payable"}),e.jsxs("span",{className:"font-bold text-primary",children:["",c.toLocaleString()]})]})]}),e.jsxs(ee,{className:"w-full mt-6",children:["Get Pre-Approved",e.jsx(Ca,{className:"h-4 w-4 ml-2"})]})]})]})]})}),e.jsx(Es,{value:"schemes",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(de,{className:"bg-gradient-to-r from-orange-50 to-green-50 border-orange-200",children:e.jsxs(fe,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(Be,{className:"bg-orange-500",children:"Government"}),e.jsx("h3",{className:"font-semibold",children:"Government-Backed Financing Schemes"})]}),e.jsx("p",{className:"text-muted-foreground",children:"Take advantage of special subsidies and low-interest loans designed to support entrepreneurs"})]})}),e.jsx("div",{className:"grid gap-6 md:grid-cols-3",children:dee.map(m=>e.jsxs(de,{className:"hover:shadow-lg transition-shadow",children:[e.jsxs(Me,{children:[e.jsx(Be,{variant:"outline",className:"w-fit mb-2",children:m.name}),e.jsx(Fe,{className:"text-lg",children:m.fullName})]}),e.jsxs(fe,{children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Subsidy/Benefit"}),e.jsx("p",{className:"font-medium text-green-600",children:m.subsidy})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Max Loan"}),e.jsx("p",{className:"font-medium",children:m.maxLoan})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Eligibility"}),e.jsx("p",{className:"font-medium",children:m.eligibility})]})]}),e.jsxs(ee,{variant:"outline",className:"w-full mt-4",children:["Learn More",e.jsx(Am,{className:"h-4 w-4 ml-2"})]})]})]},m.name))})]})})]})]})}const hee=3e4,mee=5e3;function fee(){var $,W,Q,Z,ie;const{user:n}=Bs(),[t,s]=w.useState([]),[r,i]=w.useState(null),[a,l]=w.useState([]),[c,u]=w.useState(""),[m,g]=w.useState(!0),[p,y]=w.useState(!1),[x,_]=w.useState(""),[j,A]=w.useState(!1),[C,P]=w.useState(null),S=w.useRef(null),O=w.useRef(null);w.useEffect(()=>{O.current=(r==null?void 0:r.id)||null},[r]),w.useEffect(()=>{n&&z()},[n]),w.useEffect(()=>{r&&(V(r.id),Sh.markAsRead(r.id,n.id))},[r,n]),w.useEffect(()=>{B()},[a]),w.useEffect(()=>{if(!n)return;const ce=setInterval(async()=>{const te=await Sh.getConversations(n.id);s(te),P(new Date)},hee);return()=>clearInterval(ce)},[n]),w.useEffect(()=>{if(!n||!r)return;const ce=setInterval(async()=>{A(!0);const te=O.current;if(te){const oe=await Sh.getMessages(te);oe.length!==a.length&&l(oe)}A(!1)},mee);return()=>clearInterval(ce)},[n,r==null?void 0:r.id]);const z=async()=>{if(!n)return;g(!0);const q=await Sh.getConversations(n.id);s(q),P(new Date),g(!1)},V=w.useCallback(async q=>{const ce=await Sh.getMessages(q);l(ce)},[]),B=()=>{var q;(q=S.current)==null||q.scrollIntoView({behavior:"smooth"})},D=async()=>{if(!c.trim()||!r||!n)return;y(!0);const q=await Sh.sendMessage(r.id,n.id,c.trim());q?(l(ce=>[...ce,q]),u(""),s(ce=>ce.map(te=>te.id===r.id?{...te,last_message:c.trim(),last_message_at:new Date().toISOString()}:te))):Rt.error("Failed to send message"),y(!1)},K=async()=>{r&&(A(!0),await V(r.id),A(!1),Rt.success("Messages refreshed"))},H=t.filter(q=>{var ce,te,oe,ne;return((te=(ce=q.participant)==null?void 0:ce.display_name)==null?void 0:te.toLowerCase().includes(x.toLowerCase()))||((ne=(oe=q.listing)==null?void 0:oe.name)==null?void 0:ne.toLowerCase().includes(x.toLowerCase()))});return m?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(Ht,{className:"h-8 w-8 animate-spin text-primary"})}):e.jsxs("div",{className:"container max-w-6xl mx-auto py-8 px-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Messages"}),e.jsxs("p",{className:"text-muted-foreground flex items-center gap-2",children:["Your conversations with sellers and franchisors",j&&e.jsxs("span",{className:"flex items-center text-xs text-primary",children:[e.jsx(Dh,{className:"h-3 w-3 animate-spin mr-1"}),"Syncing..."]}),C&&!j&&e.jsxs("span",{className:"text-xs text-muted-foreground",children:[" Last updated ",Ba(C,{addSuffix:!0})]})]})]})}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-6 h-[600px]",children:[e.jsxs(de,{className:"lg:col-span-1",children:[e.jsx(Me,{className:"pb-3",children:e.jsxs("div",{className:"relative",children:[e.jsx(xi,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(Ue,{placeholder:"Search conversations...",value:x,onChange:q=>_(q.target.value),className:"pl-10"})]})}),e.jsx(Bh,{className:"h-[500px]",children:e.jsx(fe,{className:"p-2",children:H.length===0?e.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[e.jsx(ua,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No conversations yet"}),e.jsx("p",{className:"text-sm mt-1",children:"Start by inquiring about a listing"})]}):e.jsx("div",{className:"space-y-1",children:H.map(q=>{var ce,te,oe,ne;return e.jsx("button",{onClick:()=>i(q),className:nt("w-full text-left p-3 rounded-lg transition-colors",(r==null?void 0:r.id)===q.id?"bg-primary/10":"hover:bg-muted"),children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsxs(ai,{children:[e.jsx(Bi,{src:((ce=q.participant)==null?void 0:ce.avatar_url)||""}),e.jsx(gi,{children:((oe=(te=q.participant)==null?void 0:te.display_name)==null?void 0:oe.charAt(0))||"?"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium truncate",children:((ne=q.participant)==null?void 0:ne.display_name)||"Unknown"}),q.unread_count>0&&e.jsx(Be,{variant:"default",className:"ml-2",children:q.unread_count})]}),q.listing&&e.jsx("p",{className:"text-xs text-primary truncate",children:q.listing.name}),e.jsx("p",{className:"text-sm text-muted-foreground truncate",children:q.last_message||"No messages yet"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:Ba(new Date(q.last_message_at),{addSuffix:!0})})]})]})},q.id)})})})})]}),e.jsx(de,{className:"lg:col-span-2 flex flex-col",children:r?e.jsxs(e.Fragment,{children:[e.jsx(Me,{className:"border-b pb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(ai,{children:[e.jsx(Bi,{src:(($=r.participant)==null?void 0:$.avatar_url)||""}),e.jsx(gi,{children:((Q=(W=r.participant)==null?void 0:W.display_name)==null?void 0:Q.charAt(0))||"?"})]}),e.jsxs("div",{children:[e.jsx(Fe,{className:"text-lg",children:(Z=r.participant)==null?void 0:Z.display_name}),e.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:(ie=r.participant)==null?void 0:ie.role})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[r.listing&&e.jsx(ee,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs(St,{to:`/${r.listing.type}/${r.listing.id}`,children:[e.jsx(Zs,{className:"h-4 w-4 mr-1"}),r.listing.name,e.jsx(Am,{className:"h-3 w-3 ml-1"})]})}),e.jsx(ee,{variant:"ghost",size:"sm",onClick:K,disabled:j,children:e.jsx(Dh,{className:nt("h-4 w-4",j&&"animate-spin")})})]})]})}),e.jsx(Bh,{className:"flex-1 p-4",children:a.length===0?e.jsx("div",{className:"text-center py-12 text-muted-foreground",children:e.jsx("p",{children:"No messages yet. Send the first message!"})}):e.jsxs("div",{className:"space-y-4",children:[a.map(q=>{const ce=q.sender_id===(n==null?void 0:n.id);return e.jsx("div",{className:nt("flex",ce?"justify-end":"justify-start"),children:e.jsxs("div",{className:nt("max-w-[70%] rounded-lg px-4 py-2",ce?"bg-primary text-primary-foreground":"bg-muted"),children:[e.jsx("p",{className:"text-sm",children:q.content}),e.jsx("p",{className:nt("text-xs mt-1",ce?"text-primary-foreground/70":"text-muted-foreground"),children:Ba(new Date(q.created_at),{addSuffix:!0})})]})},q.id)}),e.jsx("div",{ref:S})]})}),e.jsx("div",{className:"p-4 border-t",children:e.jsxs("form",{onSubmit:q=>{q.preventDefault(),D()},className:"flex gap-2",children:[e.jsx(Ue,{placeholder:"Type a message...",value:c,onChange:q=>u(q.target.value),disabled:p}),e.jsx(ee,{type:"submit",disabled:!c.trim()||p,children:p?e.jsx(Ht,{className:"h-4 w-4 animate-spin"}):e.jsx(Em,{className:"h-4 w-4"})})]})})]}):e.jsx("div",{className:"flex-1 flex items-center justify-center text-muted-foreground",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ua,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),e.jsx("p",{className:"text-lg font-medium",children:"Select a conversation"}),e.jsx("p",{className:"text-sm",children:"Choose from your conversations on the left"})]})})})]})]})}const Oj={technology:{low:3,mid:4.5,high:6},retail:{low:1.5,mid:2.5,high:3.5},manufacturing:{low:2,mid:3,high:4},food_beverage:{low:1.5,mid:2.5,high:3.5},healthcare:{low:2.5,mid:4,high:5.5},services:{low:2,mid:3,high:4.5},education:{low:2,mid:3.5,high:5},real_estate:{low:1.5,mid:2.5,high:3.5},other:{low:2,mid:3,high:4}};function pee(){var u;const[n,t]=w.useState({annualRevenue:5e6,netProfit:1e6,growthRate:15,assetValue:2e6,liabilities:5e5,yearsInBusiness:5,industry:"services",employees:10}),[s,r]=w.useState(!1),i=(m,g)=>{t(p=>({...p,[m]:g})),r(!1)},l=(()=>{const m=Oj[n.industry]||Oj.other,g=m.low,p=m.mid,y=m.high,x=1+(n.growthRate-10)/100,_=Math.min(1+(n.yearsInBusiness-3)*.05,1.25),j=n.netProfit*g*x*_,A=n.netProfit*p*x*_,C=n.netProfit*y*x*_,P=n.annualRevenue*.5,S=n.assetValue-n.liabilities;return{low:Math.max(j,S),mid:A,high:C,revenueMultiple:P,assetBased:S,sdeRange:{low:j,mid:A,high:C}}})(),c=m=>m>=1e7?`${(m/1e7).toFixed(2)} Cr`:m>=1e5?`${(m/1e5).toFixed(2)} L`:`${m.toLocaleString()}`;return e.jsxs("div",{className:"container max-w-5xl mx-auto py-8 px-4",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[e.jsx(Hd,{className:"h-8 w-8 text-primary"}),"Business Valuation Calculator"]}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Estimate your business's value using industry-standard methods"})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs(de,{children:[e.jsxs(Me,{children:[e.jsx(Fe,{children:"Business Information"}),e.jsx(ms,{children:"Enter your business details for an accurate valuation"})]}),e.jsxs(fe,{className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ve,{className:"flex items-center gap-2",children:["Annual Revenue",e.jsx(b1,{children:e.jsxs(j1,{children:[e.jsx(w1,{children:e.jsx(Ag,{className:"h-4 w-4 text-muted-foreground"})}),e.jsx(by,{children:e.jsx("p",{children:"Total revenue for the last fiscal year"})})]})})]}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:""}),e.jsx(Ue,{type:"number",value:n.annualRevenue,onChange:m=>i("annualRevenue",Number(m.target.value)),className:"pl-8"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ve,{className:"flex items-center gap-2",children:["Net Profit (SDE)",e.jsx(b1,{children:e.jsxs(j1,{children:[e.jsx(w1,{children:e.jsx(Ag,{className:"h-4 w-4 text-muted-foreground"})}),e.jsx(by,{children:e.jsx("p",{children:"Seller's Discretionary Earnings including owner salary"})})]})})]}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:""}),e.jsx(Ue,{type:"number",value:n.netProfit,onChange:m=>i("netProfit",Number(m.target.value)),className:"pl-8"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Annual Growth Rate (%)"}),e.jsx(Ue,{type:"number",value:n.growthRate,onChange:m=>i("growthRate",Number(m.target.value))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Industry"}),e.jsxs(Jt,{value:n.industry,onValueChange:m=>i("industry",m),children:[e.jsx(Wt,{children:e.jsx(Xt,{})}),e.jsxs(Yt,{children:[e.jsx(Ee,{value:"technology",children:"Technology"}),e.jsx(Ee,{value:"retail",children:"Retail"}),e.jsx(Ee,{value:"manufacturing",children:"Manufacturing"}),e.jsx(Ee,{value:"food_beverage",children:"Food & Beverage"}),e.jsx(Ee,{value:"healthcare",children:"Healthcare"}),e.jsx(Ee,{value:"services",children:"Services"}),e.jsx(Ee,{value:"education",children:"Education"}),e.jsx(Ee,{value:"real_estate",children:"Real Estate"}),e.jsx(Ee,{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Asset Value"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:""}),e.jsx(Ue,{type:"number",value:n.assetValue,onChange:m=>i("assetValue",Number(m.target.value)),className:"pl-8"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Total Liabilities"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:""}),e.jsx(Ue,{type:"number",value:n.liabilities,onChange:m=>i("liabilities",Number(m.target.value)),className:"pl-8"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Years in Business"}),e.jsx(Ue,{type:"number",value:n.yearsInBusiness,onChange:m=>i("yearsInBusiness",Number(m.target.value))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Number of Employees"}),e.jsx(Ue,{type:"number",value:n.employees,onChange:m=>i("employees",Number(m.target.value))})]})]}),e.jsxs(ee,{onClick:()=>r(!0),className:"w-full",children:[e.jsx(Hd,{className:"h-4 w-4 mr-2"}),"Calculate Valuation"]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(de,{children:[e.jsx(Me,{children:e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(Os,{className:"h-5 w-5 text-green-600"}),"Estimated Valuation"]})}),e.jsxs(fe,{children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Estimated Range"}),e.jsxs("div",{className:"flex items-baseline justify-center gap-2 mt-2",children:[e.jsx("span",{className:"text-2xl font-bold text-primary",children:c(l.low)}),e.jsx("span",{className:"text-muted-foreground",children:"to"}),e.jsx("span",{className:"text-2xl font-bold text-green-600",children:c(l.high)})]}),e.jsxs("p",{className:"text-lg font-medium text-muted-foreground mt-2",children:["Mid: ",c(l.mid)]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"SDE Multiple Method"}),e.jsx("span",{className:"font-semibold",children:c(l.sdeRange.mid)})]}),e.jsx(On,{value:60,className:"h-2"}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Based on ",((u=Oj[n.industry])==null?void 0:u.mid)||3,"x profit multiple"]})]}),e.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Revenue Multiple"}),e.jsx("span",{className:"font-semibold",children:c(l.revenueMultiple)})]}),e.jsx(On,{value:40,className:"h-2"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Based on 0.5x annual revenue"})]}),e.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Asset-Based"}),e.jsx("span",{className:"font-semibold",children:c(l.assetBased)})]}),e.jsx(On,{value:30,className:"h-2"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Assets minus liabilities"})]})]})]})]}),e.jsx(de,{className:"bg-blue-50 border-blue-200",children:e.jsx(fe,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Ag,{className:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Disclaimer"}),e.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"This is an estimate for informational purposes only. For an accurate valuation, please consult with a professional business appraiser or M&A advisor."})]})]})})}),e.jsxs(ee,{variant:"outline",className:"w-full",children:[e.jsx(oi,{className:"h-4 w-4 mr-2"}),"Download Valuation Report (PDF)"]})]})]})]})}const gee={pending:{color:"bg-yellow-100 text-yellow-800",icon:Hn},responded:{color:"bg-blue-100 text-blue-800",icon:ua},approved:{color:"bg-green-100 text-green-800",icon:Lt},rejected:{color:"bg-red-100 text-red-800",icon:pi}};function xee(){const{user:n}=Bs(),[t,s]=w.useState([]),[r,i]=w.useState(!0),[a,l]=w.useState("all");w.useEffect(()=>{n&&c()},[n]);const c=async()=>{if(!n)return;i(!0);const{data:g}=await Le.from("businesses").select("id").eq("owner_id",n.id);if(!g||g.length===0){i(!1);return}const p=g.map(_=>_.id),{data:y,error:x}=await Le.from("business_inquiries").select(`
        id,
        business_id,
        buyer_id,
        message,
        status,
        created_at,
        updated_at,
        nda_signed,
        buyer:profiles!buyer_id (
          id,
          display_name,
          email,
          phone,
          avatar_url
        ),
        business:businesses!business_id (
          id,
          name,
          slug
        )
      `).in("business_id",p).order("created_at",{ascending:!1});!x&&y&&s(y),i(!1)},u=async(g,p)=>{const{error:y}=await Le.from("business_inquiries").update({status:p,updated_at:new Date().toISOString()}).eq("id",g);y?Rt.error("Failed to update inquiry"):(Rt.success(`Inquiry ${p}`),c())},m=t.filter(g=>a==="all"?!0:g.status===a);return r?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(Ht,{className:"h-8 w-8 animate-spin text-primary"})}):e.jsxs("div",{className:"container max-w-5xl mx-auto py-8 px-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Buyer Inquiries"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage inquiries from potential buyers"})]}),e.jsxs(Be,{variant:"secondary",className:"text-lg py-1 px-3",children:[t.filter(g=>g.status==="pending").length," Pending"]})]}),e.jsx(Ui,{value:a,onValueChange:l,className:"mb-6",children:e.jsxs(yi,{children:[e.jsxs(zt,{value:"all",children:["All (",t.length,")"]}),e.jsxs(zt,{value:"pending",children:["Pending (",t.filter(g=>g.status==="pending").length,")"]}),e.jsxs(zt,{value:"responded",children:["Responded (",t.filter(g=>g.status==="responded").length,")"]}),e.jsxs(zt,{value:"approved",children:["Approved (",t.filter(g=>g.status==="approved").length,")"]})]})}),m.length===0?e.jsx(de,{children:e.jsxs(fe,{className:"py-12 text-center",children:[e.jsx(ua,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-50"}),e.jsx("h3",{className:"font-medium text-lg mb-2",children:"No Inquiries Yet"}),e.jsx("p",{className:"text-muted-foreground",children:a==="all"?"You haven't received any inquiries yet":`No ${a} inquiries`})]})}):e.jsx("div",{className:"space-y-4",children:m.map(g=>{var x,_,j,A,C,P,S,O;const p=gee[g.status],y=p.icon;return e.jsx(de,{children:e.jsx(fe,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs(ai,{className:"h-12 w-12",children:[e.jsx(Bi,{src:((x=g.buyer)==null?void 0:x.avatar_url)||""}),e.jsx(gi,{children:((j=(_=g.buyer)==null?void 0:_.display_name)==null?void 0:j.charAt(0))||"?"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4 mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:(A=g.buyer)==null?void 0:A.display_name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Interested in: ",(C=g.business)==null?void 0:C.name]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Be,{className:p.color,children:[e.jsx(y,{className:"h-3 w-3 mr-1"}),g.status]}),g.nda_signed&&e.jsxs(Be,{variant:"outline",className:"text-green-600",children:[e.jsx(_s,{className:"h-3 w-3 mr-1"}),"NDA Signed"]})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4 line-clamp-2",children:g.message}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Or,{className:"h-4 w-4"}),(P=g.buyer)==null?void 0:P.email]}),((S=g.buyer)==null?void 0:S.phone)&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Mr,{className:"h-4 w-4"}),g.buyer.phone]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Hn,{className:"h-4 w-4"}),Ba(new Date(g.created_at),{addSuffix:!0})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ee,{size:"sm",variant:"outline",asChild:!0,children:e.jsxs(St,{to:`/messages?with=${g.buyer_id}`,children:[e.jsx(ua,{className:"h-4 w-4 mr-1"}),"Message"]})}),e.jsxs(yc,{children:[e.jsx(bc,{asChild:!0,children:e.jsx(ee,{size:"sm",variant:"ghost",children:e.jsx(zm,{className:"h-4 w-4"})})}),e.jsxs(ql,{align:"end",children:[g.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsxs(Rn,{onClick:()=>u(g.id,"approved"),children:[e.jsx(Lt,{className:"h-4 w-4 mr-2 text-green-600"}),"Approve & Send NDA"]}),e.jsxs(Rn,{onClick:()=>u(g.id,"rejected"),children:[e.jsx(pi,{className:"h-4 w-4 mr-2 text-red-600"}),"Reject"]})]}),e.jsx(Rn,{asChild:!0,children:e.jsxs(St,{to:`/business/${((O=g.business)==null?void 0:O.slug)||g.business_id}`,children:[e.jsx(dn,{className:"h-4 w-4 mr-2"}),"View Listing"]})})]})]})]})]})]})]})})},g.id)})})]})}const vee={sent:"bg-blue-100 text-blue-800",viewed:"bg-yellow-100 text-yellow-800",signed:"bg-green-100 text-green-800",expired:"bg-gray-100 text-gray-600"};function yee(){const{user:n}=Bs(),[t,s]=w.useState([]),[r,i]=w.useState(!0),[a,l]=w.useState(!1),[c,u]=w.useState({buyerEmail:"",businessId:"",customTerms:""});w.useEffect(()=>{n&&m()},[n]);const m=async()=>{if(!n)return;i(!0);const{data:y}=await Le.from("businesses").select("id").eq("owner_id",n.id);if(!y||y.length===0){i(!1);return}const x=y.map(A=>A.id),{data:_,error:j}=await Le.from("nda_agreements").select(`
        id,
        business_id,
        buyer_id,
        status,
        sent_at,
        signed_at,
        expires_at,
        business:businesses!business_id (name),
        buyer:profiles!buyer_id (display_name, email)
      `).in("business_id",x).order("sent_at",{ascending:!1});!j&&_&&s(_),i(!1)},g=async()=>{if(n)try{Rt.success("NDA sent successfully"),l(!1),u({buyerEmail:"",businessId:"",customTerms:""}),m()}catch{Rt.error("Failed to send NDA")}},p={total:t.length,pending:t.filter(y=>y.status==="sent"||y.status==="viewed").length,signed:t.filter(y=>y.status==="signed").length,expired:t.filter(y=>y.status==="expired").length};return r?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(Ht,{className:"h-8 w-8 animate-spin text-primary"})}):e.jsxs("div",{className:"container max-w-6xl mx-auto py-8 px-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx(Ds,{className:"h-6 w-6 text-primary"}),"NDA Management"]}),e.jsx("p",{className:"text-muted-foreground",children:"Manage non-disclosure agreements with buyers"})]}),e.jsxs(ha,{open:a,onOpenChange:l,children:[e.jsx(zh,{asChild:!0,children:e.jsxs(ee,{children:[e.jsx(la,{className:"h-4 w-4 mr-2"}),"Send NDA"]})}),e.jsxs($i,{children:[e.jsx(Vi,{children:e.jsx(Hi,{children:"Send NDA to Buyer"})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Buyer Email"}),e.jsx(Ue,{type:"email",placeholder:"buyer@email.com",value:c.buyerEmail,onChange:y=>u(x=>({...x,buyerEmail:y.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Custom Terms (Optional)"}),e.jsx(_n,{placeholder:"Add any custom terms or conditions...",value:c.customTerms,onChange:y=>u(x=>({...x,customTerms:y.target.value})),rows:4})]}),e.jsxs(ee,{onClick:g,className:"w-full",children:[e.jsx(Em,{className:"h-4 w-4 mr-2"}),"Send NDA"]})]})]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-4 mb-8",children:[e.jsx(de,{children:e.jsxs(fe,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold",children:p.total}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total NDAs"})]})}),e.jsx(de,{children:e.jsxs(fe,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:p.pending}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending"})]})}),e.jsx(de,{children:e.jsxs(fe,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:p.signed}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Signed"})]})}),e.jsx(de,{children:e.jsxs(fe,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-600",children:p.expired}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Expired"})]})})]}),e.jsxs(de,{children:[e.jsxs(Me,{children:[e.jsx(Fe,{children:"NDA Agreements"}),e.jsx(ms,{children:"Track the status of all non-disclosure agreements"})]}),e.jsx(fe,{children:t.length===0?e.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[e.jsx(_s,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No NDAs sent yet"}),e.jsx("p",{className:"text-sm",children:"Send an NDA to a potential buyer to get started"})]}):e.jsxs(Yd,{children:[e.jsx(Zd,{children:e.jsxs(ka,{children:[e.jsx(ys,{children:"Business"}),e.jsx(ys,{children:"Buyer"}),e.jsx(ys,{children:"Status"}),e.jsx(ys,{children:"Sent"}),e.jsx(ys,{children:"Signed"}),e.jsx(ys,{className:"text-right",children:"Actions"})]})}),e.jsx(Kd,{children:t.map(y=>{var x,_,j;return e.jsxs(ka,{children:[e.jsx(bs,{className:"font-medium",children:(x=y.business)==null?void 0:x.name}),e.jsx(bs,{children:e.jsxs("div",{children:[e.jsx("p",{children:(_=y.buyer)==null?void 0:_.display_name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:(j=y.buyer)==null?void 0:j.email})]})}),e.jsx(bs,{children:e.jsx(Be,{className:vee[y.status],children:y.status})}),e.jsx(bs,{className:"text-sm text-muted-foreground",children:Ba(new Date(y.sent_at),{addSuffix:!0})}),e.jsx(bs,{className:"text-sm",children:y.signed_at?e.jsx("span",{className:"text-green-600",children:Gh(new Date(y.signed_at),"MMM d, yyyy")}):e.jsx("span",{className:"text-muted-foreground",children:""})}),e.jsx(bs,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(ee,{size:"sm",variant:"ghost",children:e.jsx(dn,{className:"h-4 w-4"})}),e.jsx(ee,{size:"sm",variant:"ghost",children:e.jsx(oi,{className:"h-4 w-4"})}),y.status==="sent"&&e.jsx(ee,{size:"sm",variant:"ghost",children:e.jsx(Em,{className:"h-4 w-4"})})]})})]},y.id)})})]})})]}),e.jsx(de,{className:"mt-6 bg-blue-50 border-blue-200",children:e.jsx(fe,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(Ds,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-blue-900",children:"About NDAs"}),e.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Non-Disclosure Agreements protect your confidential business information. Once signed, buyers can access sensitive details in the Deal Room."}),e.jsxs("ul",{className:"text-sm text-blue-700 mt-2 list-disc list-inside space-y-1",children:[e.jsx("li",{children:"Automatically generated from our legal template"}),e.jsx("li",{children:"E-signature enabled for quick signing"}),e.jsx("li",{children:"Valid for 2 years from signing date"})]})]})]})})})]})}class Of{static async getInquiriesForBusiness(t){const{data:s,error:r}=await Le.from("business_inquiries").select(`
        *,
        buyer:profiles!buyer_id(id, display_name, email, avatar_url),
        business:businesses!business_id(id, name)
      `).eq("business_id",t).order("created_at",{ascending:!1});if(r)throw r;return s||[]}static async getInquiriesForSeller(t){const{data:s}=await Le.from("businesses").select("id").eq("seller_id",t);if(!s||s.length===0)return[];const r=s.map(l=>l.id),{data:i,error:a}=await Le.from("business_inquiries").select(`
        *,
        buyer:profiles!buyer_id(id, display_name, email, avatar_url),
        business:businesses!business_id(id, name)
      `).in("business_id",r).order("created_at",{ascending:!1});if(a)throw a;return i||[]}static async updateInquiryStatus(t,s){const{error:r}=await Le.from("business_inquiries").update({status:s,updated_at:new Date().toISOString()}).eq("id",t);if(r)throw r}static async createInquiry(t,s,r){const{data:i,error:a}=await Le.from("business_inquiries").insert({business_id:t,buyer_id:s,message:r}).select().single();if(a)throw a;return i}static async getNDAsForBusiness(t){const{data:s,error:r}=await Le.from("nda_agreements").select(`
        *,
        buyer:profiles!buyer_id(id, display_name, email)
      `).eq("business_id",t).order("sent_at",{ascending:!1});if(r)throw r;return s||[]}static async getNDAsForSeller(t){const{data:s}=await Le.from("businesses").select("id, name").eq("seller_id",t);if(!s||s.length===0)return[];const r=s.map(c=>c.id),i=new Map(s.map(c=>[c.id,c])),{data:a,error:l}=await Le.from("nda_agreements").select(`
        *,
        buyer:profiles!buyer_id(id, display_name, email)
      `).in("business_id",r).order("sent_at",{ascending:!1});if(l)throw l;return(a||[]).map(c=>({...c,business:i.get(c.business_id)}))}static async sendNDA(t,s,r){const{data:i,error:a}=await Le.from("nda_agreements").insert({business_id:t,buyer_id:s,custom_terms:r,expires_at:new Date(Date.now()+63072e6).toISOString()}).select().single();if(a)throw a;return i}static async signNDA(t,s){const{error:r}=await Le.from("nda_agreements").update({status:"signed",signed_at:new Date().toISOString(),signature_data:s}).eq("id",t);if(r)throw r}static async markNDAViewed(t){const{error:s}=await Le.from("nda_agreements").update({status:"viewed",viewed_at:new Date().toISOString()}).eq("id",t).eq("status","sent");if(s)throw s}static async getNDAForBuyer(t,s){const{data:r,error:i}=await Le.from("nda_agreements").select("*").eq("business_id",t).eq("buyer_id",s).single();return i?null:r}static async getDocumentsForBusiness(t){const{data:s,error:r}=await Le.from("deal_room_documents").select("*").eq("business_id",t).order("uploaded_at",{ascending:!1});if(r)throw r;return s||[]}static async uploadDocument(t,s,r){const{data:i,error:a}=await Le.from("deal_room_documents").insert({business_id:t,uploaded_by:s,...r}).select().single();if(a)throw a;return i}static async updateDocument(t,s){const{error:r}=await Le.from("deal_room_documents").update(s).eq("id",t);if(r)throw r}static async deleteDocument(t){const{error:s}=await Le.from("deal_room_documents").delete().eq("id",t);if(s)throw s}static async logActivity(t,s,r,i,a){const{error:l}=await Le.from("deal_room_activity").insert({business_id:t,user_id:s,action:r,document_id:i,metadata:a});l&&console.error("Failed to log activity:",l)}static async getActivityForBusiness(t,s=50){const{data:r,error:i}=await Le.from("deal_room_activity").select(`
        *,
        user:profiles!user_id(display_name, email),
        document:deal_room_documents!document_id(name)
      `).eq("business_id",t).order("created_at",{ascending:!1}).limit(s);if(i)throw i;return r||[]}static async getListingAnalytics(t,s){const{data:r,error:i}=await Le.from("listing_analytics").select("event_type, location, created_at").eq("listing_id",t).eq("listing_type",s);if(i)throw i;const a=r||[],l=a.filter(A=>A.event_type==="view").length,c=a.filter(A=>A.event_type==="save").length,u=a.filter(A=>A.event_type==="inquiry").length,m=a.filter(A=>A.event_type==="share").length,g=new Date;g.setDate(g.getDate()-30);const p=a.filter(A=>A.event_type==="view"&&new Date(A.created_at)>=g),y=new Map;p.forEach(A=>{const C=new Date(A.created_at).toISOString().split("T")[0];y.set(C,(y.get(C)||0)+1)});const x=Array.from(y.entries()).map(([A,C])=>({date:A,count:C})).sort((A,C)=>A.date.localeCompare(C.date)),_=new Map;a.forEach(A=>{A.location&&_.set(A.location,(_.get(A.location)||0)+1)});const j=Array.from(_.entries()).map(([A,C])=>({location:A,count:C})).sort((A,C)=>C.count-A.count).slice(0,5);return{views:l,saves:c,inquiries:u,shares:m,viewsByDay:x,topLocations:j}}static async trackEvent(t,s,r,i,a){const{error:l}=await Le.from("listing_analytics").insert({listing_id:t,listing_type:s,event_type:r,user_id:i,location:a,session_id:crypto.randomUUID()});l&&console.error("Failed to track event:",l)}}const bee={financial:_s,legal:Ds,operational:Y7,overview:dn},jee={financial:"bg-green-100 text-green-800",legal:"bg-purple-100 text-purple-800",operational:"bg-blue-100 text-blue-800",overview:"bg-orange-100 text-orange-800"};function wee(){const{businessId:n}=Jd(),{user:t}=Bs(),[s,r]=w.useState([]),[i,a]=w.useState([]),[l,c]=w.useState([]),[u,m]=w.useState(""),[g,p]=w.useState(!0),[y,x]=w.useState("all"),[_,j]=w.useState(!1),[A,C]=w.useState(!1),[P,S]=w.useState({name:"",category:"overview",access_level:"nda_signed"}),O=w.useRef(null),[z,V]=w.useState(null);w.useEffect(()=>{n&&B()},[n]);const B=async()=>{if(n){p(!0);try{const[ie,q,ce]=await Promise.all([Of.getDocumentsForBusiness(n),Of.getActivityForBusiness(n),Of.getNDAsForBusiness(n)]);r(ie),a(q),c(ce);const{data:te}=await Le.from("businesses").select("name").eq("id",n).single();te&&m(te.name)}catch(ie){console.error("Error loading deal room:",ie),Rt.error("Failed to load deal room")}finally{p(!1)}}},D=ie=>{var ce;const q=(ce=ie.target.files)==null?void 0:ce[0];q&&(V(q),P.name||S({...P,name:q.name.replace(/\.[^/.]+$/,"")}))},K=async()=>{if(!z||!P.name||!n||!t){Rt.error("Please select a file and enter a name");return}C(!0);try{const ie=`${n}/${Date.now()}_${z.name}`,{error:q}=await Le.storage.from("deal-room-documents").upload(ie,z);if(q)throw q;const{data:ce}=Le.storage.from("deal-room-documents").getPublicUrl(ie);await Of.uploadDocument(n,t.id,{name:P.name,file_url:ce.publicUrl,category:P.category,size_bytes:z.size,access_level:P.access_level}),await Of.logActivity(n,t.id,"uploaded document",void 0,{document_name:P.name}),Rt.success("Document uploaded"),j(!1),V(null),S({name:"",category:"overview",access_level:"nda_signed"}),B()}catch(ie){console.error("Upload error:",ie),Rt.error("Failed to upload document")}finally{C(!1)}},H=async ie=>{if(confirm(`Delete "${ie.name}"? This cannot be undone.`))try{await Of.deleteDocument(ie.id),Rt.success("Document deleted"),B()}catch{Rt.error("Failed to delete document")}},$=ie=>ie?ie<1024?ie+" B":ie<1024*1024?(ie/1024).toFixed(1)+" KB":(ie/(1024*1024)).toFixed(1)+" MB":"N/A",W=s.filter(ie=>y==="all"||ie.category===y);[...new Set(s.map(ie=>ie.category))];const Q=l.filter(ie=>ie.status==="signed").length,Z=l.filter(ie=>ie.status==="sent"||ie.status==="viewed").length;return g?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(Ht,{className:"h-8 w-8 animate-spin text-primary"})}):e.jsxs("div",{className:"container max-w-6xl mx-auto py-8 px-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsxs(St,{to:"/my-listings",className:"flex items-center gap-1 text-sm text-muted-foreground hover:text-foreground mb-2",children:[e.jsx(ca,{className:"h-4 w-4"}),"Back to listings"]}),e.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx(Il,{className:"h-6 w-6 text-primary"}),"Deal Room"]}),e.jsxs("p",{className:"text-muted-foreground",children:[u&&e.jsx("span",{className:"font-medium",children:u}),u&&"  ","Secure document sharing with verified buyers"]})]}),e.jsxs(ee,{onClick:()=>j(!0),children:[e.jsx(ml,{className:"h-4 w-4 mr-2"}),"Upload Document"]})]}),e.jsx(de,{className:"mb-6 bg-yellow-50 border-yellow-200",children:e.jsx(fe,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(vi,{className:"h-5 w-5 text-yellow-600"}),e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx("strong",{children:"Confidential:"})," Only buyers who have signed an NDA can access restricted documents. All activity is logged and monitored."]})]})})}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsx("div",{className:"lg:col-span-2 space-y-6",children:e.jsxs(de,{children:[e.jsxs(Me,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Fe,{children:"Documents"}),e.jsxs(Be,{variant:"secondary",children:[s.length," files"]})]}),e.jsxs("div",{className:"flex gap-2 flex-wrap mt-2",children:[e.jsx(ee,{size:"sm",variant:y==="all"?"default":"outline",onClick:()=>x("all"),children:"All"}),["financial","legal","operational","overview"].map(ie=>e.jsx(ee,{size:"sm",variant:y===ie?"default":"outline",onClick:()=>x(ie),className:"capitalize",children:ie},ie))]})]}),e.jsx(fe,{children:W.length===0?e.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[e.jsx(_s,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No documents yet"}),e.jsx(ee,{variant:"link",onClick:()=>j(!0),children:"Upload your first document"})]}):e.jsx("div",{className:"space-y-3",children:W.map(ie=>{const q=bee[ie.category]||_s;return e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`p-2 rounded-lg ${jee[ie.category]||"bg-gray-100"}`,children:e.jsx(q,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:ie.name}),e.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground",children:[e.jsx("span",{children:$(ie.size_bytes||0)}),e.jsx("span",{children:""}),e.jsx("span",{children:Ba(new Date(ie.uploaded_at),{addSuffix:!0})})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[ie.access_level==="nda_signed"&&e.jsxs(Be,{variant:"outline",className:"text-xs",children:[e.jsx(Il,{className:"h-3 w-3 mr-1"}),"NDA Required"]}),e.jsx(ee,{size:"sm",variant:"ghost",asChild:!0,children:e.jsx("a",{href:ie.file_url,target:"_blank",rel:"noopener noreferrer",children:e.jsx(dn,{className:"h-4 w-4"})})}),e.jsx(ee,{size:"sm",variant:"ghost",asChild:!0,children:e.jsx("a",{href:ie.file_url,download:!0,children:e.jsx(oi,{className:"h-4 w-4"})})}),e.jsx(ee,{size:"sm",variant:"ghost",className:"text-red-600",onClick:()=>H(ie),children:e.jsx(Vo,{className:"h-4 w-4"})})]})]},ie.id)})})})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(de,{children:[e.jsx(Me,{children:e.jsx(Fe,{className:"text-lg",children:"Room Stats"})}),e.jsxs(fe,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Documents"}),e.jsx("span",{className:"font-semibold",children:s.length})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Total Size"}),e.jsx("span",{className:"font-semibold",children:$(s.reduce((ie,q)=>ie+(q.size_bytes||0),0))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"NDA Signed Buyers"}),e.jsx("span",{className:"font-semibold text-green-600",children:Q})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Pending NDA"}),e.jsx("span",{className:"font-semibold text-yellow-600",children:Z})]})]})]}),e.jsxs(de,{children:[e.jsx(Me,{children:e.jsxs(Fe,{className:"text-lg flex items-center gap-2",children:[e.jsx(Hn,{className:"h-4 w-4"}),"Recent Activity"]})}),e.jsx(fe,{children:i.length===0?e.jsx("p",{className:"text-sm text-muted-foreground",children:"No activity yet"}):e.jsx("div",{className:"space-y-4",children:i.slice(0,5).map(ie=>{var q;return e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-primary mt-2"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:((q=ie.user)==null?void 0:q.display_name)||"User"})," ",ie.action,ie.document&&e.jsxs("span",{className:"text-muted-foreground",children:[' "',ie.document.name,'"']})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:Ba(new Date(ie.created_at),{addSuffix:!0})})]})]},ie.id)})})})]}),e.jsxs(de,{children:[e.jsx(Me,{children:e.jsx(Fe,{className:"text-lg",children:"Quick Actions"})}),e.jsxs(fe,{className:"space-y-2",children:[e.jsx(ee,{variant:"outline",className:"w-full justify-start",asChild:!0,children:e.jsxs(St,{to:"/nda-management",children:[e.jsx(gn,{className:"h-4 w-4 mr-2"}),"Manage NDAs"]})}),e.jsx(ee,{variant:"outline",className:"w-full justify-start",asChild:!0,children:e.jsxs(St,{to:"/buyer-inquiries",children:[e.jsx(ua,{className:"h-4 w-4 mr-2"}),"View Inquiries"]})})]})]})]})]}),e.jsx(ha,{open:_,onOpenChange:j,children:e.jsxs($i,{children:[e.jsx(Vi,{children:e.jsx(Hi,{children:"Upload Document"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ve,{children:"File"}),e.jsx(Ue,{type:"file",ref:O,onChange:D,accept:".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx"}),z&&e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[z.name," (",$(z.size),")"]})]}),e.jsxs("div",{children:[e.jsx(ve,{children:"Document Name"}),e.jsx(Ue,{value:P.name,onChange:ie=>S({...P,name:ie.target.value}),placeholder:"e.g., Financial Statements 2023"})]}),e.jsxs("div",{children:[e.jsx(ve,{children:"Category"}),e.jsxs(Jt,{value:P.category,onValueChange:ie=>S({...P,category:ie}),children:[e.jsx(Wt,{children:e.jsx(Xt,{})}),e.jsxs(Yt,{children:[e.jsx(Ee,{value:"overview",children:"Overview"}),e.jsx(Ee,{value:"financial",children:"Financial"}),e.jsx(Ee,{value:"legal",children:"Legal"}),e.jsx(Ee,{value:"operational",children:"Operational"})]})]})]}),e.jsxs("div",{children:[e.jsx(ve,{children:"Access Level"}),e.jsxs(Jt,{value:P.access_level,onValueChange:ie=>S({...P,access_level:ie}),children:[e.jsx(Wt,{children:e.jsx(Xt,{})}),e.jsxs(Yt,{children:[e.jsx(Ee,{value:"all",children:"Public (All buyers)"}),e.jsx(Ee,{value:"nda_signed",children:"NDA Required"})]})]})]})]}),e.jsxs(Uu,{children:[e.jsx(ee,{variant:"outline",onClick:()=>j(!1),children:"Cancel"}),e.jsxs(ee,{onClick:K,disabled:A||!z,children:[A&&e.jsx(Ht,{className:"h-4 w-4 mr-2 animate-spin"}),"Upload"]})]})]})})]})}function Nee(){const{user:n}=Bs(),[t,s]=w.useState([]),[r,i]=w.useState({totalViews:0,totalSaves:0,totalInquiries:0,topListing:"N/A"}),[a,l]=w.useState(!0),[c,u]=w.useState("30d");w.useEffect(()=>{n&&m()},[n,c]);const m=async()=>{var g;if(n){l(!0);try{const{data:p,error:y}=await Le.from("businesses").select("id, name, slug, views_count, saves_count, inquiries_count").eq("owner_id",n.id);if(y)throw y;const x=(p||[]).map(P=>({id:P.id,name:P.name,slug:P.slug,views:P.views_count||0,saves:P.saves_count||0,inquiries:P.inquiries_count||0,viewsTrend:Math.floor(Math.random()*30)-10})),_=x.reduce((P,S)=>P+S.views,0),j=x.reduce((P,S)=>P+S.saves,0),A=x.reduce((P,S)=>P+S.inquiries,0),C=((g=x.sort((P,S)=>S.views-P.views)[0])==null?void 0:g.name)||"N/A";s(x),i({totalViews:_,totalSaves:j,totalInquiries:A,topListing:C})}catch(p){console.error("Error loading analytics:",p)}finally{l(!1)}}};return a?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(Ht,{className:"h-8 w-8 animate-spin text-primary"})}):e.jsxs("div",{className:"container max-w-6xl mx-auto py-8 px-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx(Gd,{className:"h-6 w-6 text-primary"}),"Seller Analytics"]}),e.jsx("p",{className:"text-muted-foreground",children:"Track your listings performance"})]}),e.jsxs(Jt,{value:c,onValueChange:u,children:[e.jsx(Wt,{className:"w-40",children:e.jsx(Xt,{})}),e.jsxs(Yt,{children:[e.jsx(Ee,{value:"7d",children:"Last 7 days"}),e.jsx(Ee,{value:"30d",children:"Last 30 days"}),e.jsx(Ee,{value:"90d",children:"Last 90 days"}),e.jsx(Ee,{value:"all",children:"All time"})]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-4 mb-8",children:[e.jsx(de,{children:e.jsxs(fe,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Views"}),e.jsx("p",{className:"text-3xl font-bold",children:r.totalViews.toLocaleString()})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx(dn,{className:"h-6 w-6 text-blue-600"})})]}),e.jsxs("div",{className:"flex items-center gap-1 mt-2 text-sm text-green-600",children:[e.jsx(Os,{className:"h-4 w-4"}),e.jsx("span",{children:"+12% vs last period"})]})]})}),e.jsx(de,{children:e.jsxs(fe,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Saves"}),e.jsx("p",{className:"text-3xl font-bold",children:r.totalSaves})]}),e.jsx("div",{className:"p-3 bg-pink-100 rounded-lg",children:e.jsx(Iu,{className:"h-6 w-6 text-pink-600"})})]}),e.jsxs("div",{className:"flex items-center gap-1 mt-2 text-sm text-green-600",children:[e.jsx(Os,{className:"h-4 w-4"}),e.jsx("span",{children:"+8% vs last period"})]})]})}),e.jsx(de,{children:e.jsxs(fe,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Inquiries"}),e.jsx("p",{className:"text-3xl font-bold",children:r.totalInquiries})]}),e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(ua,{className:"h-6 w-6 text-green-600"})})]}),e.jsxs("div",{className:"flex items-center gap-1 mt-2 text-sm text-green-600",children:[e.jsx(Os,{className:"h-4 w-4"}),e.jsx("span",{children:"+25% vs last period"})]})]})}),e.jsx(de,{children:e.jsxs(fe,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Conversion Rate"}),e.jsxs("p",{className:"text-3xl font-bold",children:[(r.totalInquiries/r.totalViews*100).toFixed(1),"%"]})]}),e.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:e.jsx(Os,{className:"h-6 w-6 text-purple-600"})})]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Views to inquiries"})]})})]}),e.jsxs(Ui,{defaultValue:"listings",children:[e.jsxs(yi,{className:"mb-6",children:[e.jsx(zt,{value:"listings",children:"By Listing"}),e.jsx(zt,{value:"trends",children:"Trends"}),e.jsx(zt,{value:"audience",children:"Audience"})]}),e.jsx(Es,{value:"listings",children:e.jsxs(de,{children:[e.jsxs(Me,{children:[e.jsx(Fe,{children:"Listing Performance"}),e.jsx(ms,{children:"See how each of your listings is performing"})]}),e.jsx(fe,{children:e.jsx("div",{className:"space-y-4",children:t.map((g,p)=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center text-primary font-bold",children:["#",p+1]}),e.jsxs("div",{children:[e.jsxs(St,{to:`/business/${g.slug||g.id}`,className:"font-medium hover:underline flex items-center gap-1",children:[g.name,e.jsx(t1,{className:"h-4 w-4"})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mt-1",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(dn,{className:"h-4 w-4"}),g.views.toLocaleString()," views"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Iu,{className:"h-4 w-4"}),g.saves," saves"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ua,{className:"h-4 w-4"}),g.inquiries," inquiries"]})]})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(Be,{variant:g.viewsTrend>=0?"default":"secondary",className:g.viewsTrend>=0?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:[g.viewsTrend>=0?e.jsx(Os,{className:"h-3 w-3 mr-1"}):e.jsx(yB,{className:"h-3 w-3 mr-1"}),g.viewsTrend>=0?"+":"",g.viewsTrend,"%"]})})]},g.id))})})]})}),e.jsx(Es,{value:"trends",children:e.jsxs(de,{children:[e.jsxs(Me,{children:[e.jsx(Fe,{children:"Performance Trends"}),e.jsx(ms,{children:"View activity over time"})]}),e.jsx(fe,{children:e.jsx("div",{className:"h-64 flex items-center justify-center bg-muted/20 rounded-lg",children:e.jsxs("div",{className:"text-center text-muted-foreground",children:[e.jsx(Gd,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"Chart visualization coming soon"}),e.jsx("p",{className:"text-sm",children:"Connect to analytics service for detailed trends"})]})})})]})}),e.jsx(Es,{value:"audience",children:e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(de,{children:[e.jsx(Me,{children:e.jsx(Fe,{children:"Viewer Demographics"})}),e.jsx(fe,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{children:"Individual Buyers"}),e.jsx("span",{children:"68%"})]}),e.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-500 rounded-full",style:{width:"68%"}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{children:"Investment Firms"}),e.jsx("span",{children:"22%"})]}),e.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-green-500 rounded-full",style:{width:"22%"}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{children:"Strategic Buyers"}),e.jsx("span",{children:"10%"})]}),e.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-purple-500 rounded-full",style:{width:"10%"}})})]})]})})]}),e.jsxs(de,{children:[e.jsx(Me,{children:e.jsx(Fe,{children:"Top Locations"})}),e.jsx(fe,{children:e.jsx("div",{className:"space-y-3",children:[{city:"Mumbai",views:845},{city:"Delhi NCR",views:632},{city:"Bangalore",views:521},{city:"Chennai",views:298},{city:"Hyderabad",views:245}].map((g,p)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-muted-foreground",children:[p+1,"."]}),g.city]}),e.jsx("span",{className:"font-medium",children:g.views})]},g.city))})})]})]})})]})]})}const _ee=new Hu("AIzaSyDA1C1RXqj1ZGGJMrBnPtCRG3KZrADJxkU");class G1{static async optimizeDescription(t){var r;const s=`As a professional business listing copywriter, create a compelling, SEO-optimized business description that attracts serious buyers.

BUSINESS INFORMATION:
- Name: ${t.name}
- Industry: ${t.industry}
- Current Description: ${t.description||"Not provided"}
- Revenue: ${t.revenue?`${t.revenue.toLocaleString()}`:"Not disclosed"}
- Employees: ${t.employees||"Not specified"}
- Established: ${t.established_year||"Not specified"}
- Location: ${t.location||"Not specified"}
- Key Highlights: ${((r=t.highlights)==null?void 0:r.join(", "))||"None provided"}
- Unique Selling Points: ${t.unique_selling_points||"None provided"}

Create a compelling business description that:
1. Opens with an attention-grabbing first sentence
2. Highlights the business's unique value proposition
3. Includes specific metrics and achievements (growth, revenue, customer base)
4. Describes the target market and customer demographics
5. Mentions key assets (equipment, location, inventory, intellectual property)
6. Explains growth opportunities
7. Addresses why the owner is selling (if appropriate)
8. Uses powerful, benefit-focused language
9. Is 200-300 words
10. Includes relevant keywords for SEO

Write ONLY the optimized description without any introduction or labels:`;try{return(await(await this.model.generateContent(s)).response).text().trim()}catch(i){throw console.error("Description optimization error:",i),new Error("Failed to optimize description")}}static async generateTagline(t){var r;const s=`Generate 5 catchy, memorable taglines for this business listing:

Business: ${t.name}
Industry: ${t.industry}
Description: ${((r=t.description)==null?void 0:r.substring(0,200))||"N/A"}
USP: ${t.unique_selling_points||"N/A"}

Requirements:
- 5-10 words each
- Memorable and attention-grabbing
- Highlight key benefits or uniqueness
- Professional yet engaging
- Action-oriented when appropriate

Provide ONLY the 5 taglines, one per line, without numbering:`;try{return(await(await this.model.generateContent(s)).response).text().trim().split(`
`).filter(c=>c.trim().length>0).map(c=>c.replace(/^\d+\.\s*/,"").replace(/^-\s*/,"").trim())}catch(i){throw console.error("Tagline generation error:",i),new Error("Failed to generate taglines")}}static async getOptimizationSuggestions(t){var r,i,a;const s=`As a business listing optimization expert, analyze this business listing and provide specific improvement suggestions:

CURRENT LISTING:
- Name: ${t.name}
- Industry: ${t.industry}
- Description: ${((r=t.description)==null?void 0:r.substring(0,300))||"Not provided"}
- Asking Price: ${t.price?`${t.price.toLocaleString()}`:"Not specified"}
- Annual Revenue: ${t.revenue?`${t.revenue.toLocaleString()}`:"Not disclosed"}
- Annual Profit: ${t.profit?`${t.profit.toLocaleString()}`:"Not disclosed"}
- Employees: ${t.employees||"Not specified"}
- Established: ${t.established_year||"Not specified"}
- Location: ${t.location||"Not specified"}
- Images: ${((i=t.images)==null?void 0:i.length)||0} photos
- Highlights: ${((a=t.highlights)==null?void 0:a.join(", "))||"None"}

Provide analysis in this EXACT JSON format (no markdown, no code blocks):
{
  "optimizedTitle": "<improved business name/title>",
  "suggestedTagline": "<catchy 5-8 word tagline>",
  "highlightedStrengths": ["strength 1", "strength 2", "strength 3"],
  "suggestedImprovements": ["improvement 1", "improvement 2", "improvement 3"],
  "keywordSuggestions": ["keyword1", "keyword2", "keyword3", "keyword4", "keyword5"],
  "pricingRecommendation": {
    "suggestedPrice": <number or null>,
    "reasoning": "<one sentence explanation>"
  }
}`;try{const m=(await(await this.model.generateContent(s)).response).text().replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();return JSON.parse(m)}catch(l){return console.error("Optimization suggestions error:",l),{suggestedImprovements:["Add high-quality photos of your business location and operations","Include specific financial metrics (revenue, profit margin, growth rate)","Highlight unique selling points and competitive advantages"],keywordSuggestions:[t.industry,t.location||"business"]}}}static async generateKeywords(t){var r;const s=`Generate 10-15 SEO-optimized keywords for this business listing:

Business: ${t.name}
Industry: ${t.industry}
Description: ${((r=t.description)==null?void 0:r.substring(0,200))||"N/A"}
Location: ${t.location||"India"}

Include:
- Industry-specific terms
- Location-based keywords
- Business model keywords
- Buyer intent keywords

Provide ONLY the keywords, comma-separated:`;try{return(await(await this.model.generateContent(s)).response).text().trim().split(",").map(c=>c.trim()).filter(c=>c.length>0)}catch(i){return console.error("Keyword generation error:",i),[t.industry,t.location||"business","for sale"]}}static async optimizeHighlights(t,s){const r=`Improve these business listing highlights to be more compelling and specific:

Current Highlights:
${t.map((i,a)=>`${a+1}. ${i}`).join(`
`)}

Business Context:
- Industry: ${s.industry}
- Revenue: ${s.revenue?`${s.revenue.toLocaleString()}`:"N/A"}
- Employees: ${s.employees||"N/A"}
- Years in Business: ${s.established_year?new Date().getFullYear()-s.established_year:"N/A"}

Create 5-7 improved highlights that:
- Start with action words or numbers
- Are specific and measurable
- Highlight unique advantages
- Are buyer-focused (benefits, not just features)

Provide ONLY the highlights, one per line:`;try{return(await(await this.model.generateContent(r)).response).text().trim().split(`
`).filter(c=>c.trim().length>0).map(c=>c.replace(/^\d+\.\s*/,"").replace(/^-\s*/,"").replace(/^\s*/,"").trim())}catch(i){return console.error("Highlights optimization error:",i),t}}static async suggestPricing(t){const s=`As a business valuation expert, suggest an appropriate asking price for this business:

BUSINESS DATA:
- Industry: ${t.industry}
- Annual Revenue: ${t.revenue?`${t.revenue.toLocaleString()}`:"Not provided"}
- Annual Profit: ${t.profit?`${t.profit.toLocaleString()}`:"Not provided"}
- Assets: ${t.assets?`${t.assets.toLocaleString()}`:"Not provided"}
- Years in Business: ${t.established_year?new Date().getFullYear()-t.established_year:"Unknown"}
- Location: ${t.location||"India"}
- Employees: ${t.employees||"Not specified"}

Provide pricing recommendation in this EXACT JSON format:
{
  "suggestedPrice": <number>,
  "priceRange": {"min": <number>, "max": <number>},
  "reasoning": "<one paragraph explanation>",
  "marketComparison": "<how this compares to market multiples>"
}`;try{const a=(await(await this.model.generateContent(s)).response).text().replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();return JSON.parse(a)}catch(r){console.error("Pricing suggestion error:",r);const i=t.revenue||0,l=(t.profit||i*.15)*3;return{suggestedPrice:Math.round(l),priceRange:{min:Math.round(l*.8),max:Math.round(l*1.2)},reasoning:"Based on industry-standard profit multiples",marketComparison:"Typical range for similar businesses"}}}}Uc(G1,"model",_ee.getGenerativeModel({model:"gemini-pro"}));const See={title:_s,description:_s,images:vw,pricing:Os,seo:rA},Cee={high:"bg-red-100 text-red-800",medium:"bg-yellow-100 text-yellow-800",low:"bg-blue-100 text-blue-800"};function Aee(){const{businessId:n}=Jd(),[t,s]=w.useState([]),[r,i]=w.useState(!0),[a,l]=w.useState(0),[c,u]=w.useState(!1),[m,g]=w.useState(""),[p,y]=w.useState(null);w.useEffect(()=>{n&&x()},[n]);const x=async()=>{i(!0);try{const{data:O,error:z}=await Le.from("businesses").select("*").eq("id",n).single();if(z)throw z;y(O),await _(O)}catch(O){console.error("Error loading business:",O),Rt.error("Failed to load business data")}finally{i(!1)}},_=async O=>{try{const z=await G1.getOptimizationSuggestions({name:O.name,industry:O.industry||O.category,description:O.description,price:O.asking_price,revenue:O.revenue,profit:O.profit,employees:O.employees,established_year:O.established_year,location:O.city||O.location,images:O.images||[],highlights:O.highlights||[]}),V=[];z.suggestedImprovements&&z.suggestedImprovements.forEach((B,D)=>{V.push({id:`imp-${D}`,category:D<2?"description":"seo",priority:D===0?"high":"medium",issue:"Improvement opportunity",suggestion:B,impact:"+15-25% engagement"})}),s(V.slice(0,5)),l(Math.min(100,50+(V.length>0?20:40)))}catch(z){console.error("Error generating suggestions:",z),l(65)}},j=async()=>{p&&(i(!0),await _(p),i(!1),Rt.success("Analysis updated"))},A=async()=>{var O;if(p){u(!0);try{const z=await G1.generateTagline({name:p.name,industry:p.industry||p.category,description:p.description,unique_selling_points:(O=p.highlights)==null?void 0:O.join(", ")});g(z[0]||"No title generated")}catch{Rt.error("Failed to generate title")}finally{u(!1)}}},C=O=>{navigator.clipboard.writeText(O),Rt.success("Copied to clipboard")},P=0,S=t.length;return r?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(Ht,{className:"h-8 w-8 animate-spin text-primary"})}):e.jsxs("div",{className:"container max-w-5xl mx-auto py-8 px-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx(ay,{className:"h-6 w-6 text-primary"}),"Listing Optimizer"]}),e.jsx("p",{className:"text-muted-foreground",children:"AI-powered suggestions to improve your listing"})]}),e.jsxs(ee,{onClick:j,disabled:r,children:[r?e.jsx(Ht,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(Dh,{className:"h-4 w-4 mr-2"}),"Refresh Analysis"]})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(de,{className:"bg-gradient-to-r from-primary/5 to-purple-500/5",children:[e.jsxs(Me,{children:[e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(sp,{className:"h-5 w-5 text-primary"}),"AI Title Generator"]}),e.jsx(ms,{children:"Generate optimized titles based on your listing data"})]}),e.jsxs(fe,{children:[e.jsxs(ee,{onClick:A,disabled:c,className:"mb-4",children:[c?e.jsx(Ht,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(ay,{className:"h-4 w-4 mr-2"}),"Generate Title"]}),m&&e.jsx("div",{className:"p-4 bg-background border rounded-lg",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsx("p",{className:"font-medium",children:m}),e.jsx(ee,{size:"sm",variant:"ghost",onClick:()=>C(m),children:e.jsx(pw,{className:"h-4 w-4"})})]})})]})]}),e.jsxs(de,{children:[e.jsxs(Me,{children:[e.jsx(Fe,{children:"Optimization Suggestions"}),e.jsxs(ms,{children:[P," of ",S," completed"]})]}),e.jsx(fe,{children:e.jsx("div",{className:"space-y-4",children:t.map(O=>{const z=See[O.category]||_s;return e.jsx("div",{className:"p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-2 bg-muted rounded-lg",children:e.jsx(z,{className:"h-5 w-5 text-muted-foreground"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Be,{className:Cee[O.priority],children:O.priority}),e.jsx("span",{className:"text-sm font-medium capitalize",children:O.category})]}),e.jsx("p",{className:"font-medium text-sm mb-1",children:O.issue}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:O.suggestion}),e.jsxs(Be,{variant:"outline",className:"text-green-600",children:[e.jsx(Os,{className:"h-3 w-3 mr-1"}),O.impact]})]}),e.jsxs(ee,{size:"sm",variant:"outline",children:[e.jsx(Lt,{className:"h-4 w-4 mr-1"}),"Apply"]})]})},O.id)})})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(de,{children:[e.jsx(Me,{children:e.jsx(Fe,{className:"text-lg",children:"Optimization Score"})}),e.jsxs(fe,{children:[e.jsx("div",{className:"text-center mb-4",children:e.jsxs("div",{className:"relative inline-flex items-center justify-center",children:[e.jsxs("svg",{className:"w-32 h-32 transform -rotate-90",children:[e.jsx("circle",{cx:"64",cy:"64",r:"56",stroke:"currentColor",strokeWidth:"12",fill:"none",className:"text-muted"}),e.jsx("circle",{cx:"64",cy:"64",r:"56",stroke:"currentColor",strokeWidth:"12",fill:"none",strokeDasharray:`${a/100*352} 352`,className:a>=80?"text-green-500":a>=60?"text-yellow-500":"text-red-500"})]}),e.jsxs("span",{className:"absolute text-3xl font-bold",children:[a,"%"]})]})}),e.jsx("p",{className:"text-center text-sm text-muted-foreground",children:a>=80?"Great! Your listing is well optimized":a>=60?"Good, but there's room for improvement":"Needs attention to attract more buyers"})]})]}),e.jsxs(de,{children:[e.jsx(Me,{children:e.jsx(Fe,{className:"text-lg",children:"Category Breakdown"})}),e.jsx(fe,{className:"space-y-4",children:[{name:"Title",score:75},{name:"Description",score:60},{name:"Images",score:50},{name:"Pricing",score:80},{name:"SEO",score:65}].map(O=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{children:O.name}),e.jsxs("span",{className:"font-medium",children:[O.score,"%"]})]}),e.jsx(On,{value:O.score,className:"h-2"})]},O.name))})]}),e.jsx(de,{className:"bg-blue-50 border-blue-200",children:e.jsx(fe,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(sp,{className:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Pro Tip"}),e.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Listings with 80%+ optimization score get 3x more inquiries on average. Focus on high-priority suggestions first."})]})]})})})]})]})]})}const kee={active:"bg-green-100 text-green-800",inactive:"bg-gray-100 text-gray-600",prospect:"bg-blue-100 text-blue-800"},Eee={buyer:"bg-purple-100 text-purple-800",seller:"bg-orange-100 text-orange-800",both:"bg-pink-100 text-pink-800"};function Tee(){const{user:n}=Bs(),[t,s]=w.useState([]),[r,i]=w.useState(!0),[a,l]=w.useState(""),[c,u]=w.useState("all"),[m,g]=w.useState("all"),[p,y]=w.useState(!1),[x,_]=w.useState({name:"",email:"",phone:"",company:"",type:"buyer",notes:""});w.useEffect(()=>{n&&j()},[n]);const j=async()=>{if(n){i(!0);try{const{data:O,error:z}=await Le.from("advisor_clients").select("*").eq("advisor_id",n.id).order("last_contact",{ascending:!1});if(z)throw z;s(O||[])}catch(O){console.error("Error loading clients:",O),s([])}finally{i(!1)}}},A=O=>O>=1e7?`${(O/1e7).toFixed(1)} Cr`:O>=1e5?`${(O/1e5).toFixed(0)} L`:`${O.toLocaleString()}`,C=async()=>{if(!n||!x.name||!x.email){Rt.error("Please fill in required fields");return}try{const{error:O}=await Le.from("advisor_clients").insert({advisor_id:n.id,name:x.name,email:x.email,phone:x.phone||null,company:x.company||null,type:x.type,notes:x.notes||null,status:"prospect",interests:[],last_contact:new Date().toISOString()});if(O)throw O;Rt.success("Client added successfully"),y(!1),_({name:"",email:"",phone:"",company:"",type:"buyer",notes:""}),j()}catch{Rt.error("Failed to add client")}},P=t.filter(O=>{var D;const z=O.name.toLowerCase().includes(a.toLowerCase())||O.email.toLowerCase().includes(a.toLowerCase())||((D=O.company)==null?void 0:D.toLowerCase().includes(a.toLowerCase())),V=c==="all"||O.type===c,B=m==="all"||O.status===m;return z&&V&&B}),S={total:t.length,active:t.filter(O=>O.status==="active").length,buyers:t.filter(O=>O.type==="buyer"||O.type==="both").length,sellers:t.filter(O=>O.type==="seller"||O.type==="both").length};return r?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(Ht,{className:"h-8 w-8 animate-spin text-primary"})}):e.jsxs("div",{className:"container max-w-6xl mx-auto py-8 px-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx(gn,{className:"h-6 w-6 text-primary"}),"Client Management"]}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your buyer and seller relationships"})]}),e.jsxs(ha,{open:p,onOpenChange:y,children:[e.jsx(zh,{asChild:!0,children:e.jsxs(ee,{children:[e.jsx(la,{className:"h-4 w-4 mr-2"}),"Add Client"]})}),e.jsxs($i,{children:[e.jsx(Vi,{children:e.jsx(Hi,{children:"Add New Client"})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Full Name *"}),e.jsx(Ue,{value:x.name,onChange:O=>_(z=>({...z,name:O.target.value})),placeholder:"John Doe"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Email *"}),e.jsx(Ue,{type:"email",value:x.email,onChange:O=>_(z=>({...z,email:O.target.value})),placeholder:"john@example.com"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Phone"}),e.jsx(Ue,{value:x.phone,onChange:O=>_(z=>({...z,phone:O.target.value})),placeholder:"+91 98765 43210"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Company"}),e.jsx(Ue,{value:x.company,onChange:O=>_(z=>({...z,company:O.target.value})),placeholder:"Company Name"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Client Type"}),e.jsxs(Jt,{value:x.type,onValueChange:O=>_(z=>({...z,type:O})),children:[e.jsx(Wt,{children:e.jsx(Xt,{})}),e.jsxs(Yt,{children:[e.jsx(Ee,{value:"buyer",children:"Buyer"}),e.jsx(Ee,{value:"seller",children:"Seller"}),e.jsx(Ee,{value:"both",children:"Both"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Notes"}),e.jsx(_n,{value:x.notes,onChange:O=>_(z=>({...z,notes:O.target.value})),placeholder:"Initial notes about the client...",rows:3})]}),e.jsx(ee,{onClick:C,className:"w-full",children:"Add Client"})]})]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-4 mb-8",children:[e.jsx(de,{children:e.jsxs(fe,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold",children:S.total}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Clients"})]})}),e.jsx(de,{children:e.jsxs(fe,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:S.active}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Active"})]})}),e.jsx(de,{children:e.jsxs(fe,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:S.buyers}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Buyers"})]})}),e.jsx(de,{children:e.jsxs(fe,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:S.sellers}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Sellers"})]})})]}),e.jsx(de,{className:"mb-6",children:e.jsx(fe,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(xi,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(Ue,{placeholder:"Search clients...",value:a,onChange:O=>l(O.target.value),className:"pl-10"})]}),e.jsxs(Jt,{value:c,onValueChange:u,children:[e.jsx(Wt,{className:"w-40",children:e.jsx(Xt,{placeholder:"Type"})}),e.jsxs(Yt,{children:[e.jsx(Ee,{value:"all",children:"All Types"}),e.jsx(Ee,{value:"buyer",children:"Buyers"}),e.jsx(Ee,{value:"seller",children:"Sellers"}),e.jsx(Ee,{value:"both",children:"Both"})]})]}),e.jsxs(Jt,{value:m,onValueChange:g,children:[e.jsx(Wt,{className:"w-40",children:e.jsx(Xt,{placeholder:"Status"})}),e.jsxs(Yt,{children:[e.jsx(Ee,{value:"all",children:"All Status"}),e.jsx(Ee,{value:"active",children:"Active"}),e.jsx(Ee,{value:"prospect",children:"Prospect"}),e.jsx(Ee,{value:"inactive",children:"Inactive"})]})]})]})})}),e.jsx("div",{className:"space-y-4",children:P.length===0?e.jsx(de,{children:e.jsxs(fe,{className:"py-12 text-center",children:[e.jsx(gn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-50"}),e.jsx("h3",{className:"font-medium text-lg mb-2",children:"No Clients Found"}),e.jsx("p",{className:"text-muted-foreground",children:"Add your first client to get started"})]})}):P.map(O=>e.jsx(de,{className:"hover:shadow-md transition-shadow",children:e.jsx(fe,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(ai,{className:"h-12 w-12",children:e.jsx(gi,{className:"bg-primary/10 text-primary font-semibold",children:O.name.split(" ").map(z=>z[0]).join("")})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4 mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:O.name}),O.company&&e.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[e.jsx(Zs,{className:"h-4 w-4"}),O.company]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Be,{className:Eee[O.type],children:O.type}),e.jsx(Be,{className:kee[O.status],children:O.status})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground mb-3",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Or,{className:"h-4 w-4"}),O.email]}),O.phone&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Mr,{className:"h-4 w-4"}),O.phone]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(za,{className:"h-4 w-4"}),"Last contact: ",Ba(new Date(O.last_contact),{addSuffix:!0})]})]}),O.budget_min&&O.budget_max&&e.jsxs("p",{className:"text-sm mb-2",children:[e.jsx("span",{className:"font-medium",children:"Budget:"})," ",A(O.budget_min)," - ",A(O.budget_max)]}),O.interests.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:O.interests.map((z,V)=>e.jsxs(Be,{variant:"outline",className:"text-xs",children:[e.jsx(rA,{className:"h-3 w-3 mr-1"}),z]},V))}),O.notes&&e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:O.notes})]}),e.jsxs(yc,{children:[e.jsx(bc,{asChild:!0,children:e.jsx(ee,{size:"sm",variant:"ghost",children:e.jsx(zm,{className:"h-4 w-4"})})}),e.jsxs(ql,{align:"end",children:[e.jsxs(Rn,{children:[e.jsx(ua,{className:"h-4 w-4 mr-2"}),"Send Message"]}),e.jsxs(Rn,{children:[e.jsx(_s,{className:"h-4 w-4 mr-2"}),"View History"]}),e.jsxs(Rn,{children:[e.jsx(Zs,{className:"h-4 w-4 mr-2"}),"Match Listings"]})]})]})]})})},O.id))})]})}const Mj={lead:{label:"Lead",color:"text-gray-700",bgColor:"bg-gray-100"},qualified:{label:"Qualified",color:"text-blue-700",bgColor:"bg-blue-100"},proposal:{label:"Proposal",color:"text-yellow-700",bgColor:"bg-yellow-100"},negotiation:{label:"Negotiation",color:"text-orange-700",bgColor:"bg-orange-100"},closed_won:{label:"Won",color:"text-green-700",bgColor:"bg-green-100"},closed_lost:{label:"Lost",color:"text-red-700",bgColor:"bg-red-100"}},Iv=["lead","qualified","proposal","negotiation","closed_won"];function Pee(){const{user:n}=Bs(),[t,s]=w.useState([]),[r,i]=w.useState(!0),[a,l]=w.useState("kanban"),[c,u]=w.useState(!1);w.useEffect(()=>{n&&m()},[n]);const m=async()=>{if(n){i(!0);try{const{data:j,error:A}=await Le.from("deals").select("*").eq("advisor_id",n.id).order("last_activity",{ascending:!1});if(A)throw A;s(j||[])}catch(j){console.error("Error loading deals:",j),s([])}finally{i(!1)}}},g=j=>j>=1e7?`${(j/1e7).toFixed(1)} Cr`:j>=1e5?`${(j/1e5).toFixed(0)} L`:`${j.toLocaleString()}`,p=j=>t.filter(A=>A.stage===j),y=j=>j.reduce((A,C)=>A+(C.value||0),0),x=async j=>{const A=t.find(P=>P.id===j);if(!A)return;const C=Iv.indexOf(A.stage);if(C<Iv.length-1){const P=Iv[C+1];try{const{error:S}=await Le.from("deals").update({stage:P,last_activity:new Date().toISOString()}).eq("id",j);if(S)throw S;s(O=>O.map(z=>z.id===j?{...z,stage:P}:z)),Rt.success(`Deal moved to ${Mj[P].label}`)}catch{Rt.error("Failed to update deal")}}},_={totalDeals:t.filter(j=>j.stage!=="closed_lost").length,totalValue:t.filter(j=>j.stage!=="closed_lost"&&j.stage!=="closed_won").reduce((j,A)=>j+(A.value||0),0),weightedValue:t.filter(j=>j.stage!=="closed_lost"&&j.stage!=="closed_won").reduce((j,A)=>j+(A.value||0)*(A.probability||0)/100,0),wonValue:t.filter(j=>j.stage==="closed_won").reduce((j,A)=>j+(A.value||0),0)};return r?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(Ht,{className:"h-8 w-8 animate-spin text-primary"})}):e.jsxs("div",{className:"container max-w-7xl mx-auto py-8 px-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx(uF,{className:"h-6 w-6 text-primary"}),"Deal Pipeline"]}),e.jsx("p",{className:"text-muted-foreground",children:"Track and manage your active deals"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ee,{variant:a==="kanban"?"default":"outline",size:"sm",onClick:()=>l("kanban"),children:"Kanban"}),e.jsx(ee,{variant:a==="list"?"default":"outline",size:"sm",onClick:()=>l("list"),children:"List"}),e.jsxs(ha,{open:c,onOpenChange:u,children:[e.jsx(zh,{asChild:!0,children:e.jsxs(ee,{children:[e.jsx(la,{className:"h-4 w-4 mr-2"}),"New Deal"]})}),e.jsxs($i,{children:[e.jsx(Vi,{children:e.jsx(Hi,{children:"Add New Deal"})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Deal Title"}),e.jsx(Ue,{placeholder:"e.g., Tech Startup Acquisition"})]}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Client"}),e.jsxs(Jt,{children:[e.jsx(Wt,{children:e.jsx(Xt,{placeholder:"Select client"})}),e.jsxs(Yt,{children:[e.jsx(Ee,{value:"1",children:"Rajesh Kumar"}),e.jsx(Ee,{value:"2",children:"Priya Sharma"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Deal Value"}),e.jsx(Ue,{type:"number",placeholder:""})]})]}),e.jsx(ee,{className:"w-full",onClick:()=>{Rt.success("Deal created"),u(!1)},children:"Create Deal"})]})]})]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-4 mb-8",children:[e.jsx(de,{children:e.jsxs(fe,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold",children:_.totalDeals}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Deals"})]})}),e.jsx(de,{children:e.jsxs(fe,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold",children:g(_.totalValue)}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Pipeline Value"})]})}),e.jsx(de,{children:e.jsxs(fe,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-primary",children:g(_.weightedValue)}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Weighted Value"})]})}),e.jsx(de,{children:e.jsxs(fe,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:g(_.wonValue)}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Won (This Month)"})]})})]}),a==="kanban"&&e.jsx("div",{className:"grid gap-4 lg:grid-cols-5 overflow-x-auto",children:Iv.map(j=>{const A=p(j),C=Mj[j];return e.jsxs("div",{className:"min-w-[280px]",children:[e.jsxs("div",{className:nt("p-3 rounded-t-lg",C.bgColor),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:nt("font-medium",C.color),children:C.label}),e.jsx(Be,{variant:"secondary",children:A.length})]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:g(y(A))})]}),e.jsx("div",{className:"bg-muted/30 p-2 rounded-b-lg min-h-[400px] space-y-2",children:A.map(P=>e.jsx(de,{className:"cursor-pointer hover:shadow-md transition-shadow",children:e.jsxs(fe,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h4",{className:"font-medium text-sm line-clamp-1",children:P.title}),e.jsxs(yc,{children:[e.jsx(bc,{asChild:!0,children:e.jsx(ee,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",children:e.jsx(zm,{className:"h-4 w-4"})})}),e.jsx(ql,{align:"end",children:e.jsxs(Rn,{onClick:()=>x(P.id),children:[e.jsx(Ca,{className:"h-4 w-4 mr-2"}),"Move to Next Stage"]})})]})]}),e.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:P.listing_name}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ai,{className:"h-6 w-6",children:e.jsx(gi,{className:"text-xs",children:P.client_name[0]})}),e.jsx("span",{className:"text-xs",children:P.client_name})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"font-semibold text-primary",children:g(P.value)}),e.jsxs("span",{className:"text-muted-foreground",children:[P.probability,"%"]})]}),e.jsx(On,{value:P.probability,className:"h-1 mt-2"})]})},P.id))})]},j)})}),a==="list"&&e.jsx(de,{children:e.jsx(fe,{className:"p-0",children:e.jsx("div",{className:"divide-y",children:t.filter(j=>j.stage!=="closed_lost").map(j=>{const A=Mj[j.stage];return e.jsx("div",{className:"p-4 hover:bg-muted/50 transition-colors",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h4",{className:"font-medium",children:j.title}),e.jsx(Be,{className:nt(A.bgColor,A.color),children:A.label})]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[j.client_name,"  ",j.listing_name]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-semibold",children:g(j.value)}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[j.probability,"% probability"]})]}),e.jsx(ee,{size:"sm",variant:"ghost",onClick:()=>x(j.id),children:e.jsx(Qg,{className:"h-4 w-4"})})]})},j.id)})})})})]})}const Lee={pending:{color:"bg-yellow-100 text-yellow-800",icon:Hn},approved:{color:"bg-blue-100 text-blue-800",icon:Lt},paid:{color:"bg-green-100 text-green-800",icon:zi}};function Ree(){const{user:n}=Bs(),[t,s]=w.useState([]),[r,i]=w.useState(!0),[a,l]=w.useState("all"),[c,u]=w.useState("all");w.useEffect(()=>{n&&m()},[n]);const m=async()=>{if(n){i(!0);try{const{data:x,error:_}=await Le.from("commissions").select("*").eq("advisor_id",n.id).order("closed_date",{ascending:!1});if(_)throw _;s(x||[])}catch(x){console.error("Error loading commissions:",x),s([])}finally{i(!1)}}},g=x=>x>=1e7?`${(x/1e7).toFixed(2)} Cr`:x>=1e5?`${(x/1e5).toFixed(2)} L`:`${x.toLocaleString()}`,p=t.filter(x=>c==="all"||x.status===c),y={totalEarned:t.filter(x=>x.status==="paid").reduce((x,_)=>x+(_.commission_amount||0),0),pending:t.filter(x=>x.status==="pending").reduce((x,_)=>x+(_.commission_amount||0),0),approved:t.filter(x=>x.status==="approved").reduce((x,_)=>x+(_.commission_amount||0),0),avgRate:t.length>0?t.reduce((x,_)=>x+(_.commission_rate||0),0)/t.length:0,totalDeals:t.length,totalDealValue:t.reduce((x,_)=>x+(_.deal_value||0),0)};return r?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(Ht,{className:"h-8 w-8 animate-spin text-primary"})}):e.jsxs("div",{className:"container max-w-6xl mx-auto py-8 px-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx(zi,{className:"h-6 w-6 text-primary"}),"Commission Tracking"]}),e.jsx("p",{className:"text-muted-foreground",children:"Track your earnings from closed deals"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Jt,{value:a,onValueChange:l,children:[e.jsx(Wt,{className:"w-40",children:e.jsx(Xt,{})}),e.jsxs(Yt,{children:[e.jsx(Ee,{value:"all",children:"All Time"}),e.jsx(Ee,{value:"month",children:"This Month"}),e.jsx(Ee,{value:"quarter",children:"This Quarter"}),e.jsx(Ee,{value:"year",children:"This Year"})]})]}),e.jsxs(ee,{variant:"outline",children:[e.jsx(oi,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-4 mb-8",children:[e.jsx(de,{className:"bg-gradient-to-br from-green-50 to-green-100 border-green-200",children:e.jsx(fe,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Total Earned"}),e.jsx("p",{className:"text-3xl font-bold text-green-700",children:g(y.totalEarned)})]}),e.jsx("div",{className:"p-3 bg-green-200 rounded-lg",children:e.jsx(zi,{className:"h-6 w-6 text-green-700"})})]})})}),e.jsx(de,{children:e.jsx(fe,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:g(y.pending)})]}),e.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:e.jsx(Hn,{className:"h-6 w-6 text-yellow-600"})})]})})}),e.jsx(de,{children:e.jsx(fe,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Approved"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:g(y.approved)})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx(Lt,{className:"h-6 w-6 text-blue-600"})})]})})}),e.jsx(de,{children:e.jsx(fe,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg Commission Rate"}),e.jsxs("p",{className:"text-2xl font-bold",children:[y.avgRate.toFixed(1),"%"]})]}),e.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:e.jsx(sA,{className:"h-6 w-6 text-purple-600"})})]})})})]}),e.jsxs(Ui,{defaultValue:"commissions",children:[e.jsxs(yi,{className:"mb-6",children:[e.jsx(zt,{value:"commissions",children:"Commissions"}),e.jsx(zt,{value:"summary",children:"Summary"})]}),e.jsx(Es,{value:"commissions",children:e.jsxs(de,{children:[e.jsx(Me,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Fe,{children:"Commission History"}),e.jsxs(Jt,{value:c,onValueChange:u,children:[e.jsx(Wt,{className:"w-40",children:e.jsx(Xt,{placeholder:"Filter status"})}),e.jsxs(Yt,{children:[e.jsx(Ee,{value:"all",children:"All Status"}),e.jsx(Ee,{value:"pending",children:"Pending"}),e.jsx(Ee,{value:"approved",children:"Approved"}),e.jsx(Ee,{value:"paid",children:"Paid"})]})]})]})}),e.jsx(fe,{children:e.jsxs(Yd,{children:[e.jsx(Zd,{children:e.jsxs(ka,{children:[e.jsx(ys,{children:"Deal"}),e.jsx(ys,{children:"Client"}),e.jsx(ys,{className:"text-right",children:"Deal Value"}),e.jsx(ys,{className:"text-right",children:"Rate"}),e.jsx(ys,{className:"text-right",children:"Commission"}),e.jsx(ys,{children:"Status"}),e.jsx(ys,{children:"Closed"})]})}),e.jsx(Kd,{children:p.map(x=>{const _=Lee[x.status],j=_.icon;return e.jsxs(ka,{children:[e.jsx(bs,{children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:x.deal_title}),e.jsx("p",{className:"text-xs text-muted-foreground",children:x.listing_name})]})}),e.jsx(bs,{children:x.client_name}),e.jsx(bs,{className:"text-right",children:g(x.deal_value)}),e.jsxs(bs,{className:"text-right",children:[x.commission_rate,"%"]}),e.jsx(bs,{className:"text-right font-semibold text-primary",children:g(x.commission_amount)}),e.jsx(bs,{children:e.jsxs(Be,{className:_.color,children:[e.jsx(j,{className:"h-3 w-3 mr-1"}),x.status]})}),e.jsx(bs,{className:"text-sm text-muted-foreground",children:Gh(new Date(x.closed_date),"MMM d, yyyy")})]},x.id)})})]})})]})}),e.jsx(Es,{value:"summary",children:e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(de,{children:[e.jsx(Me,{children:e.jsx(Fe,{children:"Performance Overview"})}),e.jsx(fe,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-muted-foreground",children:"Total Deals Closed"}),e.jsx("span",{className:"font-semibold",children:y.totalDeals})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-muted-foreground",children:"Total Deal Value"}),e.jsx("span",{className:"font-semibold",children:g(y.totalDealValue)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-muted-foreground",children:"Total Commissions"}),e.jsx("span",{className:"font-semibold text-primary",children:g(y.totalEarned+y.pending+y.approved)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-muted-foreground",children:"Average Deal Size"}),e.jsx("span",{className:"font-semibold",children:g(y.totalDealValue/y.totalDeals)})]})]})})]}),e.jsxs(de,{children:[e.jsx(Me,{children:e.jsx(Fe,{children:"Commission Breakdown"})}),e.jsx(fe,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-green-600",children:"Paid"}),e.jsx("span",{children:g(y.totalEarned)})]}),e.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-green-500 rounded-full",style:{width:`${y.totalEarned/(y.totalEarned+y.pending+y.approved)*100}%`}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-blue-600",children:"Approved (Awaiting Payment)"}),e.jsx("span",{children:g(y.approved)})]}),e.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-500 rounded-full",style:{width:`${y.approved/(y.totalEarned+y.pending+y.approved)*100}%`}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-yellow-600",children:"Pending Approval"}),e.jsx("span",{children:g(y.pending)})]}),e.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-yellow-500 rounded-full",style:{width:`${y.pending/(y.totalEarned+y.pending+y.approved)*100}%`}})})]})]})})]})]})})]})]})}function Oee(){const[n,t]=w.useState([]),[s,r]=w.useState(!0),[i,a]=w.useState(""),[l,c]=w.useState("all"),[u,m]=w.useState("all");w.useEffect(()=>{g()},[]);const g=async()=>{r(!0);try{const{data:j,error:A}=await Le.from("advisor_profiles").select(`
                    id,
                    title,
                    company,
                    location,
                    specializations,
                    deals_closed,
                    total_value,
                    rating,
                    reviews_count,
                    verified,
                    featured,
                    years_experience,
                    bio,
                    profile:profiles(display_name, avatar_url)
                `).order("featured",{ascending:!1}).order("rating",{ascending:!1});if(A)throw A;const C=(j||[]).map(P=>{var S,O;return{id:P.id,name:((S=P.profile)==null?void 0:S.display_name)||"Unknown Advisor",avatar_url:(O=P.profile)==null?void 0:O.avatar_url,title:P.title||"Business Advisor",company:P.company,location:P.location||"India",specializations:P.specializations||[],deals_closed:P.deals_closed||0,total_value:P.total_value||0,rating:parseFloat(P.rating)||0,reviews:P.reviews_count||0,verified:P.verified||!1,featured:P.featured||!1,years_experience:P.years_experience||0,bio:P.bio||""}});t(C)}catch(j){console.error("Error loading advisors:",j),t([])}finally{r(!1)}},p=j=>j>=1e7?`${(j/1e7).toFixed(0)} Cr`:j>=1e5?`${(j/1e5).toFixed(0)} L`:`${j.toLocaleString()}`,y=n.filter(j=>{const A=j.name.toLowerCase().includes(i.toLowerCase())||j.specializations.some(S=>S.toLowerCase().includes(i.toLowerCase())),C=l==="all"||j.location.includes(l),P=u==="all"||j.specializations.includes(u);return A&&C&&P}),x=y.filter(j=>j.featured),_=y.filter(j=>!j.featured);return s?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(Ht,{className:"h-8 w-8 animate-spin text-primary"})}):e.jsxs("div",{className:"container max-w-6xl mx-auto py-8 px-4",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Find a Business Advisor"}),e.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Connect with verified brokers and advisors to help you buy, sell, or invest in businesses and franchises"})]}),e.jsx(de,{className:"mb-8",children:e.jsx(fe,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(xi,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(Ue,{placeholder:"Search by name or specialty...",value:i,onChange:j=>a(j.target.value),className:"pl-10"})]}),e.jsxs(Jt,{value:l,onValueChange:c,children:[e.jsx(Wt,{className:"w-48",children:e.jsx(Xt,{placeholder:"Location"})}),e.jsxs(Yt,{children:[e.jsx(Ee,{value:"all",children:"All Locations"}),e.jsx(Ee,{value:"Mumbai",children:"Mumbai"}),e.jsx(Ee,{value:"Delhi",children:"Delhi NCR"}),e.jsx(Ee,{value:"Bangalore",children:"Bangalore"}),e.jsx(Ee,{value:"Pune",children:"Pune"})]})]}),e.jsxs(Jt,{value:u,onValueChange:m,children:[e.jsx(Wt,{className:"w-48",children:e.jsx(Xt,{placeholder:"Specialty"})}),e.jsxs(Yt,{children:[e.jsx(Ee,{value:"all",children:"All Specialties"}),e.jsx(Ee,{value:"Technology",children:"Technology"}),e.jsx(Ee,{value:"Franchises",children:"Franchises"}),e.jsx(Ee,{value:"Manufacturing",children:"Manufacturing"}),e.jsx(Ee,{value:"Healthcare",children:"Healthcare"}),e.jsx(Ee,{value:"Retail",children:"Retail"})]})]})]})})}),x.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[e.jsx(Mh,{className:"h-5 w-5 text-yellow-500"}),"Featured Advisors"]}),e.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:x.map(j=>e.jsx(de,{className:"overflow-hidden border-2 border-yellow-200 bg-gradient-to-br from-yellow-50 to-white",children:e.jsx(fe,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs(ai,{className:"h-16 w-16",children:[e.jsx(Bi,{src:j.avatar_url||""}),e.jsx(gi,{className:"bg-primary/10 text-primary text-xl font-semibold",children:j.name.split(" ").map(A=>A[0]).join("")})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2",children:[j.name,j.verified&&e.jsx(Lt,{className:"h-4 w-4 text-blue-500"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:j.title}),j.company&&e.jsx("p",{className:"text-sm text-muted-foreground",children:j.company})]}),e.jsxs(Be,{className:"bg-yellow-100 text-yellow-800",children:[e.jsx(Mh,{className:"h-3 w-3 mr-1"}),"Featured"]})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-3 text-sm",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ln,{className:"h-4 w-4 text-muted-foreground"}),j.location]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Fl,{className:"h-4 w-4 text-yellow-500 fill-yellow-500"}),j.rating," (",j.reviews,")"]})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:j.specializations.map((A,C)=>e.jsx(Be,{variant:"outline",className:"text-xs",children:A},C))}),e.jsxs("div",{className:"flex items-center gap-6 mt-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-primary",children:j.deals_closed}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Deals Closed"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:p(j.total_value)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Value"})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-semibold",children:[j.years_experience," yrs"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Experience"})]})]}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsxs(ee,{size:"sm",children:[e.jsx(ua,{className:"h-4 w-4 mr-1"}),"Contact"]}),e.jsx(ee,{size:"sm",variant:"outline",children:"View Profile"})]})]})]})})},j.id))})]}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[e.jsx(gn,{className:"h-5 w-5"}),"All Advisors (",_.length,")"]}),e.jsx("div",{className:"space-y-4",children:_.map(j=>e.jsx(de,{className:"hover:shadow-md transition-shadow",children:e.jsx(fe,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs(ai,{className:"h-14 w-14",children:[e.jsx(Bi,{src:j.avatar_url||""}),e.jsx(gi,{className:"bg-primary/10 text-primary font-semibold",children:j.name.split(" ").map(A=>A[0]).join("")})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[j.name,j.verified&&e.jsx(Lt,{className:"h-4 w-4 text-blue-500"})]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[j.title," ",j.company&&`at ${j.company}`]})]}),e.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[e.jsx(Fl,{className:"h-4 w-4 text-yellow-500 fill-yellow-500"}),e.jsx("span",{className:"font-medium",children:j.rating}),e.jsxs("span",{className:"text-muted-foreground",children:["(",j.reviews,")"]})]})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ln,{className:"h-4 w-4"}),j.location]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Os,{className:"h-4 w-4"}),j.deals_closed," deals"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Zs,{className:"h-4 w-4"}),p(j.total_value)," value"]})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:j.specializations.map((A,C)=>e.jsx(Be,{variant:"secondary",className:"text-xs",children:A},C))})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(ee,{size:"sm",variant:"outline",children:[e.jsx(Mr,{className:"h-4 w-4 mr-1"}),"Call"]}),e.jsxs(ee,{size:"sm",children:[e.jsx(ua,{className:"h-4 w-4 mr-1"}),"Message"]})]})]})})},j.id))})]}),y.length===0&&e.jsx(de,{children:e.jsxs(fe,{className:"py-12 text-center",children:[e.jsx(gn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-50"}),e.jsx("h3",{className:"font-medium text-lg mb-2",children:"No Advisors Found"}),e.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your search or filters"})]})})]})}const EC=[{id:"valuation",label:"Business Valuation Report",icon:zi},{id:"market_analysis",label:"Market Analysis Report",icon:Os},{id:"due_diligence",label:"Due Diligence Summary",icon:Lt},{id:"comparison",label:"Comparison Report",icon:Gd}];function Mee(){const{user:n}=Bs(),[t,s]=w.useState("valuation"),[r,i]=w.useState(""),[a,l]=w.useState(""),[c,u]=w.useState(!1),[m,g]=w.useState(0),[p,y]=w.useState([]),[x,_]=w.useState(""),j=O=>{switch(O){case"valuation":return["Executive Summary","Business Overview","Financial Analysis","Valuation Methods","Market Comparison","Conclusion"];case"market_analysis":return["Market Overview","Industry Trends","Competitive Landscape","Growth Opportunities","Risk Assessment","Recommendations"];case"due_diligence":return["Business Background","Legal Review","Financial Verification","Operational Assessment","Key Risks","Summary"];case"comparison":return["Overview","Financial Comparison","Market Position","Strengths & Weaknesses","Investment Potential","Recommendation"];default:return[]}},A=async()=>{var B;if(!r.trim()){Rt.error("Please enter a business name");return}u(!0),g(0),_("");const O=j(t),z=O.map(D=>({title:D,content:"",status:"pending"}));y(z);let V=`# ${(B=EC.find(D=>D.id===t))==null?void 0:B.label}

`;V+=`**Business:** ${r}

`,V+=`**Generated:** ${new Date().toLocaleDateString()}

---

`;for(let D=0;D<O.length;D++){y(H=>H.map(($,W)=>W===D?{...$,status:"generating"}:$)),await new Promise(H=>setTimeout(H,800));const K=C(O[D],r,t);V+=`## ${O[D]}

${K}

`,y(H=>H.map(($,W)=>W===D?{...$,content:K,status:"complete"}:$)),g((D+1)/O.length*100)}_(V),u(!1),Rt.success("Report generated successfully")},C=(O,z,V)=>({"Executive Summary":`This report provides a comprehensive analysis of **${z}**. Based on our assessment using multiple valuation methodologies, the estimated fair market value ranges from X Cr to Y Cr. Key value drivers include strong market position, consistent revenue growth, and experienced management team.`,"Business Overview":`**${z}** operates in the [Industry] sector with a focus on [Products/Services]. The company was established in [Year] and has grown to employ approximately [X] people across [locations]. The business model demonstrates strong unit economics with recurring revenue streams.`,"Financial Analysis":"Revenue has grown at a CAGR of X% over the past 3 years. EBITDA margins have improved from X% to Y%, indicating operational efficiency gains. Working capital requirements are well-managed with healthy cash flow generation.","Valuation Methods":`We applied three valuation approaches:

1. **DCF Analysis:** X Cr (based on 5-year projections)
2. **Comparable Company Analysis:** Y Cr (based on peer multiples)
3. **Precedent Transactions:** Z Cr (based on similar deals)

Weighted average valuation: W Cr`,"Market Overview":`The target market for **${z}** is estimated at X Cr and growing at Y% annually. Key growth drivers include increasing consumer demand, digital transformation, and expanding middle class.`,"Competitive Landscape":`The competitive environment includes X major players and numerous regional competitors. **${z}** differentiates through [key differentiators]. Market share is estimated at X%.`,"Key Risks":`1. **Market Risk:** Competitive pressure from larger players
2. **Regulatory Risk:** Potential changes in industry regulations
3. **Operational Risk:** Dependence on key personnel
4. **Financial Risk:** Sensitivity to economic cycles`,Recommendations:`Based on our analysis, we recommend:

1. Proceed with further due diligence
2. Negotiate within the valuation range of X-Y Cr
3. Include key management retention provisions
4. Structure deal with appropriate earn-out provisions`})[O]||`Analysis for ${O} section of **${z}** goes here. This section covers key aspects relevant to the ${V.replace("_"," ")} assessment.`,P=()=>{navigator.clipboard.writeText(x),Rt.success("Report copied to clipboard")},S=()=>{const O=new Blob([x],{type:"text/markdown"}),z=URL.createObjectURL(O),V=document.createElement("a");V.href=z,V.download=`${r.replace(/\s+/g,"_")}_${t}_report.md`,V.click(),URL.revokeObjectURL(z),Rt.success("Report downloaded")};return e.jsxs("div",{className:"container max-w-5xl mx-auto py-8 px-4",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx(_s,{className:"h-6 w-6 text-primary"}),"AI Report Generator"]}),e.jsx("p",{className:"text-muted-foreground",children:"Generate professional reports using AI"})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs(de,{children:[e.jsxs(Me,{children:[e.jsx(Fe,{children:"Report Configuration"}),e.jsx(ms,{children:"Select report type and enter business details"})]}),e.jsxs(fe,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Report Type"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:EC.map(O=>{const z=O.icon;return e.jsxs(ee,{variant:t===O.id?"default":"outline",className:"h-auto py-3 justify-start",onClick:()=>s(O.id),children:[e.jsx(z,{className:"h-4 w-4 mr-2"}),e.jsx("span",{className:"text-sm",children:O.label})]},O.id)})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Business Name *"}),e.jsx(Ue,{value:r,onChange:O=>i(O.target.value),placeholder:"Enter business name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{children:"Additional Details (Optional)"}),e.jsx(_n,{value:a,onChange:O=>l(O.target.value),placeholder:"Add any specific details, financials, or context...",rows:4})]}),e.jsx(ee,{onClick:A,className:"w-full",disabled:c||!r.trim(),children:c?e.jsxs(e.Fragment,{children:[e.jsx(Ht,{className:"h-4 w-4 mr-2 animate-spin"}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ay,{className:"h-4 w-4 mr-2"}),"Generate Report"]})})]})]}),e.jsxs("div",{className:"space-y-6",children:[(c||p.length>0)&&e.jsxs(de,{children:[e.jsx(Me,{children:e.jsx(Fe,{className:"text-lg",children:"Generation Progress"})}),e.jsxs(fe,{children:[e.jsx(On,{value:m,className:"mb-4"}),e.jsx("div",{className:"space-y-2",children:p.map((O,z)=>e.jsxs("div",{className:"flex items-center gap-3",children:[O.status==="pending"&&e.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-muted"}),O.status==="generating"&&e.jsx(Ht,{className:"h-4 w-4 animate-spin text-primary"}),O.status==="complete"&&e.jsx(Lt,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:O.status==="complete"?"text-muted-foreground":"",children:O.title})]},z))})]})]}),x&&e.jsxs(de,{children:[e.jsx(Me,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Fe,{className:"text-lg",children:"Generated Report"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(ee,{size:"sm",variant:"outline",onClick:P,children:[e.jsx(pw,{className:"h-4 w-4 mr-1"}),"Copy"]}),e.jsxs(ee,{size:"sm",onClick:S,children:[e.jsx(oi,{className:"h-4 w-4 mr-1"}),"Download"]})]})]})}),e.jsx(fe,{children:e.jsx("div",{className:"max-h-96 overflow-y-auto p-4 bg-muted/30 rounded-lg",children:e.jsx("pre",{className:"whitespace-pre-wrap text-sm font-mono",children:x})})})]}),!c&&p.length===0&&e.jsx(de,{className:"h-full flex items-center justify-center min-h-[300px]",children:e.jsxs(fe,{className:"text-center",children:[e.jsx(ay,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-50"}),e.jsx("p",{className:"text-muted-foreground",children:"Configure your report settings and click generate to create an AI-powered report"})]})})]})]})]})}const Dee={new:{label:"New",color:"bg-blue-100 text-blue-800",icon:Fl},contacted:{label:"Contacted",color:"bg-yellow-100 text-yellow-800",icon:Mr},qualified:{label:"Qualified",color:"bg-green-100 text-green-800",icon:Lt},converted:{label:"Converted",color:"bg-purple-100 text-purple-800",icon:Os},lost:{label:"Lost",color:"bg-gray-100 text-gray-600",icon:pi}},Iee={hot:{label:" Hot",color:"bg-red-100 text-red-800"},high:{label:"High",color:"bg-orange-100 text-orange-800"},medium:{label:"Medium",color:"bg-yellow-100 text-yellow-800"},low:{label:"Low",color:"bg-gray-100 text-gray-600"}};function Fee(){var B;const{user:n}=Bs(),[t,s]=w.useState([]),[r,i]=w.useState(!0),[a,l]=w.useState(""),[c,u]=w.useState("all"),[m,g]=w.useState("all"),[p,y]=w.useState(null),[x,_]=w.useState(""),[j,A]=w.useState(!1);w.useEffect(()=>{n&&C()},[n]);const C=async()=>{if(n){i(!0);try{const{data:D}=await Le.from("franchises").select("id, brand_name").eq("owner_id",n.id),{data:K}=await Le.from("businesses").select("id, name").eq("owner_id",n.id),H=(D==null?void 0:D.map(q=>q.id))||[],$=(K==null?void 0:K.map(q=>q.id))||[],W=[...H,...$];if(W.length===0){s([]),i(!1);return}const{data:Q,error:Z}=await Le.from("inquiries").select(`
          *,
          sender:profiles!sender_id(display_name, email, avatar_url)
        `).in("listing_id",W).order("created_at",{ascending:!1});if(Z)throw Z;const ie=(Q||[]).map(q=>{let ce="Unknown Listing";if(q.listing_type==="franchise"){const te=D==null?void 0:D.find(oe=>oe.id===q.listing_id);ce=(te==null?void 0:te.brand_name)||ce}else{const te=K==null?void 0:K.find(oe=>oe.id===q.listing_id);ce=(te==null?void 0:te.name)||ce}return{...q,status:q.status||"new",priority:q.priority||"medium",listing:{name:ce}}});s(ie)}catch(D){console.error("Error loading leads:",D),Rt.error("Failed to load leads")}finally{i(!1)}}},P=async(D,K)=>{try{const{error:H}=await Le.from("inquiries").update({status:K,updated_at:new Date().toISOString()}).eq("id",D);if(H)throw H;s($=>$.map(W=>W.id===D?{...W,status:K}:W)),Rt.success("Lead status updated")}catch{Rt.error("Failed to update status")}},S=async(D,K)=>{try{const{error:H}=await Le.from("inquiries").update({priority:K}).eq("id",D);if(H)throw H;s($=>$.map(W=>W.id===D?{...W,priority:K}:W)),Rt.success("Priority updated")}catch{Rt.error("Failed to update priority")}},O=async()=>{if(!(!p||!x.trim())){A(!0);try{const{error:D}=await Le.from("inquiries").update({status:"contacted",notes:x,updated_at:new Date().toISOString()}).eq("id",p.id);if(D)throw D;s(K=>K.map(H=>H.id===p.id?{...H,status:"contacted",notes:x}:H)),Rt.success("Reply sent and lead marked as contacted"),_(""),y(null)}catch{Rt.error("Failed to send reply")}finally{A(!1)}}},z=t.filter(D=>{var W,Q,Z;const K=(((W=D.metadata)==null?void 0:W.sender_name)||"").toLowerCase().includes(a.toLowerCase())||D.contact_email.toLowerCase().includes(a.toLowerCase())||((Z=(Q=D.listing)==null?void 0:Q.name)==null?void 0:Z.toLowerCase().includes(a.toLowerCase())),H=c==="all"||D.status===c,$=m==="all"||D.priority===m;return K&&H&&$}),V={total:t.length,new:t.filter(D=>D.status==="new").length,hot:t.filter(D=>D.priority==="hot").length,converted:t.filter(D=>D.status==="converted").length};return r?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(Ht,{className:"h-8 w-8 animate-spin text-primary"})}):e.jsxs("div",{className:"container max-w-6xl mx-auto py-8 px-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-8",children:e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx(gn,{className:"h-6 w-6 text-primary"}),"Lead Management"]}),e.jsx("p",{className:"text-muted-foreground",children:"Track and manage inquiries for your listings"})]})}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-4 mb-8",children:[e.jsx(de,{children:e.jsxs(fe,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold",children:V.total}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Leads"})]})}),e.jsx(de,{className:"border-blue-200 bg-blue-50",children:e.jsxs(fe,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:V.new}),e.jsx("p",{className:"text-sm text-blue-600",children:"New Leads"})]})}),e.jsx(de,{className:"border-red-200 bg-red-50",children:e.jsxs(fe,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-red-600",children:V.hot}),e.jsx("p",{className:"text-sm text-red-600",children:"Hot Leads"})]})}),e.jsx(de,{className:"border-green-200 bg-green-50",children:e.jsxs(fe,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:V.converted}),e.jsx("p",{className:"text-sm text-green-600",children:"Converted"})]})})]}),e.jsx(de,{className:"mb-6",children:e.jsx(fe,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(xi,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(Ue,{placeholder:"Search leads...",value:a,onChange:D=>l(D.target.value),className:"pl-10"})]}),e.jsxs(Jt,{value:c,onValueChange:u,children:[e.jsx(Wt,{className:"w-40",children:e.jsx(Xt,{placeholder:"Status"})}),e.jsxs(Yt,{children:[e.jsx(Ee,{value:"all",children:"All Status"}),e.jsx(Ee,{value:"new",children:"New"}),e.jsx(Ee,{value:"contacted",children:"Contacted"}),e.jsx(Ee,{value:"qualified",children:"Qualified"}),e.jsx(Ee,{value:"converted",children:"Converted"}),e.jsx(Ee,{value:"lost",children:"Lost"})]})]}),e.jsxs(Jt,{value:m,onValueChange:g,children:[e.jsx(Wt,{className:"w-40",children:e.jsx(Xt,{placeholder:"Priority"})}),e.jsxs(Yt,{children:[e.jsx(Ee,{value:"all",children:"All Priority"}),e.jsx(Ee,{value:"hot",children:" Hot"}),e.jsx(Ee,{value:"high",children:"High"}),e.jsx(Ee,{value:"medium",children:"Medium"}),e.jsx(Ee,{value:"low",children:"Low"})]})]})]})})}),e.jsx("div",{className:"space-y-4",children:z.length===0?e.jsx(de,{children:e.jsxs(fe,{className:"py-12 text-center",children:[e.jsx(gn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-50"}),e.jsx("h3",{className:"font-medium text-lg mb-2",children:"No Leads Found"}),e.jsx("p",{className:"text-muted-foreground",children:t.length===0?"Inquiries from potential buyers will appear here":"No leads match your current filters"})]})}):z.map(D=>{var Q,Z,ie,q,ce;const K=Dee[D.status],H=Iee[D.priority],$=K.icon,W=((Q=D.metadata)==null?void 0:Q.sender_name)||((Z=D.sender)==null?void 0:Z.display_name)||"Unknown";return e.jsx(de,{className:"hover:shadow-md transition-shadow",children:e.jsx(fe,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs(ai,{className:"h-12 w-12",children:[e.jsx(Bi,{src:((ie=D.sender)==null?void 0:ie.avatar_url)||""}),e.jsx(gi,{className:"bg-primary/10 text-primary font-semibold",children:W.split(" ").map(te=>te[0]).join("").slice(0,2)})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4 mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:W}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Inquired about: ",e.jsx("span",{className:"font-medium",children:(q=D.listing)==null?void 0:q.name})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Be,{className:H.color,children:H.label}),e.jsxs(Be,{className:K.color,children:[e.jsx($,{className:"h-3 w-3 mr-1"}),K.label]})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-3",children:D.message}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Or,{className:"h-4 w-4"}),D.contact_email]}),D.contact_phone&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Mr,{className:"h-4 w-4"}),D.contact_phone]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Hn,{className:"h-4 w-4"}),Ba(new Date(D.created_at),{addSuffix:!0})]}),((ce=D.metadata)==null?void 0:ce.budget_range)&&e.jsxs("span",{className:"text-primary font-medium",children:["Budget: ",D.metadata.budget_range.replace("_","-")]})]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs(ee,{size:"sm",onClick:()=>y(D),children:[e.jsx(ua,{className:"h-4 w-4 mr-1"}),"Reply"]}),e.jsxs(yc,{children:[e.jsx(bc,{asChild:!0,children:e.jsx(ee,{size:"sm",variant:"outline",children:e.jsx(zm,{className:"h-4 w-4"})})}),e.jsxs(ql,{align:"end",children:[e.jsx(Rn,{onClick:()=>P(D.id,"contacted"),children:"Mark as Contacted"}),e.jsx(Rn,{onClick:()=>P(D.id,"qualified"),children:"Mark as Qualified"}),e.jsx(Rn,{onClick:()=>P(D.id,"converted"),children:"Mark as Converted"}),e.jsx(Rn,{onClick:()=>S(D.id,"hot"),children:"Set as Hot Lead "}),e.jsx(Rn,{onClick:()=>P(D.id,"lost"),children:"Mark as Lost"})]})]})]})]})})},D.id)})}),e.jsx(ha,{open:!!p,onOpenChange:()=>y(null),children:e.jsxs($i,{className:"sm:max-w-lg",children:[e.jsx(Vi,{children:e.jsxs(Hi,{children:["Reply to ",((B=p==null?void 0:p.metadata)==null?void 0:B.sender_name)||"Lead"]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium mb-2",children:"Original Message:"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:p==null?void 0:p.message})]}),e.jsx("div",{className:"space-y-2",children:e.jsx(_n,{value:x,onChange:D=>_(D.target.value),placeholder:"Type your reply...",rows:4})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(ee,{onClick:O,disabled:j||!x.trim(),className:"flex-1",children:[j?e.jsx(Ht,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(Em,{className:"h-4 w-4 mr-2"}),"Send Reply"]}),e.jsx(ee,{variant:"outline",onClick:()=>y(null),children:"Cancel"})]})]})]})})]})}const Fv=[{id:1,label:"Essentials",icon:Aa},{id:2,label:"Your Role",icon:Vd},{id:3,label:"Verify",icon:Ds},{id:4,label:"Complete",icon:tA}];function Bee({currentStep:n,totalSteps:t,className:s}){return e.jsxs("div",{className:nt("w-full",s),children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute top-5 left-0 right-0 h-0.5 bg-muted"}),e.jsx("div",{className:"absolute top-5 left-0 h-0.5 bg-primary transition-all duration-500",style:{width:`${n/(Fv.length-1)*100}%`}}),e.jsx("div",{className:"relative flex justify-between",children:Fv.map((r,i)=>{const a=i<n,l=i===n,c=r.icon;return e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:nt("w-10 h-10 rounded-full flex items-center justify-center border-2 transition-all duration-300",a&&"bg-primary border-primary text-primary-foreground",l&&"bg-background border-primary text-primary",!a&&!l&&"bg-muted border-muted-foreground/30 text-muted-foreground"),children:a?e.jsx(Vu,{className:"w-5 h-5"}):e.jsx(c,{className:"w-5 h-5"})}),e.jsx("span",{className:nt("mt-2 text-xs font-medium transition-colors",l&&"text-primary",a&&"text-primary",!a&&!l&&"text-muted-foreground"),children:r.label})]},r.id)})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Step ",Math.min(n+1,Fv.length)," of ",Fv.length]})})]})}const zee=["Andhra Pradesh","Arunachal Pradesh","Assam","Bihar","Chhattisgarh","Goa","Gujarat","Haryana","Himachal Pradesh","Jharkhand","Karnataka","Kerala","Madhya Pradesh","Maharashtra","Manipur","Meghalaya","Mizoram","Nagaland","Odisha","Punjab","Rajasthan","Sikkim","Tamil Nadu","Telangana","Tripura","Uttar Pradesh","Uttarakhand","West Bengal","Andaman and Nicobar Islands","Chandigarh","Dadra and Nagar Haveli","Daman and Diu","Delhi","Jammu and Kashmir","Ladakh","Lakshadweep","Puducherry"],qee={Maharashtra:["Mumbai","Pune","Nagpur","Thane","Nashik","Aurangabad"],Karnataka:["Bangalore","Mysore","Mangalore","Hubli","Belgaum"],Delhi:["New Delhi","Dwarka","Rohini","Saket"],"Tamil Nadu":["Chennai","Coimbatore","Madurai","Salem","Trichy"],Gujarat:["Ahmedabad","Surat","Vadodara","Rajkot","Gandhinagar"],Telangana:["Hyderabad","Warangal","Nizamabad","Karimnagar"],"West Bengal":["Kolkata","Howrah","Durgapur","Siliguri"],Rajasthan:["Jaipur","Jodhpur","Udaipur","Kota","Ajmer"],Kerala:["Kochi","Thiruvananthapuram","Kozhikode","Thrissur"],"Uttar Pradesh":["Lucknow","Noida","Ghaziabad","Kanpur","Agra","Varanasi"]};function Uee({data:n,onUpdate:t,onNext:s,onSkip:r,saving:i,error:a}){const[l,c]=w.useState(null),u=n.state?qee[n.state]||[]:[],m=p=>{const y=p.replace(/[^\d+]/g,"");t({phone:y})},g=()=>{if(c(null),!n.phone||n.phone.length<10){c("Please enter a valid phone number");return}if(!n.city||!n.state){c("Please select your city and state");return}s()};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Let's set up your profile"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Help us personalize your experience with a few details"})]}),(a||l)&&e.jsx(Xn,{variant:"destructive",children:e.jsx(Qn,{children:a||l})}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(de,{children:e.jsx(fe,{className:"pt-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-3 bg-primary/10 rounded-full",children:e.jsx(Mr,{className:"w-6 h-6 text-primary"})}),e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsxs("div",{children:[e.jsx(ve,{htmlFor:"phone",className:"text-base font-medium",children:"Phone Number"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"We'll use this for important updates and verification"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"w-20",children:e.jsx(Ue,{value:"+91",disabled:!0,className:"text-center bg-muted"})}),e.jsx(Ue,{id:"phone",type:"tel",placeholder:"9876543210",value:n.phone.replace("+91",""),onChange:p=>m("+91"+p.target.value),maxLength:10,className:"flex-1"})]})]})]})})}),e.jsx(de,{children:e.jsx(fe,{className:"pt-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-3 bg-primary/10 rounded-full",children:e.jsx(Ln,{className:"w-6 h-6 text-primary"})}),e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsxs("div",{children:[e.jsx(ve,{className:"text-base font-medium",children:"Your Location"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Helps us show relevant businesses and franchises near you"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(ve,{htmlFor:"state",className:"text-sm",children:"State"}),e.jsxs(Jt,{value:n.state,onValueChange:p=>{t({state:p,city:""})},children:[e.jsx(Wt,{id:"state",children:e.jsx(Xt,{placeholder:"Select state"})}),e.jsx(Yt,{children:zee.map(p=>e.jsx(Ee,{value:p,children:p},p))})]})]}),e.jsxs("div",{children:[e.jsx(ve,{htmlFor:"city",className:"text-sm",children:"City"}),u.length>0?e.jsxs(Jt,{value:n.city,onValueChange:p=>t({city:p}),children:[e.jsx(Wt,{id:"city",children:e.jsx(Xt,{placeholder:"Select city"})}),e.jsxs(Yt,{children:[u.map(p=>e.jsx(Ee,{value:p,children:p},p)),e.jsx(Ee,{value:"other",children:"Other"})]})]}):e.jsx(Ue,{id:"city",placeholder:"Enter city",value:n.city,onChange:p=>t({city:p.target.value})})]})]})]})]})})}),e.jsx(de,{children:e.jsx(fe,{className:"pt-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-3 bg-primary/10 rounded-full",children:e.jsx(Aa,{className:"w-6 h-6 text-primary"})}),e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsxs("div",{children:[e.jsxs(ve,{htmlFor:"bio",className:"text-base font-medium",children:["About You ",e.jsx("span",{className:"text-muted-foreground font-normal",children:"(optional)"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"A brief introduction helps others know who they're dealing with"})]}),e.jsx(_n,{id:"bio",placeholder:"I'm a business professional looking to...",value:n.bio,onChange:p=>t({bio:p.target.value}),rows:3,maxLength:500}),e.jsxs("p",{className:"text-xs text-muted-foreground text-right",children:[n.bio.length,"/500 characters"]})]})]})})})]}),e.jsxs("div",{className:"flex justify-between pt-4",children:[e.jsx(ee,{variant:"ghost",onClick:r,children:"Skip for now"}),e.jsx(ee,{onClick:g,disabled:i,children:i?e.jsxs(e.Fragment,{children:[e.jsx(Ht,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):"Continue"})]})]})}const $ee=[{value:"individual",label:"Individual Investor"},{value:"corporate",label:"Corporate Buyer"},{value:"pe_fund",label:"PE/VC Fund"},{value:"strategic",label:"Strategic Buyer"},{value:"first_time",label:"First-time Buyer"}],fg=[{value:"500000",label:"5 Lakh"},{value:"1000000",label:"10 Lakh"},{value:"2500000",label:"25 Lakh"},{value:"5000000",label:"50 Lakh"},{value:"10000000",label:"1 Crore"},{value:"25000000",label:"2.5 Crore"},{value:"50000000",label:"5 Crore"},{value:"100000000",label:"10 Crore"},{value:"500000000",label:"50 Crore+"}];function Vee({data:n,profile:t,onUpdate:s,onNext:r,onBack:i,saving:a,error:l}){const c=(t==null?void 0:t.role)||"buyer",u=(P,S)=>{s({roleData:{...n.roleData,[P]:S}})},m=()=>{switch(c){case"buyer":return Os;case"seller":return Zs;case"franchisor":return Uo;case"franchisee":return Uo;default:return Vd}},g=()=>{switch(c){case"buyer":return"Investment Preferences";case"seller":return"Business Details";case"franchisor":return"Franchise Information";case"franchisee":return"Franchisee Preferences";case"advisor":return"Professional Details";case"broker":return"Brokerage Details";default:return"Additional Information"}},p=m(),y=()=>{var P,S;return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ve,{htmlFor:"buyer_type",children:"What type of buyer are you?"}),e.jsxs(Jt,{value:n.roleData.buyer_type||"",onValueChange:O=>u("buyer_type",O),children:[e.jsx(Wt,{id:"buyer_type",children:e.jsx(Xt,{placeholder:"Select your buyer type"})}),e.jsx(Yt,{children:$ee.map(O=>e.jsx(Ee,{value:O.value,children:O.label},O.value))})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ve,{htmlFor:"investment_min",children:"Minimum Investment"}),e.jsxs(Jt,{value:((P=n.roleData.investment_min)==null?void 0:P.toString())||"",onValueChange:O=>u("investment_min",parseInt(O)),children:[e.jsx(Wt,{id:"investment_min",children:e.jsx(Xt,{placeholder:"Min budget"})}),e.jsx(Yt,{children:fg.slice(0,-1).map(O=>e.jsx(Ee,{value:O.value,children:O.label},O.value))})]})]}),e.jsxs("div",{children:[e.jsx(ve,{htmlFor:"investment_max",children:"Maximum Investment"}),e.jsxs(Jt,{value:((S=n.roleData.investment_max)==null?void 0:S.toString())||"",onValueChange:O=>u("investment_max",parseInt(O)),children:[e.jsx(Wt,{id:"investment_max",children:e.jsx(Xt,{placeholder:"Max budget"})}),e.jsx(Yt,{children:fg.map(O=>e.jsx(Ee,{value:O.value,children:O.label},O.value))})]})]})]}),e.jsxs("div",{children:[e.jsx(ve,{children:"Preferred Industries"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:[...og,...vj.filter(O=>!og.includes(O))].map(O=>{const z=(n.roleData.preferred_industries||[]).includes(O);return e.jsx(Be,{variant:z?"default":"outline",className:"cursor-pointer",onClick:()=>{const V=n.roleData.preferred_industries||[],B=z?V.filter(D=>D!==O):[...V,O];u("preferred_industries",B)},children:O},O)})})]}),e.jsxs("div",{children:[e.jsx(ve,{htmlFor:"investment_criteria",children:"What are you looking for?"}),e.jsx(_n,{id:"investment_criteria",placeholder:"Describe your ideal business acquisition (e.g., profitable SaaS with recurring revenue, established manufacturing unit, etc.)",value:n.roleData.investment_criteria||"",onChange:O=>u("investment_criteria",O.target.value),rows:3})]})]})},x=()=>{var P;return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ve,{htmlFor:"industry",children:"Business Industry"}),e.jsxs(Jt,{value:n.roleData.industry||"",onValueChange:S=>u("industry",S),children:[e.jsx(Wt,{id:"industry",children:e.jsx(Xt,{placeholder:"Select your industry"})}),e.jsx(Yt,{children:og.map(S=>e.jsx(Ee,{value:S,children:S},S))})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ve,{htmlFor:"founded_year",children:"Year Founded"}),e.jsx(Ue,{id:"founded_year",type:"number",placeholder:"e.g., 2015",value:n.roleData.founded_year||"",onChange:S=>u("founded_year",parseInt(S.target.value)),min:1900,max:new Date().getFullYear()})]}),e.jsxs("div",{children:[e.jsx(ve,{htmlFor:"employees",children:"Number of Employees"}),e.jsx(Ue,{id:"employees",type:"number",placeholder:"e.g., 25",value:n.roleData.employees||"",onChange:S=>u("employees",parseInt(S.target.value)),min:1})]})]}),e.jsxs("div",{children:[e.jsx(ve,{htmlFor:"asking_price",children:"Expected Valuation ()"}),e.jsxs(Jt,{value:((P=n.roleData.asking_price)==null?void 0:P.toString())||"",onValueChange:S=>u("asking_price",parseInt(S)),children:[e.jsx(Wt,{id:"asking_price",children:e.jsx(Xt,{placeholder:"Select expected valuation"})}),e.jsx(Yt,{children:fg.map(S=>e.jsx(Ee,{value:S.value,children:S.label},S.value))})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"This is only visible to verified buyers who sign NDA"})]})]})},_=()=>e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ve,{htmlFor:"total_outlets",children:"Total Outlets"}),e.jsx(Ue,{id:"total_outlets",type:"number",placeholder:"e.g., 50",value:n.roleData.total_outlets||"",onChange:P=>u("total_outlets",parseInt(P.target.value)),min:1})]}),e.jsxs("div",{children:[e.jsx(ve,{htmlFor:"franchise_fee",children:"Franchise Fee ()"}),e.jsx(Ue,{id:"franchise_fee",type:"number",placeholder:"e.g., 500000",value:n.roleData.franchise_fee||"",onChange:P=>u("franchise_fee",parseInt(P.target.value))})]})]}),e.jsxs("div",{children:[e.jsx(ve,{htmlFor:"royalty_percentage",children:"Royalty Percentage (%)"}),e.jsx(Ue,{id:"royalty_percentage",type:"number",placeholder:"e.g., 5",value:n.roleData.royalty_percentage||"",onChange:P=>u("royalty_percentage",parseFloat(P.target.value)),min:0,max:100,step:.5})]})]}),j=()=>{var P,S;return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ve,{htmlFor:"investment_min",children:"Budget Minimum"}),e.jsxs(Jt,{value:((P=n.roleData.investment_min)==null?void 0:P.toString())||"",onValueChange:O=>u("investment_min",parseInt(O)),children:[e.jsx(Wt,{id:"investment_min",children:e.jsx(Xt,{placeholder:"Min budget"})}),e.jsx(Yt,{children:fg.slice(0,-1).map(O=>e.jsx(Ee,{value:O.value,children:O.label},O.value))})]})]}),e.jsxs("div",{children:[e.jsx(ve,{htmlFor:"investment_max",children:"Budget Maximum"}),e.jsxs(Jt,{value:((S=n.roleData.investment_max)==null?void 0:S.toString())||"",onValueChange:O=>u("investment_max",parseInt(O)),children:[e.jsx(Wt,{id:"investment_max",children:e.jsx(Xt,{placeholder:"Max budget"})}),e.jsx(Yt,{children:fg.map(O=>e.jsx(Ee,{value:O.value,children:O.label},O.value))})]})]})]}),e.jsxs("div",{children:[e.jsx(ve,{children:"Preferred Industries"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:vj.map(O=>{const z=(n.roleData.preferred_industries||[]).includes(O);return e.jsx(Be,{variant:z?"default":"outline",className:"cursor-pointer",onClick:()=>{const V=n.roleData.preferred_industries||[],B=z?V.filter(D=>D!==O):[...V,O];u("preferred_industries",B)},children:O},O)})})]})]})},A=()=>e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ve,{htmlFor:"linkedin_url",children:"LinkedIn Profile URL"}),e.jsx(Ue,{id:"linkedin_url",type:"url",placeholder:"https://linkedin.com/in/yourprofile",value:n.roleData.linkedin_url||"",onChange:P=>u("linkedin_url",P.target.value)})]}),e.jsxs("div",{children:[e.jsx(ve,{children:"Specializations"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:[...og,...vj.filter(P=>!og.includes(P))].map(P=>{const S=(n.roleData.specializations||[]).includes(P);return e.jsx(Be,{variant:S?"default":"outline",className:"cursor-pointer",onClick:()=>{const O=n.roleData.specializations||[],z=S?O.filter(V=>V!==P):[...O,P];u("specializations",z)},children:P},P)})})]})]}),C=()=>{switch(c){case"buyer":return y();case"seller":return x();case"franchisor":return _();case"franchisee":return j();case"advisor":case"broker":return A();default:return e.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No additional information needed for your role."})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Tell us more about your goals"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"This helps us match you with the right opportunities"})]}),l&&e.jsx(Xn,{variant:"destructive",children:e.jsx(Qn,{children:l})}),e.jsxs(de,{children:[e.jsx(Me,{children:e.jsxs(Fe,{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(p,{className:"w-5 h-5 text-primary"})}),g(),e.jsx(Be,{variant:"secondary",className:"ml-auto capitalize",children:c})]})}),e.jsx(fe,{children:C()})]}),e.jsxs("div",{className:"flex justify-between pt-4",children:[e.jsxs(ee,{variant:"ghost",onClick:i,children:[e.jsx(ca,{className:"mr-2 h-4 w-4"}),"Back"]}),e.jsx(ee,{onClick:r,disabled:a,children:a?e.jsxs(e.Fragment,{children:[e.jsx(Ht,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):"Complete Setup"})]})]})}const TC={identity:{title:"Identity Document",description:"Upload PAN Card, Aadhaar, or Passport",accept:".pdf,.jpg,.jpeg,.png",maxSize:5*1024*1024,icon:Ds},business:{title:"Business Document",description:"Upload GST Certificate, Company Registration, or Trade License",accept:".pdf,.jpg,.jpeg,.png",maxSize:10*1024*1024,icon:_s}};function Hee({profile:n,onNext:t,onBack:s,onSkip:r}){const[i,a]=w.useState([]),[l,c]=w.useState(!1),[u,m]=w.useState(null),g=(j,A)=>{const C=TC[j];if(A.size>C.maxSize){m(`${C.title} must be less than ${C.maxSize/1024/1024}MB`);return}a(P=>[...P.filter(S=>S.type!==j),{type:j,file:A,status:"pending"}]),m(null)},p=j=>{a(A=>A.filter(C=>C.type!==j))},y=async()=>{if(!(!(n!=null&&n.id)||i.length===0)){c(!0),m(null);try{for(const j of i)j.status==="pending"&&(a(A=>A.map(C=>C.type===j.type?{...C,status:"uploading"}:C)),await MP.uploadDocument(n.id,j.file,j.type),a(A=>A.map(C=>C.type===j.type?{...C,status:"uploaded"}:C)));t()}catch(j){m(j.message||"Failed to upload documents"),a(A=>A.map(C=>C.status==="uploading"?{...C,status:"error",error:j.message}:C))}finally{c(!1)}}},x=j=>i.find(A=>A.type===j),_=i.length>0;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Ds,{className:"w-8 h-8 text-purple-600"})}),e.jsx("h2",{className:"text-2xl font-bold",children:"Verify Your Identity"}),e.jsxs("p",{className:"text-muted-foreground mt-2",children:["Verified users get ",e.jsx("span",{className:"font-semibold text-purple-600",children:"3x more responses"})," and a trust badge on their profile"]})]}),u&&e.jsxs(Xn,{variant:"destructive",children:[e.jsx(Ea,{className:"h-4 w-4"}),e.jsx(Qn,{children:u})]}),e.jsx("div",{className:"grid gap-4",children:["identity","business"].map(j=>{const A=TC[j],C=A.icon,P=x(j);return e.jsxs(de,{className:P?"border-green-200 bg-green-50/50":"",children:[e.jsx(Me,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${P?"bg-green-100":"bg-muted"}`,children:e.jsx(C,{className:`h-5 w-5 ${P?"text-green-600":"text-muted-foreground"}`})}),e.jsxs("div",{children:[e.jsx(Fe,{className:"text-base",children:A.title}),e.jsx(ms,{className:"text-xs",children:A.description})]})]}),P&&e.jsx(Be,{variant:"outline",className:"bg-green-100 text-green-700 border-green-200",children:P.status==="uploading"?e.jsxs(e.Fragment,{children:[e.jsx(Ht,{className:"h-3 w-3 mr-1 animate-spin"})," Uploading"]}):P.status==="uploaded"?e.jsxs(e.Fragment,{children:[e.jsx(tp,{className:"h-3 w-3 mr-1"})," Uploaded"]}):e.jsxs(e.Fragment,{children:[e.jsx(tp,{className:"h-3 w-3 mr-1"})," Ready"]})})]})}),e.jsx(fe,{children:P?e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border",children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[e.jsx(_s,{className:"h-4 w-4 text-muted-foreground shrink-0"}),e.jsx("span",{className:"text-sm truncate",children:P.file.name}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",(P.file.size/1024).toFixed(0)," KB)"]})]}),e.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>p(j),disabled:l,children:e.jsx(Lr,{className:"h-4 w-4"})})]}):e.jsxs("div",{className:"relative",children:[e.jsx(Ue,{type:"file",accept:A.accept,onChange:S=>{var z;const O=(z=S.target.files)==null?void 0:z[0];O&&g(j,O)},className:"absolute inset-0 opacity-0 cursor-pointer"}),e.jsxs("div",{className:"flex items-center justify-center gap-2 p-4 border-2 border-dashed rounded-lg hover:border-primary/50 transition-colors",children:[e.jsx(ml,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Click to upload or drag and drop"})]})]})})]},j)})}),e.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Your documents are encrypted and securely stored. They will only be used for verification purposes."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[e.jsxs(ee,{variant:"outline",onClick:s,disabled:l,className:"sm:flex-1",children:[e.jsx(ca,{className:"mr-2 h-4 w-4"}),"Back"]}),_?e.jsx(ee,{onClick:y,disabled:l,className:"sm:flex-1",children:l?e.jsxs(e.Fragment,{children:[e.jsx(Ht,{className:"mr-2 h-4 w-4 animate-spin"})," Uploading..."]}):e.jsxs(e.Fragment,{children:["Upload & Continue ",e.jsx(Ca,{className:"ml-2 h-4 w-4"})]})}):e.jsxs(ee,{onClick:r,variant:"outline",className:"sm:flex-1",children:["Skip for Now",e.jsx(Ca,{className:"ml-2 h-4 w-4"})]})]}),_&&e.jsx(ee,{variant:"link",onClick:r,disabled:l,className:"w-full text-muted-foreground",children:"Skip verification for now"})]})}function Gee({profile:n,onFinish:t}){const s=Mn(),r=m2(n),a=(()=>{switch(n==null?void 0:n.role){case"buyer":return[{icon:xi,label:"Browse Businesses",path:"/businesses"},{icon:Uo,label:"Explore Franchises",path:"/franchises"}];case"seller":return[{icon:Zs,label:"List Your Business",path:"/add-business-listing"},{icon:Aa,label:"Complete Profile",path:"/profile/edit"}];case"franchisor":return[{icon:Uo,label:"List Your Franchise",path:"/add-franchise-listing"},{icon:Aa,label:"Complete Profile",path:"/profile/edit"}];case"franchisee":return[{icon:Uo,label:"Explore Franchises",path:"/franchises"},{icon:xi,label:"Browse Map",path:"/franchise-map"}];case"advisor":case"broker":return[{icon:Vd,label:"View Dashboard",path:"/clients"},{icon:Aa,label:"Complete Profile",path:"/profile/edit"}];default:return[{icon:xi,label:"Explore Listings",path:"/businesses"},{icon:Aa,label:"View Profile",path:"/profile"}]}})();return e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"space-y-8 text-center",children:[e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"relative animate-bounce",children:[e.jsx("div",{className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center shadow-lg",children:e.jsx(tp,{className:"w-12 h-12 text-green-600"})}),e.jsx("div",{className:"absolute -right-2 -top-2 animate-pulse",children:e.jsx(tA,{className:"w-8 h-8 text-yellow-500"})}),e.jsx("div",{className:"absolute -left-3 top-4 animate-pulse delay-75",children:e.jsx(ko,{className:"w-6 h-6 text-primary"})})]})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"You're all set! "}),e.jsx("p",{className:"text-muted-foreground mt-2 text-lg",children:"Your profile is ready. Welcome to BizSearch!"})]}),e.jsx(de,{className:"max-w-sm mx-auto",children:e.jsx(fe,{className:"pt-6",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:"Profile Completeness"}),e.jsxs(Be,{variant:r.score>=80?"default":"secondary",children:[r.score,"%"]})]}),e.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:e.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-500",style:{width:`${r.score}%`}})}),r.missingFields.length>0&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Complete ",r.missingFields.length," more field",r.missingFields.length>1?"s":""," to boost your visibility"]})]})})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"What would you like to do next?"}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:a.map((l,c)=>{const u=l.icon;return e.jsxs(ee,{variant:c===0?"default":"outline",size:"lg",onClick:()=>s(l.path),className:"min-w-[180px]",children:[e.jsx(u,{className:"mr-2 h-5 w-5"}),l.label]},l.path)})})]}),e.jsxs(ee,{variant:"link",onClick:t,className:"text-muted-foreground",children:["Go to Homepage",e.jsx(Ca,{className:"ml-2 h-4 w-4"})]})]})})}const Dj="bizsearch_onboarding_progress",pg=["essentials","role","verification","complete"],PC={phone:"",phoneVerified:!1,city:"",state:"",country:"India",bio:"",roleData:{}};function Wee(){const{user:n,profile:t,updateProfile:s,refreshProfile:r}=Bs(),i=Mn(),[a,l]=w.useState("essentials"),[c,u]=w.useState(PC),[m,g]=w.useState(!1),[p,y]=w.useState(null);w.useEffect(()=>{if(n){const K=localStorage.getItem(`${Dj}_${n.id}`);if(K)try{const H=JSON.parse(K);u(H.data||PC),l(H.step||"essentials")}catch(H){console.error("Failed to parse onboarding progress:",H)}}},[n]),w.useEffect(()=>{t&&u(K=>({...K,phone:t.phone||K.phone,city:t.city||K.city,state:t.state||K.state,country:t.country||K.country||"India",bio:t.bio||K.bio}))},[t]);const x=w.useCallback(()=>{n&&localStorage.setItem(`${Dj}_${n.id}`,JSON.stringify({step:a,data:c}))},[n,a,c]);w.useEffect(()=>{x()},[x]);const _=w.useCallback(K=>{u(H=>({...H,...K})),y(null)},[]),j=pg.indexOf(a),A=pg.length-1,C=w.useCallback(()=>{const K=j+1;K<pg.length&&l(pg[K])},[j]),P=w.useCallback(()=>{const K=j-1;K>=0&&l(pg[K])},[j]),S=w.useCallback(K=>{l(K)},[]),O=w.useCallback(async()=>{if(!n||!t)return!1;g(!0),y(null);try{const K={};c.phone&&(K.phone=c.phone),c.city&&(K.city=c.city),c.state&&(K.state=c.state),c.country&&(K.country=c.country),c.bio&&(K.bio=c.bio);const H=t.role;H==="buyer"?(c.roleData.investment_min&&(K.investment_min=c.roleData.investment_min),c.roleData.investment_max&&(K.investment_max=c.roleData.investment_max),c.roleData.buyer_type&&(K.buyer_type=c.roleData.buyer_type),c.roleData.preferred_industries&&(K.preferred_industries=c.roleData.preferred_industries),c.roleData.investment_criteria&&(K.investment_criteria=c.roleData.investment_criteria)):H==="seller"?(c.roleData.founded_year&&(K.founded_year=c.roleData.founded_year),c.roleData.employees&&(K.employees=c.roleData.employees),c.roleData.industry&&(K.industry=c.roleData.industry),c.roleData.key_products&&(K.key_products=c.roleData.key_products),c.roleData.asking_price&&(K.asking_price=c.roleData.asking_price)):H==="franchisor"&&(c.roleData.total_outlets&&(K.total_outlets=c.roleData.total_outlets),c.roleData.royalty_percentage&&(K.royalty_percentage=c.roleData.royalty_percentage),c.roleData.franchise_fee&&(K.franchise_fee=c.roleData.franchise_fee),c.roleData.support&&(K.support=c.roleData.support));const{error:$}=await s(K);if($)throw $;return await r(),!0}catch(K){return console.error("Failed to save onboarding data:",K),y((K==null?void 0:K.message)||"Failed to save. Please try again."),!1}finally{g(!1)}},[n,t,c,s,r]),z=w.useCallback(async()=>{await O()&&n&&(localStorage.removeItem(`${Dj}_${n.id}`),S("complete"))},[O,n,S]),V=w.useCallback(()=>{i("/")},[i]),B=w.useCallback(()=>{i("/")},[i]),D=w.useCallback(()=>{if(!t)return!1;const K=!!t.phone,H=!!t.city&&!!t.state;return!K||!H},[t]);return{currentStep:a,currentStepIndex:j,totalSteps:A,data:c,saving:m,error:p,profile:t,updateData:_,goToNextStep:C,goToPreviousStep:P,goToStep:S,saveStepData:O,completeOnboarding:z,skipOnboarding:V,finishOnboarding:B,needsOnboarding:D}}function Yee({className:n=""}){const{currentStep:t,currentStepIndex:s,totalSteps:r,data:i,saving:a,error:l,profile:c,updateData:u,goToNextStep:m,goToPreviousStep:g,saveStepData:p,completeOnboarding:y,skipOnboarding:x,finishOnboarding:_}=Wee(),j=async()=>{await p()&&m()},A=async()=>{await p()&&m()},C=async()=>{await y()},P=async()=>{await y()},S=()=>{switch(t){case"essentials":return e.jsx(Uee,{data:i,onUpdate:u,onNext:j,onSkip:x,saving:a,error:l});case"role":return e.jsx(Vee,{data:i,profile:c,onUpdate:u,onNext:A,onBack:g,saving:a,error:l});case"verification":return e.jsx(Hee,{profile:c,onNext:C,onBack:g,onSkip:P});case"complete":return e.jsx(Gee,{profile:c,onFinish:_});default:return null}};return e.jsxs("div",{className:`w-full max-w-2xl mx-auto ${n}`,children:[t!=="complete"&&e.jsx(Bee,{currentStep:s,totalSteps:r,className:"mb-8"}),e.jsx(de,{className:"border-0 shadow-lg",children:e.jsx(fe,{className:"p-6 md:p-8",children:S()})})]})}function Zee(){return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted/30",children:e.jsxs("div",{className:"container mx-auto px-4 py-8 md:py-16",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent",children:"Welcome to BizSearch"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Let's set up your profile to get you started"})]}),e.jsx(Yee,{})]})})}var q2="Radio",[Kee,FL]=qa(q2),[Jee,Xee]=Kee(q2),BL=w.forwardRef((n,t)=>{const{__scopeRadio:s,name:r,checked:i=!1,required:a,disabled:l,value:c="on",onCheck:u,form:m,...g}=n,[p,y]=w.useState(null),x=Ss(t,A=>y(A)),_=w.useRef(!1),j=p?m||!!p.closest("form"):!0;return e.jsxs(Jee,{scope:s,checked:i,disabled:l,children:[e.jsx(as.button,{type:"button",role:"radio","aria-checked":i,"data-state":$L(i),"data-disabled":l?"":void 0,disabled:l,value:c,...g,ref:x,onClick:kt(n.onClick,A=>{i||u==null||u(),j&&(_.current=A.isPropagationStopped(),_.current||A.stopPropagation())})}),j&&e.jsx(UL,{control:p,bubbles:!_.current,name:r,value:c,checked:i,required:a,disabled:l,form:m,style:{transform:"translateX(-100%)"}})]})});BL.displayName=q2;var zL="RadioIndicator",qL=w.forwardRef((n,t)=>{const{__scopeRadio:s,forceMount:r,...i}=n,a=Xee(zL,s);return e.jsx(ma,{present:r||a.checked,children:e.jsx(as.span,{"data-state":$L(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:t})})});qL.displayName=zL;var Qee="RadioBubbleInput",UL=w.forwardRef(({__scopeRadio:n,control:t,checked:s,bubbles:r=!0,...i},a)=>{const l=w.useRef(null),c=Ss(l,a),u=px(s),m=rx(t);return w.useEffect(()=>{const g=l.current;if(!g)return;const p=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(p,"checked").set;if(u!==s&&x){const _=new Event("click",{bubbles:r});x.call(g,s),g.dispatchEvent(_)}},[u,s,r]),e.jsx(as.input,{type:"radio","aria-hidden":!0,defaultChecked:s,...i,tabIndex:-1,ref:c,style:{...i.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});UL.displayName=Qee;function $L(n){return n?"checked":"unchecked"}var ete=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],E0="RadioGroup",[tte]=qa(E0,[_p,FL]),VL=_p(),HL=FL(),[ste,nte]=tte(E0),GL=w.forwardRef((n,t)=>{const{__scopeRadioGroup:s,name:r,defaultValue:i,value:a,required:l=!1,disabled:c=!1,orientation:u,dir:m,loop:g=!0,onValueChange:p,...y}=n,x=VL(s),_=$m(m),[j,A]=$l({prop:a,defaultProp:i??null,onChange:p,caller:E0});return e.jsx(ste,{scope:s,name:r,required:l,disabled:c,value:j,onValueChange:A,children:e.jsx(Lw,{asChild:!0,...x,orientation:u,dir:_,loop:g,children:e.jsx(as.div,{role:"radiogroup","aria-required":l,"aria-orientation":u,"data-disabled":c?"":void 0,dir:_,...y,ref:t})})})});GL.displayName=E0;var WL="RadioGroupItem",YL=w.forwardRef((n,t)=>{const{__scopeRadioGroup:s,disabled:r,...i}=n,a=nte(WL,s),l=a.disabled||r,c=VL(s),u=HL(s),m=w.useRef(null),g=Ss(t,m),p=a.value===i.value,y=w.useRef(!1);return w.useEffect(()=>{const x=j=>{ete.includes(j.key)&&(y.current=!0)},_=()=>y.current=!1;return document.addEventListener("keydown",x),document.addEventListener("keyup",_),()=>{document.removeEventListener("keydown",x),document.removeEventListener("keyup",_)}},[]),e.jsx(Rw,{asChild:!0,...c,focusable:!l,active:p,children:e.jsx(BL,{disabled:l,required:a.required,checked:p,...u,...i,name:a.name,ref:g,onCheck:()=>a.onValueChange(i.value),onKeyDown:kt(x=>{x.key==="Enter"&&x.preventDefault()}),onFocus:kt(i.onFocus,()=>{var x;y.current&&((x=m.current)==null||x.click())})})})});YL.displayName=WL;var rte="RadioGroupIndicator",ZL=w.forwardRef((n,t)=>{const{__scopeRadioGroup:s,...r}=n,i=HL(s);return e.jsx(qL,{...i,...r,ref:t})});ZL.displayName=rte;var KL=GL,JL=YL,ite=ZL;const XL=w.forwardRef(({className:n,...t},s)=>e.jsx(KL,{className:nt("grid gap-2",n),...t,ref:s}));XL.displayName=KL.displayName;const QL=w.forwardRef(({className:n,...t},s)=>e.jsx(JL,{ref:s,className:nt("aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",n),...t,children:e.jsx(ite,{className:"flex items-center justify-center",children:e.jsx(fw,{className:"h-3.5 w-3.5 fill-primary"})})}));QL.displayName=JL.displayName;const ate=[{value:"buyer",label:"Buyer",description:"Looking to buy a business or franchise",icon:Aa},{value:"seller",label:"Seller",description:"Want to sell my business",icon:Zs},{value:"franchisor",label:"Franchisor",description:"Offering franchise opportunities",icon:Uo},{value:"advisor",label:"Advisor",description:"Business broker or consultant",icon:Vd}];function ote(){var A;const n=Mn(),{user:t,profile:s,updateProfile:r,uploadAvatar:i,refreshProfile:a}=Bs(),[l,c]=w.useState(!1),[u,m]=w.useState({display_name:(s==null?void 0:s.display_name)||((A=t==null?void 0:t.email)==null?void 0:A.split("@")[0])||"",role:(s==null?void 0:s.role)||"buyer",phone:(s==null?void 0:s.phone)||""}),[g,p]=w.useState(null),[y,x]=w.useState((s==null?void 0:s.avatar_url)||null),_=C=>{var S;const P=(S=C.target.files)==null?void 0:S[0];P&&(p(P),x(URL.createObjectURL(P)))},j=async C=>{if(C.preventDefault(),!u.display_name.trim()){Rt.error("Please enter your name");return}c(!0);try{if(g){const{error:S}=await i(g);S&&console.error("Avatar upload error:",S)}const{error:P}=await r({display_name:u.display_name.trim(),role:u.role,phone:u.phone||null});if(P)throw P;switch(await a(),Rt.success("Profile completed successfully!"),u.role){case"seller":n("/my-listings");break;case"franchisor":n("/my-listings");break;case"advisor":n("/advisor");break;default:n("/")}}catch(P){console.error("Error saving profile:",P),Rt.error("Failed to save profile. Please try again.")}finally{c(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center p-4",children:e.jsxs(de,{className:"w-full max-w-lg",children:[e.jsxs(Me,{className:"text-center",children:[e.jsx(Fe,{className:"text-2xl",children:"Complete Your Profile"}),e.jsx(ms,{children:"Tell us a bit about yourself to get started"})]}),e.jsx(fe,{children:e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsxs(ai,{className:"h-24 w-24",children:[e.jsx(Bi,{src:y||""}),e.jsx(gi,{className:"text-2xl",children:u.display_name.charAt(0).toUpperCase()||"U"})]}),e.jsxs("label",{htmlFor:"avatar-upload",className:"absolute bottom-0 right-0 p-2 bg-primary text-primary-foreground rounded-full cursor-pointer hover:bg-primary/90 transition-colors",children:[e.jsx(K3,{className:"h-4 w-4"}),e.jsx("input",{id:"avatar-upload",type:"file",accept:"image/*",className:"hidden",onChange:_})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Add a profile photo (optional)"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"display_name",children:"Your Name *"}),e.jsx(Ue,{id:"display_name",value:u.display_name,onChange:C=>m({...u,display_name:C.target.value}),placeholder:"Enter your full name",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ve,{htmlFor:"phone",children:"Phone Number (optional)"}),e.jsx(Ue,{id:"phone",type:"tel",value:u.phone,onChange:C=>m({...u,phone:C.target.value}),placeholder:"+91 98765 43210"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(ve,{children:"I am a... *"}),e.jsx(XL,{value:u.role,onValueChange:C=>m({...u,role:C}),className:"grid gap-3",children:ate.map(C=>e.jsxs("label",{className:`flex items-center gap-4 p-4 border rounded-lg cursor-pointer transition-colors ${u.role===C.value?"border-primary bg-primary/5":"border-muted hover:border-primary/50"}`,children:[e.jsx(QL,{value:C.value,id:C.value}),e.jsx(C.icon,{className:"h-5 w-5 text-muted-foreground"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:C.label}),e.jsx("div",{className:"text-sm text-muted-foreground",children:C.description})]})]},C.value))})]}),e.jsx(ee,{type:"submit",className:"w-full",size:"lg",disabled:l,children:l?e.jsxs(e.Fragment,{children:[e.jsx(Ht,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):"Complete Profile"})]})})]})})}function lte(){return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-50 flex items-center justify-center px-4",children:e.jsxs("div",{className:"max-w-2xl text-center",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("svg",{className:"w-64 h-64 mx-auto",viewBox:"0 0 200 200",fill:"none",children:[e.jsx("circle",{cx:"100",cy:"100",r:"80",fill:"#DBEAFE",opacity:"0.5"}),e.jsx("circle",{cx:"100",cy:"100",r:"60",fill:"#BFDBFE",opacity:"0.7"}),e.jsx("path",{d:"M70 90 Q100 60 130 90",stroke:"#3B82F6",strokeWidth:"4",fill:"none",strokeLinecap:"round"}),e.jsx("circle",{cx:"80",cy:"95",r:"5",fill:"#3B82F6"}),e.jsx("circle",{cx:"120",cy:"95",r:"5",fill:"#3B82F6"}),e.jsx("path",{d:"M75 120 Q100 130 125 120",stroke:"#3B82F6",strokeWidth:"4",fill:"none",strokeLinecap:"round"})]})}),e.jsx("h1",{className:"text-9xl font-bold text-blue-600 mb-4",children:"404"}),e.jsx("h2",{className:"text-3xl font-semibold text-foreground mb-4",children:"Page Not Found"}),e.jsx("p",{className:"text-lg text-muted-foreground mb-8 max-w-md mx-auto",children:"Sorry, the page you're looking for doesn't exist or has been moved. Let's get you back on track."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(St,{to:"/",children:e.jsxs(ee,{size:"lg",className:"gap-2 w-full sm:w-auto",children:[e.jsx(Vy,{className:"h-5 w-5"}),"Go to Homepage"]})}),e.jsx(St,{to:"/businesses",children:e.jsxs(ee,{size:"lg",variant:"outline",className:"gap-2 w-full sm:w-auto",children:[e.jsx(xi,{className:"h-5 w-5"}),"Browse Businesses"]})})]}),e.jsxs("div",{className:"mt-12 pt-8 border-t",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"If you believe this is an error, please contact our support team."}),e.jsxs(ee,{variant:"ghost",size:"sm",onClick:()=>window.history.back(),className:"gap-2",children:[e.jsx(ca,{className:"h-4 w-4"}),"Go Back"]})]})]})})}class cte extends w.Component{constructor(s){super(s);Uc(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(s){return{hasError:!0,error:s,errorInfo:null}}componentDidCatch(s,r){console.error("ErrorBoundary caught an error:",s,r),this.setState({error:s,errorInfo:r})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-white to-red-50 flex items-center justify-center px-4",children:e.jsxs("div",{className:"max-w-2xl w-full text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-red-100 rounded-full mb-6",children:e.jsx(Ea,{className:"h-12 w-12 text-red-600"})}),e.jsx("h1",{className:"text-4xl font-bold text-foreground mb-4",children:"Oops! Something Went Wrong"}),e.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:"We're sorry for the inconvenience. An unexpected error has occurred."}),!1,e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsxs(ee,{size:"lg",onClick:()=>window.location.reload(),className:"gap-2",children:[e.jsx(Dh,{className:"h-5 w-5"}),"Reload Page"]}),e.jsx(St,{to:"/",children:e.jsxs(ee,{size:"lg",variant:"outline",className:"gap-2 w-full sm:w-auto",children:[e.jsx(Vy,{className:"h-5 w-5"}),"Go to Homepage"]})})]}),e.jsx("div",{className:"mt-12 pt-8 border-t",children:e.jsxs("p",{className:"text-sm text-muted-foreground",children:["If this problem persists, please"," ",e.jsx(St,{to:"/contact",className:"text-primary hover:underline font-medium",children:"contact our support team"}),"."]})})]})}):this.props.children}}const dte=[{href:"/advisor/dashboard",label:"Dashboard",icon:X3},{href:"/advisor/clients",label:"Clients",icon:gn},{href:"/advisor/deals",label:"Deal Pipeline",icon:Os},{href:"/advisor/commissions",label:"Commissions",icon:zi}];function ute(){const n=Ho();return e.jsx("div",{className:"min-h-screen bg-muted/30",children:e.jsxs("div",{className:"flex",children:[e.jsxs("aside",{className:"w-64 bg-background border-r min-h-screen sticky top-0",children:[e.jsx("div",{className:"p-4 border-b",children:e.jsxs(St,{to:"/",className:"flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground",children:[e.jsx($y,{className:"h-4 w-4"}),"Back to BizSearch"]})}),e.jsxs("div",{className:"p-4",children:[e.jsx("h2",{className:"font-semibold text-lg mb-1",children:"Advisor Dashboard"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your clients & deals"})]}),e.jsx("nav",{className:"px-2 py-4 space-y-1",children:dte.map(t=>{const s=t.icon,r=n.pathname===t.href;return e.jsxs(St,{to:t.href,className:nt("flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors",r?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-muted hover:text-foreground"),children:[e.jsx(s,{className:"h-4 w-4"}),t.label]},t.href)})}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t",children:e.jsx(St,{to:"/settings",children:e.jsxs(ee,{variant:"ghost",className:"w-full justify-start gap-2",children:[e.jsx(Um,{className:"h-4 w-4"}),"Settings"]})})})]}),e.jsx("main",{className:"flex-1 p-6",children:e.jsx(HC,{})})]})})}const qf=[{value:"lead",label:"Lead",color:"bg-gray-100 text-gray-800"},{value:"qualified",label:"Qualified",color:"bg-blue-100 text-blue-800"},{value:"proposal",label:"Proposal",color:"bg-yellow-100 text-yellow-800"},{value:"negotiation",label:"Negotiation",color:"bg-orange-100 text-orange-800"},{value:"closed_won",label:"Won",color:"bg-green-100 text-green-800"},{value:"closed_lost",label:"Lost",color:"bg-red-100 text-red-800"}];class qo{static async getClients(t){const{data:s,error:r}=await Le.from("advisor_clients").select("*").eq("advisor_id",t).order("last_contact",{ascending:!1});if(r)throw r;return s||[]}static async getClient(t){const{data:s,error:r}=await Le.from("advisor_clients").select("*").eq("id",t).single();return r?null:s}static async createClient(t,s){const{data:r,error:i}=await Le.from("advisor_clients").insert({advisor_id:t,...s}).select().single();if(i)throw i;return r}static async updateClient(t,s){const{data:r,error:i}=await Le.from("advisor_clients").update({...s,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(i)throw i;return r}static async deleteClient(t){const{error:s}=await Le.from("advisor_clients").delete().eq("id",t);if(s)throw s}static async getDeals(t){const{data:s,error:r}=await Le.from("deals").select("*, client:advisor_clients(*)").eq("advisor_id",t).order("last_activity",{ascending:!1});if(r)throw r;return s||[]}static async getDeal(t){const{data:s,error:r}=await Le.from("deals").select("*, client:advisor_clients(*)").eq("id",t).single();return r?null:s}static async createDeal(t,s){const{data:r,error:i}=await Le.from("deals").insert({advisor_id:t,...s}).select().single();if(i)throw i;return r}static async updateDeal(t,s){const{data:r,error:i}=await Le.from("deals").update({...s,last_activity:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",t).select().single();if(i)throw i;return r}static async updateDealStage(t,s){return this.updateDeal(t,{stage:s,probability:this.getStageProbability(s)})}static getStageProbability(t){return{lead:10,qualified:25,proposal:50,negotiation:75,closed_won:100,closed_lost:0}[t]}static async deleteDeal(t){const{error:s}=await Le.from("deals").delete().eq("id",t);if(s)throw s}static async getCommissions(t){const{data:s,error:r}=await Le.from("commissions").select("*").eq("advisor_id",t).order("closed_date",{ascending:!1});if(r)throw r;return s||[]}static async createCommission(t,s){const{data:r,error:i}=await Le.from("commissions").insert({advisor_id:t,...s}).select().single();if(i)throw i;return r}static async getAdvisorProfile(t){const{data:s,error:r}=await Le.from("advisor_profiles").select("*").eq("id",t).single();return r?null:s}static async upsertAdvisorProfile(t,s){const{data:r,error:i}=await Le.from("advisor_profiles").upsert({id:t,...s,updated_at:new Date().toISOString()}).select().single();if(i)throw i;return r}static async getDashboardStats(t){const[s,r,i]=await Promise.all([this.getClients(t),this.getDeals(t),this.getCommissions(t)]),a=r.filter(c=>!["closed_won","closed_lost"].includes(c.stage)),l=r.filter(c=>c.stage==="closed_won");return{totalClients:s.length,activeClients:s.filter(c=>c.status==="active").length,totalDeals:r.length,pipelineValue:a.reduce((c,u)=>c+u.value,0),wonValue:l.reduce((c,u)=>c+u.value,0),pendingCommissions:i.filter(c=>c.status==="pending").reduce((c,u)=>c+u.commission_amount,0),paidCommissions:i.filter(c=>c.status==="paid").reduce((c,u)=>c+u.commission_amount,0)}}}const gg=n=>n>=1e7?`${(n/1e7).toFixed(1)}Cr`:n>=1e5?`${(n/1e5).toFixed(1)}L`:`${n.toLocaleString()}`;function LC(){const{user:n}=Bs(),[t,s]=w.useState(null),[r,i]=w.useState([]),[a,l]=w.useState([]),[c,u]=w.useState(!0);w.useEffect(()=>{n&&m()},[n]);const m=async()=>{if(n){u(!0);try{const[g,p,y]=await Promise.all([qo.getDashboardStats(n.id),qo.getDeals(n.id),qo.getClients(n.id)]);s(g),i(p.slice(0,5)),l(y.slice(0,5))}catch(g){console.error("Error loading dashboard:",g)}finally{u(!1)}}};return c?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(Ht,{className:"h-8 w-8 animate-spin text-primary"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Dashboard"}),e.jsx("p",{className:"text-muted-foreground",children:"Welcome back! Here's your overview."})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ee,{asChild:!0,variant:"outline",children:e.jsxs(St,{to:"/advisor/clients",children:[e.jsx(la,{className:"h-4 w-4 mr-2"}),"Add Client"]})}),e.jsx(ee,{asChild:!0,children:e.jsxs(St,{to:"/advisor/deals",children:[e.jsx(la,{className:"h-4 w-4 mr-2"}),"New Deal"]})})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(de,{children:[e.jsxs(Me,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(Fe,{className:"text-sm font-medium",children:"Total Clients"}),e.jsx(gn,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(fe,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(t==null?void 0:t.totalClients)||0}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(t==null?void 0:t.activeClients)||0," active"]})]})]}),e.jsxs(de,{children:[e.jsxs(Me,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(Fe,{className:"text-sm font-medium",children:"Pipeline Value"}),e.jsx(Os,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(fe,{children:[e.jsx("div",{className:"text-2xl font-bold",children:gg((t==null?void 0:t.pipelineValue)||0)}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(t==null?void 0:t.totalDeals)||0," active deals"]})]})]}),e.jsxs(de,{children:[e.jsxs(Me,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(Fe,{className:"text-sm font-medium",children:"Deals Won"}),e.jsx(Tm,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(fe,{children:[e.jsx("div",{className:"text-2xl font-bold",children:gg((t==null?void 0:t.wonValue)||0)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total closed value"})]})]}),e.jsxs(de,{children:[e.jsxs(Me,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(Fe,{className:"text-sm font-medium",children:"Pending Commissions"}),e.jsx(zi,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(fe,{children:[e.jsx("div",{className:"text-2xl font-bold",children:gg((t==null?void 0:t.pendingCommissions)||0)}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[gg((t==null?void 0:t.paidCommissions)||0)," paid"]})]})]})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs(de,{children:[e.jsxs(Me,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(Fe,{children:"Recent Deals"}),e.jsx(ms,{children:"Your latest deal activity"})]}),e.jsx(ee,{variant:"ghost",size:"sm",asChild:!0,children:e.jsxs(St,{to:"/advisor/deals",children:["View all ",e.jsx(t1,{className:"h-4 w-4 ml-1"})]})})]}),e.jsx(fe,{children:r.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(Os,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No deals yet"}),e.jsx(ee,{variant:"link",asChild:!0,className:"mt-2",children:e.jsx(St,{to:"/advisor/deals",children:"Create your first deal"})})]}):e.jsx("div",{className:"space-y-4",children:r.map(g=>{const p=qf.find(y=>y.value===g.stage);return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"font-medium truncate",children:g.title}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[gg(g.value),"  ",Ba(new Date(g.last_activity),{addSuffix:!0})]})]}),e.jsx(Be,{className:p==null?void 0:p.color,children:p==null?void 0:p.label})]},g.id)})})})]}),e.jsxs(de,{children:[e.jsxs(Me,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(Fe,{children:"Recent Clients"}),e.jsx(ms,{children:"Your latest client contacts"})]}),e.jsx(ee,{variant:"ghost",size:"sm",asChild:!0,children:e.jsxs(St,{to:"/advisor/clients",children:["View all ",e.jsx(t1,{className:"h-4 w-4 ml-1"})]})})]}),e.jsx(fe,{children:a.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(gn,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No clients yet"}),e.jsx(ee,{variant:"link",asChild:!0,className:"mt-2",children:e.jsx(St,{to:"/advisor/clients",children:"Add your first client"})})]}):e.jsx("div",{className:"space-y-4",children:a.map(g=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"font-medium truncate",children:g.name}),e.jsx("p",{className:"text-sm text-muted-foreground truncate",children:g.email})]}),e.jsx(Be,{variant:g.status==="active"?"default":"secondary",children:g.status})]},g.id))})})]})]})]})}const hte={active:"bg-green-100 text-green-800",inactive:"bg-gray-100 text-gray-800",prospect:"bg-blue-100 text-blue-800"},mte={buyer:"bg-purple-100 text-purple-800",seller:"bg-orange-100 text-orange-800",both:"bg-indigo-100 text-indigo-800"},RC={name:"",email:"",phone:"",company:"",type:"buyer",status:"prospect",budget_min:"",budget_max:"",notes:""};function fte(){const{user:n}=Bs(),[t,s]=w.useState([]),[r,i]=w.useState(!0),[a,l]=w.useState(""),[c,u]=w.useState("all"),[m,g]=w.useState(!1),[p,y]=w.useState(null),[x,_]=w.useState(RC),[j,A]=w.useState(!1);w.useEffect(()=>{n&&C()},[n]);const C=async()=>{if(n){i(!0);try{const V=await qo.getClients(n.id);s(V)}catch(V){console.error("Error loading clients:",V),Rt.error("Failed to load clients")}finally{i(!1)}}},P=V=>{var B,D;V?(y(V),_({name:V.name,email:V.email,phone:V.phone||"",company:V.company||"",type:V.type,status:V.status,budget_min:((B=V.budget_min)==null?void 0:B.toString())||"",budget_max:((D=V.budget_max)==null?void 0:D.toString())||"",notes:V.notes||""})):(y(null),_(RC)),g(!0)},S=async()=>{if(!n||!x.name||!x.email){Rt.error("Name and email are required");return}A(!0);try{const V={name:x.name,email:x.email,phone:x.phone||void 0,company:x.company||void 0,type:x.type,status:x.status,budget_min:x.budget_min?parseInt(x.budget_min):void 0,budget_max:x.budget_max?parseInt(x.budget_max):void 0,notes:x.notes||void 0};p?(await qo.updateClient(p.id,V),Rt.success("Client updated")):(await qo.createClient(n.id,V),Rt.success("Client added")),g(!1),C()}catch{Rt.error("Failed to save client")}finally{A(!1)}},O=async V=>{if(confirm(`Delete ${V.name}? This cannot be undone.`))try{await qo.deleteClient(V.id),Rt.success("Client deleted"),C()}catch{Rt.error("Failed to delete client")}},z=t.filter(V=>{var K;const B=V.name.toLowerCase().includes(a.toLowerCase())||V.email.toLowerCase().includes(a.toLowerCase())||((K=V.company)==null?void 0:K.toLowerCase().includes(a.toLowerCase())),D=c==="all"||V.status===c;return B&&D});return r?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(Ht,{className:"h-8 w-8 animate-spin text-primary"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Clients"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your client relationships"})]}),e.jsxs(ee,{onClick:()=>P(),children:[e.jsx(la,{className:"h-4 w-4 mr-2"}),"Add Client"]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"relative flex-1 max-w-sm",children:[e.jsx(xi,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(Ue,{placeholder:"Search clients...",value:a,onChange:V=>l(V.target.value),className:"pl-10"})]}),e.jsxs(Jt,{value:c,onValueChange:u,children:[e.jsx(Wt,{className:"w-40",children:e.jsx(Xt,{placeholder:"Status"})}),e.jsxs(Yt,{children:[e.jsx(Ee,{value:"all",children:"All Status"}),e.jsx(Ee,{value:"active",children:"Active"}),e.jsx(Ee,{value:"prospect",children:"Prospect"}),e.jsx(Ee,{value:"inactive",children:"Inactive"})]})]})]}),e.jsxs(de,{children:[e.jsx(Me,{children:e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(gn,{className:"h-5 w-5"}),z.length," Clients"]})}),e.jsx(fe,{children:z.length===0?e.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[e.jsx(gn,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:t.length===0?"No clients yet":"No matching clients"}),t.length===0&&e.jsx(ee,{variant:"link",onClick:()=>P(),children:"Add your first client"})]}):e.jsxs(Yd,{children:[e.jsx(Zd,{children:e.jsxs(ka,{children:[e.jsx(ys,{children:"Client"}),e.jsx(ys,{children:"Contact"}),e.jsx(ys,{children:"Type"}),e.jsx(ys,{children:"Status"}),e.jsx(ys,{children:"Last Contact"}),e.jsx(ys,{className:"text-right",children:"Actions"})]})}),e.jsx(Kd,{children:z.map(V=>e.jsxs(ka,{children:[e.jsx(bs,{children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:V.name}),V.company&&e.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[e.jsx(Zs,{className:"h-3 w-3"}),V.company]})]})}),e.jsx(bs,{children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"text-sm flex items-center gap-1",children:[e.jsx(Or,{className:"h-3 w-3"}),V.email]}),V.phone&&e.jsxs("p",{className:"text-sm flex items-center gap-1 text-muted-foreground",children:[e.jsx(Mr,{className:"h-3 w-3"}),V.phone]})]})}),e.jsx(bs,{children:e.jsx(Be,{className:mte[V.type],children:V.type})}),e.jsx(bs,{children:e.jsx(Be,{className:hte[V.status],children:V.status})}),e.jsx(bs,{className:"text-sm text-muted-foreground",children:Ba(new Date(V.last_contact),{addSuffix:!0})}),e.jsx(bs,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(ee,{size:"sm",variant:"ghost",onClick:()=>P(V),children:e.jsx(Bu,{className:"h-4 w-4"})}),e.jsx(ee,{size:"sm",variant:"ghost",className:"text-red-600",onClick:()=>O(V),children:e.jsx(Vo,{className:"h-4 w-4"})})]})})]},V.id))})]})})]}),e.jsx(ha,{open:m,onOpenChange:g,children:e.jsxs($i,{className:"max-w-md",children:[e.jsx(Vi,{children:e.jsx(Hi,{children:p?"Edit Client":"Add Client"})}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"col-span-2",children:[e.jsx(ve,{children:"Name *"}),e.jsx(Ue,{value:x.name,onChange:V=>_({...x,name:V.target.value}),placeholder:"John Doe"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx(ve,{children:"Email *"}),e.jsx(Ue,{type:"email",value:x.email,onChange:V=>_({...x,email:V.target.value}),placeholder:"john@example.com"})]}),e.jsxs("div",{children:[e.jsx(ve,{children:"Phone"}),e.jsx(Ue,{value:x.phone,onChange:V=>_({...x,phone:V.target.value}),placeholder:"+91 98765 43210"})]}),e.jsxs("div",{children:[e.jsx(ve,{children:"Company"}),e.jsx(Ue,{value:x.company,onChange:V=>_({...x,company:V.target.value}),placeholder:"Acme Inc"})]}),e.jsxs("div",{children:[e.jsx(ve,{children:"Type"}),e.jsxs(Jt,{value:x.type,onValueChange:V=>_({...x,type:V}),children:[e.jsx(Wt,{children:e.jsx(Xt,{})}),e.jsxs(Yt,{children:[e.jsx(Ee,{value:"buyer",children:"Buyer"}),e.jsx(Ee,{value:"seller",children:"Seller"}),e.jsx(Ee,{value:"both",children:"Both"})]})]})]}),e.jsxs("div",{children:[e.jsx(ve,{children:"Status"}),e.jsxs(Jt,{value:x.status,onValueChange:V=>_({...x,status:V}),children:[e.jsx(Wt,{children:e.jsx(Xt,{})}),e.jsxs(Yt,{children:[e.jsx(Ee,{value:"prospect",children:"Prospect"}),e.jsx(Ee,{value:"active",children:"Active"}),e.jsx(Ee,{value:"inactive",children:"Inactive"})]})]})]}),e.jsxs("div",{children:[e.jsx(ve,{children:"Min Budget"}),e.jsx(Ue,{type:"number",value:x.budget_min,onChange:V=>_({...x,budget_min:V.target.value}),placeholder:"1000000"})]}),e.jsxs("div",{children:[e.jsx(ve,{children:"Max Budget"}),e.jsx(Ue,{type:"number",value:x.budget_max,onChange:V=>_({...x,budget_max:V.target.value}),placeholder:"5000000"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx(ve,{children:"Notes"}),e.jsx(_n,{value:x.notes,onChange:V=>_({...x,notes:V.target.value}),placeholder:"Additional notes...",rows:3})]})]})}),e.jsxs(Uu,{children:[e.jsx(ee,{variant:"outline",onClick:()=>g(!1),children:"Cancel"}),e.jsxs(ee,{onClick:S,disabled:j,children:[j&&e.jsx(Ht,{className:"h-4 w-4 mr-2 animate-spin"}),p?"Update":"Add"," Client"]})]})]})})]})}const xg=n=>n>=1e7?`${(n/1e7).toFixed(1)}Cr`:n>=1e5?`${(n/1e5).toFixed(1)}L`:`${n.toLocaleString()}`,OC={title:"",client_id:"",listing_name:"",listing_type:"business",value:"",stage:"lead",expected_close:"",notes:""};function pte(){const{user:n}=Bs(),[t,s]=w.useState([]),[r,i]=w.useState([]),[a,l]=w.useState(!0),[c,u]=w.useState(!1),[m,g]=w.useState(null),[p,y]=w.useState(OC),[x,_]=w.useState(!1),[j,A]=w.useState("kanban");w.useEffect(()=>{n&&C()},[n]);const C=async()=>{if(n){l(!0);try{const[H,$]=await Promise.all([qo.getDeals(n.id),qo.getClients(n.id)]);s(H),i($)}catch(H){console.error("Error loading deals:",H),Rt.error("Failed to load deals")}finally{l(!1)}}},P=H=>{H?(g(H),y({title:H.title,client_id:H.client_id||"",listing_name:H.listing_name||"",listing_type:H.listing_type||"business",value:H.value.toString(),stage:H.stage,expected_close:H.expected_close||"",notes:H.notes||""})):(g(null),y(OC)),u(!0)},S=async()=>{if(!n||!p.title||!p.value){Rt.error("Title and value are required");return}_(!0);try{const H={title:p.title,client_id:p.client_id||void 0,listing_name:p.listing_name||void 0,listing_type:p.listing_type,value:parseInt(p.value),stage:p.stage,probability:qo.getStageProbability(p.stage),expected_close:p.expected_close||void 0,notes:p.notes||void 0};m?(await qo.updateDeal(m.id,H),Rt.success("Deal updated")):(await qo.createDeal(n.id,H),Rt.success("Deal created")),u(!1),C()}catch{Rt.error("Failed to save deal")}finally{_(!1)}},O=async(H,$)=>{var W;try{await qo.updateDealStage(H.id,$),Rt.success(`Deal moved to ${(W=qf.find(Q=>Q.value===$))==null?void 0:W.label}`),C()}catch{Rt.error("Failed to update deal")}},z=async H=>{if(confirm(`Delete "${H.title}"? This cannot be undone.`))try{await qo.deleteDeal(H.id),Rt.success("Deal deleted"),C()}catch{Rt.error("Failed to delete deal")}},V=qf.filter(H=>!["closed_won","closed_lost"].includes(H.value)),B=qf.filter(H=>["closed_won","closed_lost"].includes(H.value)),D=H=>t.filter($=>$.stage===H),K=()=>t.filter(H=>!["closed_won","closed_lost"].includes(H.stage)).reduce((H,$)=>H+$.value,0);return a?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(Ht,{className:"h-8 w-8 animate-spin text-primary"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Deal Pipeline"}),e.jsxs("p",{className:"text-muted-foreground",children:[xg(K())," in active pipeline"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"flex border rounded-lg",children:[e.jsx(ee,{variant:j==="kanban"?"secondary":"ghost",size:"sm",onClick:()=>A("kanban"),children:"Kanban"}),e.jsx(ee,{variant:j==="list"?"secondary":"ghost",size:"sm",onClick:()=>A("list"),children:"List"})]}),e.jsxs(ee,{onClick:()=>P(),children:[e.jsx(la,{className:"h-4 w-4 mr-2"}),"New Deal"]})]})]}),j==="kanban"&&e.jsxs("div",{className:"flex gap-4 overflow-x-auto pb-4",children:[V.map(H=>{const $=D(H.value),W=$.reduce((Q,Z)=>Q+Z.value,0);return e.jsx("div",{className:"flex-shrink-0 w-72",children:e.jsxs(de,{children:[e.jsx(Me,{className:"pb-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Be,{className:H.color,children:H.label}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[$.length,"  ",xg(W)]})]})}),e.jsx(fe,{className:"space-y-3",children:$.length===0?e.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No deals"}):$.map(Q=>e.jsx(de,{className:"p-3 cursor-pointer hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("h4",{className:"font-medium text-sm truncate flex-1",children:Q.title}),e.jsx(ee,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",onClick:()=>P(Q),children:e.jsx(Bu,{className:"h-3 w-3"})})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(zi,{className:"h-3 w-3 text-muted-foreground"}),e.jsx("span",{className:"font-medium",children:xg(Q.value)})]}),Q.client&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(Aa,{className:"h-3 w-3"}),e.jsx("span",{className:"truncate",children:Q.client.name})]}),Q.expected_close&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(za,{className:"h-3 w-3"}),e.jsx("span",{children:Gh(new Date(Q.expected_close),"MMM d, yyyy")})]}),e.jsx("div",{className:"flex gap-1 pt-2",children:V.filter(Z=>Z.value!==Q.stage).slice(0,2).map(Z=>e.jsxs(ee,{size:"sm",variant:"outline",className:"text-xs h-6 px-2",onClick:()=>O(Q,Z.value),children:[e.jsx(Ca,{className:"h-3 w-3 mr-1"}),Z.label]},Z.value))})]})},Q.id))})]})},H.value)}),e.jsx("div",{className:"flex-shrink-0 w-72",children:e.jsxs(de,{className:"bg-muted/50",children:[e.jsx(Me,{className:"pb-2",children:e.jsx("span",{className:"font-medium",children:"Closed"})}),e.jsx(fe,{className:"space-y-3",children:B.map(H=>{const $=D(H.value);return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Be,{className:H.color,children:H.label}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",$.length,")"]})]}),$.slice(0,3).map(W=>e.jsxs("div",{className:"text-sm py-1 text-muted-foreground truncate",children:[W.title,"  ",xg(W.value)]},W.id))]},H.value)})})]})})]}),j==="list"&&e.jsx(de,{children:e.jsx(fe,{className:"pt-6",children:t.length===0?e.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[e.jsx(Os,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No deals yet"}),e.jsx(ee,{variant:"link",onClick:()=>P(),children:"Create your first deal"})]}):e.jsx("div",{className:"space-y-3",children:t.map(H=>{const $=qf.find(W=>W.value===H.stage);return e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h4",{className:"font-medium truncate",children:H.title}),e.jsx(Be,{className:$==null?void 0:$.color,children:$==null?void 0:$.label})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-1 text-sm text-muted-foreground",children:[e.jsx("span",{children:xg(H.value)}),H.client&&e.jsx("span",{children:H.client.name}),e.jsx("span",{children:Ba(new Date(H.last_activity),{addSuffix:!0})})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ee,{size:"sm",variant:"ghost",onClick:()=>P(H),children:e.jsx(Bu,{className:"h-4 w-4"})}),e.jsx(ee,{size:"sm",variant:"ghost",className:"text-red-600",onClick:()=>z(H),children:e.jsx(Vo,{className:"h-4 w-4"})})]})]},H.id)})})})}),e.jsx(ha,{open:c,onOpenChange:u,children:e.jsxs($i,{className:"max-w-md",children:[e.jsx(Vi,{children:e.jsx(Hi,{children:m?"Edit Deal":"New Deal"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(ve,{children:"Deal Title *"}),e.jsx(Ue,{value:p.title,onChange:H=>y({...p,title:H.target.value}),placeholder:"e.g., Restaurant Acquisition - Mumbai"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ve,{children:"Value () *"}),e.jsx(Ue,{type:"number",value:p.value,onChange:H=>y({...p,value:H.target.value}),placeholder:"5000000"})]}),e.jsxs("div",{children:[e.jsx(ve,{children:"Stage"}),e.jsxs(Jt,{value:p.stage,onValueChange:H=>y({...p,stage:H}),children:[e.jsx(Wt,{children:e.jsx(Xt,{})}),e.jsx(Yt,{children:qf.map(H=>e.jsx(Ee,{value:H.value,children:H.label},H.value))})]})]})]}),e.jsxs("div",{children:[e.jsx(ve,{children:"Client"}),e.jsxs(Jt,{value:p.client_id,onValueChange:H=>y({...p,client_id:H}),children:[e.jsx(Wt,{children:e.jsx(Xt,{placeholder:"Select client"})}),e.jsxs(Yt,{children:[e.jsx(Ee,{value:"",children:"No client"}),r.map(H=>e.jsx(Ee,{value:H.id,children:H.name},H.id))]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(ve,{children:"Listing Name"}),e.jsx(Ue,{value:p.listing_name,onChange:H=>y({...p,listing_name:H.target.value}),placeholder:"Business name"})]}),e.jsxs("div",{children:[e.jsx(ve,{children:"Type"}),e.jsxs(Jt,{value:p.listing_type,onValueChange:H=>y({...p,listing_type:H}),children:[e.jsx(Wt,{children:e.jsx(Xt,{})}),e.jsxs(Yt,{children:[e.jsx(Ee,{value:"business",children:"Business"}),e.jsx(Ee,{value:"franchise",children:"Franchise"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(ve,{children:"Expected Close Date"}),e.jsx(Ue,{type:"date",value:p.expected_close,onChange:H=>y({...p,expected_close:H.target.value})})]}),e.jsxs("div",{children:[e.jsx(ve,{children:"Notes"}),e.jsx(_n,{value:p.notes,onChange:H=>y({...p,notes:H.target.value}),placeholder:"Deal notes...",rows:3})]})]}),e.jsxs(Uu,{children:[e.jsx(ee,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),e.jsxs(ee,{onClick:S,disabled:x,children:[x&&e.jsx(Ht,{className:"h-4 w-4 mr-2 animate-spin"}),m?"Update":"Create"," Deal"]})]})]})})]})}const hm=n=>n>=1e7?`${(n/1e7).toFixed(2)}Cr`:n>=1e5?`${(n/1e5).toFixed(2)}L`:`${n.toLocaleString()}`,gte={pending:{label:"Pending",color:"bg-yellow-100 text-yellow-800",icon:Hn},approved:{label:"Approved",color:"bg-blue-100 text-blue-800",icon:Lt},paid:{label:"Paid",color:"bg-green-100 text-green-800",icon:aA}};function xte(){const{user:n}=Bs(),[t,s]=w.useState([]),[r,i]=w.useState(!0),[a,l]=w.useState("all"),[c,u]=w.useState("all");w.useEffect(()=>{n&&m()},[n]);const m=async()=>{if(n){i(!0);try{const y=await qo.getCommissions(n.id);s(y)}catch(y){console.error("Error loading commissions:",y),Rt.error("Failed to load commissions")}finally{i(!1)}}},g=t.filter(y=>{const x=a==="all"||y.status===a;let _=!0;if(c!=="all"){const j=new Date(y.closed_date),A=new Date;if(c==="thisMonth")_=j.getMonth()===A.getMonth()&&j.getFullYear()===A.getFullYear();else if(c==="thisQuarter"){const C=Math.floor(A.getMonth()/3);_=Math.floor(j.getMonth()/3)===C&&j.getFullYear()===A.getFullYear()}else c==="thisYear"&&(_=j.getFullYear()===A.getFullYear())}return x&&_}),p={pending:t.filter(y=>y.status==="pending").reduce((y,x)=>y+x.commission_amount,0),approved:t.filter(y=>y.status==="approved").reduce((y,x)=>y+x.commission_amount,0),paid:t.filter(y=>y.status==="paid").reduce((y,x)=>y+x.commission_amount,0),total:t.reduce((y,x)=>y+x.commission_amount,0)};return r?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(Ht,{className:"h-8 w-8 animate-spin text-primary"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Commissions"}),e.jsx("p",{className:"text-muted-foreground",children:"Track your earnings from closed deals"})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[e.jsxs(de,{children:[e.jsxs(Me,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(Fe,{className:"text-sm font-medium",children:"Total Earnings"}),e.jsx(zi,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(fe,{children:[e.jsx("div",{className:"text-2xl font-bold",children:hm(p.total)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"All time"})]})]}),e.jsxs(de,{children:[e.jsxs(Me,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(Fe,{className:"text-sm font-medium",children:"Pending"}),e.jsx(Hn,{className:"h-4 w-4 text-yellow-500"})]}),e.jsxs(fe,{children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:hm(p.pending)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Awaiting approval"})]})]}),e.jsxs(de,{children:[e.jsxs(Me,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(Fe,{className:"text-sm font-medium",children:"Approved"}),e.jsx(Lt,{className:"h-4 w-4 text-blue-500"})]}),e.jsxs(fe,{children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:hm(p.approved)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Ready for payout"})]})]}),e.jsxs(de,{className:"bg-green-50 dark:bg-green-950",children:[e.jsxs(Me,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(Fe,{className:"text-sm font-medium",children:"Paid"}),e.jsx(aA,{className:"h-4 w-4 text-green-500"})]}),e.jsxs(fe,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:hm(p.paid)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Received"})]})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs(Jt,{value:a,onValueChange:l,children:[e.jsx(Wt,{className:"w-40",children:e.jsx(Xt,{placeholder:"Status"})}),e.jsxs(Yt,{children:[e.jsx(Ee,{value:"all",children:"All Status"}),e.jsx(Ee,{value:"pending",children:"Pending"}),e.jsx(Ee,{value:"approved",children:"Approved"}),e.jsx(Ee,{value:"paid",children:"Paid"})]})]}),e.jsxs(Jt,{value:c,onValueChange:u,children:[e.jsx(Wt,{className:"w-40",children:e.jsx(Xt,{placeholder:"Period"})}),e.jsxs(Yt,{children:[e.jsx(Ee,{value:"all",children:"All Time"}),e.jsx(Ee,{value:"thisMonth",children:"This Month"}),e.jsx(Ee,{value:"thisQuarter",children:"This Quarter"}),e.jsx(Ee,{value:"thisYear",children:"This Year"})]})]})]}),e.jsxs(de,{children:[e.jsxs(Me,{children:[e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(Os,{className:"h-5 w-5"}),"Commission History"]}),e.jsxs(ms,{children:[g.length," commission",g.length!==1?"s":""," "," ",hm(g.reduce((y,x)=>y+x.commission_amount,0))," total"]})]}),e.jsx(fe,{children:g.length===0?e.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[e.jsx(zi,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:t.length===0?"No commissions yet":"No matching commissions"}),e.jsx("p",{className:"text-sm mt-1",children:t.length===0&&"Close a deal to earn your first commission"})]}):e.jsxs(Yd,{children:[e.jsx(Zd,{children:e.jsxs(ka,{children:[e.jsx(ys,{children:"Deal"}),e.jsx(ys,{children:"Client"}),e.jsx(ys,{className:"text-right",children:"Deal Value"}),e.jsx(ys,{className:"text-right",children:"Rate"}),e.jsx(ys,{className:"text-right",children:"Commission"}),e.jsx(ys,{children:"Closed"}),e.jsx(ys,{children:"Status"})]})}),e.jsx(Kd,{children:g.map(y=>{const x=gte[y.status],_=x.icon;return e.jsxs(ka,{children:[e.jsx(bs,{children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:y.deal_title}),y.listing_name&&e.jsx("p",{className:"text-sm text-muted-foreground",children:y.listing_name})]})}),e.jsx(bs,{className:"text-muted-foreground",children:y.client_name||""}),e.jsx(bs,{className:"text-right",children:hm(y.deal_value)}),e.jsxs(bs,{className:"text-right",children:[y.commission_rate,"%"]}),e.jsx(bs,{className:"text-right font-medium",children:hm(y.commission_amount)}),e.jsx(bs,{className:"text-muted-foreground",children:Gh(new Date(y.closed_date),"MMM d, yyyy")}),e.jsx(bs,{children:e.jsxs(Be,{className:x.color,children:[e.jsx(_,{className:"h-3 w-3 mr-1"}),x.label]})})]},y.id)})})]})})]})]})}function vte(){return e.jsx(cte,{children:e.jsx(pI,{children:e.jsx(gI,{children:e.jsx(xI,{children:e.jsxs(DO,{children:[e.jsxs(hO,{children:[e.jsx(ds,{path:"/",element:e.jsx(pn,{children:e.jsx(SY,{})})}),e.jsx(ds,{path:"/businesses",element:e.jsx(pn,{children:e.jsx(hS,{})})}),e.jsx(ds,{path:"/franchises",element:e.jsx(pn,{children:e.jsx(kY,{})})}),e.jsx(ds,{path:"/business/:id",element:e.jsx(pn,{children:e.jsx(EZ,{})})}),e.jsx(ds,{path:"/franchise/:id",element:e.jsx(pn,{children:e.jsx(TZ,{})})}),e.jsx(ds,{path:"/franchise/:id/locations",element:e.jsx(pn,{children:e.jsx(qZ,{})})}),e.jsx(ds,{path:"/franchise-map",element:e.jsx(pn,{children:e.jsx(WZ,{})})}),e.jsx(ds,{path:"/about",element:e.jsx(pn,{children:e.jsx(YZ,{})})}),e.jsx(ds,{path:"/contact",element:e.jsx(pn,{children:e.jsx(ZZ,{})})}),e.jsx(ds,{path:"/login",element:e.jsx(bX,{})}),e.jsx(ds,{path:"/signup",element:e.jsx(wX,{})}),e.jsx(ds,{path:"/forgot-password",element:e.jsx(_X,{})}),e.jsx(ds,{path:"/reset-password",element:e.jsx(CX,{})}),e.jsx(ds,{path:"/onboarding",element:e.jsx(br,{children:e.jsx(Zee,{})})}),e.jsx(ds,{path:"/profile/setup",element:e.jsx(br,{children:e.jsx(ote,{})})}),e.jsx(ds,{path:"/profile",element:e.jsx(br,{children:e.jsx(pn,{children:e.jsx(cK,{})})})}),e.jsx(ds,{path:"/profile/edit",element:e.jsx(br,{children:e.jsx(pn,{children:e.jsx(pJ,{})})})}),e.jsx(ds,{path:"/profile/documents",element:e.jsx(br,{children:e.jsx(pn,{children:e.jsx(gJ,{})})})}),e.jsx(ds,{path:"/profile/settings",element:e.jsx(br,{children:e.jsx(pn,{children:e.jsx(HJ,{})})})}),e.jsx(ds,{path:"/profile/settings/legacy",element:e.jsx(br,{children:e.jsx(pn,{children:e.jsx(xJ,{})})})}),e.jsx(ds,{path:"/my-listings",element:e.jsx(br,{children:e.jsx(pn,{children:e.jsx(fX,{})})})}),e.jsx(ds,{path:"/saved",element:e.jsx(br,{children:e.jsx(pn,{children:e.jsx(pX,{})})})}),e.jsx(ds,{path:"/notifications",element:e.jsx(br,{children:e.jsx(pn,{children:e.jsx(vX,{})})})}),e.jsx(ds,{path:"/search",element:e.jsx(pn,{children:e.jsx(hS,{})})}),e.jsx(ds,{path:"/add-business-listing",element:e.jsx(br,{children:e.jsx(pn,{children:e.jsx(KJ,{})})})}),e.jsx(ds,{path:"/add-franchise-listing",element:e.jsx(br,{children:e.jsx(pn,{children:e.jsx(mX,{})})})}),e.jsxs(ds,{path:"/admin",element:e.jsx(AX,{children:e.jsx(EX,{})}),children:[e.jsx(ds,{index:!0,element:e.jsx(TX,{})}),e.jsx(ds,{path:"users",element:e.jsx(YQ,{})}),e.jsx(ds,{path:"users/:id",element:e.jsx(KQ,{})}),e.jsx(ds,{path:"listings",element:e.jsx(XQ,{})}),e.jsx(ds,{path:"documents",element:e.jsx(QQ,{})}),e.jsx(ds,{path:"analytics",element:e.jsx(eee,{})}),e.jsx(ds,{path:"fraud",element:e.jsx(tee,{})}),e.jsx(ds,{path:"content",element:e.jsx(ree,{})}),e.jsx(ds,{path:"settings",element:e.jsx(iee,{})})]}),e.jsx(ds,{path:"/franchise/:franchiseId/apply",element:e.jsx(br,{children:e.jsx(pn,{children:e.jsx(aee,{})})})}),e.jsx(ds,{path:"/my-applications",element:e.jsx(br,{children:e.jsx(pn,{children:e.jsx(oee,{})})})}),e.jsx(ds,{path:"/franchisor/applications",element:e.jsx(br,{children:e.jsx(pn,{children:e.jsx(lee,{})})})}),e.jsx(ds,{path:"/financing",element:e.jsx(pn,{children:e.jsx(uee,{})})}),e.jsx(ds,{path:"/messages",element:e.jsx(br,{children:e.jsx(pn,{children:e.jsx(fee,{})})})}),e.jsx(ds,{path:"/business-valuation",element:e.jsx(pn,{children:e.jsx(pee,{})})}),e.jsx(ds,{path:"/buyer-inquiries",element:e.jsx(br,{children:e.jsx(pn,{children:e.jsx(xee,{})})})}),e.jsx(ds,{path:"/nda-management",element:e.jsx(br,{children:e.jsx(pn,{children:e.jsx(yee,{})})})}),e.jsx(ds,{path:"/deal-room/:businessId",element:e.jsx(br,{children:e.jsx(pn,{children:e.jsx(wee,{})})})}),e.jsx(ds,{path:"/seller-analytics",element:e.jsx(br,{children:e.jsx(pn,{children:e.jsx(Nee,{})})})}),e.jsx(ds,{path:"/listing-optimizer/:businessId",element:e.jsx(br,{children:e.jsx(pn,{children:e.jsx(Aee,{})})})}),e.jsx(ds,{path:"/clients",element:e.jsx(br,{children:e.jsx(pn,{children:e.jsx(Tee,{})})})}),e.jsx(ds,{path:"/deal-pipeline",element:e.jsx(br,{children:e.jsx(pn,{children:e.jsx(Pee,{})})})}),e.jsx(ds,{path:"/commissions",element:e.jsx(br,{children:e.jsx(pn,{children:e.jsx(Ree,{})})})}),e.jsx(ds,{path:"/advisors",element:e.jsx(pn,{children:e.jsx(Oee,{})})}),e.jsx(ds,{path:"/report-generator",element:e.jsx(br,{children:e.jsx(pn,{children:e.jsx(Mee,{})})})}),e.jsx(ds,{path:"/leads",element:e.jsx(br,{children:e.jsx(pn,{children:e.jsx(Fee,{})})})}),e.jsxs(ds,{path:"/advisor",element:e.jsx(br,{children:e.jsx(ute,{})}),children:[e.jsx(ds,{path:"dashboard",element:e.jsx(LC,{})}),e.jsx(ds,{path:"clients",element:e.jsx(fte,{})}),e.jsx(ds,{path:"deals",element:e.jsx(pte,{})}),e.jsx(ds,{path:"commissions",element:e.jsx(xte,{})}),e.jsx(ds,{index:!0,element:e.jsx(LC,{})})]}),e.jsx(ds,{path:"*",element:e.jsx(lte,{})})]}),e.jsx(HI,{})]})})})})})}window.React=ot;window.ReactDOM=f8;function yte(){return e.jsx(ot.StrictMode,{children:e.jsx(vte,{})})}const bte=y8.createRoot(document.getElementById("root"));bte.render(e.jsx(yte,{}));export{dr as _,wte as c,Iy as g};
